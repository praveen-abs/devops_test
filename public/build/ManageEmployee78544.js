/* empty css          *//* empty css                 *//* empty css               *//* empty css             */import{a0 as y,ag as i,ak as B,g as _,o as r,c as x,d as l,h as t,w as s,l as v,n as C,I as w,t as b,b as A,a as T,ai as F,a4 as Q,F as H,K,P as X,L as G,u as q,M as Z,R as ee,S as ae,x as te,y as oe,N as le,_ as se,Q as ne,W as ie,Y as re,V as ce}from"./toastservice.esm78544.js";import{d as de,c as pe}from"./pinia78544.js";import"./blockui.esm78544.js";import{a as me}from"./datatable.esm78544.js";import{D as ue,s as _e}from"./dialogservice.esm78544.js";import{u as z,C as fe}from"./confirmationservice.esm78544.js";import{s as ge}from"./progressspinner.esm78544.js";import{s as ve}from"./progressbar.esm78544.js";import{s as ye}from"./row.esm78544.js";import{s as he}from"./calendar.esm78544.js";import{s as be}from"./textarea.esm78544.js";import{s as we}from"./chips.esm78544.js";import{s as Se}from"./multiselect.esm78544.js";import{d as J}from"./dayjs.min78544.js";import{p as xe}from"./ProfilePagesStore78544.js";import{a as O}from"./index78544.js";import{S as Y}from"./Service78544.js";/* empty css                                                                   */import{L as Ce}from"./LoadingSpinner78544.js";import"./_plugin-vue_export-helper78544.js";const P=de("manageEmployees",()=>{const R=y(),k=y(),d=y(),h=y(!0);async function $(){let c=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+c),await O.get(c).then(m=>{R.value=m.data})}async function V(){let c=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+c),await O.get(c).then(m=>{console.log("Axios : "+m.data),k.value=m.data})}async function L(){let c=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+c),await O.get(c).then(m=>{console.log("Axios : "+m.data),d.value=m.data})}return{array_active_employees:R,yet_to_active_employees_data:k,exit_employees_data:d,getActiveEmployees:$,ajax_yet_to_active_employees_data:V,ajax_exit_employees_data:L,canShowLoadingScreen:h}});const ke={class:"w-full"},Ae={class:"flex items-center justify-center"},Te=["src"],$e={class:"pl-2 font-semibold text-left fs-6"},Le=["onClick"],Ne=l("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),De={__name:"active_employees",setup(R){const k=Y(),d=P(),h=xe(),$=y(),V=y({global:{value:null,matchMode:i.CONTAINS},emp_name:{value:null,matchMode:i.STARTS_WITH,matchMode:i.EQUALS,matchMode:i.CONTAINS},emp_code:{value:null,matchMode:i.STARTS_WITH,matchMode:i.EQUALS,matchMode:i.CONTAINS},status:{value:null,matchMode:i.EQUALS}});B(async()=>{await d.getActiveEmployees(),d.canShowLoadingScreen=!1});async function L(c){console.log(c),$.value=c.data,h.user_code=c.enc_user_id,window.location.href="/pages-profile-new?uid="+c.enc_user_id}return(c,m)=>{const S=_("InputText"),p=_("Column"),N=_("ProgressBar"),I=_("DataTable");return r(),x("div",ke,[l("div",null,[t(I,{value:w(d).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:V.value,"onUpdate:filters":m[0]||(m[0]=e=>V.value=e),filterDisplay:"menu",loading:c.canShowLoadingScreen,globalFilterFields:["emp_name","emp_code","status"]},{empty:s(()=>[v(" No customers found.")]),loading:s(()=>[v(" Loading customers data. Please wait. ")]),default:s(()=>[t(p,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem !important","text-align":"center:  !important"}},{body:s(e=>[l("div",Ae,[JSON.parse(e.data.emp_avatar).type=="shortname"?(r(),x("p",{key:0,class:C(["p-2 font-semibold text-white rounded-full w-11 fs-6",w(k).getBackgroundColor(e.index)])},b(JSON.parse(e.data.emp_avatar).data),3)):(r(),x("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(e.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Te)),l("p",$e,b(e.data.emp_name),1)])]),filter:s(({filterModel:e,filterCallback:u})=>[t(S,{modelValue:e.value,"onUpdate:modelValue":f=>e.value=f,onInput:f=>u(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(p,{field:"emp_code",header:"Employee Code",class:"",style:{"min-width":"2rem !important"}},{filter:s(({filterModel:e,filterCallback:u})=>[t(S,{modelValue:e.value,"onUpdate:modelValue":f=>e.value=f,onInput:f=>u(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(p,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),t(p,{field:"reporting_manager_name",header:"Reporting Manager"}),t(p,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:s(e=>[v(b(w(J)(e.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),t(p,{field:"profile_completeness",header:"Profile Completeness"},{body:s(e=>[e.data.profile_completeness<=39?(r(),A(N,{key:0,value:e.data.profile_completeness,class:C([e.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):T("",!0),e.data.profile_completeness>=40&&e.data.profile_completeness<=59?(r(),A(N,{key:1,class:C(["progressbar_val2",[e.data.profile_completeness>=40&&e.data.profile_completeness<=59]]),value:e.data.profile_completeness},null,8,["class","value"])):T("",!0),e.data.profile_completeness>=60?(r(),A(N,{key:2,class:C(["progressbar_val3",[e.data.profile_completeness>=60]]),value:e.data.profile_completeness},null,8,["class","value"])):T("",!0)]),_:1}),t(p,{field:"enc_user_id",header:"View Profile"},{body:s(e=>[l("button",{onClick:u=>L(e.data),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[Ne,v("View")],8,Le)]),_:1})]),_:1},8,["value","filters","loading"])])])}}},Ve={class:"confirmation-content"},Me=l("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Re={class:"flex items-center justify-center"},Ie=["src"],Ee={class:"pl-2 font-semibold text-left fs-6"},Ue=["onClick"],Oe=l("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),Pe={key:0},je={key:1},Be={__name:"yet_to_active_employees",setup(R){const k=Y(),d=P();B(()=>{d.ajax_yet_to_active_employees_data()}),y();let h=y(!1);y(!1),z();const $=F();function V(e){window.location.href="/pages-profile-new?uid="+e}const L=y({global:{value:null,matchMode:i.CONTAINS},emp_name:{value:null,matchMode:i.STARTS_WITH,matchMode:i.EQUALS,matchMode:i.CONTAINS},emp_code:{value:null,matchMode:i.STARTS_WITH,matchMode:i.EQUALS,matchMode:i.CONTAINS},status:{value:null,matchMode:i.EQUALS}});y(["Pending","Approved","Rejected"]);let c=null,m=null;function S(e,u){e.emp_code,e.emp_status,console.log(P.emp_status),console.log(e.emp_status),d.canShowLoadingScreen=!0,c=u,m=e,console.log("Selected Row Data : "+JSON.stringify(e))}function p(e){d.canShowLoadingScreen=!1,e&&N()}function N(){c="",m=null}function I(){p(!1),d.canShowLoadingScreen=!0,console.log("Processing Rowdata : "+JSON.stringify(m)),O.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:m.emp_code,active_status:1}).then(e=>{console.log("Response : "+e),$.add({severity:"success",summary:"Activated",detail:`${m.emp_name} Activated Successfully`,life:3e3}),N()}).catch(e=>{d.canShowLoadingScreen=!1,N()}).finally(()=>{d.ajax_yet_to_active_employees_data(),d.getActiveEmployees(),d.canShowLoadingScreen=!1})}return(e,u)=>{const f=_("Toast"),M=_("Button"),j=_("Dialog"),o=_("InputText"),g=_("Column"),D=_("ProgressBar"),W=_("DataTable");return r(),x("div",null,[t(f),t(j,{header:"Confirmation",visible:w(h),"onUpdate:visible":u[2]||(u[2]=a=>Q(h)?h.value=a:h=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:s(()=>[t(M,{label:"Yes",icon:"pi pi-check",onClick:u[0]||(u[0]=a=>I()),class:"p-button-text",autofocus:""}),t(M,{label:"No",icon:"pi pi-times",onClick:u[1]||(u[1]=a=>p(!0)),class:"p-button-text"})]),default:s(()=>[l("div",Ve,[Me,l("span",null,"Are you sure you want to "+b(w(c))+"?",1)])]),_:1},8,["visible"]),l("div",null,[t(W,{value:w(d).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:L.value,"onUpdate:filters":u[3]||(u[3]=a=>L.value=a),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:s(()=>[v(" No customers found. ")]),loading:s(()=>[v(" Loading customers data. Please wait. ")]),default:s(()=>[t(g,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:s(a=>[l("div",Re,[JSON.parse(a.data.emp_avatar).type=="shortname"?(r(),x("p",{key:0,class:C(["p-2 font-semibold text-white rounded-full w-11 fs-6",w(k).getBackgroundColor(a.index)])},b(JSON.parse(a.data.emp_avatar).data),3)):(r(),x("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(a.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Ie)),l("p",Ee,b(a.data.emp_name),1)])]),filter:s(({filterModel:a,filterCallback:E})=>[t(o,{modelValue:a.value,"onUpdate:modelValue":U=>a.value=U,onInput:U=>E(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(g,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem !important"}},{body:s(a=>[v(b(a.data.emp_code),1)]),filter:s(({filterModel:a,filterCallback:E})=>[t(o,{modelValue:a.value,"onUpdate:modelValue":U=>a.value=U,onInput:U=>E(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(g,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),t(g,{field:"reporting_manager_name",header:"Reporting Manager"}),t(g,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:s(a=>[v(b(w(J)(a.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),t(g,{field:"profile_completeness",header:"Profile Completeness"},{body:s(a=>[a.data.profile_completeness<=39?(r(),A(D,{key:0,value:a.data.profile_completeness,class:C([a.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):T("",!0),a.data.profile_completeness>=40&&a.data.profile_completeness<=59?(r(),A(D,{key:1,class:C(["progressbar_val2",[a.data.profile_completeness>=40&&a.data.profile_completeness<=59]]),value:a.data.profile_completeness},null,8,["class","value"])):T("",!0),a.data.profile_completeness>=60?(r(),A(D,{key:2,class:C(["progressbar_val3",[a.data.profile_completeness>=60]]),value:a.data.profile_completeness},null,8,["class","value"])):T("",!0)]),_:1}),t(g,{field:"is_onboarded",header:"Onboarding Status"},{body:s(a=>[v(b(a.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),t(g,{field:"doc_status",header:"Docs Approval Status"},{body:s(a=>[v(b(a.data.is_onboarded&&a.data.doc_status?"Approved":"Pending"),1)]),_:1}),t(g,{field:"enc_user_id",header:"View Profile"},{body:s(a=>[l("button",{onClick:E=>V(a.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[Oe,v("View")],8,Ue)]),_:1}),t(g,{style:{width:"300px"},field:"",header:"Action"},{body:s(a=>[a.data.is_onboarded&&a.data.doc_status?(r(),x("div",Pe,[t(M,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:E=>S(a.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(r(),x("div",je))]),_:1})]),_:1},8,["value","filters"])])])}}},Je={class:"confirmation-content"},Ye=l("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Fe={class:"flex items-center justify-center"},Qe=["src"],ze={class:"pl-2 font-semibold text-left fs-6"},We=["onClick"],He=l("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),Ke={__name:"exit_employees",setup(R){const k=Y(),d=P();B(()=>{d.ajax_exit_employees_data()}),y();let h=y(!1),$=y(!1);z();const V=F(),L=y({global:{value:null,matchMode:i.CONTAINS},employee_name:{value:null,matchMode:i.STARTS_WITH,matchMode:i.EQUALS,matchMode:i.CONTAINS},status:{value:null,matchMode:i.EQUALS},status:{value:null,matchMode:i.EQUALS}});function c(S){window.location.href="/pages-profile-new?uid="+S}function m(){hideConfirmDialog(!1),$.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),O.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(S=>{console.log("Response : "+S),$.value=!1,V.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(S=>{$.value=!1,resetVars()})}return(S,p)=>{const N=_("Toast"),I=_("Button"),e=_("Dialog"),u=_("InputText"),f=_("Column"),M=_("ProgressBar"),j=_("DataTable");return r(),x("div",null,[t(N),t(e,{header:"Confirmation",visible:w(h),"onUpdate:visible":p[2]||(p[2]=o=>Q(h)?h.value=o:h=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:s(()=>[t(I,{label:"Yes",icon:"pi pi-check",onClick:p[0]||(p[0]=o=>m()),class:"p-button-text",autofocus:""}),t(I,{label:"No",icon:"pi pi-times",onClick:p[1]||(p[1]=o=>S.hideConfirmDialog(!0)),class:"p-button-text"})]),default:s(()=>[l("div",Je,[Ye,l("span",null,"Are you sure you want to "+b(S.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),l("div",null,[t(j,{value:w(d).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:L.value,"onUpdate:filters":p[3]||(p[3]=o=>L.value=o),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:s(()=>[v(" No customers found.")]),loading:s(()=>[v(" Loading customers data. Please wait. ")]),default:s(()=>[t(f,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:s(o=>[l("div",Fe,[JSON.parse(o.data.emp_avatar).type=="shortname"?(r(),x("p",{key:0,class:C(["p-2 font-semibold text-white rounded-full w-11 fs-6",w(k).getBackgroundColor(o.index)])},b(JSON.parse(o.data.emp_avatar).data),3)):(r(),x("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(o.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Qe)),l("p",ze,b(o.data.emp_name),1)])]),filter:s(({filterModel:o,filterCallback:g})=>[t(u,{modelValue:o.value,"onUpdate:modelValue":D=>o.value=D,onInput:D=>g(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(f,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem"}},{filter:s(({filterModel:o,filterCallback:g})=>[t(u,{modelValue:o.value,"onUpdate:modelValue":D=>o.value=D,onInput:D=>g(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(f,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),t(f,{field:"reporting_manager_name",header:"Reporting Manager"}),t(f,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:s(o=>[v(b(w(J)(o.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),t(f,{field:"profile_completeness",header:"Profile Completeness"},{body:s(o=>[o.data.profile_completeness<=39?(r(),A(M,{key:0,value:o.data.profile_completeness,class:C([o.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):T("",!0),o.data.profile_completeness>=40&&o.data.profile_completeness<=59?(r(),A(M,{key:1,class:C(["progressbar_val2",[o.data.profile_completeness>=40&&o.data.profile_completeness<=59]]),value:o.data.profile_completeness},null,8,["class","value"])):T("",!0),o.data.profile_completeness>=60?(r(),A(M,{key:2,class:C(["progressbar_val3",[o.data.profile_completeness>=60]]),value:o.data.profile_completeness},null,8,["class","value"])):T("",!0)]),_:1}),t(f,{field:"enc_user_id",header:"View Profile"},{body:s(o=>[l("button",{onClick:g=>c(o.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[He,v("View")],8,We)]),_:1})]),_:1},8,["value","filters"])])])}}};const Xe={class:""},Ge=l("div",{class:"mb-2 card left-line"},[l("div",{class:"pt-1 pb-0 card-body"},[l("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[l("li",{class:"nav-item text-muted",role:"presentation"},[l("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),l("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[l("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),l("li",{class:"nav-item text-muted",role:"presentation"},[l("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),qe={class:"card"},Ze={class:"card-body"},ea={class:"tab-content",id:"pills-tabContent"},aa={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ta={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},oa={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},la={__name:"ManageEmployee",setup(R){const k=P();return(d,h)=>(r(),x(H,null,[w(k).canShowLoadingScreen?(r(),A(Ce,{key:0,class:"absolute z-50 bg-white w-[100%] h-[100%]"})):T("",!0),l("div",Xe,[Ge,l("div",qe,[l("div",Ze,[l("div",ea,[l("div",aa,[t(De)]),l("div",ta,[t(Be)]),l("div",oa,[t(Ke)])])])])])],64))}},n=K(la),sa=pe();n.use(X,{ripple:!0});n.use(fe);n.use(G);n.use(ue);n.use(sa);n.directive("tooltip",q);n.directive("badge",Z);n.directive("ripple",ee);n.directive("styleclass",ae);n.directive("focustrap",te);n.component("Button",oe);n.component("DataTable",me);n.component("Column",le);n.component("ColumnGroup",_e);n.component("Row",ye);n.component("Toast",se);n.component("ConfirmDialog",ne);n.component("Dropdown",ie);n.component("InputText",re);n.component("Dialog",ce);n.component("ProgressSpinner",ge);n.component("Calendar",he);n.component("Textarea",be);n.component("Chips",we);n.component("MultiSelect",Se);n.component("ProgressBar",ve);n.mount("#vjs_manage_employee");
