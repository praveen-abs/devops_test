import{d as j}from"./dayjs.min-25482546.js";import{C as z,r as g,a1 as l,o as J,c as u,e as c,f as T,g as s,n as a,l as o,i as y,p as N,h as S,t as v,k as U,j as $,H as B,G as H,Q as F,F as K}from"./app-d5d63d00.js";import{p as W}from"./ProfilePagesStore-ad67d3ee.js";import{a as O}from"./index-0d903406.js";import{S as Q}from"./Service-4b648eac.js";/* empty css                                                                       */import{L as X}from"./LoadingSpinner-b2b6596b.js";const P=z("manageEmployees",()=>{const R=g(),V=g(),d=g(),_=g(!0);async function I(){let p=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+p),await O.get(p).then(r=>{R.value=r.data})}async function M(){let p=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+p),await O.get(p).then(r=>{console.log("Axios : "+r.data),V.value=r.data})}async function w(){let p=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+p),await O.get(p).then(r=>{console.log("Axios : "+r.data),d.value=r.data})}return{array_active_employees:R,yet_to_active_employees_data:V,exit_employees_data:d,getActiveEmployees:I,ajax_yet_to_active_employees_data:M,ajax_exit_employees_data:w,canShowLoadingScreen:_}});const G={class:"w-full"},q={class:"flex items-center justify-center"},Z=["src"],ee={class:"pl-2 font-semibold text-left fs-6"},ae=s("i",{class:"h-6 py-1 mx-2 pi pi-eye text-[#000]"},null,-1),te={__name:"active_employees",setup(R){const V=Q(),d=P();W();const _=g(),I=g({global:{value:null,matchMode:l.CONTAINS},emp_name:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},emp_code:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},emp_designation:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},reporting_manager_name:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},status:{value:null,matchMode:l.EQUALS}});J(async()=>{await d.getActiveEmployees(),d.canShowLoadingScreen=!1});async function M(w){console.log(w),console.log("user code ::",w.user_id),_.value=w.data}return(w,p)=>{const r=u("InputText"),A=u("Column"),f=u("ProgressBar"),h=u("RouterLink"),D=u("DataTable");return c(),T("div",G,[s("div",null,[a(D,{value:S(d).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:I.value,"onUpdate:filters":p[0]||(p[0]=e=>I.value=e),filterDisplay:"menu",loading:w.canShowLoadingScreen,globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{empty:o(()=>[y(" No customers found.")]),loading:o(()=>[y(" Loading customers data. Please wait. ")]),default:o(()=>[a(A,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem !important","text-align":"center:  !important"}},{body:o(e=>[s("div",q,[JSON.parse(e.data.emp_avatar).type=="shortname"?(c(),T("p",{key:0,class:N(["p-2 font-semibold text-white rounded-full w-11 fs-6",S(V).getBackgroundColor(e.index)])},v(JSON.parse(e.data.emp_avatar).data),3)):(c(),T("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(e.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Z)),s("p",ee,v(e.data.emp_name),1)])]),filter:o(({filterModel:e,filterCallback:i})=>[a(r,{modelValue:e.value,"onUpdate:modelValue":m=>e.value=m,onInput:m=>i(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(A,{field:"emp_code",header:"Employee Code",class:"",style:{}},{filter:o(({filterModel:e,filterCallback:i})=>[a(r,{modelValue:e.value,"onUpdate:modelValue":m=>e.value=m,onInput:m=>i(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(A,{field:"emp_designation",header:"Designation",class:""},{filter:o(({filterModel:e,filterCallback:i})=>[a(r,{modelValue:e.value,"onUpdate:modelValue":m=>e.value=m,onInput:m=>i(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(A,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:o(({filterModel:e,filterCallback:i})=>[a(r,{modelValue:e.value,"onUpdate:modelValue":m=>e.value=m,onInput:m=>i(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(A,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(e=>[y(v(S(j)(e.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(A,{field:"profile_completeness",header:"Profile Completeness"},{body:o(e=>[e.data.profile_completeness<=39?(c(),U(f,{key:0,value:e.data.profile_completeness,class:N([e.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):$("",!0),e.data.profile_completeness>=40&&e.data.profile_completeness<=59?(c(),U(f,{key:1,class:N(["progressbar_val2",[e.data.profile_completeness>=40&&e.data.profile_completeness<=59]]),value:e.data.profile_completeness},null,8,["class","value"])):$("",!0),e.data.profile_completeness>=60?(c(),U(f,{key:2,class:N(["progressbar_val3",[e.data.profile_completeness>=60]]),value:e.data.profile_completeness},null,8,["class","value"])):$("",!0)]),_:1}),a(A,{field:"enc_user_id",header:"View Profile"},{body:o(e=>[a(h,{to:`/profile-page/${e.data.user_id}`,onClick:i=>M(e.data),class:"px-2 py-1"},{default:o(()=>[ae]),_:2},1032,["to","onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}},oe={class:"confirmation-content"},le=s("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),ne={class:"flex items-center justify-center"},se=["src"],ie={class:"pl-2 font-semibold text-left fs-6"},re=["onClick"],de=s("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),ce={key:0},ue={key:1},pe={__name:"yet_to_active_employees",setup(R){const V=Q(),d=P();J(()=>{d.ajax_yet_to_active_employees_data()}),g();let _=g(!1);g(!1),B();const I=H();function M(e){window.location.href="/pages-profile-new?uid="+e}const w=g({global:{value:null,matchMode:l.CONTAINS},emp_name:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},emp_code:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},emp_designation:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},reporting_manager_name:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},status:{value:null,matchMode:l.EQUALS}});g(["Pending","Approved","Rejected"]);let p=null,r=null;function A(e,i){e.emp_code,e.emp_status,console.log(P.emp_status),console.log(e.emp_status),_.value=!0,p=i,r=e,console.log("Selected Row Data : "+JSON.stringify(e))}function f(e){d.canShowLoadingScreen=!1,_.value=!1,e&&h()}function h(){p="",r=null}function D(){f(!1),d.canShowLoadingScreen=!0,console.log("Processing Rowdata : "+JSON.stringify(r)),O.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:r.emp_code,active_status:1}).then(e=>{console.log("Response : "+e),I.add({severity:"success",summary:"Activated",detail:`${r.emp_name} Activated Successfully`,life:3e3}),h()}).catch(e=>{d.canShowLoadingScreen=!1,h()}).finally(()=>{d.ajax_yet_to_active_employees_data(),d.getActiveEmployees(),d.canShowLoadingScreen=!1,_.value=!1})}return(e,i)=>{const m=u("Toast"),C=u("Button"),Y=u("Dialog"),E=u("InputText"),n=u("Column"),x=u("ProgressBar"),b=u("DataTable");return c(),T("div",null,[a(m),a(Y,{header:"Confirmation",visible:S(_),"onUpdate:visible":i[2]||(i[2]=t=>F(_)?_.value=t:_=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[a(C,{label:"Yes",icon:"pi pi-check",onClick:i[0]||(i[0]=t=>D()),class:"p-button-text",autofocus:""}),a(C,{label:"No",icon:"pi pi-times",onClick:i[1]||(i[1]=t=>f(!0)),class:"p-button-text"})]),default:o(()=>[s("div",oe,[le,s("span",null,"Are you sure you want to "+v(S(p))+"?",1)])]),_:1},8,["visible"]),s("div",null,[a(b,{value:S(d).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:w.value,"onUpdate:filters":i[3]||(i[3]=t=>w.value=t),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{empty:o(()=>[y(" No customers found. ")]),loading:o(()=>[y(" Loading customers data. Please wait. ")]),default:o(()=>[a(n,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:o(t=>[s("div",ne,[JSON.parse(t.data.emp_avatar).type=="shortname"?(c(),T("p",{key:0,class:N(["p-2 font-semibold text-white rounded-full w-11 fs-6",S(V).getBackgroundColor(t.index)])},v(JSON.parse(t.data.emp_avatar).data),3)):(c(),T("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(t.data.emp_avatar).data}`,srcset:"",alt:""},null,8,se)),s("p",ie,v(t.data.emp_name),1)])]),filter:o(({filterModel:t,filterCallback:L})=>[a(E,{modelValue:t.value,"onUpdate:modelValue":k=>t.value=k,onInput:k=>L(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(n,{field:"emp_code",header:"Employee Code"},{body:o(t=>[y(v(t.data.emp_code),1)]),filter:o(({filterModel:t,filterCallback:L})=>[a(E,{modelValue:t.value,"onUpdate:modelValue":k=>t.value=k,onInput:k=>L(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(n,{field:"emp_designation",header:"Designation",class:""},{filter:o(({filterModel:t,filterCallback:L})=>[a(E,{modelValue:t.value,"onUpdate:modelValue":k=>t.value=k,onInput:k=>L(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(n,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:o(({filterModel:t,filterCallback:L})=>[a(E,{modelValue:t.value,"onUpdate:modelValue":k=>t.value=k,onInput:k=>L(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(n,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(t=>[y(v(S(j)(t.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(n,{field:"profile_completeness",header:"Profile Completeness"},{body:o(t=>[t.data.profile_completeness<=39?(c(),U(x,{key:0,value:t.data.profile_completeness,class:N([t.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):$("",!0),t.data.profile_completeness>=40&&t.data.profile_completeness<=59?(c(),U(x,{key:1,class:N(["progressbar_val2",[t.data.profile_completeness>=40&&t.data.profile_completeness<=59]]),value:t.data.profile_completeness},null,8,["class","value"])):$("",!0),t.data.profile_completeness>=60?(c(),U(x,{key:2,class:N(["progressbar_val3",[t.data.profile_completeness>=60]]),value:t.data.profile_completeness},null,8,["class","value"])):$("",!0)]),_:1}),a(n,{field:"is_onboarded",header:"Onboarding Status"},{body:o(t=>[y(v(t.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),a(n,{field:"doc_status",header:"Docs Approval Status"},{body:o(t=>[y(v(t.data.is_onboarded&&t.data.doc_status?"Approved":"Pending"),1)]),_:1}),a(n,{field:"enc_user_id",header:"View Profile"},{body:o(t=>[s("button",{onClick:L=>M(t.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[de,y("View")],8,re)]),_:1}),a(n,{style:{width:"300px"},field:"",header:"Action"},{body:o(t=>[t.data.is_onboarded&&t.data.doc_status?(c(),T("div",ce,[a(C,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:L=>A(t.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(c(),T("div",ue))]),_:1})]),_:1},8,["value","filters"])])])}}},me={class:"confirmation-content"},_e=s("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),fe={class:"flex items-center justify-center"},ve=["src"],ge={class:"pl-2 font-semibold text-left fs-6"},he=s("i",{class:"h-6 py-1 mx-2 pi pi-eye text-[#000]"},null,-1),ye={__name:"exit_employees",setup(R){const V=Q(),d=P();J(()=>{d.ajax_exit_employees_data()}),g();let _=g(!1),I=g(!1);B();const M=H(),w=W(),p=g({global:{value:null,matchMode:l.CONTAINS},emp_name:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},emp_code:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},emp_designation:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},reporting_manager_name:{value:null,matchMode:l.STARTS_WITH,matchMode:l.EQUALS,matchMode:l.CONTAINS},status:{value:null,matchMode:l.EQUALS},status:{value:null,matchMode:l.EQUALS}});function r(f){console.log("user code ::",f.emp_code),enc_user_id.value=f.data,w.user_code=f.emp_code}function A(){hideConfirmDialog(!1),I.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),O.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(f=>{console.log("Response : "+f),I.value=!1,M.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(f=>{I.value=!1,resetVars()})}return(f,h)=>{const D=u("Toast"),e=u("Button"),i=u("Dialog"),m=u("InputText"),C=u("Column"),Y=u("RouterLink"),E=u("DataTable");return c(),T("div",null,[a(D),a(i,{header:"Confirmation",visible:S(_),"onUpdate:visible":h[2]||(h[2]=n=>F(_)?_.value=n:_=n),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[a(e,{label:"Yes",icon:"pi pi-check",onClick:h[0]||(h[0]=n=>A()),class:"p-button-text",autofocus:""}),a(e,{label:"No",icon:"pi pi-times",onClick:h[1]||(h[1]=n=>f.hideConfirmDialog(!0)),class:"p-button-text"})]),default:o(()=>[s("div",me,[_e,s("span",null,"Are you sure you want to "+v(f.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),s("div",null,[a(E,{value:S(d).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:p.value,"onUpdate:filters":h[3]||(h[3]=n=>p.value=n),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{empty:o(()=>[y(" No customers found.")]),loading:o(()=>[y(" Loading customers data. Please wait. ")]),default:o(()=>[a(C,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:o(n=>[s("div",fe,[JSON.parse(n.data.emp_avatar).type=="shortname"?(c(),T("p",{key:0,class:N(["p-2 font-semibold text-white rounded-full w-[35px] fs-6",S(V).getBackgroundColor(n.index)])},v(JSON.parse(n.data.emp_avatar).data),3)):(c(),T("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(n.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ve)),s("p",ge,v(n.data.emp_name),1)])]),filter:o(({filterModel:n,filterCallback:x})=>[a(m,{modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,onInput:b=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(C,{field:"emp_code",header:"Employee Code"},{filter:o(({filterModel:n,filterCallback:x})=>[a(m,{modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,onInput:b=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(C,{field:"emp_designation",header:"Designation"},{filter:o(({filterModel:n,filterCallback:x})=>[a(m,{modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,onInput:b=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(C,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:o(({filterModel:n,filterCallback:x})=>[a(m,{modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,onInput:b=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(C,{field:"doj",header:"DOJ"},{body:o(n=>[y(v(S(j)(n.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(C,{field:"dol",header:"Exit Date"},{body:o(n=>[y(v(S(j)(n.data.dol).format("DD-MMM-YYYY")),1)]),_:1}),a(C,{field:"enc_user_id",header:"View Profile"},{body:o(n=>[a(Y,{to:`/profile-page/${n.data.user_id}`,onClick:x=>r(n.data),class:"px-2 py-1"},{default:o(()=>[he]),_:2},1032,["to","onClick"])]),_:1})]),_:1},8,["value","filters"])])])}}};const Se={class:""},be=s("div",{class:"mb-2 card left-line"},[s("div",{class:"pt-1 pb-0 card-body"},[s("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[s("li",{class:"nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),s("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),s("li",{class:"nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),we={class:"card"},xe={class:"card-body"},Te={class:"tab-content",id:"pills-tabContent"},Ae={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ce={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ke={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Re={__name:"ManageEmployee",setup(R){const V=P();return(d,_)=>(c(),T(K,null,[S(V).canShowLoadingScreen?(c(),U(X,{key:0,class:"absolute z-50 bg-white w-[100%] h-[100%]"})):$("",!0),s("div",Se,[be,s("div",we,[s("div",xe,[s("div",Te,[s("div",Ae,[a(te)]),s("div",Ce,[a(pe)]),s("div",ke,[a(ye)])])])])])],64))}};export{Re as default};
