import{l as fe}from"./lodash-facb8280.js";import{a as z}from"./index-362795f3.js";import{S as ae}from"./Service-2e2c0221.js";import{p as le}from"./ProfilePagesStore-62565175.js";import{r as re,u as ue}from"./index.esm-31a56321.js";import{r as v,z as W,o as ne,s as te,c as P,e as y,f as x,n as l,h as t,g as e,p as Z,t as u,k as _e,j as A,l as k,H as Q,F as ce,i as C,y as ie,I as xe,w as X,v as se,A as be,m as $e,a as De}from"./app-ec55b72e.js";import{d as K}from"./dayjs.min-2f06af28.js";import"./moment-fbc5633a.js";import{_ as we,U as ke}from"./EmployeePayslips-b1f13cc3.js";import{L as Ve}from"./LoadingSpinner-0ce26e44.js";/* empty css                                                                       */const oe="/build/assets/edit-fdffc648.svg";const Ce={key:0,class:"bg-white border rounded-lg grid grid-cols-12 p-3 content-center"},Pe={class:"col-span-4 h-full grid grid-cols-12 gap-6"},Se={class:"col-span-4"},Me={class:"profile-pic"},Ue=["src"],Ee=e("label",{class:"-label",for:"file"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})])],-1),Ye={class:"col-span-8"},je={class:"flex justify-between pr-4"},Ie={class:"font-semibold text-md"},Ae={class:"font-semibold text-xs text-gray-500"},Le={class:"py-2"},Be=e("p",{class:"font-semibold text-xs"},"Profile completeness",-1),Fe={class:"w-11/12 my-1"},Ne=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Te={class:"col-span-5 grid grid-cols-3 gap-4 h-full"},Re={class:""},Oe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Status",-1),Ge={key:0,class:"font-semibold text-sm"},qe={key:1,class:"font-semibold text-sm"},ze={class:""},He=e("p",{class:"font-semibold text-xs text-gray-500"},"Designation",-1),Ke={class:"font-semibold text-sm"},Je={class:"flex justify-between items-center"},Ze=e("p",{class:"font-semibold text-xs text-gray-500"},"Department",-1),We={class:"font-semibold text-sm"},Xe={class:""},Qe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Code",-1),et={class:"font-semibold text-sm"},tt={class:""},st=e("p",{class:"font-semibold text-xs text-gray-500"},"Location",-1),ot={class:"font-semibold text-sm"},lt={class:"flex justify-between items-center"},at={class:""},it=e("p",{class:"font-semibold text-xs text-gray-500"},"Reporting to",-1),nt={key:0,class:"font-semibold text-sm whitespace-nowrap"},dt={class:"col-span-3 h-full"},rt={class:"flex justify-end"},ct=e("div",null,null,-1),_t={class:"mx-2"},mt={class:"p-0 m-0 bg-transparent border-0 outline-none btn"},pt={class:"confirmation-content"},ut=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),ft={class:"w-100 py-4 px-2 rounded-lg d-flex justify-content-around overflow-x-scroll ... lg:w-100"},bt={class:"card p-3 d-flex justify-items-center align-items-center mr-2 :lg:mx-0 Digital_Id_Card_",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},yt={style:{height:"45px",width:"140px"},class:"mt-2"},gt=["src"],ht={class:"card-body d-flex justify-items-center align-items-center mt-6",style:{"flex-direction":"column"}},vt=["src"],xt={key:1,class:"text-white font-semibold text-5xl"},$t={class:"card-title mt-12 mb-3 f-12 text-blue-900 subpixel-antialiased font-semibold",style:{"text-align":"center"}},Dt={key:0,class:"f-12 card-text mb-3 text-gray-600 subpixel-antialiased font-semibold"},wt={key:1,class:"f-12 card-text"},kt={key:2,class:"f-16 mb-2 text-gray-700 subpixel-antialiased font-semibold"},Vt={key:3,class:"f-12 mb-2 text-secondary-emphasis"},Ct={class:"card p-2 d-flex justify-items-center align-items-center ml-2 Digital_Id_Card_ :lg:p-2",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},Pt={class:"w-100 d-flex justify-content-center align-items-center flex-column"},St=e("h1",{class:"text-orange-500 fs-14 subpixel-antialiased font-semibold fw-600"},"EMPLOYEE DETAILS",-1),Mt={class:"row w-100 mt-3"},Ut=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[C(" Blood Group "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Et={class:"col-6 fs-6 text-blue-900"},Yt={class:"text-left pt-1"},jt={class:"row w-100 mt-3"},It=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[C(" Phone "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),At={class:"col-6 fs-6 text-blue-900"},Lt={class:"text-left pt-1"},Bt={class:"row w-100 mt-3"},Ft=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900 position-relative"},[C(" Email Id "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Nt={class:"col-6 subpixel-antialiased fs-12"},Tt={class:"text-left"},Rt={class:"row w-100 mt-3"},Ot={class:"col fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},Gt=e("h1",{class:"text-orange-500 fs-12"},"Residential Address :",-1),qt={class:"ml-2"},zt={class:"text-blue-900 mt-2 subpixel-antialiased font-semibold fs-11 text-center"},Ht=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-1 w-100 mt-2 :lg:mt-2"},null,-1),Kt=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-3 w-100 mt-1"},null,-1),Jt={class:"row"},Zt={class:"col-12"},Wt={key:0,class:"text-center font-semibold text-orange-500 fs-14 subpixel-antialiased mt-2 :lg:mt-2"},Xt={class:"col-12"},Qt={class:"fs-11 text-center font-semibold text-blue-900 mt-2"},es={class:"col-12"},ts={class:"fs-12 text-center font-semibold text-blue-900 mt-2"},ss={class:"col-12"},os={class:"fs-11 text-center font-semibold lining-nums ... text-blue-900 mt-2"},ls=e("div",{class:"col-12"},null,-1),as=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),is={class:"modal-body"},ns={class:"row"},ds={class:"col-md-6"},rs={class:"mb-3 form-group"},cs=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),_s={key:0,class:"text-red-400 fs-6 font-semibold"},ms={class:"col-md-6"},ps={class:"form-group"},us=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),fs={key:0,class:"text-red-400 fs-6 font-semibold"},bs={class:"col-md-6 d-flex flex-column"},ys={class:"d-flex justify-items-center flex-column"},gs=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),hs={class:"d-flex justify-items-center align-items-center"},vs=e("label",{class:"cursor-pointer text-primary bg-[black] px-2 py-2 rounded-md d-flex align-items-center fs-5",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up text-[white] mr-2 text-[18px]"}),e("h1",{class:"text-light"},"Upload")],-1),xs={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},$s={key:0,class:"text-red-400 fs-6 font-semibold"},Ds={__name:"EmployeeCard",setup(S){const a=ae(),s=v(!1),D=v(!1),w=W({department:"",reporting_manager:""}),j=W({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),N=v([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),E=v(!1);let o=le();const d=L=>{L.target.files&&L.target.files[0]&&(o.profile=L.target.files[0]);let i=new FormData;i.append("user_code",a.current_user_code),i.append("file_object",o.profile);let O="/profile-pages/updateProfilePicture";z.post(O,i).then(H=>{}).finally(()=>{console.log("Photo Sent"),o.getProfilePhoto()})},B=v(),G=v(),p=v(!1),V=v(!1),T=v(!1),r=v("None"),f=L=>{console.log(L),z.post("/profile-pages/updateDepartment",{user_code:o.employeeDetails.user_code,department_id:w.department}).then(i=>{let O=fe._.find(B.value,["id",w.department]).name;console.log("Lodash [Selected Dept]: "+O),o.employeeDetails.get_employee_office_details.department_name=O,r.value="Department updated successfully !",console.log(i.data)}).catch(i=>{r.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+i)}).finally(()=>{T.value=!0,p.value=!1})},_=L=>{console.log("editReportingManager : "+L),z.post("/profile-pages/updateReportingManager",{user_code:o.employeeDetails.user_code,manager_user_code:w.reporting_manager}).then(i=>{let O=fe._.find(G.value,["user_code",w.reporting_manager]);o.employeeDetails.get_employee_office_details.l1_manager_name=O.name,o.employeeDetails.get_employee_office_details.l1_manager_code=O.user_code,r.value="Reporting Manager updated successfully !",console.log(i.data)}).catch(i=>{r.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+i)}).finally(()=>{T.value=!0,V.value=!1})},c=()=>{w.department=o.employeeDetails.get_employee_office_details.department_name,w.reporting_manager=o.employeeDetails.get_employee_office_details.l1_manager_name,console.log(w.department)};ne(()=>{a.DepartmentDetails().then(L=>{B.value=L.data,console.log("testing"+o.employeeDetails.get_employee_office_details.l1_manager_name)}),a.ManagerDetails().then(L=>{G.value=L.data}),c(),console.log()});const I=L=>{L.target.files&&L.target.files[0]&&(j.emp_upload_doc=L.target.files[0],console.log(j.emp_upload_doc))},$=te(()=>({emp_name:{required:re},emp_doc_name:{required:re},emp_upload_doc:{required:re}})),U=ue($,j),R=()=>{U.value.$validate(),U.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),h())},h=()=>{s.value=!0,E.value=!1;const i=`/update-EmplpoyeeName-info/${a.current_user_id}`,O=new FormData;O.append("user_code",o.employeeDetails.user_code),O.append("name",j.emp_name),O.append("onboard_document_type",j.emp_doc_name.name),O.append("emp_doc",j.emp_upload_doc),z.post(i,O).finally(()=>{s.value=!1})},J=te(()=>{if(o.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(o.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(o.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(o.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(o.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(o.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(o.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(o.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"});return(L,i)=>{const O=P("Toast"),H=P("ProgressBar"),q=P("Dialog"),n=P("Dropdown"),F=P("Sidebar"),Y=P("ProgressSpinner"),g=P("InputText");return y(),x(ce,null,[l(O),t(o).employeeDetails.get_employee_office_details?(y(),x("div",Ce,[e("div",Pe,[e("div",Se,[e("div",Me,[t(o).profile?(y(),x("img",{key:0,class:"forRounded",src:`data:image/png;base64,${t(o).profile}`,srcset:"",alt:"",id:"output",width:"200"},null,8,Ue)):(y(),x("p",{key:1,class:Z(["font-semibold text-5xl text-center flex items-center justify-center text-white forRounded",[t(o).employeeDetails.short_name_Color?t(o).employeeDetails.short_name_Color:"",t(o).employeeDetails.short_name_Color]])},u(t(o).employeeDetails.user_short_name),3)),Ee,e("input",{id:"file",type:"file",onChange:i[0]||(i[0]=b=>d(b))},null,32)])]),e("div",Ye,[e("div",je,[e("div",null,[e("p",Ie,u(t(o).employeeDetails?t(o).employeeDetails.name:"-"),1),e("p",Ae,u(t(o).employeeDetails?t(o).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("img",{src:oe,class:"h-4 w-4 cursor-pointer my-auto",alt:"",onClick:i[1]||(i[1]=b=>E.value=!0)})]),e("div",Le,[Be,e("div",Fe,[t(o).employeeDetails.profile_completeness<=39?(y(),_e(H,{key:0,value:t(o).employeeDetails.profile_completeness,class:Z([t(o).employeeDetails.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):A("",!0),t(o).employeeDetails.profile_completeness>=40&&t(o).employeeDetails.profile_completeness<=59?(y(),_e(H,{key:1,class:Z(["progressbar_val2",[t(o).employeeDetails.profile_completeness>=40&&t(o).employeeDetails.profile_completeness<=59]]),value:t(o).employeeDetails.profile_completeness},null,8,["class","value"])):A("",!0),t(o).employeeDetails.profile_completeness>=60?(y(),_e(H,{key:2,class:Z(["progressbar_val3",[t(o).employeeDetails.profile_completeness>=60]]),value:t(o).employeeDetails.profile_completeness},null,8,["class","value"])):A("",!0)]),Ne])])]),e("div",Te,[e("div",Re,[Oe,t(o).employeeDetails.active==1?(y(),x("p",Ge,"Active ")):(y(),x("p",qe,"Not active"))]),e("div",ze,[He,e("p",Ke,u(t(o).employeeDetails.get_employee_office_details.designation?t(o).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("div",Je,[e("div",null,[Ze,e("p",We,u(t(o).employeeDetails.get_employee_office_details.department_name?t(o).employeeDetails.get_employee_office_details.department_name:"-"),1)]),t(o).employeeDetails.Current_login_user.org_role==1||t(o).employeeDetails.Current_login_user.org_role==2||t(o).employeeDetails.Current_login_user.org_role==3?(y(),x("img",{key:0,src:oe,class:"h-4 w-4 cursor-pointer my-auto",onClick:i[2]||(i[2]=b=>p.value=!0),alt:""})):A("",!0)]),e("div",Xe,[Qe,e("p",et,u(t(o).employeeDetails?t(o).employeeDetails.user_code:"-"),1)]),e("div",tt,[st,e("p",ot,u(t(o).employeeDetails.get_employee_office_details.work_location?t(o).employeeDetails.get_employee_office_details.work_location:"-"),1)]),e("div",lt,[e("div",at,[it,t(o).employeeDetails?(y(),x("p",nt,u(`${t(o).employeeDetails.get_employee_office_details.l1_manager_name}(${t(o).employeeDetails.get_employee_office_details.l1_manager_code})`),1)):A("",!0)]),t(o).employeeDetails.Current_login_user.org_role==1||t(o).employeeDetails.Current_login_user.org_role==2||t(o).employeeDetails.Current_login_user.org_role==3?(y(),x("img",{key:0,src:oe,onClick:i[3]||(i[3]=b=>V.value=!0),class:"h-4 w-4 cursor-pointer my-auto",alt:""})):A("",!0)])]),e("div",dt,[e("div",rt,[ct,e("div",_t,[e("button",mt,[e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true",onClick:i[4]||(i[4]=b=>D.value=!0)})])])])])])):A("",!0),l(q,{header:"Status",visible:T.value,"onUpdate:visible":i[5]||(i[5]=b=>T.value=b),modal:"",breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"}},{default:k(()=>[e("div",pt,[ut,e("span",null,u(r.value),1)])]),_:1},8,["visible"]),l(q,{visible:p.value,"onUpdate:visible":i[7]||(i[7]=b=>p.value=b),modal:"",header:"Edit Department",style:{width:"30vw"}},{footer:k(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:f}," Save ")])]),default:k(()=>[l(n,{options:B.value,optionLabel:"name",modelValue:w.department,"onUpdate:modelValue":i[6]||(i[6]=b=>w.department=b),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),l(q,{visible:V.value,"onUpdate:visible":i[9]||(i[9]=b=>V.value=b),modal:"",header:"Edit Reporting Manager",style:{width:"30vw"}},{footer:k(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:_}," Save ")])]),default:k(()=>[l(n,{optionLabel:"name",options:G.value,modelValue:w.reporting_manager,"onUpdate:modelValue":i[8]||(i[8]=b=>w.reporting_manager=b),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),l(F,{position:"right",visible:D.value,"onUpdate:visible":i[10]||(i[10]=b=>D.value=b),modal:"",header:"",style:Q([{width:"45vw"},{"@media (min-width":"1024px){background-image:particular_ad_small.png"}])},{header:k(()=>[e("div",null,[e("h5",{class:"absolute left-0 mx-4 font-semibold fs-5",style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:k(()=>[e("div",ft,[e("div",bt,[e("div",yt,[e("img",{src:`${t(o).employeeDetails.client_logo}`,alt:"",style:{"object-fit":"cover"}},null,8,gt)]),e("div",ht,[e("div",{class:Z(["mx-auto rounded-circle img-xl userActive-status profile-img d-flex justify-content-center align-items-center",[t(o).profile?"":t(o).employeeDetails.short_name_Color,t(o).employeeDetails.short_name_Color]])},[t(o).profile?(y(),x("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border object-cover",src:`data:image/png;base64,${t(o).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"80px",height:"80px"}},null,8,vt)):A("",!0),t(o).profile?A("",!0):(y(),x("h1",xt,u(t(o).employeeDetails.user_short_name),1))],2),e("h1",$t,u(t(o).employeeDetails.name),1),t(o).employeeDetails.get_employee_office_details.department_id?(y(),x("h5",Dt,u(t(o).employeeDetails.get_employee_office_details.department_name),1)):(y(),x("h1",wt,"-")),t(o).employeeDetails.user_code?(y(),x("h5",kt,u(t(o).employeeDetails.user_code),1)):(y(),x("p",Vt,"-"))])]),e("div",Ct,[e("div",Pt,[St,e("div",Mt,[Ut,e("div",Et,[e("h1",Yt,u(t(J)),1)])]),e("div",jt,[It,e("div",At,[e("h1",Lt,u(t(o).employeeDetails.get_employee_details.mobile_number),1)])]),e("div",Bt,[Ft,e("div",Nt,[e("h1",Tt,u(t(o).employeeDetails.get_employee_office_details.officical_mail),1)])]),e("div",Rt,[e("div",Ot,[Gt,e("div",qt,[e("p",zt,u(t(o).employeeDetails.get_employee_details.current_address_line_1),1)])])]),Ht,Kt,e("div",Jt,[e("div",Zt,[t(o).employeeDetails.client_details.client_name?(y(),x("h1",Wt,u(t(o).employeeDetails.client_details.client_name),1)):A("",!0)]),e("div",Xt,[e("h1",Qt,u(t(o).employeeDetails.client_details.address),1)]),e("div",es,[e("h1",ts,u(t(o).employeeDetails.client_details.authorised_person_contact_email),1)]),e("div",ss,[e("h1",os,u(t(o).employeeDetails.client_details.authorised_person_contact_number),1)]),ls])])])])]),_:1},8,["visible"]),l(q,{header:"Header",visible:s.value,"onUpdate:visible":i[11]||(i[11]=b=>s.value=b),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:""},{header:k(()=>[l(Y,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:k(()=>[as]),_:1},8,["visible"]),l(q,{visible:E.value,"onUpdate:visible":i[15]||(i[15]=b=>E.value=b),modal:"",header:" ",style:{width:"50vw"}},{header:k(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:k(()=>[e("div",null,[e("div",is,[e("div",ns,[e("div",ds,[e("div",rs,[cs,l(g,{type:"text",modelValue:j.emp_name,"onUpdate:modelValue":i[12]||(i[12]=b=>j.emp_name=b),style:{"text-transform":"uppercase"},class:Z(["form-controls pl-2",[t(U).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),t(U).emp_name.$error?(y(),x("span",_s,u(t(U).emp_name.required.$message.replace("Value","Employee Name")),1)):A("",!0)])]),e("div",ms,[e("div",ps,[us,l(n,{modelValue:j.emp_doc_name,"onUpdate:modelValue":i[13]||(i[13]=b=>j.emp_doc_name=b),options:N.value,optionLabel:"name",placeholder:"Select a document ",class:Z(["form-controls pl-2 w-full h-12",[t(U).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),t(U).emp_doc_name.$error?(y(),x("span",fs,u(t(U).emp_doc_name.required.$message.replace("Value","Documents")),1)):A("",!0)])]),e("div",bs,[e("div",ys,[gs,e("div",hs,[l(O),vs,j.emp_upload_doc?(y(),x("div",xs,u(j.emp_upload_doc.name),1)):A("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:i[14]||(i[14]=b=>I(b)),class:Z([t(U).emp_upload_doc.$error?"p-invalid":""])},null,34)]),t(U).emp_upload_doc.$error?(y(),x("span",$s,u(t(U).emp_upload_doc.required.$message.replace("Value","document")),1)):A("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:R},"Submit")])])])])]),_:1},8,["visible"])],64)}}};var ye;const ws=typeof window<"u";ws&&((ye=window==null?void 0:window.navigator)!=null&&ye.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ge(S){return typeof S=="function"?S():t(S)}const ks=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Vs=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Cs=(S,a,s,D)=>{let w=S<12?"AM":"PM";return D&&(w=w.split("").reduce((j,N)=>j+=`${N}.`,"")),s?w.toLowerCase():w},Ps=(S,a,s={})=>{var D;const w=S.getFullYear(),j=S.getMonth(),N=S.getDate(),E=S.getHours(),o=S.getMinutes(),d=S.getSeconds(),B=S.getMilliseconds(),G=S.getDay(),p=(D=s.customMeridiem)!=null?D:Cs,V={YY:()=>String(w).slice(-2),YYYY:()=>w,M:()=>j+1,MM:()=>`${j+1}`.padStart(2,"0"),MMM:()=>S.toLocaleDateString(s.locales,{month:"short"}),MMMM:()=>S.toLocaleDateString(s.locales,{month:"long"}),D:()=>String(N),DD:()=>`${N}`.padStart(2,"0"),H:()=>String(E),HH:()=>`${E}`.padStart(2,"0"),h:()=>`${E%12||12}`.padStart(1,"0"),hh:()=>`${E%12||12}`.padStart(2,"0"),m:()=>String(o),mm:()=>`${o}`.padStart(2,"0"),s:()=>String(d),ss:()=>`${d}`.padStart(2,"0"),SSS:()=>`${B}`.padStart(3,"0"),d:()=>G,dd:()=>S.toLocaleDateString(s.locales,{weekday:"narrow"}),ddd:()=>S.toLocaleDateString(s.locales,{weekday:"short"}),dddd:()=>S.toLocaleDateString(s.locales,{weekday:"long"}),A:()=>p(E,o),AA:()=>p(E,o,!1,!0),a:()=>p(E,o,!0),aa:()=>p(E,o,!0,!0)};return a.replace(Vs,(T,r)=>r||V[T]())},Ss=S=>{if(S===null)return new Date(NaN);if(S===void 0)return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){const a=S.match(ks);if(a){const s=a[2]-1||0,D=(a[7]||"0").substring(0,3);return new Date(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,D)}}return new Date(S)};function pe(S,a="HH:mm:ss",s={}){return te(()=>Ps(Ss(ge(S)),ge(a),s))}const Ms={key:0,class:"w-full"},Us={class:"w-full bg-white rounded-lg p-2 border"},Es={class:"flex justify-around"},Ys=e("p",{class:"font-semibold text-sm"},"General Information",-1),js={class:"flex justify-end"},Is={class:"grid grid-cols-12 gap-2 h-full py-2"},As={class:"col-span-2"},Ls=e("p",{class:"font-semibold text-xs text-gray-500"},"Birthday",-1),Bs={class:"font-semibold text-sm"},Fs={class:"col-span-2"},Ns=e("p",{class:"font-semibold text-xs text-gray-500"},"Gender",-1),Ts={class:"font-semibold text-sm"},Rs={class:"col-span-2"},Os=e("p",{class:"font-semibold text-xs text-gray-500"},"Date Of Joining (DOJ)",-1),Gs={class:"font-semibold text-sm"},qs={class:"col-span-2"},zs=e("p",{class:"font-semibold text-xs text-gray-500"},"Marital Status",-1),Hs={class:"font-semibold text-sm"},Ks={class:"col-span-2"},Js=e("p",{class:"font-semibold text-xs text-gray-500"},"Blood Group",-1),Zs={class:"font-semibold text-sm"},Ws={class:"col-span-2"},Xs=e("p",{class:"font-semibold text-xs text-gray-500"},"Physically Handicapped",-1),Qs={class:"font-semibold text-sm"},eo={class:"w-full bg-white rounded-lg p-2 border my-3"},to={class:"flex justify-around"},so=e("p",{class:"font-semibold text-sm"},"Contact Information",-1),oo={class:"flex justify-end"},lo={class:"grid grid-cols-12 gap-4 h-full py-2"},ao={class:"col-span-3"},io=e("p",{class:"font-semibold text-xs text-gray-500"},"Personal Email",-1),no={class:"font-semibold text-sm"},ro={class:"col-span-3"},co=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Email",-1),_o={class:"font-semibold text-sm"},mo={class:"col-span-3"},po=e("p",{class:"font-semibold text-xs text-gray-500"},"Mobile Number",-1),uo={class:"font-semibold text-sm"},fo={class:"col-span-3"},bo=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Mobile Number",-1),yo={class:"font-semibold text-sm"},go={class:"w-full bg-white rounded-lg p-2 border"},ho={class:"flex justify-around"},vo=e("p",{class:"font-semibold text-sm"},"Address",-1),xo={class:"flex justify-end"},$o={class:"grid grid-cols-12 gap-4 h-full py-2"},Do={class:"col-span-6"},wo=e("p",{class:"font-semibold text-xs text-gray-500"},"Current Address",-1),ko={class:"font-semibold text-sm"},Vo={class:"col-span-6"},Co=e("p",{class:"font-semibold text-xs text-gray-500"},"Permanent Address ",-1),Po={class:"font-semibold text-sm"},So={class:"grid grid-cols-2"},Mo={class:""},Uo={class:"mb-1 form-group"},Eo=e("label",{class:"ml-[5px]"},[C("Birth Date"),e("span",{class:"text-danger"},"*")],-1),Yo={class:"cal-icon"},jo={class:""},Io={class:"mb-1 form-group"},Ao=e("label",null,[C("Gender"),e("span",{class:"text-danger"},"*")],-1),Lo={class:""},Bo={class:"mb-1 form-group"},Fo=e("label",{style:{marginLeft:"10px",marginRight:"10px"}},[C("Marital status "),e("span",{class:"text-danger"},"*")],-1),No={class:""},To={class:"mb-2 form-group"},Ro=e("label",null,[C("Blood Group"),e("span",{class:"text-danger"},"*")],-1),Oo={class:"cal-icon"},Go={class:""},qo={class:"form-group w-full",style:{marginLeft:"10px"}},zo=e("label",{class:"my-1"},"Physically Handicapped",-1),Ho=e("div",{class:""},[e("div",{class:"mb-3 form-group"})],-1),Ko={class:"text-right col-12"},Jo={class:"modal-body"},Zo={class:"row"},Wo={class:"col-md-6"},Xo={class:"mb-3 form-group"},Qo=e("label",null,"Personal Email",-1),el={class:"col-md-6"},tl={class:"mb-3 form-group"},sl=e("label",null," Office Email",-1),ol={class:"col-md-6"},ll={class:"mb-3 form-group"},al=e("label",null,"Mobile Number",-1),il={class:"col-md-6"},nl={class:"mb-3 form-group"},dl=e("label",null,"Official Mobile Number",-1),rl={key:0,class:""},cl=e("h1",{class:"font-semibold absolute top-6"},"General Information",-1),_l={class:"p-2"},ml={class:"my-2"},pl=e("label",{class:"mb-1"},[C("Birth Date"),e("span",{class:"text-danger"},"*")],-1),ul={class:"my-2"},fl=e("label",null,[C("Gender"),e("span",{class:"text-danger"},"*")],-1),bl={class:"my-2"},yl=e("label",null,[C("Marital status "),e("span",{class:"text-danger"},"*")],-1),gl={class:"my-2"},hl=e("label",null,[C("Blood Group"),e("span",{class:"text-danger"},"*")],-1),vl={class:"my-2"},xl=e("label",{class:"my-1"},"Physically Handicapped",-1),$l={class:"flex justify-center"},Dl={key:1},wl=e("h1",{class:"font-semibold absolute top-6"},"Contact Information",-1),kl={class:"p-2"},Vl={class:"my-2"},Cl=e("label",{class:"mb-1"},"Personal Email",-1),Pl={class:"my-2"},Sl=e("label",{class:"mb-1"},"Office Email",-1),Ml={class:"my-1"},Ul=e("label",{class:"mb-2"},"Mobile Number",-1),El={class:"my-2"},Yl=e("label",{class:"mb-1"},"Official Mobile Number",-1),jl={key:2,class:""},Il=e("h1",{class:"font-semibold absolute top-6"},"Address",-1),Al={class:"col-md-12"},Ll={class:"mb-3 form-group"},Bl=e("label",null,"Current Address",-1),Fl={class:"mb-3 form-group"},Nl=e("label",null,"Permanent Address ",-1),Tl={class:"mb-3 form-group"},Rl={class:"d-flex justify-content-center align-items-center"},Ol=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),Gl={class:"modal-body"},ql={class:"col-md-12"},zl={class:"mb-3 form-group"},Hl=e("label",null,"Current Address",-1),Kl={class:"mb-3 form-group"},Jl=e("label",null,"Permanent Address ",-1),Zl={class:"col-12"},Wl={class:"d-flex justify-content-between align-items-center"},Xl={class:"d-flex justify-content-center align-items-center"},Ql=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),ea={class:""},ta={__name:"EmployeeDetails",setup(S){const a=ae(),s=le(),D=v(!1),w=ie(),j=ie(),N=v(!1),E=v(!1),o=v(!1),d=v(),B=v(!1);function G(q,n){B.value=q,d.value=n,n=="General Information"?h():n=="Contact Information"?L():n=="Address Information"&&O()}const p=W({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),V=v([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),T=v(),r=W({email:"",official_email:"",mobile_number:"",official_mobile_number:""}),f=v(),_=W({current_address:"",Permanent_Address:""}),c=v(!1);function I(){c.value==1?_.Permanent_Address=_.current_address:c.value=!1}te(()=>s.employeeDetails.get_employee_details.gender=="male"?"Male":s.employeeDetails.get_employee_details.gender=="female"?"Female":s.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),te(()=>s.employeeDetails.get_employee_details.marital_status),te(()=>{if(s.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(s.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(s.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(s.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(s.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(s.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(s.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(s.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),te(()=>{if(s.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(s.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"});const $=v([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),U=v(),R=v();xe(),ne(()=>{s.fetchEmployeeDetails(),a.getBloodGroups().then(q=>{console.log(q.data),U.value=q.data}),a.getMaritalStatus().then(q=>{console.log(q),R.value=q.data})});function h(){console.log("Opening General Info Dialog"),p.dob=s.employeeDetails.get_employee_details.dob,p.doj=s.employeeDetails.get_employee_details.doj,p.marital_status_id=parseInt(s.employeeDetails.get_employee_details.marital_status_id),p.gender=s.employeeDetails.get_employee_details.gender,p.blood_group_id=parseInt(s.employeeDetails.get_employee_details.blood_group_id),p.physically_challenged=s.employeeDetails.get_employee_details.physically_challenged}function J(){console.log(p),D.value=!0;let n=`/profile-pages-update-generalinfo/${a.current_user_id}`;z.post(n,{user_code:s.employeeDetails.user_code,dob:K(p.dob).format("YYYY-MM-DD"),gender:p.gender,marital_status_id:p.marital_status_id,doj:p.doj,blood_group_id:p.blood_group_id,physically_challenged:p.physically_challenged}).then(F=>{F.data.status=="success"?(s.employeeDetails.get_employee_details.dob=pe(p.dob,"YYYY-MM-DD"),s.employeeDetails.gender=p.gender,s.employeeDetails.marital_status_id=p.marital_status_id,s.employeeDetails.get_employee_details.doj=p.doj,s.employeeDetails.blood_group_id=p.blood_group_id,s.employeeDetails.physically_challenged=p.physically_challenged):F.data.status=="failure"&&(leave_data.leave_request_error_messege=F.data.message)}).catch(F=>{console.log(F)}).finally(()=>{s.fetchEmployeeDetails(a.current_user_id),D.value=!1,B.value=!1,w.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})})}function L(){console.log("Opening General Info Dialog : "),r.email=s.employeeDetails.email,r.official_email=s.employeeDetails.get_employee_office_details.officical_mail,r.mobile_number=parseInt(s.employeeDetails.get_employee_details.mobile_number),s.employeeDetails.get_employee_office_details.official_mobile?r.official_mobile_number=parseInt(s.employeeDetails.get_employee_office_details.official_mobile):r.official_mobile_number=0}function i(){let n=`/profile-pages-update-contactinfo/${a.current_user_id}`;D.value=!0,z.post(n,{user_code:s.employeeDetails.user_code,email:r.email,officical_mail:r.official_email,mobile_number:r.mobile_number,official_mobile_number:r.official_mobile_number}).then(F=>{F.data.status=="success"?(w.add({severity:"success",summary:"Updated",detail:"Contact information updated",life:3e3}),s.employeeDetails.email=r.email,s.employeeDetails.get_employee_office_details.officical_mail=r.official_email,s.employeeDetails.get_employee_details.mobile_number=r.mobile_number,s.employeeDetails.get_employee_office_details.official_mobile=r.official_mobile_number):F.data.status=="failure"&&(T.leave_request_error_messege=F.data.message)}).catch(F=>{console.log(F)}).finally(()=>{s.fetchEmployeeDetails(),D.value=!1,B.value=!1})}function O(){console.log("Opening General Info Dialog"),_.current_address=s.employeeDetails.get_employee_details.current_address_line_1,_.Permanent_Address=s.employeeDetails.get_employee_details.permanent_address_line_1}const H=()=>{if(D.value=!0,_.current_address==" "||_.Permanent_Address==" ")j.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3});else{let n=`/profile-pages-update-address_info/${a.current_user_id}`;z.post(n,{user_code:s.employeeDetails.user_code,current_address_line_1:_.current_address,permanent_address_line_1:_.Permanent_Address}).then(F=>{data_checking.value=!1,F.data.status=="success"?(w.add({severity:"success",summary:"Updated",detail:"Address information updated",life:3e3}),s.employeeDetails.current_address_line_1=_.current_address,s.employeeDetails.get_employee_office_details.permanent_address_line_1=_.Permanent_Address):F.data.status=="failure"&&(f.leave_request_error_messege=F.data.message)}).catch(F=>{console.log(F)}).finally(()=>{s.fetchEmployeeDetails(),D.value=!1,B.value=!1})}};return(q,n)=>{const F=P("Calendar"),Y=P("Dropdown"),g=P("Dialog"),b=P("InputMask"),ee=P("Sidebar"),de=P("Toast");return y(),x(ce,null,[t(s).employeeDetails.get_employee_details?(y(),x("div",Ms,[e("div",Us,[e("div",Es,[Ys,e("div",js,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:n[0]||(n[0]=m=>G(!0,"General Information"))})])]),e("div",Is,[e("div",As,[Ls,e("p",Bs,u(t(K)(t(s).employeeDetails.get_employee_details.dob).format("DD-MMM-YYYY")),1)]),e("div",Fs,[Ns,e("p",Ts,u(t(a).capitalizeFLetter(t(s).employeeDetails.get_employee_details.gender)),1)]),e("div",Rs,[Os,e("p",Gs,u(t(K)(t(s).employeeDetails.get_employee_details.doj).format("DD-MMM-YYYY")),1)]),e("div",qs,[zs,e("p",Hs,u(t(s).employeeDetails.get_employee_details.marital_status),1)]),e("div",Ks,[Js,e("p",Zs,u(t(s).employeeDetails.get_employee_details.blood_group_name),1)]),e("div",Ws,[Xs,e("p",Qs,u(t(a).capitalizeFLetter(t(s).employeeDetails.get_employee_details.physically_challenged)),1)])])]),e("div",eo,[e("div",to,[so,e("div",oo,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:n[1]||(n[1]=m=>G(!0,"Contact Information"))})])]),e("div",lo,[e("div",ao,[io,e("p",no,u(t(s).employeeDetails.email?t(s).employeeDetails.email:"-"),1)]),e("div",ro,[co,e("p",_o,u(t(s).employeeDetails.get_employee_office_details.officical_mail?t(s).employeeDetails.get_employee_office_details.officical_mail:"-"),1)]),e("div",mo,[po,e("p",uo,u(t(s).employeeDetails.get_employee_details.mobile_number?t(s).employeeDetails.get_employee_details.mobile_number:"-"),1)]),e("div",fo,[bo,e("p",yo,u(t(s).employeeDetails.get_employee_office_details.official_mobile?t(s).employeeDetails.get_employee_office_details.official_mobile:"-"),1)])])]),e("div",go,[e("div",ho,[vo,e("div",xo,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:n[2]||(n[2]=m=>G(!0,"Address Information"))})])]),e("div",$o,[e("div",Do,[wo,e("p",ko,u(t(s).employeeDetails.get_employee_details.current_address_line_1?t(s).employeeDetails.get_employee_details.current_address_line_1:"-"),1)]),e("div",Vo,[Co,e("p",Po,u(t(s).employeeDetails.get_employee_details.permanent_address_line_1?t(s).employeeDetails.get_employee_details.permanent_address_line_1:"-"),1)])])])])):A("",!0),l(g,{visible:N.value,"onUpdate:visible":n[9]||(n[9]=m=>N.value=m),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:k(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:k(()=>[e("div",So,[e("div",Mo,[e("div",Uo,[Eo,e("div",Yo,[l(F,{class:"mb-3 form-selects w-[94%]",modelValue:p.dob,"onUpdate:modelValue":n[3]||(n[3]=m=>p.dob=m),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",jo,[e("div",Io,[Ao,l(Y,{modelValue:p.gender,"onUpdate:modelValue":n[4]||(n[4]=m=>p.gender=m),options:V.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),e("div",Lo,[e("div",Bo,[Fo,l(Y,{modelValue:p.marital_status_id,"onUpdate:modelValue":n[5]||(n[5]=m=>p.marital_status_id=m),options:R.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects w-[94%]",style:{marginLeft:"10px",marginRight:"10px"}},null,8,["modelValue","options"])])]),e("div",No,[e("div",To,[Ro,e("div",Oo,[l(Y,{modelValue:p.blood_group_id,"onUpdate:modelValue":n[6]||(n[6]=m=>p.blood_group_id=m),options:U.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])])]),e("div",Go,[e("div",qo,[zo,l(Y,{modelValue:p.physically_challenged,"onUpdate:modelValue":n[7]||(n[7]=m=>p.physically_challenged=m),options:$.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),Ho]),e("div",Ko,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:n[8]||(n[8]=m=>J())},"Save")])]),_:1},8,["visible"]),l(g,{visible:E.value,"onUpdate:visible":n[14]||(n[14]=m=>E.value=m),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:k(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:k(()=>[e("div",Jo,[e("div",Zo,[e("div",Wo,[e("div",Xo,[Qo,X(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":n[10]||(n[10]=m=>r.email=m)},null,512),[[se,r.email]])])]),e("div",el,[e("div",tl,[sl,X(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":n[11]||(n[11]=m=>r.official_email=m)},null,512),[[se,r.official_email]])])]),e("div",ol,[e("div",ll,[al,l(b,{id:"basic",class:"form-control h-10",modelValue:r.mobile_number,"onUpdate:modelValue":n[12]||(n[12]=m=>r.mobile_number=m),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",il,[e("div",nl,[dl,l(b,{id:"basic",class:"form-control h-10",modelValue:r.official_mobile_number,"onUpdate:modelValue":n[13]||(n[13]=m=>r.official_mobile_number=m),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:i},"Save")])])])])]),_:1},8,["visible"]),l(ee,{visible:B.value,"onUpdate:visible":n[28]||(n[28]=m=>B.value=m),position:"right",class:"w-[500px]"},{default:k(()=>[d.value=="General Information"?(y(),x("div",rl,[cl,e("div",_l,[e("div",ml,[pl,l(F,{class:"relative right-2 w-[100%] h-10",modelValue:p.dob,"onUpdate:modelValue":n[15]||(n[15]=m=>p.dob=m),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])]),e("div",ul,[fl,l(Y,{modelValue:p.gender,"onUpdate:modelValue":n[16]||(n[16]=m=>p.gender=m),options:V.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",bl,[yl,l(Y,{modelValue:p.marital_status_id,"onUpdate:modelValue":n[17]||(n[17]=m=>p.marital_status_id=m),options:R.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",gl,[hl,l(Y,{modelValue:p.blood_group_id,"onUpdate:modelValue":n[18]||(n[18]=m=>p.blood_group_id=m),options:U.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",vl,[xl,l(Y,{modelValue:p.physically_challenged,"onUpdate:modelValue":n[19]||(n[19]=m=>p.physically_challenged=m),options:$.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",$l,[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:n[20]||(n[20]=m=>J())},"Save")])])])):A("",!0),d.value=="Contact Information"?(y(),x("div",Dl,[wl,e("div",kl,[e("div",Vl,[Cl,X(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":n[21]||(n[21]=m=>r.email=m)},null,512),[[se,r.email]])]),e("div",Pl,[Sl,X(e("input",{type:"email",class:"h-10 form-control",name:"officical_mail","onUpdate:modelValue":n[22]||(n[22]=m=>r.official_email=m)},null,512),[[se,r.official_email]])]),e("div",Ml,[Ul,l(b,{id:"basic",class:"form-control h-10",modelValue:r.mobile_number,"onUpdate:modelValue":n[23]||(n[23]=m=>r.mobile_number=m),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",El,[Yl,l(b,{id:"basic",class:"form-control h-10",modelValue:r.official_mobile_number,"onUpdate:modelValue":n[24]||(n[24]=m=>r.official_mobile_number=m),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:i},"Save")])])])):A("",!0),d.value=="Address Information"?(y(),x("div",jl,[Il,e("div",Al,[e("div",Ll,[Bl,X(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[25]||(n[25]=m=>_.current_address=m)},null,512),[[se,_.current_address]])]),e("div",Fl,[Nl,X(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[26]||(n[26]=m=>_.Permanent_Address=m)},null,512),[[se,_.Permanent_Address]])]),e("div",Tl,[e("div",Rl,[X(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":n[27]||(n[27]=m=>c.value=m),style:{width:"20px",height:"20px"},onChange:I,value:1},null,544),[[be,c.value]]),Ol])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:H},"Save")])])])):A("",!0)]),_:1},8,["visible"]),l(g,{visible:o.value,"onUpdate:visible":n[32]||(n[32]=m=>o.value=m),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:k(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:k(()=>[e("div",Gl,[e("div",ql,[e("div",zl,[Hl,X(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[29]||(n[29]=m=>_.current_address=m)},null,512),[[se,_.current_address]])]),e("div",Kl,[Jl,X(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[30]||(n[30]=m=>_.Permanent_Address=m)},null,512),[[se,_.Permanent_Address]])])]),e("div",Zl,[e("div",Wl,[e("div",Xl,[X(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":n[31]||(n[31]=m=>c.value=m),style:{width:"20px",height:"20px"},onChange:I,value:1},null,544),[[be,c.value]]),Ql]),e("div",ea,[l(de),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:H,severity:"warn"},"Save")])])])])]),_:1},8,["visible"])],64)}}};const sa={class:"mb-2 card"},oa={class:"card-body"},la={class:"font-semibold text-lg"},aa={class:"grid grid-cols-2"},ia={class:"mr-[10px] ml-[8px]"},na=e("span",null,[C("Name "),e("span",{class:"text-danger"},"*")],-1),da={class:""},ra=e("span",null,[C("Relationship"),e("span",{class:"text-danger"},"*")],-1),ca={class:"grid grid-cols-2"},_a={class:"mr-2"},ma=e("span",null,[C("Date of birth "),e("span",{class:"text-danger"},"*")],-1),pa={class:"ml-1"},ua=e("span",null,[C("phone"),e("span",{class:"text-danger"},"*")],-1),fa={class:"my-6 table-responsive"},ba={key:0},ya={key:1},ga={class:"relative flex justify-center"},ha=e("i",{class:"pi pi-ellipsis-v"},null,-1),va=[ha],xa={class:"flex flex-col bg-white shadow-2xl w-40 py-1 rounded-lg"},$a={class:"p-0 m-0 d-flex flex-column"},Da=["onClick"],wa=["onClick"],ka=e("h5",{class:"absolute top-6 font-semibold"},"Family Information",-1),Va={class:"p-2"},Ca={class:"my-2"},Pa=e("span",null,[C("Name "),e("span",{class:"text-danger"},"*")],-1),Sa={class:"my-2"},Ma=e("span",null,[C("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ua={class:"my-2"},Ea=e("span",null,[C("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Ya={class:"my-2"},ja=e("span",null,[C("phone"),e("span",{class:"text-danger"},"*")],-1),Ia={class:"flex justify-center my-4"},Aa=e("h5",{class:"absolute top-6 font-semibold"},"Family Information",-1),La={class:"p-2"},Ba={class:"my-2"},Fa=e("span",null,[C("Name "),e("span",{class:"text-danger"},"*")],-1),Na={class:"my-2"},Ta=e("span",null,[C("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ra={class:"my-2"},Oa=e("span",null,[C("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Ga={class:"my-2"},qa=e("span",null,[C("phone"),e("span",{class:"text-danger"},"*")],-1),za={class:"flex justify-center my-4"},Ha={__name:"FamilyDetails",setup(S){const a=ae(),s=le(),D=ie();v("");const w=v(!1),j=v(),N=r=>{j.value.toggle(r)},E=v(!1),o=W({name:"",relationship:"",dob:"",phone_number:""}),d=W({name:"",relationship:"",dob:"",phone_number:""}),B=v(),G=()=>{s.loading_screen=!0;let f=`/add-family-info/${a.current_user_id}`;z.post(f,{user_code:s.employeeDetails.user_code,name:o.name,relationship:o.relationship,dob:K(o.dob).format("YYYY-MM-DD"),phone_number:o.phone_number}).then(_=>{_.data.status=="success"?(D.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),s.employeeDetails.get_family_details.dob=pe(o.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=o.gender,s.employeeDetails.get_family_details.relationship=o.relationship,s.employeeDetails.get_family_details.phone_number=o.phone_number):_.data.status=="failure"}).catch(_=>{console.log(_)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),w.value=!1},p=r=>{E.value=!0,B.value=r.id,d.name=r.name,d.relationship=r.relationship,d.dob=r.dob,d.phone_number=r.phone_number},V=r=>{s.loading_screen=!0,B.value=r.id;let _=` /delete-family-info/${a.current_user_id}`;z.post(_,{current_table_id:B.value}).then(c=>{c.data.status=="success"?(D.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),s.employeeDetails.get_family_details.dob=pe(o.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=o.gender,s.employeeDetails.get_family_details.relationship=o.relationship,s.employeeDetails.get_family_details.phone_number=o.phone_number):c.data.status=="failure"&&(leave_data.leave_request_error_messege=c.data.message)}).catch(c=>{console.log(c)}).finally(()=>{s.loading_screen=!1,s.fetchEmployeeDetails()})},T=r=>{s.loading_screen=!0;let _=`/update-family-info/${a.current_user_id}`;z.post(_,{user_code:s.employeeDetails.user_code,current_table_id:B.value,name:d.name,relationship:d.relationship,dob:K(d.dob).format("YYYY-MM-DD"),phone_number:d.phone_number}).then(c=>{c.data.status=="success"?(D.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),s.employeeDetails.get_family_details.dob=pe(d.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=d.gender,s.employeeDetails.get_family_details.relationship=o.relationship,s.employeeDetails.get_family_details.phone_number=d.phone_number):c.data.status=="failure"&&(leave_data.leave_request_error_messege=c.data.message)}).catch(c=>{console.log(c)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),E.value=!1};return ne(()=>{}),(r,f)=>{const _=P("InputText"),c=P("Calendar"),I=P("InputMask"),$=P("Toast"),U=P("Dialog"),R=P("Column"),h=P("OverlayPanel"),J=P("DataTable"),L=P("Sidebar");return y(),x(ce,null,[e("div",sa,[e("div",oa,[e("h6",la,[C("Family Information "),e("button",{type:"button",class:"float-right bg-[#000] text-[#fff] px-4 p-2 rounded-md",onClick:f[0]||(f[0]=i=>w.value=!0)}," Add New "),l(U,{modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:k(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:k(()=>[l($),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:G},"submit")])]),default:k(()=>[e("div",aa,[e("div",ia,[na,l(_,{type:"text",modelValue:o.name,"onUpdate:modelValue":f[1]||(f[1]=i=>o.name=i),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",da,[ra,l(_,{type:"text",modelValue:o.relationship,"onUpdate:modelValue":f[2]||(f[2]=i=>o.relationship=i),class:"w-[90%] h-10"},null,8,["modelValue"])])]),e("div",ca,[e("div",_a,[ma,l(c,{dateFormat:"dd/mm/yy",modelValue:o.dob,"onUpdate:modelValue":f[3]||(f[3]=i=>o.dob=i),class:"h-10 w-[98%]",minDate:r.minDate,maxDate:r.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",pa,[ua,l(I,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:o.phone_number,"onUpdate:modelValue":f[4]||(f[4]=i=>o.phone_number=i)},null,8,["modelValue"])])])]),_:1})]),e("div",fa,[l(J,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:t(s).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",class:"z-0"},{default:k(()=>[l(R,{header:"Name",field:"name",style:{"min-width":"8rem"}}),l(R,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),l(R,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:k(i=>[i.data.dob=="Invalid Date"?(y(),x("div",ba," - ")):(y(),x("div",ya,u(t(K)(i.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),l(R,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),l(R,{header:"Action"},{body:k(i=>[e("div",ga,[e("button",{class:"",type:"button",onClick:N},va),l(h,{ref_key:"op",ref:j},{default:k(()=>[e("div",xa,[e("div",$a,[e("button",{class:"p-2 text-lg text-black font-semibold hover:bg-gray-200 divide-x",onClick:O=>V(i.data)},"delete",8,Da),e("button",{class:"p-2 text-black text-lg font-semibold hover:bg-gray-200",onClick:O=>p(i.data)},"View",8,wa)])])]),_:2},1536)])]),_:1})]),_:1},8,["value"])])])]),l(L,{visible:w.value,"onUpdate:visible":f[9]||(f[9]=i=>w.value=i),position:"right",class:"relative w-[500px]"},{default:k(()=>[ka,e("div",Va,[e("div",Ca,[Pa,l(_,{type:"text",modelValue:o.name,"onUpdate:modelValue":f[5]||(f[5]=i=>o.name=i),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",Sa,[Ma,l(_,{type:"text",modelValue:o.relationship,"onUpdate:modelValue":f[6]||(f[6]=i=>o.relationship=i),class:"w-[90%] h-10"},null,8,["modelValue"])]),e("div",Ua,[Ea,l(c,{dateFormat:"dd/mm/yy",modelValue:o.dob,"onUpdate:modelValue":f[7]||(f[7]=i=>o.dob=i),class:"h-10 w-[100%] relative right-2",minDate:r.minDate,maxDate:r.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Ya,[ja,l(I,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:o.phone_number,"onUpdate:modelValue":f[8]||(f[8]=i=>o.phone_number=i)},null,8,["modelValue"])])]),e("div",Ia,[l($),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:G},"submit")])])]),_:1},8,["visible"]),l(L,{visible:E.value,"onUpdate:visible":f[14]||(f[14]=i=>E.value=i),position:"right",class:"relative w-[500px]"},{default:k(()=>[Aa,e("div",La,[e("div",Ba,[Fa,l(_,{type:"text",modelValue:d.name,"onUpdate:modelValue":f[10]||(f[10]=i=>d.name=i),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",Na,[Ta,l(_,{type:"text",modelValue:d.relationship,"onUpdate:modelValue":f[11]||(f[11]=i=>d.relationship=i),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",Ra,[Oa,l(c,{modelValue:d.dob,"onUpdate:modelValue":f[12]||(f[12]=i=>d.dob=i),min:"2000-01-02",class:"w-[100%] h-10 relative right-2"},null,8,["modelValue"])]),e("div",Ga,[qa,l(I,{id:"basic",modelValue:d.phone_number,"onUpdate:modelValue":f[13]||(f[13]=i=>d.phone_number=i),mask:"9999999999",placeholder:"999999999",class:"h-10 w-[100%]"},null,8,["modelValue"])])]),e("div",za,[l($),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:T},"submit")])])]),_:1},8,["visible"])],64)}}};const Ka={key:0},Ja=e("div",{class:""},[e("div",{class:""},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),Za={class:"tab-content",id:"pills-tabContent"},Wa={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},Xa={key:0,class:"my-2"},Qa={class:"w-full bg-white rounded-lg p-2 border"},ei=e("div",{class:"flex justify-around"},[e("p",{class:"font-semibold text-sm"},"Payroll Summary"),e("div",{class:"flex justify-end"})],-1),ti={class:"grid grid-cols-12 gap-2 h-full py-2"},si={class:"col-span-2"},oi=e("p",{class:"font-semibold text-xs text-gray-500"},"Last Processed",-1),li={class:"font-semibold text-sm"},ai={class:"col-span-2"},ii=e("p",{class:"font-semibold text-xs text-gray-500"},"Total Working Days",-1),ni={class:"font-semibold text-sm"},di={class:"col-span-2"},ri=e("p",{class:"font-semibold text-xs text-gray-500"},"Loss Of Pay(LOP)",-1),ci={class:"font-semibold text-sm"},_i={class:"w-full bg-white rounded-lg p-2 border my-3"},mi=e("p",{class:"font-semibold text-sm"},"Bank Information",-1),pi={class:"grid grid-cols-12 gap-2 h-full py-2"},ui={class:"col-span-2"},fi=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Name",-1),bi={class:"font-semibold text-sm"},yi={class:"col-span-2"},gi=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Account No",-1),hi={class:"font-semibold text-sm"},vi={class:"col-span-2"},xi=e("p",{class:"font-semibold text-xs text-gray-500"},"IFSC Code",-1),$i={class:"font-semibold text-sm"},Di={class:"col-span-2"},wi=e("p",{class:"font-semibold text-xs text-gray-500"},"PAN No",-1),ki={class:"font-semibold text-sm"},Vi={class:"w-full bg-white rounded-lg p-2 border"},Ci=e("p",{class:"font-semibold text-sm"},"Statutory Information",-1),Pi={class:"grid grid-cols-12 gap-2 h-full py-2"},Si={class:"col-span-2"},Mi=e("p",{class:"font-semibold text-xs text-gray-500"},"PF Applicable",-1),Ui={class:"font-semibold text-sm"},Ei={class:"col-span-2"},Yi=e("p",{class:"font-semibold text-xs text-gray-500"},"EPF Number",-1),ji={class:"font-semibold text-sm"},Ii={class:"col-span-2"},Ai=e("p",{class:"font-semibold text-xs text-gray-500"},"UAN Number",-1),Li={class:"font-semibold text-sm"},Bi={class:"col-span-2"},Fi=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Applicable",-1),Ni={class:"font-semibold text-sm"},Ti={class:"col-span-2"},Ri=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Number",-1),Oi={class:"font-semibold text-sm"},Gi={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},qi={class:"mb-2 card"},zi={class:"card-body"},Hi={class:"modal-body"},Ki={class:"row"},Ji={class:"col-md-6"},Zi={class:"mb-3 form-group"},Wi=e("label",null,"Bank Name",-1),Xi={class:"col-md-6"},Qi={class:"mb-3 form-group"},en=e("label",null,"Bank Account No",-1),tn=e("div",{class:"cal-icon"},null,-1),sn={class:"col-md-6"},on={class:"mb-3 form-group"},ln=e("label",null,"IFSC Code",-1),an={class:"col-md-6"},nn={class:"floating d-block justify-items-start al"},dn=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),rn={class:"flex justify-content-start"},cn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),_n={class:"d-flex flex-column justify-content-center align-items-center border"},mn={key:0,class:"text-red-400 fs-6 font-semibold text-center"},pn={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},un={class:"modal-body"},fn={class:"row"},bn={class:"col-md-6"},yn={class:"mb-3 form-group"},gn=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),hn={key:0,class:"text-red-400 fs-6 font-semibold"},vn={class:"col-md-6 d-flex flex-column"},xn={class:"d-flex justify-items-center flex-column ml-10"},$n=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),Dn={class:"d-flex justify-items-center align-items-center"},wn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),kn={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},Vn={key:0,class:"text-red-400 fs-6 font-semibold"},Cn={class:"modal-body"},Pn={class:"row"},Sn={class:"col"},Mn=e("label",{for:"",class:""},[C("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),Un={class:"col"},En=e("label",{class:"ml-2"},"EPF Number",-1),Yn={class:"row"},jn={class:"col"},In=e("label",{class:"ml-1"},"UAN Number",-1),An={class:"col ml-2"},Ln=e("label",{class:"ml-2"},[C("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),Bn={class:"row"},Fn={class:"col-6"},Nn=e("label",{for:"",class:"ml-2"},"ESIC Number",-1),Tn=e("div",{class:"col"},null,-1),Rn=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),On={__name:"FinanceDetails",setup(S){const a=le(),s=ae(),D=ie(),w=v(!1),j=v(!1),N=v();N.value=a.employeeDetails.payroll_summary,console.log("testing payroll summary :",N.value);let E=new FormData;E.append("user_code",ae.current_user_code),E.append("file_object",le.value);let o="/profile-pages/updateProfilePicture";z.post(o,E).then(Y=>{}).finally(()=>{console.log("Photo Sent")});const d=v([]),B=v();d.value.push(a.employeeDetails.get_statutory_details),ne(()=>{s.getBankList().then(Y=>{B.value=Y.data}),a.fetchEmployeeDetails()});const G=v(!1),p=v(!1);v(),v();const V=W({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),T=W({pan_no:"",Pancard:""}),r=Y=>{Y.target.files&&Y.target.files[0]&&(V.PassBook=Y.target.files[0],console.log(V.PassBook))},f=v([{name:"Yes",value:"Yes"},{name:"No",value:"No"}]),_=()=>{w.value=!0;let g=`/update-bank-info/${s.current_user_id}`,b=new FormData;b.append("user_code",a.employeeDetails.user_code),b.append("bank_id",V.bank_id),b.append("account_no",V.bank_ac_no),b.append("bank_ifsc",V.ifsc_code),b.append("PassBook",V.PassBook),b.append("onboard_document_type","Cheque leaf/Bank Passbook"),z.post(g,b).then(ee=>{ee.data.status=="success"?(D.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),a.employeeDetails.get_employee_details.bank_id=V.bank_id,a.employeeDetails.get_employee_details.bank_account_number=V.bank_ac_no,a.employeeDetails.get_employee_details.bank_ifsc_code=V.ifsc_code,a.employeeDetails.get_employee_details.pan_no=V.pan_no):ee.data.status=="failure"&&(leave_data.leave_request_error_messege=ee.data.message)}).catch(ee=>{console.log(ee)}).finally(()=>{a.fetchEmployeeDetails(),w.value=!1}),G.value=!1};function c(){V.bank_id=parseInt(a.employeeDetails.get_employee_details.bank_id),V.bank_ac_no=a.employeeDetails.get_employee_details.bank_account_number,V.ifsc_code=a.employeeDetails.get_employee_details.bank_ifsc_code,V.pan_no=a.employeeDetails.get_employee_details.pan_number,G.value=!0}function I(){a.employeeDetails.get_statutory_details?($.pf_applicable=a.employeeDetails.get_statutory_details.pf_applicable,$.epf_no=a.employeeDetails.get_statutory_details.epf_number,$.uan_no=a.employeeDetails.get_statutory_details.uan_number,$.esic_applicable=a.employeeDetails.get_statutory_details.esic_applicable,$.esic_no=a.employeeDetails.get_statutory_details.esic_number):p.value=!0,p.value=!0}const $=W({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),U=()=>{w.value=!0;let g=`/update-statutory-info/${s.current_user_id}`;z.post(g,{user_code:a.employeeDetails.user_code,pf_applicable:$.pf_applicable,epf_number:$.epf_no,uan_number:$.uan_no,esic_applicable:$.esic_applicable,esic_number:$.esic_no}).then(b=>{b.data.status=="success"?D.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}).finally(()=>{a.fetchEmployeeDetails(),w.value=!1}),p.value=!1},R=Y=>{Y.target.files&&Y.target.files[0]&&(T.Pancard=Y.target.files[0],console.log(T.Pancard))},h=()=>{w.value=!0;const g=`/update-Pancard-info/${s.current_user_id}`,b=new FormData;b.append("pan_no",T.pan_no),b.append("pancard",T.Pancard),b.append("user_code",a.employeeDetails.user_code),b.append("onboard_document_type","Pan Card"),j.value=!1,T.Pancard&&z.post(g,b).finally(()=>{w.value=!1})},J=te(()=>({PassBook:{required:re}})),L=ue(J,V),i=()=>{L.value.$validate(),L.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),_())},O=te(()=>({pan_no:{required:re},Pancard:{required:re}})),H=ue(O,T),q=()=>{H.value.$validate(),H.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),h())},n=Y=>{let g=String.fromCharCode(Y.keyCode);if(/^[A-Za-z_ ]+$/.test(g))return!0;Y.preventDefault()},F=Y=>{let g=String.fromCharCode(Y.keyCode);if(/^[A-Za-z0-9]+$/.test(g))return!0;Y.preventDefault()};return(Y,g)=>{const b=P("Dropdown"),ee=P("InputNumber"),de=P("InputText"),m=P("Toast"),me=P("Dialog"),he=P("InputMask"),ve=P("ProgressSpinner");return t(a).employeeDetails.get_statutory_details?(y(),x("div",Ka,[Ja,e("div",Za,[e("div",Wa,[t(a).employeeDetails.get_employee_details?(y(),x("div",Xa,[e("div",Qa,[ei,e("div",ti,[e("div",si,[oi,e("p",li,u(t(a).employeeDetails.payroll_summary.payroll_date?t(K)(t(a).employeeDetails.payroll_summary.payroll_date).format("DD-MMM-YYYY"):"-"),1)]),e("div",ai,[ii,e("p",ni,u(t(a).employeeDetails.payroll_summary.worked_Days?t(a).employeeDetails.payroll_summary.worked_Days:"-"),1)]),e("div",di,[ri,e("p",ci,u(t(a).employeeDetails.payroll_summary.lop?t(a).employeeDetails.payroll_summary.lop:"-"),1)])])]),e("div",_i,[e("div",{class:"flex justify-around"},[mi,e("div",{class:"flex justify-end"},[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:c,alt:""})])]),e("div",pi,[e("div",ui,[fi,e("p",bi,u(t(a).employeeDetails.get_employee_details.bank_name?t(a).employeeDetails.get_employee_details.bank_name:"-"),1)]),e("div",yi,[gi,e("p",hi,u(t(a).employeeDetails.get_employee_details.bank_account_number?t(a).employeeDetails.get_employee_details.bank_account_number:"-"),1)]),e("div",vi,[xi,e("p",$i,u(t(a).employeeDetails.get_employee_details.bank_ifsc_code?t(a).employeeDetails.get_employee_details.bank_ifsc_code:"-"),1)]),e("div",Di,[wi,e("p",ki,u(t(a).employeeDetails.get_employee_details.pan_number?t(a).employeeDetails.get_employee_details.pan_number:"-"),1)])])]),e("div",Vi,[e("div",{class:"flex justify-around"},[Ci,e("div",{class:"flex justify-end"},[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:I,alt:""})])]),e("div",Pi,[e("div",Si,[Mi,e("p",Ui,u(t(a).employeeDetails.get_statutory_details.pf_applicable?t(a).employeeDetails.get_statutory_details.pf_applicable:"-"),1)]),e("div",Ei,[Yi,e("p",ji,u(t(a).employeeDetails.get_statutory_details.epf_number?t(a).employeeDetails.get_statutory_details.epf_number:"-"),1)]),e("div",Ii,[Ai,e("p",Li,u(t(a).employeeDetails.get_statutory_details.uan_number?t(a).employeeDetails.get_statutory_details.uan_number:"-"),1)]),e("div",Bi,[Fi,e("p",Ni,u(t(a).employeeDetails.get_statutory_details.esic_applicable?t(a).employeeDetails.get_statutory_details.esic_applicable:"-"),1)]),e("div",Ti,[Ri,e("p",Oi,u(t(a).employeeDetails.get_statutory_details.esic_number?t(a).employeeDetails.get_statutory_details.esic_number:"-"),1)])])])])):A("",!0)]),e("div",Gi,[e("div",qi,[e("div",zi,[l(we)])])])]),l(me,{visible:G.value,"onUpdate:visible":g[5]||(g[5]=M=>G.value=M),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:k(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:k(()=>[e("div",null,[e("div",Hi,[e("div",Ki,[e("div",Ji,[e("div",Zi,[Wi,l(b,{editable:"",onKeypress:g[0]||(g[0]=M=>n(M)),options:B.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:V.bank_id,"onUpdate:modelValue":g[1]||(g[1]=M=>V.bank_id=M)},null,8,["options","modelValue"])])]),e("div",Xi,[e("div",Qi,[en,tn,l(ee,{modelValue:V.bank_ac_no,"onUpdate:modelValue":g[2]||(g[2]=M=>V.bank_ac_no=M),class:"form-controls onboard-form",inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])])]),e("div",sn,[e("div",on,[ln,l(de,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:V.ifsc_code,"onUpdate:modelValue":g[3]||(g[3]=M=>V.ifsc_code=M)},null,8,["modelValue"])])]),e("div",an,[e("div",nn,[dn,e("div",rn,[l(m),cn,e("div",_n,[e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:g[4]||(g[4]=M=>r(M)),style:{"text-transform":"uppercase"},class:Z(["form-controls pl-2",[t(L).PassBook.$error?"p-invalid":""]])},null,34),t(L).PassBook.$error?(y(),x("span",mn,u(t(L).PassBook.required.$message.replace("Value","PassBook or Cheque Leaf")),1)):A("",!0)]),V.PassBook?(y(),x("div",pn,u(V.PassBook.name),1)):A("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:i},"Submit")])])])])]),_:1},8,["visible"]),l(me,{visible:j.value,"onUpdate:visible":g[8]||(g[8]=M=>j.value=M),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:k(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:k(()=>[e("div",null,[e("div",un,[e("div",fn,[e("div",bn,[e("div",yn,[gn,l(he,{onFocusout:Y.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:T.pan_no,"onUpdate:modelValue":g[6]||(g[6]=M=>T.pan_no=M),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:Z(["form-controls pl-2",[t(H).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),t(H).pan_no.$error?(y(),x("span",hn,u(t(H).pan_no.required.$message.replace("Value","Pancard number")),1)):A("",!0)])]),e("div",vn,[e("div",xn,[$n,e("div",Dn,[l(m),wn,T.Pancard?(y(),x("div",kn,u(T.Pancard.name),1)):A("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:g[7]||(g[7]=M=>R(M)),class:Z([t(H).Pancard.$error?"p-invalid":""])},null,34)]),t(H).Pancard.$error?(y(),x("span",Vn,u(t(H).Pancard.required.$message.replace("Value","Pancard attachment")),1)):A("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:q},"Submit")])])])])]),_:1},8,["visible"]),l(me,{visible:p.value,"onUpdate:visible":g[17]||(g[17]=M=>p.value=M),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:k(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:k(()=>[e("div",Cn,[e("div",Pn,[e("div",Sn,[Mn,l(b,{modelValue:$.pf_applicable,"onUpdate:modelValue":g[9]||(g[9]=M=>$.pf_applicable=M),options:f.value,placeholder:"PF Applicable",optionLabel:"name",optionValue:"value",class:"w-100"},null,8,["modelValue","options"])]),e("div",Un,[En,l(de,{onKeypress:g[10]||(g[10]=M=>F(M)),modelValue:$.epf_no,"onUpdate:modelValue":g[11]||(g[11]=M=>$.epf_no=M),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])])]),e("div",Yn,[e("div",jn,[In,l(de,{onKeypress:g[12]||(g[12]=M=>F(M)),modelValue:$.uan_no,"onUpdate:modelValue":g[13]||(g[13]=M=>$.uan_no=M),class:"w-100",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),e("div",An,[Ln,l(b,{modelValue:$.esic_applicable,"onUpdate:modelValue":g[14]||(g[14]=M=>$.esic_applicable=M),options:f.value,optionLabel:"name",placeholder:"ESIC Applicable",class:"w-100",optionValue:"value"},null,8,["modelValue","options"])])]),e("div",Bn,[e("div",Fn,[Nn,l(de,{onKeypress:g[15]||(g[15]=M=>F(M)),modelValue:$.esic_no,"onUpdate:modelValue":g[16]||(g[16]=M=>$.esic_no=M),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),Tn]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:U},"Save")])])])]),_:1},8,["visible"]),l(me,{header:"Header",visible:w.value,"onUpdate:visible":g[18]||(g[18]=M=>w.value=M),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:k(()=>[l(ve,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:k(()=>[Rn]),_:1},8,["visible"])])):A("",!0)}}};const Gn=e("h6",{class:"text-lg font-semibold"},"Experience Information",-1),qn={class:"flex items-center gap-6"},zn={class:"flex justify-center mx-4"},Hn={class:"relative flex items-center justify-center w-1 h-full bg-green-300"},Kn={class:"absolute z-10 flex flex-col justify-center w-12 h-12 font-thin leading-none text-center bg-white border-2 border-green-300 rounded-full"},Jn={key:0,class:"w-full p-2 my-2 bg-white border rounded-lg"},Zn={class:"grid h-full grid-cols-12 gap-2 py-2"},Wn={class:"col-span-2"},Xn=e("p",{class:"text-xs font-semibold text-gray-500"},"Company Name",-1),Qn={class:"text-sm font-semibold"},ed={class:"col-span-2"},td=e("p",{class:"text-xs font-semibold text-gray-500"},"Location",-1),sd={class:"text-sm font-semibold"},od={class:"col-span-2"},ld=e("p",{class:"text-xs font-semibold text-gray-500"},"JOb Position",-1),ad={class:"text-sm font-semibold"},id={class:"col-span-2"},nd=e("p",{class:"text-xs font-semibold text-gray-500"},"Period From",-1),dd={class:"text-sm font-semibold"},rd={class:"col-span-2"},cd=e("p",{class:"text-xs font-semibold text-gray-500"},"Period To",-1),_d={class:"text-sm font-semibold"},md={class:"relative flex justify-end col-span-2"},pd=["onClick"],ud=e("i",{class:"pi pi-ellipsis-v"},null,-1),fd=[ud],bd={key:0,class:"absolute flex flex-col bg-white shadow-2xl top-4",style:{width:"160px","margin-top":"12px !important","margin-right":"20px !important"}},yd=["onClick"],gd=["onClick"],hd=e("div",null,null,-1),vd=e("h1",{class:"absolute top-6 font-semibold"},"Experience Information",-1),xd={class:"my-2"},$d=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Company Name "),e("span",{class:"text-danger"},"*")],-1),Dd={class:"my-2"},wd=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Location"),e("span",{class:"text-danger"},"*")],-1),kd={class:"my-2"},Vd=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Job Position"),e("span",{class:"text-danger"},"*")],-1),Cd={class:"my-2"},Pd=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Period From"),e("span",{class:"text-danger"},"*")],-1),Sd={class:"my-2"},Md=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Period To"),e("span",{class:"text-danger"},"*")],-1),Ud={class:"flex justify-center my-4 !mt-[200px]"},Ed=e("h1",{class:"absolute font-semibold top-4"}," Experience Information",-1),Yd={class:"my-2"},jd=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Company Name "),e("span",{class:"text-danger"},"*")],-1),Id={class:"my-2"},Ad=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Location"),e("span",{class:"text-danger"},"*")],-1),Ld={class:"my-2"},Bd=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Job Position"),e("span",{class:"text-danger"},"*")],-1),Fd={class:"my-2"},Nd=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Period From"),e("span",{class:"text-danger"},"*")],-1),Td={class:"my-2"},Rd=e("h1",{class:"text-[14px] font-semibold mb-1"},[C("Period To"),e("span",{class:"text-danger"},"*")],-1),Od={class:"flex justify-center my-4"},Gd={__name:"ExperienceDetails",setup(S){const a=ae(),s=le(),D=ie();ie();const w=v();v(!0);const j=_=>{console.log(_),_&&(w.value=_)};v("");const N=v(!1),E=v(!1),o=v(),d=W({company_name:"",location:"",job_position:"",period_from:"",period_to:""});function B(){N.value=!0,d.company_name="",d.job_position="",d.location="",d.period_from="",d.period_to=""}const G=()=>{console.log(d),s.loading_screen=!0;let c=`/add-experience-info/${a.current_user_id}`;z.post(c,{user_code:s.employeeDetails.user_code,company_name:d.company_name,experience_location:d.location,job_position:d.job_position,period_from:K(d.period_from).format("YYYY-MM-DD"),period_to:K(d.period_to).format("YYYY-MM-DD")}).then(I=>{I.data.status=="success"?D.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):I.data.status=="failure"&&(leave_data.leave_request_error_messege=I.data.message)}).catch(I=>{console.log(I)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),N.value=!1};ne(()=>{});const p=_=>{E.value=!0,E.value==!0&&(console.log(E),w.value=""),o.value=_.id,console.log(o.value),d.company_name=_.company_name,d.location=_.location,d.job_position=_.job_position,d.period_from=_.period_from,d.period_to=_.period_to},V=_=>{E.value=!1,w.value="";let I=`/update-experience-info/${a.current_user_id}`;z.post(I,{user_code:s.employeeDetails.user_code,exp_current_table_id:o.value,company_name:d.company_name,experience_location:d.location,job_position:d.job_position,period_from:K(d.period_from).format("YYYY-MM-DD"),period_to:K(d.period_to).format("YYYY-MM-DD")}).then($=>{$.data.status=="success"?(s.fetchEmployeeDetails(),D.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):$.data.status=="failure"&&(leave_data.leave_request_error_messege=$.data.message)}).catch($=>{console.log($)})},T=_=>{o.value=_.id;let I=`/delete-experience-info/${a.current_user_id}`;z.post(I,{exp_current_table_id:o.value}).then($=>{$.data.status=="success"?(s.fetchEmployeeDetails(),D.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3})):$.data.status=="failure"&&(leave_data.leave_request_error_messege=$.data.message)}).catch($=>{console.log($)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1})},r=_=>{let c=String.fromCharCode(_.keyCode);if(/^[A-Za-z_ ]+$/.test(c))return!0;_.preventDefault()};function f(_,c){const I=new Date(_),U=new Date(c)-I,R=365.25*24*60*60*1e3,h=U/R;return h?h.toFixed(1):null}return(_,c)=>{const I=P("InputText"),$=P("Calendar"),U=P("Toast"),R=P("Sidebar");return y(),x(ce,null,[e("div",{class:"flex items-center justify-between"},[Gn,e("button",{type:"",class:"float-right text-[#fff] bg-[#000] px-4 py-2 rounded-lg",onClick:B}," Add New ")]),(y(!0),x(ce,null,$e(t(s).employeeDetails.get_experience_details,h=>(y(),x("div",qn,[e("div",zn,[e("div",Hn,[e("div",Kn,[e("div",null,u(h.period_from&&h.period_to?f(h.period_from,h.period_to):0),1)])])]),t(s).employeeDetails.get_experience_details?(y(),x("div",Jn,[e("div",Zn,[e("div",Wn,[Xn,e("p",Qn,u(h.company_name),1)]),e("div",ed,[td,e("p",sd,u(h.location),1)]),e("div",od,[ld,e("p",ad,u(h.job_position),1)]),e("div",id,[nd,e("p",dd,u(t(K)(h.period_from).format("DD-MMM-YYYY")),1)]),e("div",rd,[cd,e("p",_d,u(t(K)(h.period_to).format("DD-MMM-YYYY")),1)]),e("div",md,[e("button",{class:"",type:"button",onClick:J=>j(h.id)},fd,8,pd),w.value===h.id?(y(),x("div",bd,[e("div",{class:"p-0 m-0 d-flex flex-column",onMouseleave:c[0]||(c[0]=J=>w.value="")},[e("button",{class:"h-[30px] p-2 text-black fw-semibold hover:bg-gray-200 border-bottom-1",onClick:J=>T(h)},"delete",8,yd),e("button",{onClick:J=>p(h),class:"!h-[33px] border-[1px] text-black fw-semibold hover:bg-gray-200 ho"},"View",8,gd)],32)])):A("",!0)])])])):A("",!0)]))),256)),hd,l(R,{visible:N.value,"onUpdate:visible":c[7]||(c[7]=h=>N.value=h),position:"right",class:"!w-[500px]"},{default:k(()=>[vd,e("div",xd,[$d,l(I,{type:"text",modelValue:d.company_name,"onUpdate:modelValue":c[1]||(c[1]=h=>d.company_name=h),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",Dd,[wd,l(I,{type:"text",modelValue:d.location,"onUpdate:modelValue":c[2]||(c[2]=h=>d.location=h),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",kd,[Vd,l(I,{type:"text",onKeypress:c[3]||(c[3]=h=>r(h)),modelValue:d.job_position,"onUpdate:modelValue":c[4]||(c[4]=h=>d.job_position=h),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",Cd,[Pd,l($,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:d.period_from,"onUpdate:modelValue":c[5]||(c[5]=h=>d.period_from=h)},null,8,["modelValue"])]),e("div",Sd,[Md,l($,{modelValue:d.period_to,"onUpdate:modelValue":c[6]||(c[6]=h=>d.period_to=h),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",Ud,[l(U),e("button",{class:"bg-[#000] text-[#ffff] p-2 px-4 rounded-md",severity:"success",id:"",onClick:G},"submit")])]),_:1},8,["visible"]),l(R,{visible:E.value,"onUpdate:visible":c[15]||(c[15]=h=>E.value=h),position:"right",class:"!w-[500px]"},{default:k(()=>[Ed,e("div",Yd,[jd,l(I,{type:"text",modelValue:d.company_name,"onUpdate:modelValue":c[8]||(c[8]=h=>d.company_name=h),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",Id,[Ad,l(I,{type:"text",modelValue:d.location,"onUpdate:modelValue":c[9]||(c[9]=h=>d.location=h),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",Ld,[Bd,l(I,{type:"text",onKeypress:c[10]||(c[10]=h=>r(h)),modelValue:d.job_position,"onUpdate:modelValue":c[11]||(c[11]=h=>d.job_position=h),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",Fd,[Nd,l($,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:d.period_from,"onUpdate:modelValue":c[12]||(c[12]=h=>d.period_from=h)},null,8,["modelValue"])]),e("div",Td,[Rd,l($,{modelValue:d.period_to,"onUpdate:modelValue":c[13]||(c[13]=h=>d.period_to=h),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",Od,[l(U),e("button",{type:"button",class:"bg-[#000] w-[144px] py-2 rounded-lg text-[white] success warning",severity:"success",id:"",onClick:c[14]||(c[14]=h=>V())},"submit")])]),_:1},8,["visible"])],64)}}};const qd={class:"card"},zd={class:"w-full"},Hd={key:0},Kd=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},"Approved",-1),Jd=[Kd],Zd={key:1},Wd=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-yellow-800 rounded-md bg-yellow-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),Xd=[Wd],Qd={key:2},er=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-red-800 rounded-md bg-red-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),tr=[er],sr={key:3},or={key:0},lr={key:0},ar=["onClick"],ir=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),C(" Upload file")],-1),nr=[ir],dr={key:1},rr={key:1},cr=["onClick"],_r=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),C(" Upload file")],-1),mr=[_r],pr=["disabled"],ur={class:"w-full h-full d-flex justify-content-center"},fr=["src"],br={__name:"documents",setup(S){const a=v([]);ne(()=>{D.fetch_EmployeeDocument(),console.log(" ",j.value),console.log("employeeDetails employee_documents ",s.employeeDetails.employee_documents),a.value=s});let s=le();const D=ke();ie();const w=v(!1),j=v({}),N=v();v();const E=v(),o=v(),d=new FormData,B=v(),G=r=>{w.value=!0,D.loading=!0,z.post("/view-profile-private-file",{user_code:s.user_code,document_name:r.document_name}).then(f=>{N.value=f.data.data,console.log("data sent",N.value)}).finally(()=>{D.loading=!1})};v(["Pending","Approved","Rejected"]);const p=r=>{o.value=r},V=r=>{console.log(o),r.target.files&&r.target.files[0]&&(E.value=r.target.files[0],d.append(`${o.value}`,E.value),d.append("user_code",s.employeeDetails.user_code),console.log(d),Object.keys(d)[0])};async function T(){if(B.value=="Failure")Swal.fire({title:B.value="Failure",text:"Please upload all mandatory documents",icon:"error",showCancelButton:!1}).then(r=>{});else{D.loading=!0;let r="/profile-page/saveEmployeeDocument";z.post(r,d).then(f=>{B.value=f.data.status,console.log(B.value),console.log("Photo not send"),f.data.status=="Success"?Swal.fire({title:f.data.status="Success",text:f.data.message,icon:"success",showCancelButton:!1}).then(_=>{}):f.data.status=="Failure"&&Swal.fire({title:f.data.status="Failure",text:f.data.message,icon:"error",showCancelButton:!1}).then(_=>{})}).finally(()=>{s.fetchEmployeeDetails(),D.fetch_EmployeeDocument(),D.loading=!1})}}return(r,f)=>{const _=P("Column"),c=P("Button"),I=P("DataTable"),$=P("Sidebar");return y(),x("div",qd,[e("div",zd,[l(I,{ref:"dt",value:t(s).employeeDetails.employee_documents,dataKey:"id",paginator:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],rows:5,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:k(()=>[l(_,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:k(()=>[C(u(t(D).getEmployeeDoc.document_name),1)]),_:1}),l(_,{field:"status",header:"status",style:{"min-width":"12rem"}},{body:k(U=>[U.data.status=="Approved"?(y(),x("div",Hd,Jd)):U.data.status==="Pending"?(y(),x("div",Zd,Xd)):U.data.status==="Rejected"?(y(),x("div",Qd,tr)):(y(),x("div",sr))]),_:1}),l(_,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:k(U=>[U.data.doc_id?(y(),x("div",or,[U.data.status=="Rejected"?(y(),x("div",lr,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:f[0]||(f[0]=R=>V(R))},null,32),e("button",{class:"btn btn-success",onClick:R=>p(U.data.document_name)},nr,8,ar)])):(y(),x("div",dr,[l(c,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:R=>G(U.data),style:{height:"1.5em"}},null,8,["onClick"])]))])):(y(),x("div",rr,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:f[1]||(f[1]=R=>V(R))},null,32),e("button",{class:"btn btn-success",onClick:R=>p(U.data.document_name)},mr,8,cr)]))]),_:1})]),_:1},8,["value"]),e("button",{severity:"warn",type:"submit",data:"row-6",next:"row-6",name:"submit_form",id:"msform",class:"text-center btn btn-orange processOnboardForm float-end text-light mr-5 my-5",value:"Submit",disabled:r.fileUploadValidation,onClick:T}," Submit ",8,pr),t(D).loading==!1?(y(),_e($,{key:0,position:"right",visible:w.value,"onUpdate:visible":f[2]||(f[2]=U=>w.value=U),modal:"",header:"Documents",style:{width:"40vw"}},{default:k(()=>[e("div",ur,[e("img",{src:`data:image/png;base64,${N.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,fr)])]),_:1},8,["visible"])):A("",!0)])])}}},yr={key:1,class:"w-full h-screen bg-gray-50 p-3"},gr={class:"w-full my-2"},hr={class:"col-12 col-sm-12 col-md-12 col-lg-12 col-xxl-12 col-xl-12"},vr=e("div",{class:"mb-2"},[e("div",{class:"pt-1 pb-0"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),xr={class:"tab-content",id:"pills-tabContent"},$r={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Dr={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},wr={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},kr={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Vr={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},Br={__name:"ProfilePageNew",setup(S){const a=ae(),s=De();let D=le();return ne(async()=>{s.params.user_code?(D.user_code=s.params.user_code,console.log(D.user_code),D.loading_screen=!0,await D.fetchEmployeeDetails().finally(()=>{D.loading_screen=!1})):(D.user_code=a.current_user_id,console.log(D.user_code),await D.fetchEmployeeDetails())}),(w,j)=>{const N=P("Toast");return y(),x(ce,null,[l(N),t(D).loading_screen?(y(),_e(Ve,{key:0,class:"absolute z-50 bg-white"})):A("",!0),t(D).employeeDetails.get_employee_office_details?(y(),x("div",yr,[l(Ds),e("div",gr,[e("div",hr,[vr,e("div",xr,[e("div",$r,[e("div",null,[l(ta)])]),e("div",Dr,[l(Ha)]),e("div",wr,[l(Gd)]),e("div",kr,[e("div",null,[l(On)])]),e("div",Vr,[l(br)])])])])])):A("",!0)],64)}}};export{Br as default};
