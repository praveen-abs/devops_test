import{l as fe}from"./lodash-facb8280.js";import{a as H}from"./index-362795f3.js";import{S as ae}from"./Service-30ee0026.js";import{p as le}from"./ProfilePagesStore-a8b701bc.js";import{r as re,u as ue}from"./index.esm-db749dbc.js";import{r as v,z as X,o as ne,s as te,c as j,e as y,f as $,n as o,h as t,g as e,p as W,t as u,k as _e,j as N,l as C,H as ee,i as D,F as ce,y as ie,I as xe,w as Q,v as se,A as be,m as $e,a as De}from"./app-140571a9.js";import{d as K}from"./dayjs.min-2f06af28.js";import"./moment-fbc5633a.js";import{_ as we,U as ke}from"./EmployeePayslips-fcce952c.js";import{L as Ve}from"./LoadingSpinner-1736c900.js";/* empty css                                                                       */const oe="/build/assets/edit-fdffc648.svg";const Ce={key:0,class:"bg-white border rounded-lg grid grid-cols-12 p-3 content-center"},Pe={class:"col-span-4 h-full grid grid-cols-12 gap-6"},Se={class:"col-span-4"},Ue={class:"profile-pic"},Me=["src"],Ee=e("label",{class:"-label",for:"file"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})])],-1),Ye={class:"col-span-8"},Ie={class:"flex justify-between pr-4"},je={class:"font-semibold text-md"},Be={class:"font-semibold text-xs text-gray-500"},Le={class:"py-2"},Ae=e("p",{class:"font-semibold text-xs"},"Profile completeness",-1),Fe={class:"w-11/12 my-1"},Ne=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Te={class:"col-span-5 grid grid-cols-3 gap-4 h-full"},Re={class:""},Oe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Status",-1),Ge={key:0,class:"font-semibold text-sm"},qe={key:1,class:"font-semibold text-sm"},ze={class:""},He=e("p",{class:"font-semibold text-xs text-gray-500"},"Designation",-1),Ke={class:"font-semibold text-sm"},Je={class:"flex justify-between items-center"},Ze=e("p",{class:"font-semibold text-xs text-gray-500"},"Department",-1),We={class:"font-semibold text-sm"},Xe={class:""},Qe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Code",-1),et={class:"font-semibold text-sm"},tt={class:""},st=e("p",{class:"font-semibold text-xs text-gray-500"},"Location",-1),ot={class:"font-semibold text-sm"},lt={class:"flex justify-between items-center"},at={class:""},it=e("p",{class:"font-semibold text-xs text-gray-500"},"Reporting to",-1),nt={key:0,class:"font-semibold text-sm whitespace-nowrap"},dt={class:"col-span-3 h-full"},rt={class:"flex justify-end"},ct=e("div",null,null,-1),_t={class:"mx-2"},mt={class:"p-0 m-0 bg-transparent border-0 outline-none btn"},pt={class:"confirmation-content"},ut=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),ft={class:"w-100 py-4 px-2 rounded-lg d-flex justify-content-around overflow-x-scroll ... lg:w-100"},bt={class:"card p-3 d-flex justify-items-center align-items-center mr-2 :lg:mx-0 Digital_Id_Card_",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},gt={style:{height:"45px",width:"140px"},class:"mt-2"},yt=["src"],ht={class:"card-body d-flex justify-items-center align-items-center mt-6",style:{"flex-direction":"column"}},vt=["src"],xt={key:1,class:"text-white font-semibold text-5xl"},$t={class:"card-title mt-12 mb-3 f-12 text-blue-900 subpixel-antialiased font-semibold",style:{"text-align":"center"}},Dt={key:0,class:"f-12 card-text mb-3 text-gray-600 subpixel-antialiased font-semibold"},wt={key:1,class:"f-12 card-text"},kt={key:2,class:"f-16 mb-2 text-gray-700 subpixel-antialiased font-semibold"},Vt={key:3,class:"f-12 mb-2 text-secondary-emphasis"},Ct={class:"card p-2 d-flex justify-items-center align-items-center ml-2 Digital_Id_Card_ :lg:p-2",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},Pt={class:"w-100 d-flex justify-content-center align-items-center flex-column"},St=e("h1",{class:"text-orange-500 fs-14 subpixel-antialiased font-semibold fw-600"},"EMPLOYEE DETAILS",-1),Ut={class:"row w-100 mt-3"},Mt=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[D(" Blood Group "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Et={class:"col-6 fs-6 text-blue-900"},Yt={class:"text-left pt-1"},It={class:"row w-100 mt-3"},jt=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[D(" Phone "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Bt={class:"col-6 fs-6 text-blue-900"},Lt={class:"text-left pt-1"},At={class:"row w-100 mt-3"},Ft=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900 position-relative"},[D(" Email Id "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Nt={class:"col-6 subpixel-antialiased fs-12"},Tt={class:"text-left"},Rt={class:"row w-100 mt-3"},Ot={class:"col fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},Gt=e("h1",{class:"text-orange-500 fs-12"},"Residential Address :",-1),qt={class:"ml-2"},zt={class:"text-blue-900 mt-2 subpixel-antialiased font-semibold fs-11 text-center"},Ht=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-1 w-100 mt-2 :lg:mt-2"},null,-1),Kt=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-3 w-100 mt-1"},null,-1),Jt={class:"row"},Zt={class:"col-12"},Wt={key:0,class:"text-center font-semibold text-orange-500 fs-14 subpixel-antialiased mt-2 :lg:mt-2"},Xt={class:"col-12"},Qt={class:"fs-11 text-center font-semibold text-blue-900 mt-2"},es={class:"col-12"},ts={class:"fs-12 text-center font-semibold text-blue-900 mt-2"},ss={class:"col-12"},os={class:"fs-11 text-center font-semibold lining-nums ... text-blue-900 mt-2"},ls=e("div",{class:"col-12"},null,-1),as={class:"modal-body"},is={class:"row"},ns={class:"col-md-6"},ds={class:"mb-3 form-group"},rs=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),cs={key:0,class:"text-red-400 fs-6 font-semibold"},_s={class:"col-md-6"},ms={class:"form-group"},ps=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),us={key:0,class:"text-red-400 fs-6 font-semibold"},fs={class:"col-md-6 d-flex flex-column"},bs={class:"d-flex justify-items-center flex-column"},gs=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),ys={class:"d-flex justify-items-center align-items-center"},hs=e("label",{class:"cursor-pointer text-primary bg-[black] px-2 py-2 rounded-md d-flex align-items-center fs-5",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up text-[white] mr-2 text-[18px]"}),e("h1",{class:"text-light"},"Upload")],-1),vs={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},xs={key:0,class:"text-red-400 fs-6 font-semibold"},$s={class:"col-12"},Ds={class:"text-right"},ws=e("div",{class:"bg-[#759CB2] !w-[100%] h-[60px] absolute top-0 left-0"},[e("h1",{class:"m-4 text-[#ffff] font-['poppins] font-semibold"},"Profile Details")],-1),ks={class:"py-3"},Vs=e("h4",{class:"font-semibold text-[15px]"},"Personal Information",-1),Cs={class:"leading-8"},Ps=e("h6",{class:"py-2 font-semibold text-[12px]"},[D("Name"),e("span",{class:"text-danger"},"*")],-1),Ss=e("h6",{class:"py-2 font-semibold text-[12px]"},[D("Designation"),e("span",{class:"text-danger"},"*")],-1),Us=e("h6",{class:"py-2 font-semibold text-[12px]"},[D("Location"),e("span",{class:"text-danger"},"*")],-1),Ms={class:"py-2 leading-8 font-semibold text-[15px]"},Es={class:"flex"},Ys={class:""},Is={class:"w-72 font-semibold text-[12px] leading-10"},js=e("span",{class:"text-danger"},"*",-1),Bs={class:"w-72 font-semibold text-[12px] leading-10"},Ls=e("span",{class:"text-danger"},"*",-1),As={class:"w-72 font-semibold text-[12px] leading-10"},Fs=e("span",{class:"text-danger"},"*",-1),Ns={class:"ml-10"},Ts={class:"w-72 font-semibold leading-10 text-[12px]"},Rs=e("span",{class:"text-danger"},"*",-1),Os={class:"w-72 font-semibold leading-10 text-[12px]"},Gs=e("span",{class:"text-danger"},"*",-1),qs={class:"w-72 font-semibold leading-10 text-[12px]"},zs=e("span",{class:"text-danger"},"*",-1),Hs=e("div",{class:""},[e("div",{class:"bg-[#FFE2E2] mt-24 py-3 rounded-lg ml-1 font-['poppins] font-bold"},[D("Note "),e("p",{class:"font-['poppins] ml-1"},"Changing Personal Information will be verified and approved by the Manager after you submit this form")]),e("div",{class:"justify-center font-['poppins'] py-4 ml-52 items-center"},[e("button",{class:"border-2 py-1 px-3 rounded-lg border-black"},"Cancel"),e("button",{class:"border-2 py-1 px-3 ml-10 rounded-lg bg-black text-white border-black"},"Submit")])],-1),Ks={__name:"EmployeeCard",setup(E){const a=ae(),s=v(!1),k=v(!1),S=v(!1),Y=v(),B=X({department:"",reporting_manager:""}),V=X({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),x=v([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),d=v(!1);let l=le();const z=q=>{q.target.files&&q.target.files[0]&&(l.profile=q.target.files[0]);let i=new FormData;i.append("user_id",l.user_id),i.append("file_object",l.profile);let F="/profile-pages/updateProfilePicture";H.post(F,i).then(n=>{}).finally(()=>{console.log("Photo Sent"),l.getProfilePhoto()})},f=v(),U=v(),R=v(!1),_=v(!1),g=v(!1),r=v("None"),c=q=>{console.log(q),H.post("/profile-pages/updateDepartment",{user_code:l.employeeDetails.user_code,department_id:B.department}).then(i=>{let F=fe._.find(f.value,["id",B.department]).name;console.log("Lodash [Selected Dept]: "+F),l.employeeDetails.get_employee_office_details.department_name=F,r.value="Department updated successfully !",console.log(i.data)}).catch(i=>{r.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+i)}).finally(()=>{g.value=!0,R.value=!1})},A=q=>{console.log("editReportingManager : "+q),H.post("/profile-pages/updateReportingManager",{user_code:l.employeeDetails.user_code,manager_user_code:B.reporting_manager}).then(i=>{let F=fe._.find(U.value,["user_code",B.reporting_manager]);l.employeeDetails.get_employee_office_details.l1_manager_name=F.name,l.employeeDetails.get_employee_office_details.l1_manager_code=F.user_code,r.value="Reporting Manager updated successfully !",console.log(i.data)}).catch(i=>{r.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+i)}).finally(()=>{g.value=!0,_.value=!1})},w=()=>{B.department=l.employeeDetails.get_employee_office_details.department_name,B.reporting_manager=l.employeeDetails.get_employee_office_details.l1_manager_name,console.log(B.department)};ne(()=>{a.DepartmentDetails().then(q=>{f.value=q.data,console.log("testing"+l.employeeDetails.get_employee_office_details.l1_manager_name)}),a.ManagerDetails().then(q=>{U.value=q.data}),w(),console.log()});const O=q=>{q.target.files&&q.target.files[0]&&(V.emp_upload_doc=q.target.files[0],console.log(V.emp_upload_doc))},G=te(()=>({emp_name:{required:re},emp_doc_name:{required:re},emp_upload_doc:{required:re}})),m=ue(G,V),J=()=>{m.value.$validate(),m.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),Z())},Z=()=>{k.value=!0,d.value=!1;const i=`/update-EmplpoyeeName-info/${a.current_user_id}`,F=new FormData;F.append("user_code",l.employeeDetails.user_code),F.append("name",V.emp_name),F.append("onboard_document_type",V.emp_doc_name.name),F.append("emp_doc",V.emp_upload_doc),H.post(i,F).finally(()=>{k.value=!1})},P=te(()=>{if(l.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(l.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(l.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(l.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(l.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(l.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(l.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(l.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"});return(q,i)=>{const F=j("Toast"),n=j("ProgressBar"),T=j("Dialog"),L=j("Dropdown"),h=j("Sidebar"),M=j("InputText");return y(),$(ce,null,[o(F),t(l).employeeDetails.get_employee_office_details?(y(),$("div",Ce,[e("div",Pe,[e("div",Se,[e("div",Ue,[t(l).profile?(y(),$("img",{key:0,class:"forRounded",src:`data:image/png;base64,${t(l).profile?t(l).profile.employee_profile:""}`,srcset:"",alt:"",id:"output",width:"200"},null,8,Me)):(y(),$("p",{key:1,class:W(["font-semibold text-5xl text-center flex items-center justify-center text-white forRounded",[t(l).employeeDetails.short_name_Color?t(l).employeeDetails.short_name_Color:"",t(l).employeeDetails.short_name_Color]])},u(t(l).employeeDetails.user_short_name),3)),Ee,e("input",{id:"file",type:"file",onChange:i[0]||(i[0]=b=>z(b))},null,32)])]),e("div",Ye,[e("div",Ie,[e("div",null,[e("p",je,u(t(l).employeeDetails?t(l).employeeDetails.name:"-"),1),e("p",Be,u(t(l).employeeDetails?t(l).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("img",{src:oe,class:"h-4 w-4 cursor-pointer my-auto",alt:"",onClick:i[1]||(i[1]=b=>d.value=!0)})]),e("div",Le,[Ae,e("div",Fe,[t(l).employeeDetails.profile_completeness<=39?(y(),_e(n,{key:0,value:t(l).employeeDetails.profile_completeness,class:W([t(l).employeeDetails.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):N("",!0),t(l).employeeDetails.profile_completeness>=40&&t(l).employeeDetails.profile_completeness<=59?(y(),_e(n,{key:1,class:W(["progressbar_val2",[t(l).employeeDetails.profile_completeness>=40&&t(l).employeeDetails.profile_completeness<=59]]),value:t(l).employeeDetails.profile_completeness},null,8,["class","value"])):N("",!0),t(l).employeeDetails.profile_completeness>=60?(y(),_e(n,{key:2,class:W(["progressbar_val3",[t(l).employeeDetails.profile_completeness>=60]]),value:t(l).employeeDetails.profile_completeness},null,8,["class","value"])):N("",!0)]),Ne])])]),e("div",Te,[e("div",Re,[Oe,t(l).employeeDetails.active==1?(y(),$("p",Ge,"Active ")):(y(),$("p",qe,"Not active"))]),e("div",ze,[He,e("p",Ke,u(t(l).employeeDetails.get_employee_office_details.designation?t(l).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("div",Je,[e("div",null,[Ze,e("p",We,u(t(l).employeeDetails.get_employee_office_details.department_name?t(l).employeeDetails.get_employee_office_details.department_name:"-"),1)]),t(l).employeeDetails.Current_login_user.org_role==1||t(l).employeeDetails.Current_login_user.org_role==2||t(l).employeeDetails.Current_login_user.org_role==3?(y(),$("img",{key:0,src:oe,class:"h-4 w-4 cursor-pointer my-auto",onClick:i[2]||(i[2]=b=>R.value=!0),alt:""})):N("",!0)]),e("div",Xe,[Qe,e("p",et,u(t(l).employeeDetails?t(l).employeeDetails.user_code:"-"),1)]),e("div",tt,[st,e("p",ot,u(t(l).employeeDetails.get_employee_office_details.work_location?t(l).employeeDetails.get_employee_office_details.work_location:"-"),1)]),e("div",lt,[e("div",at,[it,t(l).employeeDetails?(y(),$("p",nt,u(`${t(l).employeeDetails.get_employee_office_details.l1_manager_name}(${t(l).employeeDetails.get_employee_office_details.l1_manager_code})`),1)):N("",!0)]),t(l).employeeDetails.Current_login_user.org_role==1||t(l).employeeDetails.Current_login_user.org_role==2||t(l).employeeDetails.Current_login_user.org_role==3?(y(),$("img",{key:0,src:oe,onClick:i[3]||(i[3]=b=>_.value=!0),class:"h-4 w-4 cursor-pointer my-auto",alt:""})):N("",!0)])]),e("div",dt,[e("div",rt,[ct,e("div",_t,[e("button",mt,[e("i",{class:"pi pi-pencil rounded-md mx-4",onClick:i[4]||(i[4]=b=>s.value=!0)}),e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true",onClick:i[5]||(i[5]=b=>S.value=!0)})])])])])])):N("",!0),o(T,{header:"Status",visible:g.value,"onUpdate:visible":i[6]||(i[6]=b=>g.value=b),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"}},{default:C(()=>[e("div",pt,[ut,e("span",null,u(r.value),1)])]),_:1},8,["visible"]),o(T,{visible:R.value,"onUpdate:visible":i[9]||(i[9]=b=>R.value=b),header:"Edit Department",style:{width:"30vw"}},{footer:C(()=>[e("div",null,[e("button",{type:"button",class:"btn btn-outline-orange",onClick:i[8]||(i[8]=b=>R.value=!1)}," cancel "),e("button",{type:"button",class:"btn btn-orange",onClick:c}," Save ")])]),default:C(()=>[o(L,{options:f.value,optionLabel:"name",modelValue:B.department,"onUpdate:modelValue":i[7]||(i[7]=b=>B.department=b),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),o(T,{visible:_.value,"onUpdate:visible":i[12]||(i[12]=b=>_.value=b),modal:"",header:"Edit Reporting Manager",style:{width:"30vw"}},{footer:C(()=>[e("div",null,[e("button",{type:"button",class:"btn btn-outline-orange",onClick:i[11]||(i[11]=b=>_.value=!1)}," cancel "),e("button",{type:"button",class:"btn btn-orange",onClick:A}," Save ")])]),default:C(()=>[o(L,{optionLabel:"name",options:U.value,modelValue:B.reporting_manager,"onUpdate:modelValue":i[10]||(i[10]=b=>B.reporting_manager=b),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),o(h,{position:"right",visible:S.value,"onUpdate:visible":i[13]||(i[13]=b=>S.value=b),modal:"",header:"",style:ee([{width:"45vw !important"},{"@media (min-width":"1024px){background-image:particular_ad_small.png"}])},{header:C(()=>[e("div",null,[e("h5",{class:"absolute left-0 mx-4 font-semibold fs-5",style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:C(()=>[e("div",ft,[e("div",bt,[e("div",gt,[e("img",{src:`${t(l).employeeDetails.client_logo}`,alt:"",style:{"object-fit":"cover"}},null,8,yt)]),e("div",ht,[e("div",{class:W(["mx-auto rounded-circle img-xl userActive-status profile-img d-flex justify-content-center align-items-center",[t(l).profile?"":t(l).employeeDetails.short_name_Color,t(l).employeeDetails.short_name_Color]])},[t(l).profile?(y(),$("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border object-cover",src:`data:image/png;base64,${t(l).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"80px",height:"80px"}},null,8,vt)):N("",!0),t(l).profile?N("",!0):(y(),$("h1",xt,u(t(l).employeeDetails.user_short_name),1))],2),e("h1",$t,u(t(l).employeeDetails.name),1),t(l).employeeDetails.get_employee_office_details.department_id?(y(),$("h5",Dt,u(t(l).employeeDetails.get_employee_office_details.department_name),1)):(y(),$("h1",wt,"-")),t(l).employeeDetails.user_code?(y(),$("h5",kt,u(t(l).employeeDetails.user_code),1)):(y(),$("p",Vt,"-"))])]),e("div",Ct,[e("div",Pt,[St,e("div",Ut,[Mt,e("div",Et,[e("h1",Yt,u(t(P)),1)])]),e("div",It,[jt,e("div",Bt,[e("h1",Lt,u(t(l).employeeDetails.get_employee_details.mobile_number),1)])]),e("div",At,[Ft,e("div",Nt,[e("h1",Tt,u(t(l).employeeDetails.get_employee_office_details.officical_mail),1)])]),e("div",Rt,[e("div",Ot,[Gt,e("div",qt,[e("p",zt,u(t(l).employeeDetails.get_employee_details.current_address_line_1),1)])])]),Ht,Kt,e("div",Jt,[e("div",Zt,[t(l).employeeDetails.client_details.client_name?(y(),$("h1",Wt,u(t(l).employeeDetails.client_details.client_name),1)):N("",!0)]),e("div",Xt,[e("h1",Qt,u(t(l).employeeDetails.client_details.address),1)]),e("div",es,[e("h1",ts,u(t(l).employeeDetails.client_details.authorised_person_contact_email),1)]),e("div",ss,[e("h1",os,u(t(l).employeeDetails.client_details.authorised_person_contact_number),1)]),ls])])])])]),_:1},8,["visible"]),o(T,{visible:d.value,"onUpdate:visible":i[18]||(i[18]=b=>d.value=b),modal:"",header:" ",style:{width:"50vw"}},{header:C(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:C(()=>[e("div",null,[e("div",as,[e("div",is,[e("div",ns,[e("div",ds,[rs,o(M,{type:"text",modelValue:V.emp_name,"onUpdate:modelValue":i[14]||(i[14]=b=>V.emp_name=b),style:{"text-transform":"uppercase"},class:W(["form-controls pl-2",[t(m).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),t(m).emp_name.$error?(y(),$("span",cs,u(t(m).emp_name.required.$message.replace("Value","Employee Name")),1)):N("",!0)])]),e("div",_s,[e("div",ms,[ps,o(L,{modelValue:V.emp_doc_name,"onUpdate:modelValue":i[15]||(i[15]=b=>V.emp_doc_name=b),options:x.value,optionLabel:"name",placeholder:"Select a document ",class:W(["form-controls pl-2 w-full h-12",[t(m).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),t(m).emp_doc_name.$error?(y(),$("span",us,u(t(m).emp_doc_name.required.$message.replace("Value","Documents")),1)):N("",!0)])]),e("div",fs,[e("div",bs,[gs,e("div",ys,[o(F),hs,V.emp_upload_doc?(y(),$("div",vs,u(V.emp_upload_doc.name),1)):N("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:i[16]||(i[16]=b=>O(b)),class:W([t(m).emp_upload_doc.$error?"p-invalid":""])},null,34)]),t(m).emp_upload_doc.$error?(y(),$("span",xs,u(t(m).emp_upload_doc.required.$message.replace("Value","document")),1)):N("",!0)])])]),e("div",$s,[e("div",Ds,[e("button",{type:"button",class:"btn btn-outline-orange",onClick:i[17]||(i[17]=b=>d.value=!1)}," cancel "),e("button",{id:"btn btn-orange mx-2",class:"btn btn-orange submit-btn",onClick:J},"Submit")])])])])]),_:1},8,["visible"]),o(h,{visible:s.value,"onUpdate:visible":i[28]||(i[28]=b=>s.value=b),position:"right",class:"!w-[500px] !h-[650px]",style:{width:"40vw !important"}},{header:C(()=>[ws]),default:C(()=>[e("div",ks,[Vs,e("div",Cs,[Ps,o(M,{modelValue:Y.value,"onUpdate:modelValue":i[19]||(i[19]=b=>Y.value=b),class:"bg-gray-200 h-10",placeholder:"Name"},null,8,["modelValue"]),Ss,o(M,{modelValue:Y.value,"onUpdate:modelValue":i[20]||(i[20]=b=>Y.value=b),class:"bg-gray-200 h-10",placeholder:"Designation"},null,8,["modelValue"]),Us,o(M,{modelValue:Y.value,"onUpdate:modelValue":i[21]||(i[21]=b=>Y.value=b),class:"bg-gray-200 h-10",placeholder:"Location"},null,8,["modelValue"])]),e("div",Ms,[D("General Information "),e("div",Es,[e("div",Ys,[e("div",Is,[D("DOB"),js,o(M,{modelValue:Y.value,"onUpdate:modelValue":i[22]||(i[22]=b=>Y.value=b),class:"bg-gray-200 h-9",placeholder:"DOB"},null,8,["modelValue"])]),e("div",Bs,[D("Gender"),Ls,o(M,{modelValue:Y.value,"onUpdate:modelValue":i[23]||(i[23]=b=>Y.value=b),class:"bg-gray-200 h-10",placeholder:"  Gender"},null,8,["modelValue"])]),e("div",As,[D("Blood Group"),Fs,o(M,{modelValue:Y.value,"onUpdate:modelValue":i[24]||(i[24]=b=>Y.value=b),class:"bg-gray-200 h-10",placeholder:"Blood Group"},null,8,["modelValue"])])]),e("div",Ns,[e("div",Ts,[D("DOJ"),Rs,o(M,{modelValue:Y.value,"onUpdate:modelValue":i[25]||(i[25]=b=>Y.value=b),class:"bg-gray-200 h-10",placeholder:"DOJ"},null,8,["modelValue"])]),e("div",Os,[D("Martial Status"),Gs,o(M,{modelValue:Y.value,"onUpdate:modelValue":i[26]||(i[26]=b=>Y.value=b),class:"bg-gray-200 h-10",placeholder:"Martial Status"},null,8,["modelValue"])]),e("div",qs,[D("Physically Challenged"),zs,o(M,{modelValue:Y.value,"onUpdate:modelValue":i[27]||(i[27]=b=>Y.value=b),class:"bg-gray-200 h-10",placeholder:"Physically Challenged"},null,8,["modelValue"])])])])])]),Hs]),_:1},8,["visible"])],64)}}};var ge;const Js=typeof window<"u";Js&&((ge=window==null?void 0:window.navigator)!=null&&ge.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ye(E){return typeof E=="function"?E():t(E)}const Zs=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ws=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Xs=(E,a,s,k)=>{let S=E<12?"AM":"PM";return k&&(S=S.split("").reduce((Y,B)=>Y+=`${B}.`,"")),s?S.toLowerCase():S},Qs=(E,a,s={})=>{var k;const S=E.getFullYear(),Y=E.getMonth(),B=E.getDate(),V=E.getHours(),x=E.getMinutes(),d=E.getSeconds(),l=E.getMilliseconds(),z=E.getDay(),f=(k=s.customMeridiem)!=null?k:Xs,U={YY:()=>String(S).slice(-2),YYYY:()=>S,M:()=>Y+1,MM:()=>`${Y+1}`.padStart(2,"0"),MMM:()=>E.toLocaleDateString(s.locales,{month:"short"}),MMMM:()=>E.toLocaleDateString(s.locales,{month:"long"}),D:()=>String(B),DD:()=>`${B}`.padStart(2,"0"),H:()=>String(V),HH:()=>`${V}`.padStart(2,"0"),h:()=>`${V%12||12}`.padStart(1,"0"),hh:()=>`${V%12||12}`.padStart(2,"0"),m:()=>String(x),mm:()=>`${x}`.padStart(2,"0"),s:()=>String(d),ss:()=>`${d}`.padStart(2,"0"),SSS:()=>`${l}`.padStart(3,"0"),d:()=>z,dd:()=>E.toLocaleDateString(s.locales,{weekday:"narrow"}),ddd:()=>E.toLocaleDateString(s.locales,{weekday:"short"}),dddd:()=>E.toLocaleDateString(s.locales,{weekday:"long"}),A:()=>f(V,x),AA:()=>f(V,x,!1,!0),a:()=>f(V,x,!0),aa:()=>f(V,x,!0,!0)};return a.replace(Ws,(R,_)=>_||U[R]())},eo=E=>{if(E===null)return new Date(NaN);if(E===void 0)return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){const a=E.match(Zs);if(a){const s=a[2]-1||0,k=(a[7]||"0").substring(0,3);return new Date(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,k)}}return new Date(E)};function pe(E,a="HH:mm:ss",s={}){return te(()=>Qs(eo(ye(E)),ye(a),s))}const to={key:0,class:"w-full"},so={class:"w-full bg-white rounded-lg p-2 border"},oo={class:"flex justify-around"},lo=e("p",{class:"font-semibold text-sm"},"General Information",-1),ao={class:"flex justify-end"},io={class:"grid grid-cols-12 gap-2 h-full py-2"},no={class:"col-span-2"},ro=e("p",{class:"font-semibold text-xs text-gray-500"},"Date of Birth",-1),co={class:"font-semibold text-sm"},_o={class:"col-span-2"},mo=e("p",{class:"font-semibold text-xs text-gray-500"},"Gender",-1),po={class:"font-semibold text-sm"},uo={class:"col-span-2"},fo=e("p",{class:"font-semibold text-xs text-gray-500"},"Date Of Joining (DOJ)",-1),bo={class:"font-semibold text-sm"},go={class:"col-span-2"},yo=e("p",{class:"font-semibold text-xs text-gray-500"},"Marital Status",-1),ho={class:"font-semibold text-sm"},vo={class:"col-span-2"},xo=e("p",{class:"font-semibold text-xs text-gray-500"},"Blood Group",-1),$o={class:"font-semibold text-sm"},Do={class:"col-span-2"},wo=e("p",{class:"font-semibold text-xs text-gray-500"},"Physically Handicapped",-1),ko={class:"font-semibold text-sm"},Vo={class:"w-full bg-white rounded-lg p-2 border my-3"},Co={class:"flex justify-around"},Po=e("p",{class:"font-semibold text-sm"},"Contact Information",-1),So={class:"flex justify-end"},Uo={class:"grid grid-cols-12 gap-4 h-full py-2"},Mo={class:"col-span-3"},Eo=e("p",{class:"font-semibold text-xs text-gray-500"},"Personal Email",-1),Yo={class:"font-semibold text-sm"},Io={class:"col-span-3"},jo=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Email",-1),Bo={class:"font-semibold text-sm"},Lo={class:"col-span-3"},Ao=e("p",{class:"font-semibold text-xs text-gray-500"},"Mobile Number",-1),Fo={class:"font-semibold text-sm"},No={class:"col-span-3"},To=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Mobile Number",-1),Ro={class:"font-semibold text-sm"},Oo={class:"w-full bg-white rounded-lg p-2 border"},Go={class:"flex justify-around"},qo=e("p",{class:"font-semibold text-sm"},"Address",-1),zo={class:"flex justify-end"},Ho={class:"grid grid-cols-12 gap-4 h-full py-2"},Ko={class:"col-span-6"},Jo=e("p",{class:"font-semibold text-xs text-gray-500"},"Current Address",-1),Zo={class:"font-semibold text-sm"},Wo={class:"col-span-6"},Xo=e("p",{class:"font-semibold text-xs text-gray-500"},"Permanent Address ",-1),Qo={class:"font-semibold text-sm"},el={class:"grid grid-cols-2"},tl={class:""},sl={class:"mb-1 form-group"},ol=e("label",{class:"ml-[5px]"},[D("Birth Date"),e("span",{class:"text-danger"},"*")],-1),ll={class:"cal-icon"},al={class:""},il={class:"mb-1 form-group"},nl=e("label",null,[D("Gender"),e("span",{class:"text-danger"},"*")],-1),dl={class:""},rl={class:"mb-1 form-group"},cl=e("label",{style:{marginLeft:"10px",marginRight:"10px"}},[D("Marital status "),e("span",{class:"text-danger"},"*")],-1),_l={class:""},ml={class:"mb-2 form-group"},pl=e("label",null,[D("Blood Group"),e("span",{class:"text-danger"},"*")],-1),ul={class:"cal-icon"},fl={class:""},bl={class:"form-group w-full",style:{marginLeft:"10px"}},gl=e("label",{class:"my-1"},"Physically Handicapped",-1),yl=e("div",{class:""},[e("div",{class:"mb-3 form-group"})],-1),hl={class:"text-right col-12"},vl={class:"modal-body"},xl={class:"row"},$l={class:"col-md-6"},Dl={class:"mb-3 form-group"},wl=e("label",null,"Personal Email",-1),kl={class:"col-md-6"},Vl={class:"mb-3 form-group"},Cl=e("label",null," Office Email",-1),Pl={class:"col-md-6"},Sl={class:"mb-3 form-group"},Ul=e("label",null,"Mobile Number",-1),Ml={class:"col-md-6"},El={class:"mb-3 form-group"},Yl=e("label",null,"Official Mobile Number",-1),Il={key:0,class:""},jl=e("div",{class:"bg-[#759CB2] !w-[100%] h-[60px] absolute top-0 left-0"},[e("h1",{class:"m-4 text-[#ffff] font-['poppins] font-semibold"},"General Information")],-1),Bl={class:"p-2"},Ll={class:"my-2"},Al=e("label",{class:"mb-1 text-[12px]"},[D("Birth Date"),e("span",{class:"text-danger"},"*")],-1),Fl={class:"my-2"},Nl=e("label",{class:"text-[12px]"},[D("Gender"),e("span",{class:"text-danger"},"*")],-1),Tl={class:"my-2"},Rl=e("label",{class:"text-[12px]"},[D("Marital status "),e("span",{class:"text-danger"},"*")],-1),Ol={class:"my-2"},Gl=e("label",{class:"text-[12px]"},[D("Blood Group"),e("span",{class:"text-danger"},"*")],-1),ql={class:"my-2"},zl=e("label",{class:"my-1 text-[12px]"},"Physically Handicapped",-1),Hl={class:"flex justify-center"},Kl={key:1},Jl=e("div",{class:"bg-[#759CB2] !w-[100%] h-[60px] absolute top-0 left-0"},[e("h1",{class:"m-4 text-[#ffff] font-['poppins] font-semibold"},"Contact Information")],-1),Zl={class:"p-2"},Wl={class:"my-2"},Xl=e("label",{class:"mb-1 text-[12px]"},"Personal Email",-1),Ql={class:"my-2"},ea=e("label",{class:"mb-1 text-[12px]"},"Office Email",-1),ta={class:"my-1"},sa=e("label",{class:"mb-2 text-[12px]"},"Mobile Number",-1),oa={class:"my-2"},la=e("label",{class:"mb-1 text-[12px]"},"Official Mobile Number",-1),aa={key:2,class:""},ia=e("div",{class:"bg-[#759CB2] !w-[100%] h-[60px] absolute top-0 left-0"},[e("h1",{class:"m-4 text-[#ffff] font-['poppins] font-semibold"},"Address")],-1),na={class:"col-md-12"},da={class:"mb-3 form-group"},ra=e("label",{class:"text-[12px]"},"Current Address",-1),ca={class:"mb-3 form-group"},_a=e("label",{class:"text-[12px]"},"Permanent Address ",-1),ma={class:"mb-3 form-group"},pa={class:"d-flex justify-content-center align-items-center"},ua=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),fa={class:"modal-body"},ba={class:"col-md-12"},ga={class:"mb-3 form-group"},ya=e("label",null,"Current Address",-1),ha={class:"mb-3 form-group"},va=e("label",null,"Permanent Address ",-1),xa={class:"col-12"},$a={class:"d-flex justify-content-between align-items-center"},Da={class:"d-flex justify-content-center align-items-center"},wa=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),ka={class:""},Va={__name:"EmployeeDetails",setup(E){const a=ae(),s=le(),k=v(!1),S=ie(),Y=ie(),B=v(!1),V=v(!1),x=v(!1),d=v(),l=v(!1);function z(F,n){l.value=F,d.value=n,n=="General Information"?m():n=="Contact Information"?Z():n=="Address Information"&&q()}const f=X({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),U=v([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),R=v(),_=X({email:"",official_email:"",mobile_number:"",official_mobile_number:""}),g=v(),r=X({current_address:"",Permanent_Address:""}),c=v(!1);function A(){c.value==1?r.Permanent_Address=r.current_address:c.value=!1}te(()=>s.employeeDetails.get_employee_details.gender=="male"?"Male":s.employeeDetails.get_employee_details.gender=="female"?"Female":s.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),te(()=>s.employeeDetails.get_employee_details.marital_status),te(()=>{if(s.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(s.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(s.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(s.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(s.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(s.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(s.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(s.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),te(()=>{if(s.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(s.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"});const w=v([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),O=v(),G=v();xe(),ne(()=>{s.fetchEmployeeDetails(),a.getBloodGroups().then(F=>{console.log(F.data),O.value=F.data}),a.getMaritalStatus().then(F=>{console.log(F),G.value=F.data})});function m(){console.log("Opening General Info Dialog"),f.dob=s.employeeDetails.get_employee_details.dob,f.doj=s.employeeDetails.get_employee_details.doj,f.marital_status_id=parseInt(s.employeeDetails.get_employee_details.marital_status_id),f.gender=s.employeeDetails.get_employee_details.gender,f.blood_group_id=parseInt(s.employeeDetails.get_employee_details.blood_group_id),f.physically_challenged=s.employeeDetails.get_employee_details.physically_challenged}function J(){console.log(f),k.value=!0;let n=`/profile-pages-update-generalinfo/${a.current_user_id}`;H.post(n,{user_code:s.employeeDetails.user_code,dob:K(f.dob).format("YYYY-MM-DD"),gender:f.gender,marital_status_id:f.marital_status_id,doj:f.doj,blood_group_id:f.blood_group_id,physically_challenged:f.physically_challenged}).then(T=>{T.data.status=="success"?(s.employeeDetails.get_employee_details.dob=pe(f.dob,"YYYY-MM-DD"),s.employeeDetails.gender=f.gender,s.employeeDetails.marital_status_id=f.marital_status_id,s.employeeDetails.get_employee_details.doj=f.doj,s.employeeDetails.blood_group_id=f.blood_group_id,s.employeeDetails.physically_challenged=f.physically_challenged):T.data.status=="failure"&&(leave_data.leave_request_error_messege=T.data.message)}).catch(T=>{console.log(T)}).finally(()=>{s.fetchEmployeeDetails(a.current_user_id),k.value=!1,l.value=!1,S.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})})}function Z(){console.log("Opening General Info Dialog : "),_.email=s.employeeDetails.email,_.official_email=s.employeeDetails.get_employee_office_details.officical_mail,_.mobile_number=parseInt(s.employeeDetails.get_employee_details.mobile_number),s.employeeDetails.get_employee_office_details.official_mobile?_.official_mobile_number=parseInt(s.employeeDetails.get_employee_office_details.official_mobile):_.official_mobile_number=0}function P(){let n=`/profile-pages-update-contactinfo/${a.current_user_id}`;k.value=!0,H.post(n,{user_code:s.employeeDetails.user_code,email:_.email,officical_mail:_.official_email,mobile_number:_.mobile_number,official_mobile_number:_.official_mobile_number}).then(T=>{T.data.status=="success"?(S.add({severity:"success",summary:"Updated",detail:"Contact information updated",life:3e3}),s.employeeDetails.email=_.email,s.employeeDetails.get_employee_office_details.officical_mail=_.official_email,s.employeeDetails.get_employee_details.mobile_number=_.mobile_number,s.employeeDetails.get_employee_office_details.official_mobile=_.official_mobile_number):T.data.status=="failure"&&(R.leave_request_error_messege=T.data.message)}).catch(T=>{console.log(T)}).finally(()=>{s.fetchEmployeeDetails(),k.value=!1,l.value=!1})}function q(){console.log("Opening General Info Dialog"),r.current_address=s.employeeDetails.get_employee_details.current_address_line_1,r.Permanent_Address=s.employeeDetails.get_employee_details.permanent_address_line_1}const i=()=>{if(k.value=!0,r.current_address==" "||r.Permanent_Address==" ")Y.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3});else{let n=`/profile-pages-update-address_info/${a.current_user_id}`;H.post(n,{user_code:s.employeeDetails.user_code,current_address_line_1:r.current_address,permanent_address_line_1:r.Permanent_Address}).then(T=>{data_checking.value=!1,T.data.status=="success"?(S.add({severity:"success",summary:"Updated",detail:"Address information updated",life:3e3}),s.employeeDetails.current_address_line_1=r.current_address,s.employeeDetails.get_employee_office_details.permanent_address_line_1=r.Permanent_Address):T.data.status=="failure"&&(g.leave_request_error_messege=T.data.message)}).catch(T=>{console.log(T)}).finally(()=>{s.fetchEmployeeDetails(),k.value=!1,l.value=!1})}};return(F,n)=>{const T=j("Calendar"),L=j("Dropdown"),h=j("Dialog"),M=j("InputMask"),b=j("Sidebar"),de=j("Toast");return y(),$(ce,null,[t(s).employeeDetails.get_employee_details?(y(),$("div",to,[e("div",so,[e("div",oo,[lo,e("div",ao,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:n[0]||(n[0]=p=>z(!0,"General Information"))})])]),e("div",io,[e("div",no,[ro,e("p",co,u(t(K)(t(s).employeeDetails.get_employee_details.dob).format("DD-MMM-YYYY")),1)]),e("div",_o,[mo,e("p",po,u(t(a).capitalizeFLetter(t(s).employeeDetails.get_employee_details.gender)),1)]),e("div",uo,[fo,e("p",bo,u(t(K)(t(s).employeeDetails.get_employee_details.doj).format("DD-MMM-YYYY")),1)]),e("div",go,[yo,e("p",ho,u(t(s).employeeDetails.get_employee_details.marital_status),1)]),e("div",vo,[xo,e("p",$o,u(t(s).employeeDetails.get_employee_details.blood_group_name),1)]),e("div",Do,[wo,e("p",ko,u(t(a).capitalizeFLetter(t(s).employeeDetails.get_employee_details.physically_challenged)),1)])])]),e("div",Vo,[e("div",Co,[Po,e("div",So,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:n[1]||(n[1]=p=>z(!0,"Contact Information"))})])]),e("div",Uo,[e("div",Mo,[Eo,e("p",Yo,u(t(s).employeeDetails.email?t(s).employeeDetails.email:"-"),1)]),e("div",Io,[jo,e("p",Bo,u(t(s).employeeDetails.get_employee_office_details.officical_mail?t(s).employeeDetails.get_employee_office_details.officical_mail:"-"),1)]),e("div",Lo,[Ao,e("p",Fo,u(t(s).employeeDetails.get_employee_details.mobile_number?t(s).employeeDetails.get_employee_details.mobile_number:"-"),1)]),e("div",No,[To,e("p",Ro,u(t(s).employeeDetails.get_employee_office_details.official_mobile?t(s).employeeDetails.get_employee_office_details.official_mobile:"-"),1)])])]),e("div",Oo,[e("div",Go,[qo,e("div",zo,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:n[2]||(n[2]=p=>z(!0,"Address Information"))})])]),e("div",Ho,[e("div",Ko,[Jo,e("p",Zo,u(t(s).employeeDetails.get_employee_details.current_address_line_1?t(s).employeeDetails.get_employee_details.current_address_line_1:"-"),1)]),e("div",Wo,[Xo,e("p",Qo,u(t(s).employeeDetails.get_employee_details.permanent_address_line_1?t(s).employeeDetails.get_employee_details.permanent_address_line_1:"-"),1)])])])])):N("",!0),o(h,{visible:B.value,"onUpdate:visible":n[9]||(n[9]=p=>B.value=p),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:C(()=>[e("div",el,[e("div",tl,[e("div",sl,[ol,e("div",ll,[o(T,{class:"mb-3 form-selects w-[94%]",modelValue:f.dob,"onUpdate:modelValue":n[3]||(n[3]=p=>f.dob=p),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",al,[e("div",il,[nl,o(L,{modelValue:f.gender,"onUpdate:modelValue":n[4]||(n[4]=p=>f.gender=p),options:U.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),e("div",dl,[e("div",rl,[cl,o(L,{modelValue:f.marital_status_id,"onUpdate:modelValue":n[5]||(n[5]=p=>f.marital_status_id=p),options:G.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects w-[94%]",style:{marginLeft:"10px",marginRight:"10px"}},null,8,["modelValue","options"])])]),e("div",_l,[e("div",ml,[pl,e("div",ul,[o(L,{modelValue:f.blood_group_id,"onUpdate:modelValue":n[6]||(n[6]=p=>f.blood_group_id=p),options:O.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])])]),e("div",fl,[e("div",bl,[gl,o(L,{modelValue:f.physically_challenged,"onUpdate:modelValue":n[7]||(n[7]=p=>f.physically_challenged=p),options:w.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),yl]),e("div",hl,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:n[8]||(n[8]=p=>J())},"Save")])]),_:1},8,["visible"]),o(h,{visible:V.value,"onUpdate:visible":n[14]||(n[14]=p=>V.value=p),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:C(()=>[e("div",vl,[e("div",xl,[e("div",$l,[e("div",Dl,[wl,Q(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":n[10]||(n[10]=p=>_.email=p)},null,512),[[se,_.email]])])]),e("div",kl,[e("div",Vl,[Cl,Q(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":n[11]||(n[11]=p=>_.official_email=p)},null,512),[[se,_.official_email]])])]),e("div",Pl,[e("div",Sl,[Ul,o(M,{id:"basic",class:"form-control h-10",modelValue:_.mobile_number,"onUpdate:modelValue":n[12]||(n[12]=p=>_.mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",Ml,[e("div",El,[Yl,o(M,{id:"basic",class:"form-control h-10",modelValue:_.official_mobile_number,"onUpdate:modelValue":n[13]||(n[13]=p=>_.official_mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:P},"Save")])])])])]),_:1},8,["visible"]),o(b,{visible:l.value,"onUpdate:visible":n[28]||(n[28]=p=>l.value=p),position:"right",class:"w-[500px]"},{default:C(()=>[d.value=="General Information"?(y(),$("div",Il,[jl,e("div",Bl,[e("div",Ll,[Al,o(T,{class:"relative right-2 w-[100%] h-10",modelValue:f.dob,"onUpdate:modelValue":n[15]||(n[15]=p=>f.dob=p),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])]),e("div",Fl,[Nl,o(L,{modelValue:f.gender,"onUpdate:modelValue":n[16]||(n[16]=p=>f.gender=p),options:U.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",Tl,[Rl,o(L,{modelValue:f.marital_status_id,"onUpdate:modelValue":n[17]||(n[17]=p=>f.marital_status_id=p),options:G.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",Ol,[Gl,o(L,{modelValue:f.blood_group_id,"onUpdate:modelValue":n[18]||(n[18]=p=>f.blood_group_id=p),options:O.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",ql,[zl,o(L,{modelValue:f.physically_challenged,"onUpdate:modelValue":n[19]||(n[19]=p=>f.physically_challenged=p),options:w.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",Hl,[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[180px]",onClick:n[20]||(n[20]=p=>J())},"Save")])])])):N("",!0),d.value=="Contact Information"?(y(),$("div",Kl,[Jl,e("div",Zl,[e("div",Wl,[Xl,Q(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":n[21]||(n[21]=p=>_.email=p)},null,512),[[se,_.email]])]),e("div",Ql,[ea,Q(e("input",{type:"email",class:"h-10 form-control",name:"officical_mail","onUpdate:modelValue":n[22]||(n[22]=p=>_.official_email=p)},null,512),[[se,_.official_email]])]),e("div",ta,[sa,o(M,{id:"basic",class:"form-control h-10",modelValue:_.mobile_number,"onUpdate:modelValue":n[23]||(n[23]=p=>_.mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",oa,[la,o(M,{id:"basic",class:"form-control h-10",modelValue:_.official_mobile_number,"onUpdate:modelValue":n[24]||(n[24]=p=>_.official_mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[200px]",onClick:P},"Save")])])])):N("",!0),d.value=="Address Information"?(y(),$("div",aa,[ia,e("div",na,[e("div",da,[ra,Q(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[25]||(n[25]=p=>r.current_address=p)},null,512),[[se,r.current_address]])]),e("div",ca,[_a,Q(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[26]||(n[26]=p=>r.Permanent_Address=p)},null,512),[[se,r.Permanent_Address]])]),e("div",ma,[e("div",pa,[Q(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":n[27]||(n[27]=p=>c.value=p),style:{width:"20px",height:"20px"},onChange:A,value:1},null,544),[[be,c.value]]),ua])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[200px]",onClick:i},"Save")])])])):N("",!0)]),_:1},8,["visible"]),o(h,{visible:x.value,"onUpdate:visible":n[32]||(n[32]=p=>x.value=p),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:C(()=>[e("div",fa,[e("div",ba,[e("div",ga,[ya,Q(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[29]||(n[29]=p=>r.current_address=p)},null,512),[[se,r.current_address]])]),e("div",ha,[va,Q(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[30]||(n[30]=p=>r.Permanent_Address=p)},null,512),[[se,r.Permanent_Address]])])]),e("div",xa,[e("div",$a,[e("div",Da,[Q(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":n[31]||(n[31]=p=>c.value=p),style:{width:"20px",height:"20px"},onChange:A,value:1},null,544),[[be,c.value]]),wa]),e("div",ka,[o(de),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:i,severity:"warn"},"Save")])])])])]),_:1},8,["visible"])],64)}}};const Ca={class:"mb-2 card"},Pa={class:"card-body"},Sa={class:"font-semibold text-lg"},Ua={class:"grid grid-cols-2"},Ma={class:"mr-[10px] ml-[8px]"},Ea=e("span",null,[D("Name "),e("span",{class:"text-danger"},"*")],-1),Ya={class:""},Ia=e("span",null,[D("Relationship"),e("span",{class:"text-danger"},"*")],-1),ja={class:"grid grid-cols-2"},Ba={class:"mr-2"},La=e("span",null,[D("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Aa={class:"ml-1"},Fa=e("span",null,[D("phone"),e("span",{class:"text-danger"},"*")],-1),Na={class:"my-6 table-responsive"},Ta={key:0},Ra={key:1},Oa={class:"relative flex justify-center"},Ga=e("i",{class:"pi pi-ellipsis-v"},null,-1),qa=[Ga],za={class:"flex flex-col bg-white shadow-2xl w-40 py-1 rounded-lg"},Ha={class:"p-0 m-0 d-flex flex-column"},Ka=["onClick"],Ja=["onClick"],Za=e("div",{class:"bg-[#759CB2] !w-[100%] h-[60px] absolute top-0 left-0"},[e("h1",{class:"m-4 text-[#ffff] font-['poppins] font-semibold"},"Family Information")],-1),Wa={class:"p-2"},Xa={class:"my-2"},Qa=e("span",null,[D("Name "),e("span",{class:"text-danger"},"*")],-1),ei={class:"my-2"},ti=e("span",null,[D("Relationship"),e("span",{class:"text-danger"},"*")],-1),si={class:"my-2"},oi=e("span",null,[D("Date of birth "),e("span",{class:"text-danger"},"*")],-1),li={class:"my-2"},ai=e("span",null,[D("phone"),e("span",{class:"text-danger"},"*")],-1),ii={class:"flex justify-center my-4"},ni=e("h5",{class:"absolute top-6 font-semibold"},"Family Information",-1),di={class:"p-2"},ri={class:"my-2"},ci=e("span",null,[D("Name "),e("span",{class:"text-danger"},"*")],-1),_i={class:"my-2"},mi=e("span",null,[D("Relationship"),e("span",{class:"text-danger"},"*")],-1),pi={class:"my-2"},ui=e("span",null,[D("Date of birth "),e("span",{class:"text-danger"},"*")],-1),fi={class:"my-2"},bi=e("span",null,[D("phone"),e("span",{class:"text-danger"},"*")],-1),gi={class:"flex justify-center my-4"},yi={__name:"FamilyDetails",setup(E){const a=ae(),s=le(),k=ie();v("");const S=v(!1),Y=v(),B=_=>{Y.value.toggle(_)},V=v(!1),x=X({name:"",relationship:"",dob:"",phone_number:""}),d=X({name:"",relationship:"",dob:"",phone_number:""}),l=v(),z=()=>{s.loading_screen=!0;let g=`/add-family-info/${a.current_user_id}`;H.post(g,{user_code:s.employeeDetails.user_code,name:x.name,relationship:x.relationship,dob:K(x.dob).format("YYYY-MM-DD"),phone_number:x.phone_number}).then(r=>{r.data.status=="success"?(k.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),s.employeeDetails.get_family_details.dob=pe(x.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=x.gender,s.employeeDetails.get_family_details.relationship=x.relationship,s.employeeDetails.get_family_details.phone_number=x.phone_number):r.data.status=="failure"}).catch(r=>{console.log(r)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),S.value=!1},f=_=>{V.value=!0,l.value=_.id,d.name=_.name,d.relationship=_.relationship,d.dob=_.dob,d.phone_number=_.phone_number},U=_=>{s.loading_screen=!0,l.value=_.id;let r=` /delete-family-info/${a.current_user_id}`;H.post(r,{current_table_id:l.value}).then(c=>{c.data.status=="success"?(k.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),s.employeeDetails.get_family_details.dob=pe(x.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=x.gender,s.employeeDetails.get_family_details.relationship=x.relationship,s.employeeDetails.get_family_details.phone_number=x.phone_number):c.data.status=="failure"&&(leave_data.leave_request_error_messege=c.data.message)}).catch(c=>{console.log(c)}).finally(()=>{s.loading_screen=!1,s.fetchEmployeeDetails()})},R=_=>{s.loading_screen=!0;let r=`/update-family-info/${a.current_user_id}`;H.post(r,{user_code:s.employeeDetails.user_code,current_table_id:l.value,name:d.name,relationship:d.relationship,dob:K(d.dob).format("YYYY-MM-DD"),phone_number:d.phone_number}).then(c=>{c.data.status=="success"?(k.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),s.employeeDetails.get_family_details.dob=pe(d.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=d.gender,s.employeeDetails.get_family_details.relationship=x.relationship,s.employeeDetails.get_family_details.phone_number=d.phone_number):c.data.status=="failure"&&(leave_data.leave_request_error_messege=c.data.message)}).catch(c=>{console.log(c)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),V.value=!1};return ne(()=>{}),(_,g)=>{const r=j("InputText"),c=j("Calendar"),A=j("InputMask"),w=j("Toast"),O=j("Dialog"),G=j("Column"),m=j("OverlayPanel"),J=j("DataTable"),Z=j("Sidebar");return y(),$(ce,null,[e("div",Ca,[e("div",Pa,[e("h6",Sa,[D("Family Information "),e("button",{type:"button",class:"float-right bg-[#000] text-[#fff] px-4 p-2 rounded-md",onClick:g[0]||(g[0]=P=>S.value=!0)}," Add New "),o(O,{modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:C(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:C(()=>[o(w),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:z},"submit")])]),default:C(()=>[e("div",Ua,[e("div",Ma,[Ea,o(r,{type:"text",modelValue:x.name,"onUpdate:modelValue":g[1]||(g[1]=P=>x.name=P),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",Ya,[Ia,o(r,{type:"text",modelValue:x.relationship,"onUpdate:modelValue":g[2]||(g[2]=P=>x.relationship=P),class:"w-[90%] h-10"},null,8,["modelValue"])])]),e("div",ja,[e("div",Ba,[La,o(c,{dateFormat:"dd/mm/yy",modelValue:x.dob,"onUpdate:modelValue":g[3]||(g[3]=P=>x.dob=P),class:"h-10 w-[98%]",minDate:_.minDate,maxDate:_.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Aa,[Fa,o(A,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:x.phone_number,"onUpdate:modelValue":g[4]||(g[4]=P=>x.phone_number=P)},null,8,["modelValue"])])])]),_:1})]),e("div",Na,[o(J,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:t(s).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",class:"z-0"},{default:C(()=>[o(G,{header:"Name",field:"name",style:{"min-width":"8rem"}}),o(G,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),o(G,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:C(P=>[P.data.dob=="Invalid Date"?(y(),$("div",Ta," - ")):(y(),$("div",Ra,u(t(K)(P.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),o(G,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),o(G,{header:"Action"},{body:C(P=>[e("div",Oa,[e("button",{class:"",type:"button",onClick:B},qa),o(m,{ref_key:"op",ref:Y},{default:C(()=>[e("div",za,[e("div",Ha,[e("button",{class:"p-2 text-lg text-black font-semibold hover:bg-gray-200 divide-x",onClick:q=>U(P.data)},"delete",8,Ka),e("button",{class:"p-2 text-black text-lg font-semibold hover:bg-gray-200",onClick:q=>f(P.data)},"View",8,Ja)])])]),_:2},1536)])]),_:1})]),_:1},8,["value"])])])]),o(Z,{visible:S.value,"onUpdate:visible":g[9]||(g[9]=P=>S.value=P),position:"right",class:"relative w-[500px]"},{default:C(()=>[Za,e("div",Wa,[e("div",Xa,[Qa,o(r,{type:"text",modelValue:x.name,"onUpdate:modelValue":g[5]||(g[5]=P=>x.name=P),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",ei,[ti,o(r,{type:"text",modelValue:x.relationship,"onUpdate:modelValue":g[6]||(g[6]=P=>x.relationship=P),class:"w-[90%] h-10"},null,8,["modelValue"])]),e("div",si,[oi,o(c,{dateFormat:"dd/mm/yy",modelValue:x.dob,"onUpdate:modelValue":g[7]||(g[7]=P=>x.dob=P),class:"h-10 w-[100%] relative right-2",minDate:_.minDate,maxDate:_.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",li,[ai,o(A,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:x.phone_number,"onUpdate:modelValue":g[8]||(g[8]=P=>x.phone_number=P)},null,8,["modelValue"])])]),e("div",ii,[o(w),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:z},"submit")])])]),_:1},8,["visible"]),o(Z,{visible:V.value,"onUpdate:visible":g[14]||(g[14]=P=>V.value=P),position:"right",class:"relative w-[500px]"},{default:C(()=>[ni,e("div",di,[e("div",ri,[ci,o(r,{type:"text",modelValue:d.name,"onUpdate:modelValue":g[10]||(g[10]=P=>d.name=P),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",_i,[mi,o(r,{type:"text",modelValue:d.relationship,"onUpdate:modelValue":g[11]||(g[11]=P=>d.relationship=P),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",pi,[ui,o(c,{modelValue:d.dob,"onUpdate:modelValue":g[12]||(g[12]=P=>d.dob=P),min:"2000-01-02",class:"w-[100%] h-10 relative right-2"},null,8,["modelValue"])]),e("div",fi,[bi,o(A,{id:"basic",modelValue:d.phone_number,"onUpdate:modelValue":g[13]||(g[13]=P=>d.phone_number=P),mask:"9999999999",placeholder:"999999999",class:"h-10 w-[100%]"},null,8,["modelValue"])])]),e("div",gi,[o(w),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:R},"submit")])])]),_:1},8,["visible"])],64)}}};const hi={key:0},vi=e("div",{class:""},[e("div",{class:""},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),xi={class:"tab-content",id:"pills-tabContent"},$i={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},Di={key:0,class:"my-2"},wi={class:"w-full bg-white rounded-lg p-2 border"},ki=e("div",{class:"flex justify-around"},[e("p",{class:"font-semibold text-sm"},"Payroll Summary"),e("div",{class:"flex justify-end"})],-1),Vi={class:"grid grid-cols-12 gap-2 h-full py-2"},Ci={class:"col-span-2"},Pi=e("p",{class:"font-semibold text-xs text-gray-500"},"Last Processed",-1),Si={class:"font-semibold text-sm"},Ui={class:"col-span-2"},Mi=e("p",{class:"font-semibold text-xs text-gray-500"},"Total Working Days",-1),Ei={class:"font-semibold text-sm"},Yi={class:"col-span-2"},Ii=e("p",{class:"font-semibold text-xs text-gray-500"},"Loss Of Pay(LOP)",-1),ji={class:"font-semibold text-sm"},Bi={class:"w-full bg-white rounded-lg p-2 border my-3"},Li=e("p",{class:"font-semibold text-sm"},"Bank Information",-1),Ai={class:"grid grid-cols-12 gap-2 h-full py-2"},Fi={class:"col-span-2"},Ni=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Name",-1),Ti={class:"font-semibold text-sm"},Ri={class:"col-span-2"},Oi=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Account No",-1),Gi={class:"font-semibold text-sm"},qi={class:"col-span-2"},zi=e("p",{class:"font-semibold text-xs text-gray-500"},"IFSC Code",-1),Hi={class:"font-semibold text-sm"},Ki={class:"col-span-2"},Ji=e("p",{class:"font-semibold text-xs text-gray-500"},"PAN No",-1),Zi={class:"font-semibold text-sm"},Wi={class:"w-full bg-white rounded-lg p-2 border"},Xi=e("p",{class:"font-semibold text-sm"},"Statutory Information",-1),Qi={class:"grid grid-cols-12 gap-2 h-full py-2"},en={class:"col-span-2"},tn=e("p",{class:"font-semibold text-xs text-gray-500"},"PF Applicable",-1),sn={class:"font-semibold text-sm"},on={class:"col-span-2"},ln=e("p",{class:"font-semibold text-xs text-gray-500"},"EPF Number",-1),an={class:"font-semibold text-sm"},nn={class:"col-span-2"},dn=e("p",{class:"font-semibold text-xs text-gray-500"},"UAN Number",-1),rn={class:"font-semibold text-sm"},cn={class:"col-span-2"},_n=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Applicable",-1),mn={class:"font-semibold text-sm"},pn={class:"col-span-2"},un=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Number",-1),fn={class:"font-semibold text-sm"},bn={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},gn={class:"mb-2 card"},yn={class:"card-body"},hn={class:"modal-body"},vn={class:"row"},xn={class:"col-md-6"},$n={class:"mb-3 form-group"},Dn=e("label",null,"Bank Name",-1),wn={class:"col-md-6"},kn={class:"mb-3 form-group"},Vn=e("label",null,"Bank Account No",-1),Cn=e("div",{class:"cal-icon"},null,-1),Pn={class:"col-md-6"},Sn={class:"mb-3 form-group"},Un=e("label",null,"IFSC Code",-1),Mn={class:"col-md-6"},En={class:"floating d-block justify-items-start al"},Yn=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),In={class:"flex justify-content-start"},jn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),Bn={class:"d-flex flex-column justify-content-center align-items-center border"},Ln={key:0,class:"text-red-400 fs-6 font-semibold text-center"},An={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},Fn={class:"modal-body"},Nn={class:"row"},Tn={class:"col-md-6"},Rn={class:"mb-3 form-group"},On=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),Gn={key:0,class:"text-red-400 fs-6 font-semibold"},qn={class:"col-md-6 d-flex flex-column"},zn={class:"d-flex justify-items-center flex-column ml-10"},Hn=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),Kn={class:"d-flex justify-items-center align-items-center"},Jn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),Zn={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},Wn={key:0,class:"text-red-400 fs-6 font-semibold"},Xn={class:"modal-body"},Qn={class:"row"},ed={class:"col"},td=e("label",{for:"",class:""},[D("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),sd={class:"col"},od=e("label",{class:"ml-2"},"EPF Number",-1),ld={class:"row"},ad={class:"col"},id=e("label",{class:"ml-1"},"UAN Number",-1),nd={class:"col ml-2"},dd=e("label",{class:"ml-2"},[D("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),rd={class:"row"},cd={class:"col-6"},_d=e("label",{for:"",class:"ml-2"},"ESIC Number",-1),md=e("div",{class:"col"},null,-1),pd=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),ud={__name:"FinanceDetails",setup(E){const a=le(),s=ae(),k=ie(),S=v(!1),Y=v(!1),B=v();B.value=a.employeeDetails.payroll_summary,console.log("testing payroll summary :",B.value);let V=new FormData;V.append("user_code",ae.current_user_code),V.append("file_object",le.value);let x="/profile-pages/updateProfilePicture";H.post(x,V).then(L=>{}).finally(()=>{console.log("Photo Sent")});const d=v([]),l=v();d.value.push(a.employeeDetails.get_statutory_details),ne(()=>{s.getBankList().then(L=>{l.value=L.data}),a.fetchEmployeeDetails()});const z=v(!1),f=v(!1);v(),v();const U=X({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),R=X({pan_no:"",Pancard:""}),_=L=>{L.target.files&&L.target.files[0]&&(U.PassBook=L.target.files[0],console.log(U.PassBook))},g=v([{name:"Yes",value:"Yes"},{name:"No",value:"No"}]),r=()=>{S.value=!0;let h=`/update-bank-info/${s.current_user_id}`,M=new FormData;M.append("user_code",a.employeeDetails.user_code),M.append("bank_id",U.bank_id),M.append("account_no",U.bank_ac_no),M.append("bank_ifsc",U.ifsc_code),M.append("PassBook",U.PassBook),M.append("onboard_document_type","Cheque leaf/Bank Passbook"),H.post(h,M).then(b=>{b.data.status=="success"?(k.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),a.employeeDetails.get_employee_details.bank_id=U.bank_id,a.employeeDetails.get_employee_details.bank_account_number=U.bank_ac_no,a.employeeDetails.get_employee_details.bank_ifsc_code=U.ifsc_code,a.employeeDetails.get_employee_details.pan_no=U.pan_no):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}).finally(()=>{a.fetchEmployeeDetails(),S.value=!1}),z.value=!1};function c(){U.bank_id=parseInt(a.employeeDetails.get_employee_details.bank_id),U.bank_ac_no=a.employeeDetails.get_employee_details.bank_account_number,U.ifsc_code=a.employeeDetails.get_employee_details.bank_ifsc_code,U.pan_no=a.employeeDetails.get_employee_details.pan_number,z.value=!0}function A(){a.employeeDetails.get_statutory_details?(w.pf_applicable=a.employeeDetails.get_statutory_details.pf_applicable,w.epf_no=a.employeeDetails.get_statutory_details.epf_number,w.uan_no=a.employeeDetails.get_statutory_details.uan_number,w.esic_applicable=a.employeeDetails.get_statutory_details.esic_applicable,w.esic_no=a.employeeDetails.get_statutory_details.esic_number):f.value=!0,f.value=!0}const w=X({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),O=()=>{S.value=!0;let h=`/update-statutory-info/${s.current_user_id}`;H.post(h,{user_code:a.employeeDetails.user_code,pf_applicable:w.pf_applicable,epf_number:w.epf_no,uan_number:w.uan_no,esic_applicable:w.esic_applicable,esic_number:w.esic_no}).then(M=>{M.data.status=="success"?k.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):M.data.status=="failure"&&(leave_data.leave_request_error_messege=M.data.message)}).catch(M=>{console.log(M)}).finally(()=>{a.fetchEmployeeDetails(),S.value=!1}),f.value=!1},G=L=>{L.target.files&&L.target.files[0]&&(R.Pancard=L.target.files[0],console.log(R.Pancard))},m=()=>{S.value=!0;const h=`/update-Pancard-info/${s.current_user_id}`,M=new FormData;M.append("pan_no",R.pan_no),M.append("pancard",R.Pancard),M.append("user_code",a.employeeDetails.user_code),M.append("onboard_document_type","Pan Card"),Y.value=!1,R.Pancard&&H.post(h,M).finally(()=>{S.value=!1})},J=te(()=>({PassBook:{required:re}})),Z=ue(J,U),P=()=>{Z.value.$validate(),Z.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),r())},q=te(()=>({pan_no:{required:re},Pancard:{required:re}})),i=ue(q,R),F=()=>{i.value.$validate(),i.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),m())},n=L=>{let h=String.fromCharCode(L.keyCode);if(/^[A-Za-z_ ]+$/.test(h))return!0;L.preventDefault()},T=L=>{let h=String.fromCharCode(L.keyCode);if(/^[A-Za-z0-9]+$/.test(h))return!0;L.preventDefault()};return(L,h)=>{const M=j("Dropdown"),b=j("InputNumber"),de=j("InputText"),p=j("Toast"),me=j("Dialog"),he=j("InputMask"),ve=j("ProgressSpinner");return t(a).employeeDetails.get_statutory_details?(y(),$("div",hi,[vi,e("div",xi,[e("div",$i,[t(a).employeeDetails.get_employee_details?(y(),$("div",Di,[e("div",wi,[ki,e("div",Vi,[e("div",Ci,[Pi,e("p",Si,u(t(a).employeeDetails.payroll_summary.payroll_date?t(K)(t(a).employeeDetails.payroll_summary.payroll_date).format("DD-MMM-YYYY"):"-"),1)]),e("div",Ui,[Mi,e("p",Ei,u(t(a).employeeDetails.payroll_summary.worked_Days?t(a).employeeDetails.payroll_summary.worked_Days:"-"),1)]),e("div",Yi,[Ii,e("p",ji,u(t(a).employeeDetails.payroll_summary.lop?t(a).employeeDetails.payroll_summary.lop:"-"),1)])])]),e("div",Bi,[e("div",{class:"flex justify-around"},[Li,e("div",{class:"flex justify-end"},[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:c,alt:""})])]),e("div",Ai,[e("div",Fi,[Ni,e("p",Ti,u(t(a).employeeDetails.get_employee_details.bank_name?t(a).employeeDetails.get_employee_details.bank_name:"-"),1)]),e("div",Ri,[Oi,e("p",Gi,u(t(a).employeeDetails.get_employee_details.bank_account_number?t(a).employeeDetails.get_employee_details.bank_account_number:"-"),1)]),e("div",qi,[zi,e("p",Hi,u(t(a).employeeDetails.get_employee_details.bank_ifsc_code?t(a).employeeDetails.get_employee_details.bank_ifsc_code:"-"),1)]),e("div",Ki,[Ji,e("p",Zi,u(t(a).employeeDetails.get_employee_details.pan_number?t(a).employeeDetails.get_employee_details.pan_number:"-"),1)])])]),e("div",Wi,[e("div",{class:"flex justify-around"},[Xi,e("div",{class:"flex justify-end"},[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:A,alt:""})])]),e("div",Qi,[e("div",en,[tn,e("p",sn,u(t(a).employeeDetails.get_statutory_details.pf_applicable?t(a).employeeDetails.get_statutory_details.pf_applicable:"-"),1)]),e("div",on,[ln,e("p",an,u(t(a).employeeDetails.get_statutory_details.epf_number?t(a).employeeDetails.get_statutory_details.epf_number:"-"),1)]),e("div",nn,[dn,e("p",rn,u(t(a).employeeDetails.get_statutory_details.uan_number?t(a).employeeDetails.get_statutory_details.uan_number:"-"),1)]),e("div",cn,[_n,e("p",mn,u(t(a).employeeDetails.get_statutory_details.esic_applicable?t(a).employeeDetails.get_statutory_details.esic_applicable:"-"),1)]),e("div",pn,[un,e("p",fn,u(t(a).employeeDetails.get_statutory_details.esic_number?t(a).employeeDetails.get_statutory_details.esic_number:"-"),1)])])])])):N("",!0)]),e("div",bn,[e("div",gn,[e("div",yn,[o(we)])])])]),o(me,{visible:z.value,"onUpdate:visible":h[5]||(h[5]=I=>z.value=I),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:C(()=>[e("div",null,[e("div",hn,[e("div",vn,[e("div",xn,[e("div",$n,[Dn,o(M,{editable:"",onKeypress:h[0]||(h[0]=I=>n(I)),options:l.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:U.bank_id,"onUpdate:modelValue":h[1]||(h[1]=I=>U.bank_id=I)},null,8,["options","modelValue"])])]),e("div",wn,[e("div",kn,[Vn,Cn,o(b,{modelValue:U.bank_ac_no,"onUpdate:modelValue":h[2]||(h[2]=I=>U.bank_ac_no=I),class:"form-controls onboard-form",inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])])]),e("div",Pn,[e("div",Sn,[Un,o(de,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:U.ifsc_code,"onUpdate:modelValue":h[3]||(h[3]=I=>U.ifsc_code=I)},null,8,["modelValue"])])]),e("div",Mn,[e("div",En,[Yn,e("div",In,[o(p),jn,e("div",Bn,[e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:h[4]||(h[4]=I=>_(I)),style:{"text-transform":"uppercase"},class:W(["form-controls pl-2",[t(Z).PassBook.$error?"p-invalid":""]])},null,34),t(Z).PassBook.$error?(y(),$("span",Ln,u(t(Z).PassBook.required.$message.replace("Value","PassBook or Cheque Leaf")),1)):N("",!0)]),U.PassBook?(y(),$("div",An,u(U.PassBook.name),1)):N("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:P},"Submit")])])])])]),_:1},8,["visible"]),o(me,{visible:Y.value,"onUpdate:visible":h[8]||(h[8]=I=>Y.value=I),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:C(()=>[e("div",null,[e("div",Fn,[e("div",Nn,[e("div",Tn,[e("div",Rn,[On,o(he,{onFocusout:L.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:R.pan_no,"onUpdate:modelValue":h[6]||(h[6]=I=>R.pan_no=I),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:W(["form-controls pl-2",[t(i).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),t(i).pan_no.$error?(y(),$("span",Gn,u(t(i).pan_no.required.$message.replace("Value","Pancard number")),1)):N("",!0)])]),e("div",qn,[e("div",zn,[Hn,e("div",Kn,[o(p),Jn,R.Pancard?(y(),$("div",Zn,u(R.Pancard.name),1)):N("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:h[7]||(h[7]=I=>G(I)),class:W([t(i).Pancard.$error?"p-invalid":""])},null,34)]),t(i).Pancard.$error?(y(),$("span",Wn,u(t(i).Pancard.required.$message.replace("Value","Pancard attachment")),1)):N("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:F},"Submit")])])])])]),_:1},8,["visible"]),o(me,{visible:f.value,"onUpdate:visible":h[17]||(h[17]=I=>f.value=I),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:C(()=>[e("div",Xn,[e("div",Qn,[e("div",ed,[td,o(M,{modelValue:w.pf_applicable,"onUpdate:modelValue":h[9]||(h[9]=I=>w.pf_applicable=I),options:g.value,placeholder:"PF Applicable",optionLabel:"name",optionValue:"value",class:"w-100"},null,8,["modelValue","options"])]),e("div",sd,[od,o(de,{onKeypress:h[10]||(h[10]=I=>T(I)),modelValue:w.epf_no,"onUpdate:modelValue":h[11]||(h[11]=I=>w.epf_no=I),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])])]),e("div",ld,[e("div",ad,[id,o(de,{onKeypress:h[12]||(h[12]=I=>T(I)),modelValue:w.uan_no,"onUpdate:modelValue":h[13]||(h[13]=I=>w.uan_no=I),class:"w-100",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),e("div",nd,[dd,o(M,{modelValue:w.esic_applicable,"onUpdate:modelValue":h[14]||(h[14]=I=>w.esic_applicable=I),options:g.value,optionLabel:"name",placeholder:"ESIC Applicable",class:"w-100",optionValue:"value"},null,8,["modelValue","options"])])]),e("div",rd,[e("div",cd,[_d,o(de,{onKeypress:h[15]||(h[15]=I=>T(I)),modelValue:w.esic_no,"onUpdate:modelValue":h[16]||(h[16]=I=>w.esic_no=I),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),md]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:O},"Save")])])])]),_:1},8,["visible"]),o(me,{header:"Header",visible:S.value,"onUpdate:visible":h[18]||(h[18]=I=>S.value=I),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:C(()=>[o(ve,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:C(()=>[pd]),_:1},8,["visible"])])):N("",!0)}}};const fd=e("h6",{class:"text-lg font-semibold"},"Experience Information",-1),bd={class:"flex items-center gap-6"},gd={class:"flex justify-center mx-4"},yd={class:"relative flex items-center justify-center w-1 h-full bg-green-300"},hd={class:"absolute z-10 flex flex-col justify-center w-12 h-12 font-thin leading-none text-center bg-white border-2 border-green-300 rounded-full"},vd={key:0,class:"w-full p-2 my-2 bg-white border rounded-lg"},xd={class:"grid h-full grid-cols-12 gap-2 py-2"},$d={class:"col-span-2"},Dd=e("p",{class:"text-xs font-semibold text-gray-500"},"Company Name",-1),wd={class:"text-sm font-semibold"},kd={class:"col-span-2"},Vd=e("p",{class:"text-xs font-semibold text-gray-500"},"Location",-1),Cd={class:"text-sm font-semibold"},Pd={class:"col-span-2"},Sd=e("p",{class:"text-xs font-semibold text-gray-500"},"JOb Position",-1),Ud={class:"text-sm font-semibold"},Md={class:"col-span-2"},Ed=e("p",{class:"text-xs font-semibold text-gray-500"},"Period From",-1),Yd={class:"text-sm font-semibold"},Id={class:"col-span-2"},jd=e("p",{class:"text-xs font-semibold text-gray-500"},"Period To",-1),Bd={class:"text-sm font-semibold"},Ld={class:"relative flex justify-end col-span-2"},Ad=["onClick"],Fd=e("i",{class:"pi pi-ellipsis-v"},null,-1),Nd=[Fd],Td={key:0,class:"absolute flex flex-col bg-white shadow-2xl top-4",style:{width:"160px","margin-top":"12px !important","margin-right":"20px !important"}},Rd=["onClick"],Od=["onClick"],Gd=e("div",null,null,-1),qd=e("div",{class:"bg-[#759CB2] !w-[100%] h-[60px] absolute top-0 left-0"},[e("h1",{class:"m-4 text-[#ffff] font-['poppins] font-semibold"},"Experience Information")],-1),zd={class:"my-2"},Hd=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Company Name "),e("span",{class:"text-danger"},"*")],-1),Kd={class:"my-2"},Jd=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Location"),e("span",{class:"text-danger"},"*")],-1),Zd={class:"my-2"},Wd=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Job Position"),e("span",{class:"text-danger"},"*")],-1),Xd={class:"my-2"},Qd=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Period From"),e("span",{class:"text-danger"},"*")],-1),er={class:"my-2"},tr=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Period To"),e("span",{class:"text-danger"},"*")],-1),sr={class:"flex justify-center my-4 !mt-[200px]"},or=e("h1",{class:"absolute font-semibold top-4"}," Experience Information",-1),lr={class:"my-2"},ar=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Company Name "),e("span",{class:"text-danger"},"*")],-1),ir={class:"my-2"},nr=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Location"),e("span",{class:"text-danger"},"*")],-1),dr={class:"my-2"},rr=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Job Position"),e("span",{class:"text-danger"},"*")],-1),cr={class:"my-2"},_r=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Period From"),e("span",{class:"text-danger"},"*")],-1),mr={class:"my-2"},pr=e("h1",{class:"text-[14px] font-semibold mb-1"},[D("Period To"),e("span",{class:"text-danger"},"*")],-1),ur={class:"flex justify-center my-4"},fr={__name:"ExperienceDetails",setup(E){const a=ae(),s=le(),k=ie();ie();const S=v();v(!0);const Y=r=>{console.log(r),r&&(S.value=r)};v("");const B=v(!1),V=v(!1),x=v(),d=X({company_name:"",location:"",job_position:"",period_from:"",period_to:""});function l(){B.value=!0,d.company_name="",d.job_position="",d.location="",d.period_from="",d.period_to=""}const z=()=>{console.log(d),s.loading_screen=!0;let c=`/add-experience-info/${a.current_user_id}`;H.post(c,{user_code:s.employeeDetails.user_code,company_name:d.company_name,experience_location:d.location,job_position:d.job_position,period_from:K(d.period_from).format("YYYY-MM-DD"),period_to:K(d.period_to).format("YYYY-MM-DD")}).then(A=>{A.data.status=="success"?k.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):A.data.status=="failure"&&(leave_data.leave_request_error_messege=A.data.message)}).catch(A=>{console.log(A)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),B.value=!1};ne(()=>{});const f=r=>{V.value=!0,V.value==!0&&(console.log(V),S.value=""),x.value=r.id,console.log(x.value),d.company_name=r.company_name,d.location=r.location,d.job_position=r.job_position,d.period_from=r.period_from,d.period_to=r.period_to},U=r=>{V.value=!1,S.value="";let A=`/update-experience-info/${a.current_user_id}`;H.post(A,{user_code:s.employeeDetails.user_code,exp_current_table_id:x.value,company_name:d.company_name,experience_location:d.location,job_position:d.job_position,period_from:K(d.period_from).format("YYYY-MM-DD"),period_to:K(d.period_to).format("YYYY-MM-DD")}).then(w=>{w.data.status=="success"?(s.fetchEmployeeDetails(),k.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):w.data.status=="failure"&&(leave_data.leave_request_error_messege=w.data.message)}).catch(w=>{console.log(w)})},R=r=>{x.value=r.id;let A=`/delete-experience-info/${a.current_user_id}`;H.post(A,{exp_current_table_id:x.value}).then(w=>{w.data.status=="success"?(s.fetchEmployeeDetails(),k.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3})):w.data.status=="failure"&&(leave_data.leave_request_error_messege=w.data.message)}).catch(w=>{console.log(w)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1})},_=r=>{let c=String.fromCharCode(r.keyCode);if(/^[A-Za-z_ ]+$/.test(c))return!0;r.preventDefault()};function g(r,c){const A=new Date(r),O=new Date(c)-A,G=365.25*24*60*60*1e3,m=O/G;return m?m.toFixed(1):null}return(r,c)=>{const A=j("InputText"),w=j("Calendar"),O=j("Toast"),G=j("Sidebar");return y(),$(ce,null,[e("div",{class:"flex items-center justify-between"},[fd,e("button",{type:"",class:"float-right text-[#fff] bg-[#000] px-4 py-2 rounded-lg",onClick:l}," Add New ")]),(y(!0),$(ce,null,$e(t(s).employeeDetails.get_experience_details,m=>(y(),$("div",bd,[e("div",gd,[e("div",yd,[e("div",hd,[e("div",null,u(m.period_from&&m.period_to?g(m.period_from,m.period_to):0),1)])])]),t(s).employeeDetails.get_experience_details?(y(),$("div",vd,[e("div",xd,[e("div",$d,[Dd,e("p",wd,u(m.company_name),1)]),e("div",kd,[Vd,e("p",Cd,u(m.location),1)]),e("div",Pd,[Sd,e("p",Ud,u(m.job_position),1)]),e("div",Md,[Ed,e("p",Yd,u(t(K)(m.period_from).format("DD-MMM-YYYY")),1)]),e("div",Id,[jd,e("p",Bd,u(t(K)(m.period_to).format("DD-MMM-YYYY")),1)]),e("div",Ld,[e("button",{class:"",type:"button",onClick:J=>Y(m.id)},Nd,8,Ad),S.value===m.id?(y(),$("div",Td,[e("div",{class:"p-0 m-0 d-flex flex-column",onMouseleave:c[0]||(c[0]=J=>S.value="")},[e("button",{class:"h-[30px] p-2 text-black fw-semibold hover:bg-gray-200 border-bottom-1",onClick:J=>R(m)},"delete",8,Rd),e("button",{onClick:J=>f(m),class:"!h-[33px] border-[1px] text-black fw-semibold hover:bg-gray-200 ho"},"View",8,Od)],32)])):N("",!0)])])])):N("",!0)]))),256)),Gd,o(G,{visible:B.value,"onUpdate:visible":c[7]||(c[7]=m=>B.value=m),position:"right",class:"!w-[500px]"},{default:C(()=>[qd,e("div",zd,[Hd,o(A,{type:"text",modelValue:d.company_name,"onUpdate:modelValue":c[1]||(c[1]=m=>d.company_name=m),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",Kd,[Jd,o(A,{type:"text",modelValue:d.location,"onUpdate:modelValue":c[2]||(c[2]=m=>d.location=m),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",Zd,[Wd,o(A,{type:"text",onKeypress:c[3]||(c[3]=m=>_(m)),modelValue:d.job_position,"onUpdate:modelValue":c[4]||(c[4]=m=>d.job_position=m),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",Xd,[Qd,o(w,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:d.period_from,"onUpdate:modelValue":c[5]||(c[5]=m=>d.period_from=m)},null,8,["modelValue"])]),e("div",er,[tr,o(w,{modelValue:d.period_to,"onUpdate:modelValue":c[6]||(c[6]=m=>d.period_to=m),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",sr,[o(O),e("button",{class:"bg-[#000] text-[#ffff] p-2 px-4 rounded-md",severity:"success",id:"",onClick:z},"submit")])]),_:1},8,["visible"]),o(G,{visible:V.value,"onUpdate:visible":c[15]||(c[15]=m=>V.value=m),position:"right",class:"!w-[500px]"},{default:C(()=>[or,e("div",lr,[ar,o(A,{type:"text",modelValue:d.company_name,"onUpdate:modelValue":c[8]||(c[8]=m=>d.company_name=m),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",ir,[nr,o(A,{type:"text",modelValue:d.location,"onUpdate:modelValue":c[9]||(c[9]=m=>d.location=m),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",dr,[rr,o(A,{type:"text",onKeypress:c[10]||(c[10]=m=>_(m)),modelValue:d.job_position,"onUpdate:modelValue":c[11]||(c[11]=m=>d.job_position=m),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",cr,[_r,o(w,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:d.period_from,"onUpdate:modelValue":c[12]||(c[12]=m=>d.period_from=m)},null,8,["modelValue"])]),e("div",mr,[pr,o(w,{modelValue:d.period_to,"onUpdate:modelValue":c[13]||(c[13]=m=>d.period_to=m),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",ur,[o(O),e("button",{type:"button",class:"bg-[#000] w-[144px] py-2 rounded-lg text-[white] success warning",severity:"success",id:"",onClick:c[14]||(c[14]=m=>U())},"submit")])]),_:1},8,["visible"])],64)}}};const br={class:"card"},gr={class:"w-full"},yr={key:0},hr=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},"Approved",-1),vr=[hr],xr={key:1},$r=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-yellow-800 rounded-md bg-yellow-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),Dr=[$r],wr={key:2},kr=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-red-800 rounded-md bg-red-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),Vr=[kr],Cr={key:3},Pr={key:0},Sr={key:0},Ur=["onClick"],Mr=e("label",{for:"files",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),D(" Upload file")],-1),Er=[Mr],Yr={key:1},Ir={key:1},jr=["onClick"],Br=e("label",{for:"files",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),D(" Upload file")],-1),Lr=[Br],Ar=["disabled"],Fr={class:"w-full h-full d-flex justify-content-center"},Nr=["src"],Tr={__name:"documents",setup(E){const a=v([]);ne(()=>{k.fetch_EmployeeDocument(),console.log(" ",Y.value),console.log("employeeDetails employee_documents ",s.employeeDetails.employee_documents),a.value=s});let s=le();const k=ke();ie();const S=v(!1),Y=v({}),B=v();v();const V=v(),x=v(),d=new FormData,l=v(),z=_=>{S.value=!0,k.loading=!0,H.post("/view-profile-private-file",{user_id:s.getURLParams_UID(),document_name:_.document_name,record_id:_.id}).then(g=>{B.value=g.data.data,console.log("data sent",B.value)}).finally(()=>{k.loading=!1})};v(["Pending","Approved","Rejected"]);const f=_=>{x.value=_},U=_=>{if(console.log(x),_.target.files&&_.target.files[0]&&(V.value=_.target.files[0],d.append(`${x.value}`,V.value),d.append("user_code",s.employeeDetails.user_code),console.log(d),Object.keys(d)[0]),l.value=="Failure")Swal.fire({title:l.value="Failure",text:"Please upload all mandatory documents",icon:"error",showCancelButton:!1}).then(g=>{});else{k.loading=!0;let g="/profile-page/saveEmployeeDocument";H.post(g,d).then(r=>{l.value=r.data.status,console.log(l.value),console.log("Photo not send"),r.data.status=="Success"?Swal.fire({title:r.data.status="Success",text:r.data.message,icon:"success",showCancelButton:!1}).then(c=>{}):r.data.status=="Failure"&&Swal.fire({title:r.data.status="Failure",text:r.data.message,icon:"error",showCancelButton:!1}).then(c=>{})}).finally(()=>{s.fetchEmployeeDetails(),k.fetch_EmployeeDocument(),k.loading=!1})}};async function R(){}return(_,g)=>{const r=j("Column"),c=j("Button"),A=j("DataTable"),w=j("Sidebar");return y(),$("div",br,[e("div",gr,[o(A,{ref:"dt",value:t(s).employeeDetails.employee_documents,dataKey:"id",paginator:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],rows:5,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:C(()=>[o(r,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:C(()=>[D(u(t(k).getEmployeeDoc.document_name),1)]),_:1}),o(r,{field:"status",header:"status",style:{"min-width":"12rem"}},{body:C(O=>[O.data.status=="Approved"?(y(),$("div",yr,vr)):O.data.status==="Pending"?(y(),$("div",xr,Dr)):O.data.status==="Rejected"?(y(),$("div",wr,Vr)):(y(),$("div",Cr))]),_:1}),o(r,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:C(O=>[O.data.doc_id?(y(),$("div",Pr,[O.data.status=="Rejected"?(y(),$("div",Sr,[e("input",{type:"file",name:"",id:"files",hidden:"",onChange:g[0]||(g[0]=G=>U(G))},null,32),e("button",{class:"btn btn-success",onClick:G=>f(O.data.document_name)},Er,8,Ur)])):(y(),$("div",Yr,[o(c,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:G=>z(O.data),style:{height:"1.5em"}},null,8,["onClick"])]))])):(y(),$("div",Ir,[e("input",{type:"file",name:"",id:"files",hidden:"",onChange:g[1]||(g[1]=G=>U(G))},null,32),e("button",{class:"btn btn-success",onClick:G=>f(O.data.document_name)},Lr,8,jr)]))]),_:1})]),_:1},8,["value"]),e("button",{severity:"warn",type:"submit",data:"row-6",next:"row-6",name:"submit_form",id:"msform",class:"text-center btn btn-orange processOnboardForm float-end text-light mr-5 my-5",value:"Submit",disabled:_.fileUploadValidation,onClick:R}," Submit ",8,Ar),t(k).loading==!1?(y(),_e(w,{key:0,position:"right",visible:S.value,"onUpdate:visible":g[2]||(g[2]=O=>S.value=O),modal:"",header:"Documents",style:{width:"40vw"}},{default:C(()=>[e("div",Fr,[e("img",{src:`data:image/png;base64,${B.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,Nr)])]),_:1},8,["visible"])):N("",!0)])])}}},Rr={key:1,class:"w-full h-screen bg-gray-50 p-3"},Or={class:"w-full my-2"},Gr={class:"col-12 col-sm-12 col-md-12 col-lg-12 col-xxl-12 col-xl-12"},qr=e("div",{class:"mb-2"},[e("div",{class:"pt-1 pb-0"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),zr={class:"tab-content",id:"pills-tabContent"},Hr={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Kr={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Jr={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Zr={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Wr={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},rc={__name:"ProfilePageNew",setup(E){const a=ae(),s=De();let k=le();return ne(async()=>{s.params.user_code?(k.user_id=s.params.user_code,console.log(k.user_id),k.loading_screen=!0,await k.fetchEmployeeDetails().finally(()=>{k.loading_screen=!1})):(k.user_id=a.current_user_id,console.log(k.user_id),await k.fetchEmployeeDetails())}),(S,Y)=>{const B=j("Toast");return y(),$(ce,null,[o(B),t(k).loading_screen?(y(),_e(Ve,{key:0,class:"absolute z-50 bg-white"})):N("",!0),t(k).employeeDetails.get_employee_office_details?(y(),$("div",Rr,[o(Ks),e("div",Or,[e("div",Gr,[qr,e("div",zr,[e("div",Hr,[e("div",null,[o(Va)])]),e("div",Kr,[o(yi)]),e("div",Jr,[o(fr)]),e("div",Zr,[e("div",null,[o(ud)])]),e("div",Wr,[o(Tr)])])])])])):N("",!0)],64)}}};export{rc as default};
