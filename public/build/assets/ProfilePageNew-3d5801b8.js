import{H as $,a1 as G,I as X,ae as ee,g as D,o as u,c as f,h as t,e,af as l,a as F,t as x,w as _,p as j,n as J,k as w,F as ie,ag as te,j as M,E as H,ah as ae,b as ce,J as pe,P as _e,K as me,R as ue,u as fe,v as be,Q as ve,L as ge,N as he,A as ye,M as xe}from"./toastservice.esm-b0df8430.js";import{c as $e}from"./pinia-38500c14.js";import{T as De,B as we,S as ke,b as Pe,a as Ce,c as Ve}from"./styleclass.esm-c88657ea.js";import"./blockui.esm-7963e732.js";import{D as Ee}from"./dialogservice.esm-dfc08b41.js";import{C as Se}from"./confirmationservice.esm-6f4a46b4.js";import{s as Le}from"./progressspinner.esm-6cc3039f.js";import{s as Ue}from"./row.esm-6ebc942e.js";import{s as Te}from"./columngroup.esm-9dd1458e.js";import{s as Ne}from"./calendar.esm-d1eec60d.js";import{s as Fe}from"./textarea.esm-c4771c89.js";import{s as Ie}from"./chips.esm-3770db52.js";import{s as Be}from"./multiselect.esm-0d4aad3e.js";import{s as Ae}from"./inputmask.esm-6289a2a4.js";import{s as Re}from"./progressbar.esm-58bae4ab.js";import{l as le}from"./lodash-629bded8.js";import{a as I}from"./index-362795f3.js";import{S as K}from"./Service-b9c8a7ec.js";import{p as W}from"./ProfilePagesStore-885f1b63.js";import{r as Q,u as ne}from"./index.esm-e6a09ee3.js";import{E as Me}from"./EmployeeDetails-17539175.js";import{d as je}from"./dayjs.min-2f06af28.js";import{_ as qe}from"./EmployeePayslips-0171d823.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";const Ye={class:"mb-0 card top-line"},Oe={class:"card-body"},He={class:"row"},Ge={class:"col-12 text-end"},Ke=e("i",{class:"fa fa-id-card text-success","aria-hidden":"true"},null,-1),We=[Ke],ze={class:"text-center col-12"},Je={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{"box-shadow":"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",border:"1px solid navy"}},Qe=["src"],Xe=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),Ze={class:"mt-4"},et={class:"progress-wrapper border-bottom-liteAsh"},tt=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),ot={class:"mb-1 text-center px-auto d-flex align-items-center justify-content-between pl-5 ml-20"},st={class:"text-center fw-bold"},at={class:"personal-edit"},lt={href:"#",class:"edit-icon"},it={class:"modal-body"},nt={class:"row"},dt={class:"col-md-6"},rt={class:"mb-3 form-group"},ct=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),pt={key:0,class:"text-red-400 fs-6 font-semibold"},_t={class:"col-md-6"},mt={class:"form-group"},ut=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),ft={key:0,class:"text-red-400 fs-6 font-semibold"},bt={class:"col-md-6 d-flex flex-column"},vt={class:"d-flex justify-items-center flex-column"},gt=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),ht={class:"d-flex justify-items-center align-items-center"},yt=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),xt={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},$t={key:0,class:"text-red-400 fs-6 font-semibold"},Dt=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),wt=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),kt={class:"mb-4 text-center profile-mid-right-content"},Pt={class:"py-2 border-bottom-liteAsh"},Ct=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),Vt={key:0,class:"f-12 fw-bold"},Et={key:1,class:"text-danger f-12 fw-bold"},St={class:"py-2 border-bottom-liteAsh"},Lt=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),Ut={key:0,class:"f-12 fw-bold"},Tt={key:1,class:"f-12 fw-bold"},Nt={class:"py-2 border-bottom-liteAsh"},Ft=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),It={key:0,class:"f-12 fw-bold"},Bt={key:1,class:"f-12 fw-bold"},At={class:"py-2 border-bottom-liteAsh"},Rt=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),Mt={key:0,class:"f-12 fw-bold"},jt={key:1,class:"f-12 fw-bold"},qt={class:"py-2 border-bottom-liteAsh ml-3"},Yt={class:"text-muted f-12 fw-bold"},Ot=e("i",{class:"ri-pencil-fill"},null,-1),Ht=[Ot],Gt={key:0,class:"f-12 fw-bold"},Kt={key:1,class:"f-12 fw-bold"},Wt={class:"py-2 border-bottom-liteAsh"},zt={class:"text-muted f-12 fw-bold"},Jt=e("i",{class:"ri-pencil-fill"},null,-1),Qt=[Jt],Xt={key:0,class:"f-12 fw-bold"},Zt={key:1,class:"f-12 fw-bold"},eo=e("div",{class:"text-center profile-bottom-right-content"},[e("button",{class:"btn btn-danger"},[e("i",{class:"fa fa-sign-out me-1"}),w(" Action ")])],-1),to={class:"confirmation-content"},oo=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),so={class:"card p-3 d-flex justify-items-center align-items-center",style:{width:"18rem","margin-left":"150px",height:"300px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},ao=["src"],lo={class:"card-body d-flex justify-items-center align-items-center mt-4",style:{"flex-direction":"column"}},io={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{border:"1px solid navy","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},no=["src"],ro={class:"card-title mt-3 mb-2 f-12",style:{"text-align":"center"}},co={key:0,class:"f-12 card-text mb-2 text-gray-400"},po={key:1,class:"f-12 fw-bold"},_o={key:2,class:"f-12 fw-bold mb-2",style:{color:"grey"}},mo={key:3,class:"f-12 mb-2 text-secondary-emphasis"},uo=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),fo={__name:"EmployeeCard",setup(z){const P=K(),n=$(!1),E=$(!1),y=G({department:"",reporting_manager:""}),g=G({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),s=$([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),o=$(!1);let r=W();const R=U=>{U.target.files&&U.target.files[0]&&(r.profile=U.target.files[0]);let d=new FormData;d.append("user_code",r.user_code),d.append("file_object",r.profile);let T="/profile-pages/updateProfilePicture";I.post(T,d).then(N=>{}).finally(()=>{console.log("Photo Sent"),r.getProfilePhoto()})},B=$(),A=$(),m=$(!1),a=$(!1),i=$(!1),b=$("None"),L=U=>{console.log(U),I.post("/profile-pages/updateDepartment",{user_code:r.employeeDetails.user_code,department_id:y.department}).then(d=>{let T=le._.find(B.value,["id",y.department]).name;console.log("Lodash [Selected Dept]: "+T),r.employeeDetails.get_employee_office_details.department_name=T,b.value="Department updated successfully !",console.log(d.data)}).catch(d=>{b.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+d)}).finally(()=>{i.value=!0,m.value=!1})},q=U=>{console.log("editReportingManager : "+U),I.post("/profile-pages/updateReportingManager",{user_code:r.employeeDetails.user_code,manager_user_code:y.reporting_manager}).then(d=>{let T=le._.find(A.value,["user_code",y.reporting_manager]);r.employeeDetails.get_employee_office_details.l1_manager_name=T.name,r.employeeDetails.get_employee_office_details.l1_manager_code=T.user_code,b.value="Reporting Manager updated successfully !",console.log(d.data)}).catch(d=>{b.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+d)}).finally(()=>{i.value=!0,a.value=!1})},Y=()=>{y.department=r.employeeDetails.get_employee_office_details.department_name,y.reporting_manager=r.employeeDetails.get_employee_office_details.l1_manager_name,console.log(y.department)};X(()=>{P.DepartmentDetails().then(U=>{B.value=U.data,console.log("testing"+r.employeeDetails.get_employee_office_details.l1_manager_name)}),P.ManagerDetails().then(U=>{A.value=U.data}),Y()});const S=U=>{U.target.files&&U.target.files[0]&&(g.emp_upload_doc=U.target.files[0],console.log(g.emp_upload_doc))},c=ee(()=>({emp_name:{required:Q},emp_doc_name:{required:Q},emp_upload_doc:{required:Q}})),C=ne(c,g),oe=()=>{C.value.$validate(),C.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),se())},se=()=>{n.value=!0,o.value=!1;const d=`/update-EmplpoyeeName-info/${P.current_user_id}`,T=new FormData;T.append("user_code",r.employeeDetails.user_code),T.append("name",g.emp_name),T.append("onboard_document_type",g.emp_doc_name.name),T.append("emp_doc",g.emp_upload_doc),I.post(d,T).finally(()=>{n.value=!1})};return(U,d)=>{const T=D("Toast"),N=D("InputText"),p=D("Dropdown"),V=D("Dialog"),O=D("ProgressBar"),Z=D("ProgressSpinner");return u(),f(ie,null,[t(T),e("div",Ye,[e("div",Oe,[e("div",He,[e("div",Ge,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:d[0]||(d[0]=h=>E.value=!0)},We)]),e("div",ze,[e("div",Je,[l(r).profile?(u(),f("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${l(r).profile}`,srcset:"",alt:""},null,8,Qe)):F("",!0),Xe,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:d[1]||(d[1]=h=>R(h))},null,32)]),e("div",Ze,[e("div",et,[tt,e("div",ot,[e("h6",st,x(l(r).employeeDetails.name),1),e("span",at,[e("a",lt,[e("i",{class:"ri-pencil-fill",onClick:d[2]||(d[2]=h=>o.value=!0)})])])]),t(V,{visible:o.value,"onUpdate:visible":d[6]||(d[6]=h=>o.value=h),modal:"",header:" ",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:_(()=>[e("div",null,[e("div",it,[e("div",nt,[e("div",dt,[e("div",rt,[ct,t(N,{type:"text",modelValue:g.emp_name,"onUpdate:modelValue":d[3]||(d[3]=h=>g.emp_name=h),style:{"text-transform":"uppercase"},class:J(["form-controls pl-2",[l(C).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),l(C).emp_name.$error?(u(),f("span",pt,x(l(C).emp_name.required.$message.replace("Value","Employee Name")),1)):F("",!0)])]),e("div",_t,[e("div",mt,[ut,t(p,{modelValue:g.emp_doc_name,"onUpdate:modelValue":d[4]||(d[4]=h=>g.emp_doc_name=h),options:s.value,optionLabel:"name",placeholder:"Select a document ",class:J(["form-controls pl-2 w-full h-12",[l(C).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),l(C).emp_doc_name.$error?(u(),f("span",ft,x(l(C).emp_doc_name.required.$message.replace("Value","Documents")),1)):F("",!0)])]),e("div",bt,[e("div",vt,[gt,e("div",ht,[t(T),yt,g.emp_upload_doc?(u(),f("div",xt,x(g.emp_upload_doc.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:d[5]||(d[5]=h=>S(h)),class:J([l(C).emp_upload_doc.$error?"p-invalid":""])},null,34)]),l(C).emp_upload_doc.$error?(u(),f("span",$t,x(l(C).emp_upload_doc.required.$message.replace("Value","document")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:oe},"Submit")])])])])]),_:1},8,["visible"]),Dt,t(O,{value:l(r).employeeDetails.profile_completeness},null,8,["value"]),wt]),e("div",kt,[e("div",Pt,[Ct,l(r).employeeDetails.active==1?(u(),f("p",Vt," Active ")):(u(),f("p",Et,"Not Active"))]),e("div",St,[Lt,l(r).employeeDetails.user_code?(u(),f("p",Ut,x(l(r).employeeDetails.user_code),1)):(u(),f("p",Tt,"-"))]),e("div",Nt,[Ft,l(r).employeeDetails.get_employee_office_details.designation?(u(),f("p",It,x(l(r).employeeDetails.get_employee_office_details.designation),1)):(u(),f("p",Bt,"-"))]),e("div",At,[Rt,l(r).employeeDetails.get_employee_office_details.work_location?(u(),f("p",Mt,x(l(r).employeeDetails.get_employee_office_details.work_location),1)):(u(),f("p",jt,"-"))]),e("div",qt,[e("p",Yt,[w(" Department "),e("a",{href:"#",class:"edit-icon",onClick:d[7]||(d[7]=h=>m.value=!0)},Ht)]),l(r).employeeDetails.get_employee_office_details.department_id?(u(),f("p",Gt,x(l(r).employeeDetails.get_employee_office_details.department_name),1)):(u(),f("p",Kt,"-"))]),e("div",Wt,[e("p",zt,[w(" Reporting To "),e("a",{href:"#",class:"edit-icon",onClick:d[8]||(d[8]=h=>a.value=!0)},Qt)]),l(r).employeeDetails.get_employee_office_details.l1_manager_code?(u(),f("p",Xt,x(l(r).employeeDetails.get_employee_office_details.l1_manager_name)+" - "+x(l(r).employeeDetails.get_employee_office_details.l1_manager_code),1)):(u(),f("p",Zt,"-"))])]),eo])])])])]),t(V,{header:"Status",visible:i.value,"onUpdate:visible":d[9]||(d[9]=h=>i.value=h),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:_(()=>[e("div",to,[oo,e("span",null,x(b.value),1)])]),_:1},8,["visible"]),t(V,{visible:m.value,"onUpdate:visible":d[11]||(d[11]=h=>m.value=h),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:_(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:L}," Save ")])]),default:_(()=>[t(p,{options:B.value,optionLabel:"name",modelValue:y.department,"onUpdate:modelValue":d[10]||(d[10]=h=>y.department=h),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(V,{visible:a.value,"onUpdate:visible":d[13]||(d[13]=h=>a.value=h),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:_(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:q}," Save ")])]),default:_(()=>[t(p,{optionLabel:"name",options:A.value,modelValue:y.reporting_manager,"onUpdate:modelValue":d[12]||(d[12]=h=>y.reporting_manager=h),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(V,{visible:E.value,"onUpdate:visible":d[14]||(d[14]=h=>E.value=h),modal:"",header:"",style:{width:"40vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:_(()=>[e("div",so,[e("img",{src:`${l(r).employeeDetails.client_logo}`,alt:"",class:"",style:{height:"40px",width:"140px"}},null,8,ao),e("div",lo,[e("div",io,[l(r).profile?(u(),f("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border",src:`data:image/png;base64,${l(r).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"120px",height:"120px"}},null,8,no)):F("",!0)]),e("h5",ro,x(l(r).employeeDetails.name),1),l(r).employeeDetails.get_employee_office_details.department_id?(u(),f("h5",co,x(l(r).employeeDetails.get_employee_office_details.department_name),1)):(u(),f("h1",po,"-")),l(r).employeeDetails.user_code?(u(),f("h5",_o,x(l(r).employeeDetails.user_code),1)):(u(),f("p",mo,"-"))])])]),_:1},8,["visible"]),t(V,{header:"Header",visible:n.value,"onUpdate:visible":d[15]||(d[15]=h=>n.value=h),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(Z,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[uo]),_:1},8,["visible"])],64)}}};const bo={class:"mb-2 card"},vo={class:"card-body"},go={class:"fw-bold fs-15"},ho={class:"space-between"},yo={class:"flex-col input_text"},xo=e("span",null,[w("Name "),e("span",{class:"text-danger"},"*")],-1),$o={class:"flex-col input_text"},Do=e("span",null,[w("Relationship"),e("span",{class:"text-danger"},"*")],-1),wo={class:"space-between M-T"},ko={class:"flex-col input_text"},Po=e("span",null,[w("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Co={class:"flex-col input_text"},Vo=e("span",null,[w("phone"),e("span",{class:"text-danger"},"*")],-1),Eo={class:"my-6 table-responsive"},So={key:0},Lo={key:1},Uo=["onClick"],To=["onClick"],No={class:"space-between"},Fo={class:"flex-col input_text"},Io=e("span",null,[w("Name "),e("span",{class:"text-danger"},"*")],-1),Bo={class:"flex-col input_text"},Ao=e("span",null,[w("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ro={class:"space-between M-T"},Mo={class:"flex-col input_text"},jo=e("span",null,[w("Date of birth "),e("span",{class:"text-danger"},"*")],-1),qo={class:"flex-col input_text"},Yo=e("span",null,[w("phone"),e("span",{class:"text-danger"},"*")],-1),Oo={__name:"FamilyDetails",setup(z){const P=K(),n=W(),E=te();$("");const y=$(!1),g=$(!1),s=G({name:"",relationship:"",dob:"",phone_number:""}),o=G({name:"",relationship:"",dob:"",phone_number:""}),r=$(),R=()=>{n.loading_screen=!0;let i=`/add-family-info/${P.current_user_id}`;I.post(i,{user_code:n.employeeDetails.user_code,name:s.name,relationship:s.relationship,dob:s.dob,phone_number:s.phone_number}).then(b=>{b.data.status=="success"?(E.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),n.employeeDetails.get_family_details.dob=useDateFormat(s.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=s.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=s.phone_number):b.data.status=="failure"}).catch(b=>{console.log(b)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),y.value=!1},B=a=>{g.value=!0,r.value=a.id,o.name=a.name,o.relationship=a.relationship,o.dob=a.dob,o.phone_number=a.phone_number},A=a=>{n.loading_screen=!0,r.value=a.id;let b=` /delete-family-info/${P.current_user_id}`;I.post(b,{current_table_id:r.value}).then(L=>{L.data.status=="success"?(E.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),n.employeeDetails.get_family_details.dob=useDateFormat(s.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=s.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=s.phone_number):L.data.status=="failure"&&(leave_data.leave_request_error_messege=L.data.message)}).catch(L=>{console.log(L)}).finally(()=>{n.loading_screen=!1,n.fetchEmployeeDetails()})},m=a=>{n.loading_screen=!0;let b=`/update-family-info/${P.current_user_id}`;I.post(b,{user_code:n.employeeDetails.user_code,current_table_id:r.value,name:o.name,relationship:o.relationship,dob:o.dob,phone_number:o.phone_number}).then(L=>{L.data.status=="success"?(E.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),n.employeeDetails.get_family_details.dob=useDateFormat(o.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=o.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=o.phone_number):L.data.status=="failure"&&(leave_data.leave_request_error_messege=L.data.message)}).catch(L=>{console.log(L)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),g.value=!1};return X(()=>{}),(a,i)=>{const b=D("Toast"),L=D("Dialog"),q=D("Column"),Y=D("DataTable");return u(),f("div",bo,[e("div",vo,[e("h6",go,[w("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"79%"},onClick:i[0]||(i[0]=S=>y.value=!0)}," Add New "),t(L,{visible:y.value,"onUpdate:visible":i[5]||(i[5]=S=>y.value=S),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:_(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:_(()=>[t(b),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:R},"submit")])]),default:_(()=>[e("div",ho,[e("div",yo,[xo,M(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":i[1]||(i[1]=S=>s.name=S)},null,512),[[H,s.name]])]),e("div",$o,[Do,M(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":i[2]||(i[2]=S=>s.relationship=S),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[H,s.relationship]])])]),e("div",wo,[e("div",ko,[Po,M(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":i[3]||(i[3]=S=>s.dob=S)},null,512),[[H,s.dob]])]),e("div",Co,[Vo,M(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":i[4]||(i[4]=S=>s.phone_number=S)},null,512),[[H,s.phone_number]])])])]),_:1},8,["visible"])]),e("div",Eo,[t(Y,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:l(n).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[t(q,{header:"Name",field:"name",style:{"min-width":"8rem"}}),t(q,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),t(q,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:_(S=>[S.data.dob=="Invalid Date"?(u(),f("div",So," - ")):(u(),f("div",Lo,x(l(je)(S.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),t(q,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),t(q,{exportable:!1,header:"Action",style:{"min-width":"8rem"}},{body:_(S=>[e("button",{class:"mr-3 btn btn-success",onClick:c=>B(S.data)},"Edit",8,Uo),e("button",{class:"btn btn-danger",onClick:c=>A(S.data)},"Delete",8,To),e("template",null,[t(L,{visible:g.value,"onUpdate:visible":i[10]||(i[10]=c=>g.value=c),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:_(()=>[t(b),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:m},"submit")])]),default:_(()=>[e("div",No,[e("div",Fo,[Io,M(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":i[6]||(i[6]=c=>o.name=c),required:""},null,512),[[H,o.name]])]),e("div",Bo,[Ao,M(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":i[7]||(i[7]=c=>o.relationship=c),required:""},null,512),[[H,o.relationship]])])]),e("div",Ro,[e("div",Mo,[jo,M(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":i[8]||(i[8]=c=>o.dob=c)},null,512),[[H,o.dob]])]),e("div",qo,[Yo,M(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":i[9]||(i[9]=c=>o.phone_number=c)},null,512),[[H,o.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}};const Ho=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),Go={class:"tab-content",id:"pills-tabContent"},Ko={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},Wo=e("div",{class:"mb-2 card"},[e("div",{class:"card-body"},[e("form",{action:"",method:"POST",enctype:"multipart/form-data"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:"mb-2 fw-bold fs-15 z-0"}," Payroll Summary ")]),e("ul",{class:"personal-info"},[e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Last Processed"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Total Working Days"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1"},[e("div",{class:"title"},"Loss Of Pay(LOP)"),e("div",{class:"text"}," - ")])])])])],-1),zo={class:"mb-2 card"},Jo={class:"card-body"},Qo=e("i",{class:"ri-pencil-fill"},null,-1),Xo=[Qo],Zo={class:"modal-body"},es={class:"row"},ts={class:"col-md-6"},os={class:"mb-3 form-group"},ss=e("label",null,"Bank Name",-1),as={class:"col-md-6"},ls={class:"mb-3 form-group"},is=e("label",null,"Bank Account No",-1),ns=e("div",{class:"cal-icon"},null,-1),ds={class:"col-md-6"},rs={class:"mb-3 form-group"},cs=e("label",null,"IFSC Code",-1),ps={class:"col-md-6"},_s={class:"mb-3 form-group"},ms=e("label",null,"PAN No",-1),us={class:"col-md-6"},fs={class:"floating"},bs=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),vs={class:"flex justify-content-start"},gs=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),hs={class:"personal-info"},ys=e("div",{class:"title"},"Bank Name",-1),xs={class:"text"},$s=e("div",{class:"title"},"Bank Account No.",-1),Ds={class:"text"},ws=e("div",{class:"title"},"IFSC Code",-1),ks={class:"text"},Ps=e("div",{class:"title"},"PAN No",-1),Cs={class:"text w-20"},Vs={class:"personal-edit"},Es={href:"#",class:"edit-icon",style:{color:"#e63b1f"}},Ss={class:"modal-body"},Ls={class:"row"},Us={class:"col-md-6"},Ts={class:"mb-3 form-group"},Ns=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),Fs={key:0,class:"text-red-400 fs-6 font-semibold"},Is={class:"col-md-6 d-flex flex-column"},Bs={class:"d-flex justify-items-center flex-column ml-10"},As=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),Rs={class:"d-flex justify-items-center align-items-center"},Ms=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),js={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},qs={key:0,class:"text-red-400 fs-6 font-semibold"},Ys={class:"mb-2 card"},Os={class:"card-body"},Hs={class:"mb-2 fw-bold fs-15"},Gs={class:"personal-edit"},Ks=e("i",{class:"ri-pencil-fill"},null,-1),Ws=[Ks],zs={class:"modal-body"},Js={class:"row"},Qs={class:"col-md-6"},Xs={class:"floating"},Zs=e("label",{for:"",class:"float-label"},[w("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),ea=e("option",{value:"",hidden:"",selected:"",disabled:""},"PF Applicable",-1),ta=e("option",{value:"yes"},"Yes",-1),oa=e("option",{value:"no"},"No",-1),sa=[ea,ta,oa],aa={class:"col-md-6"},la={class:"mb-3 form-group"},ia=e("label",null,"EPF Number",-1),na={class:"col-md-6"},da={class:"mb-3 form-group"},ra=e("label",null,"UAN Number",-1),ca={class:"col-md-6"},pa={class:"mb-3 form-group"},_a=e("label",{class:"float-label"},[w("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),ma=e("option",{value:"",hidden:"",selected:"",disabled:""},"ESIC Applicable",-1),ua=e("option",{value:"yes"}," Yes ",-1),fa=e("option",{value:"no"}," No ",-1),ba=[ma,ua,fa],va={class:"col-md-6"},ga={class:"floating"},ha=e("label",{for:"",class:"float-label"},"ESIC Number",-1),ya=e("span",{class:"error",id:"error_esic_number"},null,-1),xa=e("div",{class:"col-md-6"},[e("div",{class:"floating"},[e("span",{class:"error",id:"error_esic_number"})])],-1),$a={key:0,class:"personal-info"},Da=e("div",{class:"title"},"PF Applicable",-1),wa={class:"text"},ka=e("div",{class:"title"},"EPF Number",-1),Pa={class:"text"},Ca=e("div",{class:"title"},"UAN Number",-1),Va={class:"text"},Ea=e("div",{class:"title"},"ESIC Applicable",-1),Sa={class:"text"},La=e("div",{class:"title"},"ESIC Number",-1),Ua={class:"text"},Ta={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Na={class:"mb-2 card"},Fa={class:"card-body"},Ia=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Ba={__name:"FinanceDetails",setup(z){const P=te(),n=$(!1),E=$(!1);let y=new FormData;y.append("user_code",K.current_user_code),y.append("file_object",W.value);let g="/profile-pages/updateProfilePicture";I.post(g,y).then(N=>{}).finally(()=>{console.log("Photo Sent")});const s=W(),o=K(),r=$([]),R=$();r.value.push(s.employeeDetails.get_statutory_details),X(()=>{o.getBankList().then(N=>{R.value=N.data}),s.fetchEmployeeDetails()});const B=$(!1),A=$(!1);$(),$();const m=G({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),a=G({pan_no:"",Pancard:""}),i=N=>{N.target.files&&N.target.files[0]&&(m.PassBook=N.target.files[0],console.log(m.PassBook))},b=ee(()=>{if(s.employeeDetails.get_statutory_details.esic_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.esic_applicable=="yes")return"Yes"}),L=ee(()=>{if(s.employeeDetails.get_statutory_details.pf_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.pf_applicable=="yes")return"Yes"}),q=()=>{n.value=!0;let p=`/update-bank-info/${o.current_user_id}`,V=new FormData;V.append("user_code",s.employeeDetails.user_code),V.append("bank_id",m.bank_id),V.append("account_no",m.bank_ac_no),V.append("bank_ifsc",m.ifsc_code),V.append("PassBook",m.PassBook),V.append("onboard_document_type","Cheque leaf/Bank Passbook"),I.post(p,V).then(O=>{O.data.status=="success"?(P.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),s.employeeDetails.get_employee_details.bank_id=m.bank_id,s.employeeDetails.get_employee_details.bank_account_number=m.bank_ac_no,s.employeeDetails.get_employee_details.bank_ifsc_code=m.ifsc_code,s.employeeDetails.get_employee_details.pan_no=m.pan_no):O.data.status=="failure"&&(leave_data.leave_request_error_messege=O.data.message)}).catch(O=>{console.log(O)}).finally(()=>{s.fetchEmployeeDetails(),n.value=!1}),B.value=!1};function Y(){m.bank_id=parseInt(s.employeeDetails.get_employee_details.bank_id),m.bank_ac_no=s.employeeDetails.get_employee_details.bank_account_number,m.ifsc_code=s.employeeDetails.get_employee_details.bank_ifsc_code,m.pan_no=s.employeeDetails.get_employee_details.pan_number,B.value=!0}function S(){c.pf_applicable=s.employeeDetails.get_statutory_details.pf_applicable,c.epf_no=s.employeeDetails.get_statutory_details.epf_number,c.uan_no=s.employeeDetails.get_statutory_details.uan_number,c.esic_applicable=s.employeeDetails.get_statutory_details.esic_applicable,c.esic_no=s.employeeDetails.get_statutory_details.esic_number,A.value=!0}const c=G({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),C=()=>{n.value=!0;let p=`/update-statutory-info/${o.current_user_id}`;I.post(p,{user_code:s.employeeDetails.user_code,pf_applicable:c.pf_applicable,epf_number:c.epf_no,uan_number:c.uan_no,esic_applicable:c.esic_applicable,esic_number:c.esic_no}).then(V=>{V.data.status=="success"?P.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):V.data.status=="failure"&&(leave_data.leave_request_error_messege=V.data.message)}).catch(V=>{console.log(V)}).finally(()=>{s.fetchEmployeeDetails(),n.value=!1}),A.value=!1},oe=N=>{N.target.files&&N.target.files[0]&&(a.Pancard=N.target.files[0],console.log(a.Pancard))},se=()=>{n.value=!0;const p=`/update-Pancard-info/${o.current_user_id}`,V=new FormData;V.append("pan_no",a.pan_no),V.append("pancard",a.Pancard),V.append("user_code",s.employeeDetails.user_code),V.append("onboard_document_type","Pan Card"),E.value=!1,a.Pancard&&I.post(p,V).finally(()=>{n.value=!1})},U=ee(()=>({pan_no:{required:Q},Pancard:{required:Q}})),d=ne(U,a),T=()=>{d.value.$validate(),d.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),se())};return(N,p)=>{const V=D("Dropdown"),O=D("InputText"),Z=D("Toast"),h=D("Dialog"),de=D("InputMask"),re=D("ProgressSpinner");return u(),f("div",null,[Ho,e("div",Go,[e("div",Ko,[Wo,e("div",zo,[e("div",Jo,[e("h6",{class:"mb-2 fw-bold fs-15"},[w("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:Y},Xo)])]),t(h,{visible:B.value,"onUpdate:visible":p[5]||(p[5]=v=>B.value=v),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:_(()=>[e("div",null,[e("div",Zo,[e("div",es,[e("div",ts,[e("div",os,[ss,t(V,{editable:"",options:R.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:m.bank_id,"onUpdate:modelValue":p[0]||(p[0]=v=>m.bank_id=v)},null,8,["options","modelValue"])])]),e("div",as,[e("div",ls,[is,ns,t(O,{class:"form-controls onboard-form pl-2",inputId:"integeronly",name:"account_no",min:0,max:100,type:"number",modelValue:m.bank_ac_no,"onUpdate:modelValue":p[1]||(p[1]=v=>m.bank_ac_no=v)},null,8,["modelValue"])])]),e("div",ds,[e("div",rs,[cs,t(O,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:m.ifsc_code,"onUpdate:modelValue":p[2]||(p[2]=v=>m.ifsc_code=v)},null,8,["modelValue"])])]),e("div",ps,[e("div",_s,[ms,t(O,{type:"text",name:"pan_nos",class:"form-controls pl-2",modelValue:m.pan_no,"onUpdate:modelValue":p[3]||(p[3]=v=>m.pan_no=v)},null,8,["modelValue"])])]),e("div",us,[e("div",fs,[bs,e("div",vs,[t(Z),gs,e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:p[4]||(p[4]=v=>i(v))},null,32)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:q},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",hs,[e("li",null,[ys,e("div",xs,x(l(s).employeeDetails.get_employee_details.bank_name),1)]),e("li",null,[$s,e("div",Ds,x(l(s).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[ws,e("div",ks,x(l(s).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[Ps,e("div",Cs,[w(x(l(s).employeeDetails.get_employee_details.pan_number)+" ",1),e("span",Vs,[e("a",Es,[e("i",{class:"ri-pencil-fill",onClick:p[6]||(p[6]=v=>E.value=!0)})])])])])])])])]),t(h,{visible:E.value,"onUpdate:visible":p[9]||(p[9]=v=>E.value=v),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:_(()=>[e("div",null,[e("div",Ss,[e("div",Ls,[e("div",Us,[e("div",Ts,[Ns,t(de,{onFocusout:N.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:a.pan_no,"onUpdate:modelValue":p[7]||(p[7]=v=>a.pan_no=v),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:J(["form-controls pl-2",[l(d).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),l(d).pan_no.$error?(u(),f("span",Fs,x(l(d).pan_no.required.$message.replace("Value","Pancard number")),1)):F("",!0)])]),e("div",Is,[e("div",Bs,[As,e("div",Rs,[t(Z),Ms,a.Pancard?(u(),f("div",js,x(a.Pancard.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:p[8]||(p[8]=v=>oe(v)),class:J([l(d).Pancard.$error?"p-invalid":""])},null,34)]),l(d).Pancard.$error?(u(),f("span",qs,x(l(d).Pancard.required.$message.replace("Value","Pancard attachment")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:T},"Submit")])])])])]),_:1},8,["visible"]),e("div",Ys,[e("div",Os,[e("h6",Hs,[w("Statutory Information "),e("span",Gs,[e("a",{href:"#",class:"edit-icon",onClick:p[10]||(p[10]=v=>S())},Ws)])]),t(h,{visible:A.value,"onUpdate:visible":p[16]||(p[16]=v=>A.value=v),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:_(()=>[e("div",zs,[e("div",Js,[e("div",Qs,[e("div",Xs,[Zs,M(e("select",{placeholder:"PF Applicable",name:"pf_applicable",id:"pf_applicable",class:"onboard-form form-control textbox select2_form_without_search","onUpdate:modelValue":p[11]||(p[11]=v=>c.pf_applicable=v)},sa,512),[[ae,c.pf_applicable]])])]),e("div",aa,[e("div",la,[ia,M(e("input",{type:"text",placeholder:"EPF Number",name:"epf_number",id:"epf_number",class:"onboard-form form-control","onUpdate:modelValue":p[12]||(p[12]=v=>c.epf_no=v)},null,512),[[H,c.epf_no]])])]),e("div",na,[e("div",da,[ra,M(e("input",{name:"uan_number",id:"uan_number",minlength:"12",maxlength:"12",class:"form-control onboard-form",type:"text","pattern-data":"ifsc",required:"","onUpdate:modelValue":p[13]||(p[13]=v=>c.uan_no=v)},null,512),[[H,c.uan_no]])])]),e("div",ca,[e("div",pa,[_a,M(e("select",{placeholder:"ESIC Applicable",name:"esic_applicable",id:"esic_applicable",class:"onboard-form form-control textbox select2_form_without_search",required:"","onUpdate:modelValue":p[14]||(p[14]=v=>c.esic_applicable=v)},ba,512),[[ae,c.esic_applicable]])])]),e("div",va,[e("div",ga,[ha,M(e("input",{type:"text",placeholder:"ESIC Number",name:"esic_number",id:"esic_number",minlength:"10",maxlength:"10",class:"onboard-form form-control textbox","onUpdate:modelValue":p[15]||(p[15]=v=>c.esic_no=v)},null,512),[[H,c.esic_no]]),ya])]),xa]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:C},"Save")])])])]),_:1},8,["visible"]),l(s).employeeDetails.get_statutory_details?(u(),f("ul",$a,[e("li",null,[Da,e("div",wa,x(l(L)),1)]),e("li",null,[ka,e("div",Pa,x(l(s).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[Ca,e("div",Va,x(l(s).employeeDetails.get_statutory_details.uan_number),1)]),e("li",null,[Ea,e("div",Sa,x(l(b)),1)]),e("li",null,[La,e("div",Ua,x(l(s).employeeDetails.get_employee_details.account_no)+" "+x(l(s).employeeDetails.get_statutory_details.esic_number),1)])])):F("",!0)])])]),e("div",Ta,[e("div",Na,[e("div",Fa,[t(qe)])])])]),t(h,{header:"Header",visible:n.value,"onUpdate:visible":p[17]||(p[17]=v=>n.value=v),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(re,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[Ia]),_:1},8,["visible"])])}}};const Aa={class:"mb-2 card"},Ra={class:"card-body"},Ma={class:"fw-bold fs-15"},ja={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},qa={class:"space-between"},Ya={class:"flex-col input_text"},Oa=e("span",null,[w("Company Name "),e("span",{class:"text-danger"},"*")],-1),Ha={class:"flex-col input_text"},Ga=e("span",null,[w(" Location"),e("span",{class:"text-danger"},"*")],-1),Ka={class:"space-between M-T"},Wa={class:"flex-col input_text"},za=e("span",null,[w("Job Position "),e("span",{class:"text-danger"},"*")],-1),Ja={class:"flex-col input_text",style:{"margin-right":"7px"}},Qa=e("span",{style:{paddingLeft:"6px"}},[w("Period From"),e("span",{class:"text-danger"},"*")],-1),Xa={class:"space-between M-T"},Za={class:"flex-col input_text",style:{marginLeft:"-6px"}},el=e("span",{style:{paddingLeft:"6px"}},[w("Period To "),e("span",{class:"text-danger"},"*")],-1),tl={class:"my-6 table-responsive"},ol=["onClick"],sl=["onClick"],al={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},ll={class:"space-between"},il={class:"flex-col input_text"},nl=e("span",null,[w("Company Name "),e("span",{class:"text-danger"},"*")],-1),dl={class:"flex-col input_text"},rl=e("span",null,[w(" Location"),e("span",{class:"text-danger"},"*")],-1),cl={class:"space-between M-T"},pl={class:"flex-col input_text"},_l=e("span",null,[w("Job Position "),e("span",{class:"text-danger"},"*")],-1),ml={class:"flex-col input_text",style:{"margin-right":"7px"}},ul=e("span",{style:{paddingLeft:"6px"}},[w("Period From"),e("span",{class:"text-danger"},"*")],-1),fl={class:"space-between M-T"},bl={class:"flex-col input_text",style:{marginLeft:"-6px"}},vl=e("span",{style:{paddingLeft:"6px"}},[w("Period To "),e("span",{class:"text-danger"},"*")],-1),gl={__name:"ExperienceDetails",setup(z){const P=K(),n=W(),E=te();te(),$("");const y=$(!1),g=$(!1),s=$(),o=G({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),r=()=>{console.log(o),n.loading_screen=!0;let a=`/add-experience-info/${P.current_user_id}`;I.post(a,{user_code:n.employeeDetails.user_code,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:o.period_from,period_to:o.period_to}).then(i=>{i.data.status=="success"?E.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):i.data.status=="failure"&&(leave_data.leave_request_error_messege=i.data.message)}).catch(i=>{console.log(i)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),y.value=!1};X(()=>{});const R=m=>{g.value=!0,s.value=m.id,console.log(s.value),o.company_name=m.company_name,o.location=m.location,o.job_position=m.job_position,o.period_from=m.period_from,o.period_to=m.period_to},B=m=>{g.value=!1;let i=`/update-experience-info/${P.current_user_id}`;I.post(i,{user_code:n.employeeDetails.user_code,exp_current_table_id:s.value,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:o.period_from,period_to:o.period_to}).then(b=>{b.data.status=="success"?(window.location.reload(),E.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)})},A=m=>{s.value=m.id;let i=`/delete-experience-info/${P.current_user_id}`;I.post(i,{exp_current_table_id:s.value}).then(b=>{b.data.status=="success"?E.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1})};return(m,a)=>{const i=D("InputText"),b=D("Calendar"),L=D("Toast"),q=D("Dialog"),Y=D("Column"),S=D("DataTable");return u(),f("div",null,[e("div",Aa,[e("div",Ra,[e("h6",Ma,[w("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"76%"},onClick:a[0]||(a[0]=c=>y.value=!0)}," Add New "),t(q,{visible:y.value,"onUpdate:visible":a[6]||(a[6]=c=>y.value=c),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:_(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:_(()=>[e("div",null,[t(L),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:r},"submit")])]),default:_(()=>[e("div",ja,[e("div",qa,[e("div",Ya,[Oa,t(i,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":a[1]||(a[1]=c=>o.company_name=c),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",Ha,[Ga,t(i,{type:"text",modelValue:o.location,"onUpdate:modelValue":a[2]||(a[2]=c=>o.location=c),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",Ka,[e("div",Wa,[za,t(i,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":a[3]||(a[3]=c=>o.job_position=c),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",Ja,[Qa,t(b,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":a[4]||(a[4]=c=>o.period_from=c),style:j({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",Xa,[e("div",Za,[el,t(b,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":a[5]||(a[5]=c=>o.period_to=c),class:"",style:j({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])]),e("div",tl,[t(S,{ref:"dt",value:l(n).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[t(Y,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),t(Y,{field:"location",header:"Location",style:{"min-width":"8rem"}}),t(Y,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),t(Y,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),t(Y,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),t(Y,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:_(c=>[e("button",{class:"mr-3 btn btn-success",onClick:C=>R(c.data)},"Edit",8,ol),e("button",{class:"btn btn-danger",onClick:C=>A(c.data)},"Delete",8,sl),e("template",null,[t(q,{visible:g.value,"onUpdate:visible":a[13]||(a[13]=C=>g.value=C),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:_(()=>[e("div",null,[t(L),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:a[12]||(a[12]=C=>B())},"submit")])]),default:_(()=>[e("div",al,[e("div",ll,[e("div",il,[nl,t(i,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":a[7]||(a[7]=C=>o.company_name=C),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",dl,[rl,t(i,{type:"text",modelValue:o.location,"onUpdate:modelValue":a[8]||(a[8]=C=>o.location=C),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",cl,[e("div",pl,[_l,t(i,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":a[9]||(a[9]=C=>o.job_position=C),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",ml,[ul,t(b,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":a[10]||(a[10]=C=>o.period_from=C),style:j({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",fl,[e("div",bl,[vl,t(b,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":a[11]||(a[11]=C=>o.period_to=C),class:"",style:j({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},hl={class:"table-responsive"},yl={class:"w-full h-full d-flex justify-content-center"},xl=["src"],$l=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Dl={__name:"documents",setup(z){const P=W();K();const n=$({}),E=$(!1),y=$(),g=$(!1),s=o=>{n.value={...o},console.log(n.value),console.log(n.value.doc_url),E.value=!0,g.value=!0,I.post("/view-profile-private-file",{user_code:P.employeeDetails.user_code,document_name:n.value.document_name}).then(r=>{console.log(r.data.data),y.value=r.data.data,console.log("data sent",y.value)}).finally(()=>{g.value=!1})};return(o,r)=>{const R=D("Column"),B=D("Button"),A=D("DataTable"),m=D("Dialog"),a=D("ProgressSpinner");return u(),f("div",hl,[t(A,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:l(P).employeeDetails.employee_documents,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[t(R,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:_(()=>[w(x(l(P).employeeDetails.employee_documents.document_name),1)]),_:1}),t(R,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:_(()=>[w(x(l(P).employeeDetails.employee_documents.status),1)]),_:1}),t(R,{field:"reason",header:"Reason ",style:{"min-width":"12rem"}}),t(R,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:_(i=>[t(B,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:b=>s(i.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),g.value==!1?(u(),ce(m,{key:0,visible:E.value,"onUpdate:visible":r[0]||(r[0]=i=>E.value=i),modal:"",header:"Documents",style:{width:"40vw"}},{default:_(()=>[e("div",yl,[n.value.doc_url?(u(),f("img",{key:0,src:`data:image/png;base64,${y.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,xl)):F("",!0)])]),_:1},8,["visible"])):F("",!0),t(m,{header:"Header",visible:g.value,"onUpdate:visible":r[1]||(r[1]=i=>g.value=i),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(a,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[$l]),_:1},8,["visible"])])}}},wl=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),kl={class:"profile_page-wrapper mt-30 container-fluid"},Pl={class:"row"},Cl={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},Vl={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},El=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Sl={class:"tab-content",id:"pills-tabContent"},Ll={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Ul={key:0},Tl={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Nl={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Fl={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Il={key:0},Bl={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},Al={__name:"profilePageNew",setup(z){K();let P=W();return X(async()=>{console.log("Loading screen start : "+P.loading_screen),P.fetchEmployeeDetails().then(function(n){console.log("Loading screen end : "+P.loading_screen),console.log("Req done")})}),(n,E)=>{const y=D("Toast"),g=D("ProgressSpinner"),s=D("Dialog");return u(),f(ie,null,[t(y),t(s,{header:"Header",visible:l(P).loading_screen,"onUpdate:visible":E[0]||(E[0]=o=>l(P).loading_screen=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(g,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[wl]),_:1},8,["visible"]),e("div",kl,[e("div",Pl,[l(P).loading_screen?F("",!0):(u(),f("div",Cl,[t(fo)])),e("div",Vl,[El,e("div",Sl,[e("div",Ll,[l(P).loading_screen?F("",!0):(u(),f("div",Ul,[t(Me)]))]),e("div",Tl,[t(Oo)]),e("div",Nl,[t(gl)]),e("div",Fl,[l(P).loading_screen?F("",!0):(u(),f("div",Il,[t(Ba)]))]),e("div",Bl,[t(Dl)])])])])])],64)}}},k=pe(Al),Rl=$e();k.use(_e,{ripple:!0});k.use(Se);k.use(me);k.use(Ee);k.use(Rl);k.directive("tooltip",De);k.directive("badge",we);k.directive("ripple",ue);k.directive("styleclass",ke);k.directive("focustrap",fe);k.component("Button",be);k.component("DataTable",Pe);k.component("Column",Ce);k.component("ColumnGroup",Te);k.component("Row",Ue);k.component("Toast",ve);k.component("ConfirmDialog",ge);k.component("Dropdown",he);k.component("InputText",ye);k.component("Dialog",xe);k.component("ProgressSpinner",Le);k.component("Calendar",Ne);k.component("Textarea",Fe);k.component("Chips",Ie);k.component("MultiSelect",Be);k.component("InputNumber",Ve);k.component("ProgressBar",Re);k.component("InputMask",Ae);k.mount("#profilePage");
