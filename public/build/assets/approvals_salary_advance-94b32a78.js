import{e as i,f as p,q as de,r as n,x as re,z as Z,o as ee,R as O,s as se,c as g,g as e,i as D,j as h,t as w,k as Q,l as d,n as o,h as E,w as J,v as X,p as H,F as le,B as te}from"./app-acc461cd.js";import{a as K}from"./index-362795f3.js";import{r as ae,u as ne}from"./index.esm-6d09ab0d.js";import"./dayjs.min-2f06af28.js";import{L as ie}from"./LoadingSpinner-6a3d20d0.js";/* empty css                                                                       */const ce={__name:"EmployeePayable",props:{source:{type:Array,required:!0}},setup(B){return(v,a)=>(i(),p("div"))}},oe=de("SalaryAdvanceApprovals",()=>{const B=n(),v=n(),a=n(!1);re("$swal");const f=n(),b=Z({});async function _(){a.value=!0;let x="/SalAdvApproverFlow";await K.get(x).then(R=>{B.value=R.data}).finally(()=>{a.value=!1})}async function U(x,R){a.value=!0,v.value=x;let T=R;await K.post("http://localhost:3000/submitApproveAndReject",{record_id:T,status:v=="Approve"?"Approved":v=="Reject"?"Rejected":v,reviewer_comments:""}).then(()=>{}).finally(()=>{a.value=!1})}async function V(x,R,T){v.value=R;let L=R;a.value=!0;let I=x.id;await K.post("/rejectOrApprovedSaladv",{record_id:I,status:L==1?1:L==-1?-1:L,reviewer_comments:T}).then(j=>{j.data.status=="success"?Swal.fire("Success",j.data.message,"success"):Swal.fire("Failure",j.data.message,"error")}).finally(()=>{a.value=!1})}const C=n();async function $(){a.value=!0,C.value="",K.post("/fetch-employee-for-loan-approval",{loan_type:"InterestFreeLoan"}).then(x=>{C.value=x.data}).finally(()=>{a.value=!1})}async function P(x,R,T){let L=R;a.value=!0;let I=x.id;await K.post("/reject-or-approve-loan",{loan_type:"InterestFreeLoan",record_id:I,status:L==1?1:L==-1?-1:L,reviewer_comments:T}).finally(()=>{a.value=!1})}async function S(x,R){a.value=!0,v.value=x;let T=R;await K.post("http://localhost:3000/submitApproveAndReject",{record_id:T,status:v=="Approve"?"Approved":v=="Reject"?"Rejected":v,reviewer_comments:""}).then(()=>{}).finally(()=>{a.value=!1})}const r=n();async function F(){a.value=!0;let x="/fetch-employee-for-loan-approval";await K.post(x,{loan_type:"InterestWithLoan"}).then(R=>{r.value=R.data}).finally(()=>{a.value=!1})}async function M(x,R,T){a.value=!0;let L=R,I=x.id;await K.post("/reject-or-approve-loan",{loan_type:"InterestWithLoan",record_id:I,status:L==1?1:L==-1?-1:L,reviewer_comments:T}).finally(()=>{a.value=!1})}return{salaryAdvance:b,arraySalaryAdvance:B,currentlySelectedStatus:v,Request_comments:f,canShowLoadingScreen:a,getEmpDetails:_,SAbulkApproveAndReject:U,SAapproveAndReject:V,arrayIFL_List:C,getInterestFreeLoanDetails:$,IFLapproveAndReject:P,IFLbulkApproveAndReject:S,arrayIWL:r,getInterestWithLoanDetails:F,IWL_ApproveAndReject:M}});const ue={class:"mr-4 card"},me={class:"px-5 row d-flex justify-content-start align-items-center card-body"},pe={class:"flex justify-between gap-6 my-2"},ve={class:"fs-4"},be={key:0,class:"text-xl font-medium"},_e=e("strong",{class:"text-lg"}," 100%",-1),ge={key:1,class:"fs-4 fw-semibold text-blue-900 font-sans"},he={class:"fs-4 fw-semibold font-sans mr-5"},fe={class:"ml-5 pl-14 fs-4 fw-semibold text-blue-900 font-sans",style:{"border-left":"2px solid black"}},ye={class:"float-right"},we=te('<div class="my-6 widget-card"><div class="grid gap-4 md:grid-cols-2 xl:grid-cols-5 lg:grid-cols-5"><div class="p-3 text-center bg-red-100 border-l-4 rounded-lg tw-card border-l-red-400"><p class="mb-2 font-bold text-ash-medium f-13">Total Advance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-green-100 border-l-4 rounded-lg tw-card border-l-green-400"><p class="mb-2 font-bold text-ash-medium f-13"> Total Repaid Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-blue-100 border-l-4 rounded-lg tw-card border-l-blue-400"><p class="mb-2 font-bold text-ash-medium f-13">Balance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">Not Submited</h6></div><div class="p-2 text-center bg-orange-100 border-l-4 rounded-lg tw-card border-l-orange-400"><p class="mb-2 font-bold text-ash-medium f-13">Pending Request</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-yellow-100 border-l-4 rounded-lg tw-card border-l-yellow-400"><p class="mb-2 font-bold text-ash-medium f-13">Completed Rquests</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div></div></div>',1),xe={class:"table-responsive"},Re=["onClick"],Ae=e("i",{class:"pi pi-ellipsis-v"},null,-1),$e=[Ae],ke={class:"d-flex flex-column p-0 m-0"},Ce=["onClick"],Se=["onClick"],Le=e("div",{class:"confirmation-content"},[e("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}})],-1),Pe=e("h1",{class:"mx-3 fs-4 text-xxl",style:{"border-left":"3px solid var(--orange)","padding-left":"10px"}},"New Salary Advance Request",-1),Te={class:"flex pb-2 bg-gray-100 rounded-lg gap-3"},De={class:"w-4 p-4 mx-4"},Ie=e("span",{class:"font-semibold"},"Required Amount",-1),Ee={class:"text-sm font-semibold text-gray-500"},Ue={class:"w-5 p-4 mx-4"},Ve=e("span",{class:"font-semibold"},"Required Amount",-1),Me={class:"w-full"},Fe={class:"my-2 text-gray-600 fs-5 text-md text-clip"},je={class:"text-black fs-5"},Ne={class:"gap-6 p-4 my-2 bg-gray-100 rounded-lg"},qe=e("span",{class:"font-semibold"},"Reason",-1),Oe={class:"border w-full h-28 rounded bg-slate-50 p-2"},Be={class:"gap-6 p-4 my-2 bg-gray-100 rounded-lg"},We=e("span",{class:"font-semibold"},"Your Comments",-1),ze=e("br",null,null,-1),Ke={key:0,class:"font-semibold text-red-400 fs-6"},He={class:"float-right"},Qe={__name:"salary_advance",setup(B){const v=oe(),a=n([]),f=n(),b=n(),_=n(),U=s=>{_.value.toggle(s)},V=n(),C=n(!1),$=n(!1),P=Z({reviewer_comments:""}),S=n([""]),r=n(),F=n(),M=n(),x=n([{id:1,name:"simma"}]);ee(()=>{v.getEmpDetails()}),n({global:{value:null,matchMode:O.CONTAINS},name:{value:null,matchMode:O.STARTS_WITH,matchMode:O.EQUALS,matchMode:O.CONTAINS},status:{value:"Pending",matchMode:O.EQUALS}});function R(s,c){C.value=!0,b.value=c,V.value=s,M.value=s}async function T(s){C.value=!1,await v.SAapproveAndReject(V.value,s,P.reviewer_comments),b.value=s}function L(){$.value=!0}function I(){$.value=!1}async function j(s){I(),b.value=s,await v.SAbulkApproveAndReject(b.value,v.arraySalaryAdvance)}function N(s,c,k){S.value=s,r.value=k,F.value=c}const q=se(()=>({reviewer_comments:{required:ae}})),u=ne(q,P),l=s=>{u.value.$validate(),u.value.$error?console.log("Form failed validation"):(console.log("Form successfully submitted."),T(s),v.getEmpDetails())};return(s,c)=>{const k=g("Column"),W=g("OverlayPanel"),z=g("DataTable"),y=g("Button"),A=g("Dialog"),Y=g("Textarea");return i(),p(le,null,[e("div",ue,[e("div",me,[e("div",pe,[e("div",ve,[S.value==""?(i(),p("p",be,[D("The company allows employees to request a salary advance of up to "),_e,D(" of their monthly salary.")])):h("",!0),S.value!=""?(i(),p("p",ge,[D("Employee ID : "),e("span",he,w(F.value),1),D(),e("span",fe,"Employee Name : "+w(r.value),1)])):h("",!0)]),e("div",ye,[S.value!=""?(i(),p("button",{key:0,class:"btn btn-border-orange",id:"",onClick:c[0]||(c[0]=m=>S.value="")},"View Report")):h("",!0),S.value==""?(i(),p("button",{key:1,onClick:L,class:"mx-4 btn btn-orange"},"Approval All")):h("",!0)])]),we,e("div",xe,[S.value==""?(i(),Q(z,{key:0,value:E(v).arraySalaryAdvance,paginator:!0,rows:10,class:"",dataKey:"id",onRowExpand:s.onRowExpand,onRowCollapse:s.onRowCollapse,expandedRows:a.value,"onUpdate:expandedRows":c[1]||(c[1]=m=>a.value=m),selection:f.value,"onUpdate:selection":c[2]||(c[2]=m=>f.value=m),selectAll:s.selectAll,onSelectAllChange:s.onSelectAllChange,onRowSelect:s.onRowSelect,onRowUnselect:s.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{default:d(()=>[o(k,{field:"request_id",header:"Request ID",sortable:""}),o(k,{field:"user_code",header:"Employee ID"}),o(k,{field:"name",header:"Employee Name",sortable:!1},{body:d(m=>[e("button",{class:"fw-semibold text-primary",onClick:t=>N(m.data.emp_prevdetails,m.data.user_code,m.data.name)},w(m.data.name),9,Re)]),_:1}),o(k,{field:"advance_amount",header:"Advance Amount"}),o(k,{field:"dedction_date",header:"Date"}),o(k,{field:"status_flow",header:"Status",style:{"min-width":"12rem"}}),o(k,{field:"",header:"Action"},{body:d(m=>[e("button",{class:"",type:"button",onClick:U},$e),o(W,{ref_key:"op",ref:_,style:{width:"160px","margin-top":"12px !important","margin-right":"20px !important"},class:"p-0 m-0"},{default:d(()=>[e("div",ke,[e("button",{class:"fw-semibold text-black hover:bg-gray-200 border-bottom-1 p-2",onClick:t=>R(m.data)},"view",8,Ce),e("button",{class:"fw-semibold text-black hover:bg-gray-200 p-2",onClick:t=>N(m.data.emp_prevdetails,m.data.user_code,m.data.name)},"passed Transaction",8,Se)])]),_:2},1536)]),_:1})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])):h("",!0),o(ce,{source:x.value},null,8,["source"]),S.value!=""?(i(),Q(z,{key:1,value:S.value,paginator:!0,rows:10,class:"",dataKey:"id",onRowExpand:s.onRowExpand,onRowCollapse:s.onRowCollapse,expandedRows:a.value,"onUpdate:expandedRows":c[3]||(c[3]=m=>a.value=m),selection:f.value,"onUpdate:selection":c[4]||(c[4]=m=>f.value=m),selectAll:s.selectAll,onSelectAllChange:s.onSelectAllChange,onRowSelect:s.onRowSelect,onRowUnselect:s.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{default:d(()=>[o(k,{field:"request_id",header:"Request ID",sortable:""}),o(k,{field:"borrowed_amount",header:"Advance Amount"}),o(k,{field:"requested_date",header:"Paid On"}),o(k,{field:"dedction_date",header:"Expected Return"}),o(k,{field:"sal_adv_status",header:"Status"})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])):h("",!0)])])]),o(A,{header:"Confirmation",visible:$.value,"onUpdate:visible":c[7]||(c[7]=m=>$.value=m),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"400px"},modal:!0},{footer:d(()=>[o(y,{label:"Yes",icon:"pi pi-check",onClick:c[5]||(c[5]=m=>j("Approve")),class:"p-button-text",autofocus:""}),o(y,{label:"No",icon:"pi pi-times",onClick:c[6]||(c[6]=m=>I(!0)),class:"p-button-text"})]),default:d(()=>[Le]),_:1},8,["visible"]),o(A,{modal:"",visible:C.value,"onUpdate:visible":c[12]||(c[12]=m=>C.value=m),style:{width:"50vw",borderTop:"5px solid #002f56",height:"100vh"}},{header:d(()=>[Pe]),default:d(()=>[e("div",Te,[e("div",De,[Ie,J(e("input",{id:"rentFrom_month",class:"my-2 border border-black text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5","onUpdate:modelValue":c[8]||(c[8]=m=>M.value.advance_amount=m),disabled:""},null,512),[[X,M.value.advance_amount]]),e("p",Ee,"Max Eligible Amount : "+w(M.value.eligible_amount),1)]),e("div",Ue,[Ve,e("div",Me,[e("p",Fe,[D("The advance amount will be deducted from the next month's salary "),e("strong",je,"(ie,"+w(M.value.dedction_date)+")",1)])])])]),e("div",Ne,[qe,e("div",Oe,w(M.value.reason),1)]),e("div",Be,[We,o(Y,{class:H(["my-3 capitalize form-control textbox",[E(u).reviewer_comments.$error?" border-2 outline-none border-red-500 rounded-lg":""]]),modelValue:P.reviewer_comments,"onUpdate:modelValue":c[9]||(c[9]=m=>P.reviewer_comments=m),autoResize:"",type:"text",rows:"3",style:{border:"none","outline-":"none"}},null,8,["modelValue","class"]),ze,E(u).reviewer_comments.$error?(i(),p("span",Ke,w(E(u).reviewer_comments.$errors[0].$message),1)):h("",!0)]),e("div",He,[e("button",{class:"btn bg-red-500 text-white px-5",onClick:c[10]||(c[10]=m=>l(-1))},"Reject"),e("button",{class:"mx-4 btn bg-green-500 text-white px-5",onClick:c[11]||(c[11]=m=>l(1))},"Approve")])]),_:1},8,["visible"])],64)}}},Ye={class:"mr-4 card"},Ge={class:"px-5 row d-flex justify-content-start align-items-center card-body"},Je={class:"flex justify-between gap-6 my-2"},Xe={class:"fs-4"},Ze={key:0,class:"text-xl font-medium"},et=e("span",{class:"text-lg text-primary text-decoration-underline"}," Company's Loan Policy",-1),tt={key:1,class:"fs-4 fw-semibold text-blue-900 font-sans"},ot={class:"fs-4 fw-semibold font-sans mr-5"},st={class:"ml-5 pl-14 fs-4 fw-semibold text-blue-900 font-sans",style:{"border-left":"2px solid black"}},lt={class:"float-right"},at=e("div",{class:"confirmation-content"},[e("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}})],-1),nt=e("div",null,[e("h1",{style:{"border-left":"3px solid var( --orange)","padding-left":"5px"},class:"fs-4"},"New Interest Free Loan Request")],-1),dt={class:"card bg-gray-100 bottom-0 mb-10",style:{border:"none"}},rt={class:"card-body"},it={class:"row mx-2"},ct={class:"col mx-2"},ut=e("h1",{class:"fs-5 my-2"},"Required Amount",-1),mt={class:"fs-6 my-2",style:{color:"var(--clr-gray)"}},pt={class:"col mx-2"},vt=e("h1",{class:"fs-5 my-2"},"Monthly EMI",-1),bt={class:"col mx-2"},_t=e("h1",{class:"fs-5 my-2"},"Term",-1),gt=e("label",{for:"",class:"fs-5 ml-2",style:{color:"var(--navy)"}},"Months",-1),ht={class:"card bg-gray-100 bottom-0 my-4",style:{border:"none"}},ft={class:"card-body mx-4"},yt={class:"row"},wt=e("h1",{class:"fs-4 my-2"},"EMI Dedution",-1),xt=e("h1",{class:"fs-5 text-gray-600 mb-3"},"The EMI Dedution Will begin from the Upcoming Payroll",-1),Rt={class:"col-4"},At=e("h1",{class:"fs-5 my-2 ml-2"},"EMI Start Month",-1),$t={class:"col-4 mx-2"},kt=e("h1",{class:"fs-5 my-2 ml-2"},"EMI End Month",-1),Ct={class:"col-3"},St=e("h1",{class:"fs-5 my-2 ml-2"},"Total Months",-1),Lt={class:"p-4 my-6 bg-gray-100 rounded-lg gap-6"},Pt=e("span",{class:"font-semibold"},"Reason",-1),Tt={class:"gap-6 p-4 my-6 bg-gray-100 rounded-lg"},Dt=e("span",{class:"font-semibold"},"your Comments",-1),It=e("br",null,null,-1),Et={key:0,class:"font-semibold text-red-400 fs-6"},Ut={class:"float-right"},Vt=te('<div class="my-6 widget-card"><div class="grid gap-4 md:grid-cols-2 xl:grid-cols-5 lg:grid-cols-5"><div class="p-3 text-center bg-red-100 border-l-4 rounded-lg tw-card border-l-red-400"><p class="mb-2 font-bold text-ash-medium f-13">Total Advance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-green-100 border-l-4 rounded-lg tw-card border-l-green-400"><p class="mb-2 font-bold text-ash-medium f-13"> Total Repaid Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-blue-100 border-l-4 rounded-lg tw-card border-l-blue-400"><p class="mb-2 font-bold text-ash-medium f-13">Balance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">Not Submited</h6></div><div class="p-2 text-center bg-orange-100 border-l-4 rounded-lg tw-card border-l-orange-400"><p class="mb-2 font-bold text-ash-medium f-13">Pending Request</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-yellow-100 border-l-4 rounded-lg tw-card border-l-yellow-400"><p class="mb-2 font-bold text-ash-medium f-13">Completed Rquests</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div></div></div>',1),Mt={class:"table-responsive"},Ft=["onClick"],jt={key:0},Nt={key:1},qt=e("i",{class:"pi pi-ellipsis-v"},null,-1),Ot=[qt],Bt={class:"d-flex flex-column p-0 m-0"},Wt=["onClick"],zt=["onClick"],Kt={key:0},Ht={key:1},Qt={key:0,class:"text-orange-500"},Yt={key:1,class:"text-green-500"},Gt={key:2,class:"text-red-500"},Jt={__name:"interest_free_loan",setup(B){const v=oe();ee(async()=>{await v.getInterestFreeLoanDetails()});const a=n([]),f=n(),b=Z({reviewer_comments:""}),_=n(!1),U=n(),V=n(),C=n(!1),$=n([""]),P=n(),S=n(),r=n();n();const F=n(),M=l=>{F.value.toggle(l)};function x(l){_.value=!0,U.value=l,r.value=l}function R(){C.value=!1,_.value=!1}n({global:{value:null,matchMode:O.CONTAINS},name:{value:null,matchMode:O.STARTS_WITH,matchMode:O.EQUALS,matchMode:O.CONTAINS},status:{value:"Pending",matchMode:O.EQUALS}});function T(){C.value=!0}async function L(l){R(),await v.IFLapproveAndReject(U.value,l,b.reviewer_comments),V.value=l}async function I(l){V.value=l,await v.IFLbulkApproveAndReject(V.value,v.arrayIFL_List)}function j(l,s,c){$.value=l,P.value=c,S.value=s}const N=se(()=>({reviewer_comments:{required:ae}})),q=ne(N,b),u=l=>{q.value.$validate(),q.value.$error?console.log("Form failed validation"):(console.log("Form successfully submitted."),L(l))};return(l,s)=>{const c=g("Button"),k=g("Dialog"),W=g("InputText"),z=g("Calendar"),y=g("Textarea"),A=g("Column"),Y=g("OverlayPanel"),m=g("DataTable");return i(),p("div",null,[e("div",Ye,[e("div",Ge,[e("div",Je,[e("div",Xe,[$.value==""?(i(),p("p",Ze,[D("Five Team members are eligible for the Interest Free Loan as per the "),et])):h("",!0),$.value!=""?(i(),p("p",tt,[D("Employee ID : "),e("span",ot,w(S.value),1),D(),e("span",st,"Employee Name : "+w(P.value),1)])):h("",!0)]),e("div",lt,[$.value!=""?(i(),p("button",{key:0,class:"btn btn-border-orange",onClick:s[0]||(s[0]=t=>$.value="")},"View Report")):h("",!0),$.value==""?(i(),p("button",{key:1,class:"mx-2 btn btn-orange",onClick:T}," Approval All ")):h("",!0),o(k,{header:"Confirmation",visible:C.value,"onUpdate:visible":s[3]||(s[3]=t=>C.value=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"400px"},modal:!0},{footer:d(()=>[o(c,{label:"Yes",icon:"pi pi-check",onClick:s[1]||(s[1]=t=>I("Approve")),class:"p-button-text",autofocus:""}),o(c,{label:"No",icon:"pi pi-times",onClick:s[2]||(s[2]=t=>R(!0)),class:"p-button-text"})]),default:d(()=>[at]),_:1},8,["visible"]),o(k,{visible:_.value,"onUpdate:visible":s[14]||(s[14]=t=>_.value=t),header:"Header",style:{width:"58vw"},modal:"",position:l.position},{header:d(()=>[nt]),footer:d(()=>[e("div",Ut,[e("button",{class:"btn bg-red-500 text-white px-5",onClick:s[12]||(s[12]=t=>u(-1))},"Reject"),e("button",{class:"mx-4 btn bg-green-500 text-white px-5",onClick:s[13]||(s[13]=t=>u(1))},"Approve")])]),default:d(()=>[e("div",dt,[e("div",rt,[e("div",it,[e("div",ct,[ut,o(W,{type:"text",placeholder:"₹ Enter The Required Amount",disabled:"",modelValue:r.value.loan_amount,"onUpdate:modelValue":s[4]||(s[4]=t=>r.value.loan_amount=t)},null,8,["modelValue"]),e("p",mt,"Max Eligible Amount : "+w(r.value.eligible_amount),1)]),e("div",pt,[vt,o(W,{type:"text",placeholder:"₹ ",disabled:"",modelValue:r.value.monthly_emi,"onUpdate:modelValue":s[5]||(s[5]=t=>r.value.monthly_emi=t)},null,8,["modelValue"])]),e("div",bt,[_t,o(W,{class:"w-full md:w-10rem",type:"text",placeholder:"₹ ",disabled:"",modelValue:r.value.tenure,"onUpdate:modelValue":s[6]||(s[6]=t=>r.value.tenure=t)},null,8,["modelValue"]),gt])])])]),e("div",ht,[e("div",ft,[e("div",yt,[wt,xt,e("div",Rt,[At,o(z,{showIcon:"",dateFormat:"dd/mm/yy",disabled:"",modelValue:r.value.deduction_starting_month,"onUpdate:modelValue":s[7]||(s[7]=t=>r.value.deduction_starting_month=t)},null,8,["modelValue"])]),e("div",$t,[kt,o(z,{showIcon:"",dateFormat:"dd/mm/yy",disabled:"",modelValue:r.value.deduction_ending_month,"onUpdate:modelValue":s[8]||(s[8]=t=>r.value.deduction_ending_month=t)},null,8,["modelValue"])]),e("div",Ct,[St,o(W,{type:"text",style:{width:"150px !important"},disabled:"",modelValue:r.value.tenure,"onUpdate:modelValue":s[9]||(s[9]=t=>r.value.tenure=t)},null,8,["modelValue"])])])])]),e("div",Lt,[Pt,o(y,{class:"my-3 capitalize form-control textbox",disabled:"",modelValue:r.value.reason,"onUpdate:modelValue":s[10]||(s[10]=t=>r.value.reason=t),autoResize:"",type:"text",rows:"3"},null,8,["modelValue"])]),e("div",Tt,[Dt,o(y,{class:H(["my-3 capitalize form-control textbox",[E(q).reviewer_comments.$error?" border-2 outline-none border-red-500 rounded-lg":""]]),modelValue:b.reviewer_comments,"onUpdate:modelValue":s[11]||(s[11]=t=>b.reviewer_comments=t),autoResize:"",type:"text",rows:"3",style:{border:"none","outline-":"none"}},null,8,["modelValue","class"]),It,E(q).reviewer_comments.$error?(i(),p("span",Et,w(E(q).reviewer_comments.$errors[0].$message),1)):h("",!0)])]),_:1},8,["visible","position"])])]),Vt,e("div",Mt,[$.value==""?(i(),Q(m,{key:0,value:E(v).arrayIFL_List,paginator:!0,rows:10,class:"",dataKey:"id",onRowExpand:l.onRowExpand,onRowCollapse:l.onRowCollapse,expandedRows:a.value,"onUpdate:expandedRows":s[15]||(s[15]=t=>a.value=t),selection:f.value,"onUpdate:selection":s[16]||(s[16]=t=>f.value=t),selectAll:l.selectAll,onSelectAllChange:l.onSelectAllChange,onRowSelect:l.onRowSelect,onRowUnselect:l.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{default:d(()=>[o(A,{field:"request_id",header:"Request ID",sortable:""}),o(A,{field:"user_code",header:"Employee ID"}),o(A,{field:"name",header:"Employee Name",sortable:!1},{body:d(t=>[e("button",{class:"fw-semibold text-primary",onClick:G=>j(t.data.emp_prevdetails,t.data.user_code,t.data.name)},w(t.data.name),9,Ft)]),_:1}),o(A,{field:"loan_amount",header:"Loan Amount"}),o(A,{field:"emi_per_month",header:"Monthly EMI"},{body:d(t=>[e("div",null,[t.data.monthly_emi==null?(i(),p("h1",jt,"-")):(i(),p("h1",Nt,w(t.data.monthly_emi),1))])]),_:1}),o(A,{field:"tenure",header:"Tenure"}),o(A,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:d(()=>[D(w(l.slotProps.data.status),1)]),_:1}),o(A,{field:"",header:"Action"},{body:d(t=>[e("button",{class:"",type:"button",onClick:M},Ot),o(Y,{ref_key:"op",ref:F,style:{width:"160px","margin-top":"12px !important","margin-right":"20px !important"},class:"p-0 m-0"},{default:d(()=>[e("div",Bt,[e("button",{class:"fw-semibold text-black hover:bg-gray-200 border-bottom-1 p-2",onClick:G=>x(t.data)},"view",8,Wt),e("button",{class:"fw-semibold text-black hover:bg-gray-200 p-2",onClick:G=>j(t.data.emp_prevdetails,t.data.user_code,t.data.name)},"passed Transaction",8,zt)])]),_:2},1536)]),_:1})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])):h("",!0),$.value!=""?(i(),Q(m,{key:1,value:$.value,paginator:!0,rows:10,class:"",dataKey:"id",onRowExpand:l.onRowExpand,onRowCollapse:l.onRowCollapse,expandedRows:a.value,"onUpdate:expandedRows":s[17]||(s[17]=t=>a.value=t),selection:f.value,"onUpdate:selection":s[18]||(s[18]=t=>f.value=t),selectAll:l.selectAll,onSelectAllChange:l.onSelectAllChange,onRowSelect:l.onRowSelect,onRowUnselect:l.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{default:d(()=>[o(A,{field:"request_id",header:"Request ID",sortable:""}),o(A,{field:"borrowed_amount",header:"Loan Amount"}),o(A,{field:"loan_amount",header:"Advance Amount"}),o(A,{field:"emi_per_month",header:"Monthly EMI"},{body:d(t=>[e("div",null,[t.data.emi_per_month==null?(i(),p("h1",Kt,"-")):(i(),p("h1",Ht,w(t.data.emi_per_month),1))])]),_:1}),o(A,{field:"tenure_months",header:"Tenure"}),o(A,{field:"deduction_starting_month",header:"EMI Start Date"}),o(A,{field:"deduction_ending_month",header:"EMI Start Date"}),o(A,{field:"status",header:"Status"},{body:d(t=>[t.data.loan_crd_sts==0?(i(),p("h6",Qt," Pending ")):h("",!0),t.data.loan_crd_sts==1?(i(),p("h6",Yt," Approved ")):h("",!0),t.data.loan_crd_sts=="Rejected"?(i(),p("h6",Gt)):h("",!0)]),_:1})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])):h("",!0)])])])])}}},Xt={class:"mr-4 card"},Zt={class:"px-5 row d-flex justify-content-start align-items-center card-body"},eo={class:"flex justify-between gap-6 my-2"},to=e("div",{class:"fs-4"},[e("p",{class:"text-xl font-medium"},[D("Four Team Members are eligible for Travel Advance as per the "),e("span",{class:"text-lg text-primary text-decoration-underline"},"Company's Loan Policy")])],-1),oo={class:"float-right"},so=e("button",{class:"btn btn-border-orange"},"View Report",-1),lo=te('<div class="my-6 widget-card"><div class="grid gap-4 md:grid-cols-2 xl:grid-cols-5 lg:grid-cols-5"><div class="p-3 text-center bg-red-100 border-l-4 rounded-lg tw-card border-l-red-400"><p class="mb-2 font-bold text-ash-medium f-13">Total Advance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-green-100 border-l-4 rounded-lg tw-card border-l-green-400"><p class="mb-2 font-bold text-ash-medium f-13"> Total Repaid Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-blue-100 border-l-4 rounded-lg tw-card border-l-blue-400"><p class="mb-2 font-bold text-ash-medium f-13">Balance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">Not Submited</h6></div><div class="p-2 text-center bg-orange-100 border-l-4 rounded-lg tw-card border-l-orange-400"><p class="mb-2 font-bold text-ash-medium f-13">Pending Request</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-yellow-100 border-l-4 rounded-lg tw-card border-l-yellow-400"><p class="mb-2 font-bold text-ash-medium f-13">Completed Rquests</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div></div></div><h1 class="text-blue-700 mb-2 fs-5 fw-semibold">Pending Approval</h1>',2),ao={class:"table-responsive mb-5"},no=e("h1",{class:"text-blue-700 mb-2 fs-5 fw-semibold mt-1"},"Bills Submitted",-1),ro={class:"table-responsive mt-2"},io=e("div",null,[e("h1",{style:{"border-left":"3px solid var( --orange)","padding-left":"10px"},class:"fs-4"},"New Travel Advance Request")],-1),co=e("div",{class:"flex pb-2 bg-gray-100 rounded-lg gap-7"},[e("div",{class:"w-5 p-4 mx-4"},[e("span",{class:"font-semibold"},"Required Amount"),e("input",{id:"rentFrom_month",class:"my-2 border border-black text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"}),e("p",{class:"text-sm font-semibold text-gray-500"},"Max Eligible Amount : 20,000")])],-1),uo=e("div",{class:"p-4 my-6 bg-gray-100 rounded-lg gap-6"},[e("span",{class:"font-semibold"},"Repayment"),e("p",{class:"my-2 fs-5 text-gray-600 text-md"},[D("The deadline to submit the bills is on salary "),e("strong",{class:"fs-5 text-black"},"12/07/2023")])],-1),mo={class:"p-4 my-6 bg-gray-100 rounded-lg gap-6"},po=e("span",{class:"font-semibold"},"Reason",-1),vo=e("div",{class:"float-right"},[e("button",{class:"btn btn-border-orange"},"Cancel"),e("button",{class:"mx-4 btn btn-orange"},"Submit")],-1),bo=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),_o={__name:"travel_advance",setup(B){ee(()=>{}),n(),n(["Off","On"]);const v=n("center"),a=f=>{v.value=f,useEmpStore.dialog_TravelAdvance=!0};return(f,b)=>{const _=g("Column"),U=g("DataTable"),V=g("Textarea"),C=g("Dialog"),$=g("ProgressSpinner");return i(),p(le,null,[e("div",Xt,[e("div",Zt,[e("div",eo,[to,e("div",oo,[so,e("button",{class:"mx-4 btn btn-orange",onClick:b[0]||(b[0]=P=>a("top"))}," Approval All ")])]),lo,e("div",ao,[o(U,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:f.sample,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:d(()=>[o(_,{header:"Request ID",field:"section",style:{"min-width":"8rem"}}),o(_,{field:"particular",header:"Employee ID",style:{"min-width":"12rem"}}),o(_,{field:"ref",header:"Employee Name",style:{"min-width":"12rem"}}),o(_,{field:"max_limit",header:"Advance Amount",style:{"min-width":"12rem"}}),o(_,{field:"Status",header:"Bill Sub Deadline",style:{"min-width":"12rem"}}),o(_,{field:"Status",header:"Status",style:{"min-width":"12rem"}})]),_:1},8,["value"])]),no,e("div",ro,[o(U,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:f.sample,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:d(()=>[o(_,{header:"Request ID",field:"section",style:{"min-width":"8rem"}}),o(_,{field:"particular",header:"Employee ID",style:{"min-width":"12rem"}}),o(_,{field:"ref",header:"Employee Name",style:{"min-width":"12rem"}}),o(_,{field:"max_limit",header:"Advance Amount",style:{"min-width":"12rem"}}),o(_,{field:"Status",header:"Bill Sub Deadline",style:{"min-width":"12rem"}}),o(_,{field:"Status",header:"Status",style:{"min-width":"12rem"}})]),_:1},8,["value"])])])]),o(C,{visible:f.dialog_TravelAdvance,"onUpdate:visible":b[1]||(b[1]=P=>f.dialog_TravelAdvance=P),modal:"",style:{width:"50vw"}},{header:d(()=>[io]),default:d(()=>[co,uo,e("div",mo,[po,o(V,{class:"my-3 capitalize form-control textbox",autoResize:"",type:"text",rows:"3"})]),vo]),_:1},8,["visible"]),o(C,{header:"Header",visible:f.canShowLoading,"onUpdate:visible":b[2]||(b[2]=P=>f.canShowLoading=P),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:d(()=>[o($,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:d(()=>[bo]),_:1},8,["visible"])],64)}}},go={class:"mr-4 card"},ho={class:"px-5 row d-flex justify-content-start align-items-center card-body"},fo={class:"flex justify-between gap-6 my-2"},yo=e("div",{class:"fs-4"},[e("p",{class:"text-xl font-medium"},[D("Five Team Members are eligible for the Loan with Interest as per the "),e("span",{class:"text-lg text-primary text-decoration-underline"}," Company's Loan Policy")])],-1),wo={class:"float-right"},xo=e("div",null,[e("h1",{style:{"border-left":"3px solid var( --orange)","padding-left":"10px"},class:"fs-4"},"New interest With Loan Request")],-1),Ro={class:"row p-2"},Ao={class:"col-7"},$o={class:"card border-0"},ko={class:"card-body bg-gray-100"},Co={class:"row"},So={class:"col-6",style:{"margin-right":"30px"}},Lo=e("h1",{class:"fs-5 my-2"},"Required Amount",-1),Po={class:"fs-6 my-2",style:{color:"var(--clr-gray)"}},To={class:"col mx-2"},Do=e("h1",{class:"fs-5 my-2"},"Term",-1),Io=e("label",{for:"",class:"fs-5 ml-1",style:{color:"var(--navy)"}},"Month",-1),Eo=e("div",{class:"row"},[e("div",{class:"col-12 pr-5"})],-1),Uo={class:"col"},Vo={class:"row"},Mo={class:"col-12 pl-8 pr-8"},Fo={class:"div p-2 d-flex justify-items-center align-items-center flex-column rounded bg-blue-100 shadow-md"},jo=e("h1",{class:"fw-semibold mt-1 fs-5"},"Interest Rate",-1),No={class:"col pl-8 pr-8"},qo={class:"div d-flex justify-items-center align-items-center flex-column p-2 rounded shadow-md",style:{background:"#FDCFCF"}},Oo={class:"div d-flex justify-content-center align-items-center"},Bo=e("h1",{class:"fw-bolder fs-4"},"₹ ",-1),Wo=e("h1",{class:"fw-semibold mt-2 fs-5"},"Monthly payment",-1),zo={class:"col pl-8 pr-8"},Ko={class:"div d-flex justify-items-center align-items-center flex-column p-2 rounded bg-green-100 shadow-md"},Ho={class:"div d-flex justify-content-center align-items-center"},Qo=e("h1",{class:"fw-bolder fs-4"},"₹ ",-1),Yo=e("h1",{class:"fw-semibold mt-2 fs-5 mx-3"},"Total loan amount",-1),Go={class:"card bg-gray-100 bottom-0 my-4",style:{border:"none"}},Jo={class:"card-body mx-4"},Xo={class:"row"},Zo=e("h1",{class:"fs-4 my-2"},"EMI Dedution",-1),es=e("h1",{class:"fs-5 text-gray-600 mb-3"},"The EMI Dedution Will begin from the Upcoming Payroll",-1),ts={class:"col-4"},os=e("h1",{class:"fs-5 my-2 ml-2"},"EMI Start Month",-1),ss={class:"col-4 mx-2"},ls=e("h1",{class:"fs-5 my-2 ml-2"},"EMI End Month",-1),as={class:"col-3"},ns=e("h1",{class:"fs-5 my-2 ml-2"},"Total Months",-1),ds={class:"p-4 my-6 bg-gray-100 rounded-lg gap-6"},rs=e("span",{class:"font-semibold"},"Reason",-1),is=e("br",null,null,-1),cs={key:0,class:"font-semibold text-red-400 fs-6"},us={class:"float-right"},ms=te('<div class="my-6 widget-card"><div class="grid gap-4 md:grid-cols-2 xl:grid-cols-5 lg:grid-cols-5"><div class="p-3 text-center bg-red-100 border-l-4 rounded-lg tw-card border-l-red-400"><p class="mb-2 font-bold text-ash-medium f-13">Total Advance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-green-100 border-l-4 rounded-lg tw-card border-l-green-400"><p class="mb-2 font-bold text-ash-medium f-13"> Total Repaid Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-blue-100 border-l-4 rounded-lg tw-card border-l-blue-400"><p class="mb-2 font-bold text-ash-medium f-13">Balance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">Not Submited</h6></div><div class="p-2 text-center bg-orange-100 border-l-4 rounded-lg tw-card border-l-orange-400"><p class="mb-2 font-bold text-ash-medium f-13">Pending Request</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-yellow-100 border-l-4 rounded-lg tw-card border-l-yellow-400"><p class="mb-2 font-bold text-ash-medium f-13">Completed Rquests</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div></div></div>',1),ps={class:"table-responsive"},vs=["onClick"],bs={key:0},_s={key:1},gs=e("i",{class:"pi pi-ellipsis-v"},null,-1),hs=[gs],fs={class:"d-flex flex-column p-0 m-0"},ys=["onClick"],ws=["onClick"],xs={key:0},Rs={key:1},As=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),$s={__name:"loan_with_interest",setup(B){const v=oe(),a=n([""]),f=n([]),b=n(),_=n(!1),U=n(),V=n(),C=n(!1),$=n(),P=n(),S=Z({reviewer_comments:""}),r=n(),F=n(),M=u=>{F.value.toggle(u)};ee(()=>{v.getInterestWithLoanDetails()});function x(u){_.value=!0,U.value=u,r.value=u}function R(){C.value=!1,_.value=!1}function T(){C.value=!0}async function L(u){R(),await v.IWL_ApproveAndReject(U.value,u,S.reviewer_comments),V.value=u}function I(u,l,s){a.value=u,$.value=s,P.value=l}const j=se(()=>({reviewer_comments:{required:ae}})),N=ne(j,S),q=u=>{N.value.$validate(),N.value.$error?console.log("Form failed validation"):(console.log("Form successfully submitted."),L(u))};return(u,l)=>{const s=g("InputNumber"),c=g("InputText"),k=g("Calendar"),W=g("Textarea"),z=g("Dialog"),y=g("Column"),A=g("OverlayPanel"),Y=g("DataTable"),m=g("ProgressSpinner");return i(),p("div",null,[e("div",go,[e("div",ho,[e("div",fo,[yo,e("div",wo,[a.value!=""?(i(),p("button",{key:0,class:"btn btn-border-orange",onClick:l[0]||(l[0]=t=>a.value="")},"View Report")):h("",!0),a.value==""?(i(),p("button",{key:1,class:"mx-2 btn btn-orange",onClick:T}," Approval All ")):h("",!0)])]),o(z,{visible:_.value,"onUpdate:visible":l[12]||(l[12]=t=>_.value=t),modal:"",header:"Header",style:{width:"60vw"}},{header:d(()=>[xo]),default:d(()=>[e("div",Ro,[e("div",Ao,[e("div",$o,[e("div",ko,[e("div",Co,[e("div",So,[Lo,o(s,{modelValue:r.value.loan_amount,"onUpdate:modelValue":l[1]||(l[1]=t=>r.value.loan_amount=t),placeholder:"₹ Enter The Required Amount",inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"]),e("p",Po,"Max Eligible Amount : "+w(r.value.eligible_amount),1)]),e("div",To,[Do,o(c,{type:"text",style:{width:"100px !important"},disabled:"",modelValue:r.value.tenure,"onUpdate:modelValue":l[2]||(l[2]=t=>r.value.tenure=t)},null,8,["modelValue"]),Io])]),Eo])])]),e("div",Uo,[e("div",Vo,[e("div",Mo,[e("div",Fo,[J(e("input",{class:"fw-bolder fs-4 text-blue-900 p-2 ml-2 d-flex justify-items-center text-center bg-blue-100",placeholder:"%",style:{width:"100px"},"onUpdate:modelValue":l[3]||(l[3]=t=>r.value.interest_rate=t),disabled:"",prefix:"%"},null,512),[[X,r.value.interest_rate]]),jo])]),e("div",No,[e("div",qo,[e("div",Oo,[Bo,J(e("input",{class:"fw-bolder fs-4 pl-2 text-center",style:{width:"100px",background:"#FDCFCF"},"onUpdate:modelValue":l[4]||(l[4]=t=>r.value.monthly_emi=t),disabled:""},null,512),[[X,r.value.monthly_emi]])]),Wo])]),e("div",zo,[e("div",Ko,[e("div",Ho,[Qo,J(e("input",{"onUpdate:modelValue":l[5]||(l[5]=t=>r.value.total_amount=t),class:"fw-bolder fs-4 pl-2 bg-green-100 text-center",style:{width:"100px"},disabled:""},null,512),[[X,r.value.total_amount]])]),Yo])])])])]),e("div",Go,[e("div",Jo,[e("div",Xo,[Zo,es,e("div",ts,[os,o(k,{modelValue:r.value.deduction_starting_month,"onUpdate:modelValue":l[6]||(l[6]=t=>r.value.deduction_starting_month=t),showIcon:"",class:"w-full md:w-10rem"},null,8,["modelValue"])]),e("div",ss,[ls,o(k,{modelValue:r.value.deduction_ending_month,"onUpdate:modelValue":l[7]||(l[7]=t=>r.value.deduction_ending_month=t),showIcon:""},null,8,["modelValue"])]),e("div",as,[ns,o(c,{type:"text",modelValue:r.value.tenure,"onUpdate:modelValue":l[8]||(l[8]=t=>r.value.tenure=t),disabled:"",style:{width:"150px !important"}},null,8,["modelValue"])])])])]),e("div",ds,[rs,o(W,{modelValue:S.reviewer_comments,"onUpdate:modelValue":l[9]||(l[9]=t=>S.reviewer_comments=t),class:H(["my-3 capitalize form-control textbox",[E(N).reviewer_comments.$error?" border-2 outline-none border-red-500 rounded-lg":""]]),autoResize:"",type:"text",rows:"3"},null,8,["modelValue","class"]),is,E(N).reviewer_comments.$error?(i(),p("span",cs,w(E(N).reviewer_comments.$errors[0].$message),1)):h("",!0)]),e("div",us,[e("button",{class:"btn bg-red-500 px-5 text-white",onClick:l[10]||(l[10]=t=>q(-1))},"Rejected"),e("button",{class:"mx-4 btn btn-orange px-5 bg-green-500 text-white",onClick:l[11]||(l[11]=t=>q(1))},"Approved")])]),_:1},8,["visible"]),ms,e("div",ps,[a.value==""?(i(),Q(Y,{key:0,value:E(v).arrayIWL,paginator:!0,rows:10,class:"",dataKey:"id",onRowExpand:u.onRowExpand,onRowCollapse:u.onRowCollapse,expandedRows:f.value,"onUpdate:expandedRows":l[13]||(l[13]=t=>f.value=t),selection:b.value,"onUpdate:selection":l[14]||(l[14]=t=>b.value=t),selectAll:u.selectAll,onSelectAllChange:u.onSelectAllChange,onRowSelect:u.onRowSelect,onRowUnselect:u.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{default:d(()=>[o(y,{field:"request_id",header:"Request ID",sortable:""}),o(y,{field:"user_code",header:"Employee ID"}),o(y,{field:"name",header:"Employee Name",sortable:!1},{body:d(t=>[e("button",{class:"fw-semibold text-primary",onClick:G=>I(t.data.emp_prevdetails,t.data.user_code,t.data.name)},w(t.data.name),9,vs)]),_:1}),o(y,{field:"loan_amount",header:"Loan Amount"}),o(y,{field:"emi_per_month",header:"Monthly EMI"},{body:d(t=>[e("div",null,[t.data.monthly_emi==null?(i(),p("h1",bs,"-")):(i(),p("h1",_s,w(t.data.monthly_emi),1))])]),_:1}),o(y,{field:"tenure",header:"Tenure"}),o(y,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:d(()=>[D(w(u.slotProps.data.status),1)]),_:1}),o(y,{field:"",header:"Action"},{body:d(t=>[e("button",{class:"",type:"button",onClick:M},hs),o(A,{ref_key:"op",ref:F,style:{width:"160px","margin-top":"12px !important","margin-right":"20px !important"},class:"p-0 m-0"},{default:d(()=>[e("div",fs,[e("button",{class:"fw-semibold text-black hover:bg-gray-200 border-bottom-1 p-2",onClick:G=>x(t.data)},"view",8,ys),e("button",{class:"fw-semibold text-black hover:bg-gray-200 p-2",onClick:G=>I(t.data.emp_prevdetails,t.data.user_code,t.data.name)},"passed Transaction",8,ws)])]),_:2},1536)]),_:1})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])):h("",!0),a.value!=""?(i(),Q(Y,{key:1,value:a.value,paginator:!0,rows:10,class:"",dataKey:"id",onRowExpand:u.onRowExpand,onRowCollapse:u.onRowCollapse,expandedRows:f.value,"onUpdate:expandedRows":l[15]||(l[15]=t=>f.value=t),selection:b.value,"onUpdate:selection":l[16]||(l[16]=t=>b.value=t),selectAll:u.selectAll,onSelectAllChange:u.onSelectAllChange,onRowSelect:u.onRowSelect,onRowUnselect:u.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{default:d(()=>[o(y,{field:"request_id",header:"Request ID",sortable:""}),o(y,{field:"borrowed_amount",header:"Loan Amount"}),o(y,{field:"eligible_amount",header:"Advance Amount"}),o(y,{field:"emi_per_month",header:"Monthly EMI"},{body:d(t=>[e("div",null,[t.data.emi_per_month==null?(i(),p("h1",xs,"-")):(i(),p("h1",Rs,w(t.data.emi_per_month),1))])]),_:1}),o(y,{field:"tenure_months",header:"Tenure"}),o(y,{field:"deduction_starting_month",header:"EMI Start Date"}),o(y,{field:"deduction_ending_month",header:"EMI Start Date"}),o(y,{field:"loan_status",header:"Status",style:{"min-width":"12rem"}},{default:d(()=>[D(w(u.slotProps.data.loan_status),1)]),_:1})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])):h("",!0)])])]),o(z,{header:"Header",breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:d(()=>[o(m,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:d(()=>[As]),_:1})])}}},ks={class:"w-full"},Cs=e("h1",{class:"fs-5 fw-semibold mb-3"},"Salary Advance & Loan - Team Management",-1),Ss={class:"p-4 pt-1 pb-0 mb-3 bg-white rounded-lg tw-card left-line"},Ls={class:"divide-x nav nav-pills divide-solid nav-tabs-dashed",id:"pills-tab",role:"tablist"},Ps={class:"mx-2 nav-item",role:"presentation"},Ts={class:"mx-3 nav-item",role:"presentation"},Ds={class:"mx-3 nav-item",role:"presentation"},Is={class:"mx-3 nav-item",role:"presentation"},Es={class:"tab-content",id:""},Us={key:0},Vs={key:1},Ms={key:2},Fs={key:3},zs={__name:"approvals_salary_advance",setup(B){const v=oe(),a=n(1);return(f,b)=>(i(),p(le,null,[E(v).canShowLoadingScreen?(i(),Q(ie,{key:0,class:"absolute z-50 bg-white"})):h("",!0),e("div",ks,[Cs,e("div",Ss,[e("ul",Ls,[e("li",Ps,[e("a",{class:H(["nav-link",[a.value===1?"active":""]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:b[0]||(b[0]=_=>a.value=1)}," Salary Advance ",2)]),e("li",Ts,[e("a",{class:H(["mx-4 text-center nav-link",[a.value===2?"active":""]]),id:"","data-bs-toggle":"pill",href:"",onClick:b[1]||(b[1]=_=>a.value=2),role:"tab","aria-controls":"","aria-selected":"true"}," Interest Free Loan ",2)]),e("li",Ds,[e("a",{class:H(["mx-4 text-center nav-link",[a.value===3?"active":""]]),id:"","data-bs-toggle":"pill",href:"",onClick:b[2]||(b[2]=_=>a.value=3),role:"tab","aria-controls":"","aria-selected":"true"}," Travel Advance ",2)]),e("li",Is,[e("a",{class:H(["mx-4 text-center nav-link",[a.value===4?"active":""]]),id:"","data-bs-toggle":"pill",href:"",onClick:b[3]||(b[3]=_=>a.value=4),role:"tab","aria-controls":"","aria-selected":"true"}," Loan With Interest ",2)])])]),e("div",Es,[a.value===1?(i(),p("div",Us,[o(Qe)])):h("",!0),a.value===2?(i(),p("div",Vs,[o(Jt)])):h("",!0),a.value===3?(i(),p("div",Ms,[o(_o)])):h("",!0),a.value===4?(i(),p("div",Fs,[o($s)])):h("",!0)])])],64))}};export{zs as default};
