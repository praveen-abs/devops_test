import{I as m,a2 as z,ak as S,g as F,o as t,c as o,d as e,F as M,f as P,t as n,aj as r,k as B,au as H,l as x,n as C,h as p,w as j,T as I,j as O,b as A}from"./toastservice.esm-3d6796bd.js";import{S as L}from"./Service-bda4280b.js";import{u as y}from"./dashboard_service-3cbb3975.js";import{a as T}from"./index-362795f3.js";import{d as b}from"./dayjs.min-2f06af28.js";import{u as V}from"./leave_apply_service-e1e671e7.js";/* empty css                                                   */import{L as G}from"./LoadingSpinner-e8e4c1ec.js";const J="/build/assets/femaleDashboardImage-7f53f6fa.svg";const R={class:"h-[180px] overflow-hidden rounded shadow-lg bg-[#DFE8FF] p-3 grid grid-cols-12 gap-4 justify-between leading-normal"},U={class:"mb-8 col-span-7"},W={class:"font-[14px] font-['Poppins'] text-gray-500 flex items-center"},K={class:"text-gray-900 text-[18px] mb-2 font-['Poppins']"},Q=e("div",{class:"flex my-1 overflow-visible items-center !z-10"},[e("i",{class:"fa fa-sun-o text-warning my-auto text-[20px]","aria-hidden":"true"}),e("p",{class:"text-[12px] my-auto font-semibold px-2"},"General Shift")],-1),X={class:"switch-checkbox relative left-[150px] bottom-8 !w-[98px] font-semibold z-10 font-['Poppins']"},Z=e("span",{class:"slider-checkbox check-inw round flex items-center"},[e("span",{class:"slider-checkbox-text !text-[8px] font-semibold"})],-1),ee=e("p",{class:"text-[12px] mt-[-20px] text-[#8B8B8B] font-['Poppins'] flex items-center"},[x(" Time duration:"),e("span",null,"09:30")],-1),te={key:0,class:"w-[300px] my-2 max-[1300px]:text-[9px] font-['Poppins'] text-[12px]"},se={key:1,class:"w-[300px] my-2 max-[1300px]:text-[9px] font-['Poppins'] text-[12px]"},oe={key:2,class:"w-[300px] max-[1300px]:text-[9px] font-['Poppins'] text-[12px]"},ae={key:3,class:"w-[300px] my-2 max-[1300px]:text-[9px] font-['Poppins'] text-[12px]"},ne=e("div",{class:"col-span-5 h-full !z-5"},[e("div",{class:"grid justify-center items-centers my-auto h-full border-[1px]"},[e("img",{src:J,alt:"",srcset:"",class:"w-full h-full"})])],-1),le={class:"modal-content bg-white"},ce={class:"p-1 text-center modal-body"},ie={class:"check-in-animate"},de={class:"mt-2"},re={class:"text-gray-900 text-[18px] mb-2 font-['Poppins']"},_e=e("span",null,"Welcome",-1),pe={key:0,class:"mb-4 text-muted"},ue={key:1,class:"mb-4 text-muted"},he={class:"gap-2 hstack justify-content-center"},me={href:"javascript:void(0);",class:"btn btn-link link-success fw-medium","data-bs-dismiss":"modal"},fe={class:"modal-content bg-white"},ge={class:"p-1 text-center modal-body"},ve={class:"check-in-animate"},xe={class:"mt-4"},be={class:"mb-3"},ye=e("p",{class:"mb-4 text-muted"},"See you tommorrow",-1),we={class:"gap-2 hstack justify-content-center"},ke={href:"javascript:void(0);",class:"btn btn-link link-success fw-medium","data-bs-dismiss":"modal"},$e={__name:"welcome_card",setup(f){const s=L(),a=y(),c=m();m();const i=m([]),g=m(!1),v=m(!1),l=z({date:new Date,check:"",check_in:"",check_out:"",attendance_mode:"web",work_mode:"",checked:!1}),w=()=>{var h=new Date,d=h.getHours();d<12?c.value="Good Morning":d<18?c.value="Good Afternoon":c.value="Good Evening"},k=()=>{i.value.splice(0,i.value.length),l.check==!0?(l.check_in=new Date().toLocaleTimeString(),l.checked=!0,g.value=!0):(l.check_out=new Date().toLocaleTimeString(),v.value=!0,l.checked=!1),a.updateCheckin_out({checked:l.checked}).then(h=>{_.value=h.data.message}).finally(()=>{$(),q()})},_=m(),$=async()=>{let h="/fetchEmpLastAttendanceStatus";await T.get(h).then(d=>{console.log(d.data),i.value.push(d.data),d.data.checkout_time?l.check=!1:d.data.checkin_time?l.check=!0:l.check=null}).finally(()=>{a.canShowTopbar=!0})};S(()=>{w(),$()});const E=h=>(console.log(h),h=="biometric"?"fas fa-fingerprint fs-12":h=="web"?"fa fa-laptop fs-12":h=="mobile"?"fa fa-mobile-phone fs-12":""),q=()=>{a.check="",a.check_in="",a.check_out="",a.work_mode=""};return(h,d)=>{const D=F("lord-icon"),Y=F("Dialog");return t(),o(M,null,[e("div",R,[(t(!0),o(M,null,P(i.value,u=>(t(),o("div",U,[e("p",W,n(c.value),1),e("div",K,n(r(s).current_user_name),1),Q,e("label",X,[B(e("input",{type:"checkbox",id:"checkin_function",class:"text-[6px] font-semibold","onUpdate:modelValue":d[0]||(d[0]=N=>l.check=N),onChange:k},null,544),[[H,l.check]]),Z]),e("div",null,[ee,u.checkin_time?(t(),o("p",te,[x(n(`Check-In : ${u.checkin_time} (${r(b)(u.checkin_date).format("MMM D, YYYY")}) `)+" ",1),e("i",{class:C(["text-green-800 font-semibold text-sm mx-2",E(u.attendance_mode_checkin)])},null,2)])):(t(),o("p",se,n("Check-In: --:--:--"))),u.checkout_time?(t(),o("p",oe,[x(n(`Check-Out : ${u.checkout_time} (${r(b)(u.checkout_date).format("MMM D, YYYY")}) `)+" ",1),e("i",{class:C(["text-green-800 font-semibold text-sm mx-2",E(u.attendance_mode_checkout)])},null,2)])):(t(),o("p",ae,n("Check-Out: --:--:--")))])]))),256)),ne]),p(Y,{visible:g.value,"onUpdate:visible":d[2]||(d[2]=u=>g.value=u),modal:"",style:{width:"30vw"}},{default:j(()=>[e("div",le,[e("div",ce,[e("div",ie,[p(D,{src:"https://cdn.lordicon.com/dcfqtwxe.json",trigger:"loop",delay:"2000",class:"gliters",colors:"primary:#1aff1a,secondary:#1aff1a"}),p(D,{src:"https://cdn.lordicon.com/twopqjaj.json",trigger:"loop",delay:"2000",class:"entry-man",colors:"primary:#121331,secondary:#ebe6ef,tertiary:#f9c9c0,quaternary:#ffffff,quinary:#3a3347,senary:#b26836,septenary:#30e849"})]),e("div",de,[e("div",re,[_e,x(" "+n(r(s).current_user_name),1)]),_.value?(t(),o("p",pe,n(_.value),1)):(t(),o("p",ue,"Have a good day !")),e("div",he,[e("a",me,[e("button",{onClick:d[1]||(d[1]=u=>g.value=!1),type:"button",class:"btn btn-primary"}," Close ")])])])])])]),_:1},8,["visible"]),p(Y,{visible:v.value,"onUpdate:visible":d[4]||(d[4]=u=>v.value=u),modal:"",style:{width:"25vw"}},{default:j(()=>[e("div",fe,[e("div",ge,[e("div",ve,[p(D,{src:"https://cdn.lordicon.com/dcfqtwxe.json",trigger:"loop",delay:"2000",colors:"primary:#ff3300,secondary:#ff3300",class:"gliters"}),p(D,{src:"https://cdn.lordicon.com/twopqjaj.json",trigger:"loop",delay:"2000",class:"entry-man",colors:"primary:#121331,secondary:#ebe6ef,tertiary:#f9c9c0,quaternary:#ffffff,quinary:#3a3347,senary:#b26836,septenary:#e62e00"})]),e("div",xe,[e("h4",be,"Bye "+n(r(s).current_user_name),1),ye,e("div",we,[e("a",ke,[e("button",{type:"button",class:"btn btn-primary",onClick:d[3]||(d[3]=u=>v.value=!1)}," Close ")])])])])])]),_:1},8,["visible"])],64)}}},Me={class:"h-[180px] rounded overflow-hidden shadow-lg bg-white"},De={class:"px-6 py-4"},Ce={class:"font-[14px] font-['Poppins'] text-gray-500"},je={class:"font-semibold text-xl mb-2"},Se={class:"grid grid-cols-3 gap-4 mt-4"},Pe={class:"bg-[#F6F6F6] rounded-lg p-3"},Be={class:"px-auto"},Le={class:"font-bold text-3xl mb-2 text-center"},Ee=e("span",{class:"text-gray-700 text-base font-semibold px-1"},"days",-1),Ye=e("p",{class:"font-semibold text-lg text-gray-500 py-2 text-center"},"Present",-1),Fe={class:"bg-gray-100 rounded-lg p-3"},Ae={class:"font-bold text-3xl mb-2"},Ie=e("span",{class:"text-gray-700 text-base font-semibold px-1"},"days",-1),Te=e("p",{class:"font-semibold text-lg text-gray-500 py-2 text-center"},"Leave",-1),qe={class:"bg-gray-100 rounded-lg p-3"},Ne={class:"font-bold text-3xl mb-2"},ze=e("span",{class:"text-gray-700 text-base font-semibold px-1"},"days",-1),He=e("p",{class:"font-semibold text-lg text-gray-500 py-2 text-center"},"Absent",-1),Oe={__name:"leave_details",setup(f){const s=y();return S(()=>{}),(a,c)=>(t(),o("div",Me,[e("div",De,[e("p",Ce,[x(" Current month - "),e("span",je,n(r(b)(new Date).format("MMMM")),1)]),e("div",Se,[e("div",Pe,[e("div",Be,[e("span",Le,n(r(s).attenanceReportPerMonth.present),1),Ee]),Ye]),e("div",Fe,[e("span",Ae,n(r(s).attenanceReportPerMonth.not_applied),1),Ie,Te]),e("div",qe,[e("span",Ne,n(r(s).attenanceReportPerMonth.absent),1),ze,He])])])]))}},Ve={class:"bg-white h-[700px] rounded-lg overflow-hidden"},Ge=e("div",{class:"mb-3 p-3 card-title flex items-center justify-between bg-gray-100",id:""},[e("span",{class:"text-primary font-semibold fs-6"},"Notifications")],-1),Je={class:"overflow-x-scroll h-full"},Re={class:"p-2"},Ue={class:"notify-content text-black"},We={class:"mb-1 orange-median items-center flex justify-between"},Ke={class:"orange-median font-semibold text-sm"},Qe={class:"notify-message"},Xe={class:"text-xs text-gray-600 font-medium"},Ze={__name:"notification",setup(f){const s=y();return(a,c)=>(t(),o("div",Ve,[Ge,e("div",Je,[(t(!0),o(M,null,P(r(s).allNotificationSource,i=>(t(),o("div",{class:"p-1 my-1 rounded-lg shadow-md hover:bg-slate-100",key:i.id},[e("div",Re,[e("a",Ue,[e("p",We,[e("span",Ke,n(i.notification_title),1)]),e("div",Qe,[e("p",Xe,n(i.notification_body),1)])])])]))),128))])]))}};const et={class:"bg-white rounded-lg overflow-hidden p-2",style:{height:"200px"}},tt=e("span",{class:"text-primary font-semibold fs-6"},"Leave Balance",-1),st={class:"bg-white rounded-lg overflow-x-scroll h-full"},ot={class:"px-auto"},at={class:"flex px-2"},nt={class:""},lt={class:"text-3xl font-semibold text-black"},ct=e("span",{class:""},"/",-1),it={class:""},dt={class:"px-3"},rt={class:"font-semibold text-primary text-[14px] align-bottom py-2"},_t={__name:"leave_balance",setup(f){const s=y();return V(),(a,c)=>(t(),o("div",et,[tt,e("div",st,[e("div",ot,[(t(!0),o(M,null,P(r(s).leaveBalancePerMonthSource,i=>(t(),o("div",{key:i.leave_type,class:"bg-gray-200 my-2 p-2 mx-2 rounded-lg cursor-pointer transition duration-700 ease-in-out hover:-translate-y-1 hover:scale-100"},[e("div",at,[e("div",nt,[e("span",lt,n(i.leave_balance),1),ct,e("span",it,n(i.avalied_leaves),1)]),e("div",dt,[e("p",rt,n(i.leave_type),1)])])]))),128))])])]))}};const pt={class:"bg-[#FFEFE2] rounded-lg overflow-hidden p-3",style:{height:"200px"}},ut=e("div",{class:"flex justify-between"},[e("span",{class:"text-primary font-semibold fs-6"},"Calendar"),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-gray-900 cursor-pointer"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})])],-1),ht={class:"py-8"},mt={class:"text-[#d1814c] font-semibold text-[30px] mb-2",style:{"font-family":"'Libre Baskerville', serif"}},ft={class:"text-gray-900 font-semibold text-md mb-2"},gt={__name:"calender",setup(f){return(s,a)=>(t(),o("div",pt,[ut,e("div",ht,[e("p",mt,n(r(b)(new Date).format("MMMM D, YYYY")),1),e("p",ft,n(r(b)(new Date).format("dddd")),1)])]))}};const vt={class:"image-slider relative h-[180px] w-full"},xt=["src"],bt=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})],-1),yt=[bt],wt=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})],-1),kt=[wt],$t={__name:"holiday_widget",setup(f){const s=m(),a=m(),c=m(),i=()=>{T.get("/holiday/master-page").then(l=>{console.log(l.data),a.value=l.data;let w=!0;l.data.forEach((k,_)=>{w&&new Date(k.holiday_date)>=new Date&&(s.value=_,w=!1)}),c.value=a.value[s.value].image})};function g(){s.value=(s.value+1)%a.value.length,c.value=a.value[s.value].image}function v(){s.value=(s.value-1+a.value.length)%a.value.length,c.value=a.value[s.value].image}return S(()=>{i()}),(l,w)=>(t(),o("div",vt,[p(I,{name:"fade",mode:"out-in"},{default:j(()=>[(t(),o("img",{src:`data:image/jpeg;base64,${c.value}`,key:c.value,alt:"Holiday Image",class:"h-full w-full rounded-lg"},null,8,xt))]),_:1}),e("div",{class:"controls absolute top-16 w-full px-3"},[e("div",{class:"flex justify-between"},[e("button",{class:"sliderButton",onClick:v},yt),e("button",{class:"sliderButton",onClick:g},kt)])])]))}};const Mt={class:"bg-white rounded-lg p-2 mb-16"},Dt=e("span",{class:"text-primary font-semibold fs-6"},"Events",-1),Ct={class:"h-[500px] overflow-x-scroll"},jt={class:"grid grid-cols-4 gap-4"},St={class:"font-semibold text-center text-white my-2 text-[12px] font-['Poppins']"},Pt={class:"absolute top-8 w-full z-10"},Bt={class:"grid grid-cols-2 w-11/12 bg-slate-100 mx-auto rounded-lg h-full"},Lt={class:""},Et={class:"font-semibold text-4xl py-4 text-center align-middle text-white"},Yt=["src"],Ft={class:"h-full"},At={class:"py-6"},It={key:0,class:"font-semibold text-[12px] font-['Poppins'] text-center text-black my-auto"},Tt={key:1,class:"font-semibold text-[12px] font-['Poppins'] text-center text-black my-auto"},qt={class:"font-semibold text-sm text-center text-gray-600 my-auto"},Nt={class:"text-xs absolute right-6 fa fa-commenting-o text-right cursor-pointer","data-bs-target":"#wishes_popup","data-bs-toggle":"modal"},zt=e("div",{class:"flex justify-center my-2"},null,-1),Ht=e("div",{id:"wishes_popup",class:"modal fade",role:"dialog"},[e("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md"},[e("div",{class:"modal-content"},[e("div",{class:"py-2 border-0 modal-header"},[e("h6",{class:"modal-title"}," Wishes Text"),e("button",{type:"button",class:"bg-transparent border-0 outline-none close h3","data-bs-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])]),e("div",{class:"modal-body"},[e("p",{for:"",class:"text-muted f-14 fw-bold"},"Commants here"),e("textarea",{name:"",id:"",cols:"",placeholder:"Commants here....",rows:"2",class:"resize-none form-control"}),e("div",{class:"text-end"},[e("button",{class:"mt-2 btn btn-border-orange",id:""},[e("i",{class:"fa fa-paper-plane me","aria-hidden":"true"}),x(" Send")])])])])])],-1),Ot={__name:"events",setup(f){L();const s=y(),a=["bg-emerald-600","bg-yellow-600","bg-rose-600","bg-cyan-600","bg-amber-600","bg-red-600","bg-blue-600","bg-pink-600","bg-green-600","bg-fuchsia-600"],c=["bg-emerald-200","bg-yellow-200","bg-rose-200","bg-cyan-200","bg-amber-200","bg-red-200","bg-blue-200","bg-pink-200","bg-green-200","bg-fuchsia-200"],i=l=>a[l%a.length],g=l=>c[l%a.length],v=l=>{if(l=="birthday")return"Happy birthday";if(l=="work_anniversery")return"Work anniversary"};return(l,w)=>{const k=O("tooltip");return t(),o(M,null,[e("div",Mt,[Dt,e("div",Ct,[e("div",jt,[(t(!0),o(M,null,P(r(s).allEventSource,(_,$)=>(t(),o("div",{class:"relative w-[180px] rounded-lg my-8",key:$},[e("div",{class:C(["h-[80px] rounded-lg",`${i($)}`])},[e("p",St,n(v(_.type)),1)],2),e("div",Pt,[e("div",Bt,[e("div",Lt,[JSON.parse(_.avatar).type=="shortname"?(t(),o("div",{key:0,class:C([g($),"h-full rounded-lg"])},[e("p",Et,n(JSON.parse(_.avatar).data),1)],2)):(t(),o("img",{key:1,src:`data:image/png;base64,${JSON.parse(_.avatar).data}`,alt:"",class:"rounded-lg h-full"},null,8,Yt))]),e("div",Ft,[e("div",At,[_.name.length<=8?(t(),o("p",It,n(_.name),1)):B((t(),o("p",Tt,[x(n(_.name?_.name.substring(0,8)+"..":""),1)])),[[k,_.name]]),e("p",qt,n(r(b)(_.dob).format("DD"))+"th "+n(r(b)(_.dob).format("MMM")),1),e("p",null,[B(e("i",Nt,null,512),[[k,"wish"]])])])])]),zt])]))),128))])])]),Ht],64)}}};const Vt={class:"grid grid-cols-12 gap-4"},Gt={class:"col-span-5"},Jt={class:"col-span-4"},Rt={class:"bg-white rounded-lg col-span-3"},Ut={class:"grid grid-cols-12 gap-4 pb-7"},Wt={class:"col-span-8"},Kt={class:"grid grid-cols-2 gap-4 my-2"},Qt={class:"grid grid-cols-1"},Xt={class:"col-span-4 my-2"},Zt={__name:"employee_dashboard",setup(f){const s=y();return(a,c)=>(t(),o("div",{class:"p-3 overflow-auto h-screen",onMousemove:c[0]||(c[0]=i=>r(s).canShowConfiguration=!1)},[e("div",Vt,[e("div",Gt,[p($e)]),e("div",Jt,[p(Oe)]),e("div",Rt,[p($t)])]),e("div",Ut,[e("div",Wt,[e("div",Kt,[e("div",null,[p(_t)]),e("div",null,[p(gt)])]),e("div",Qt,[e("div",null,[p(Ot)])])]),e("div",Xt,[p(Ze)])])],32))}},is={__name:"dashboard",setup(f){const s=y(),a=m();return S(async()=>{a.value=!0,await s.getMainDashboardData(),L(),a.value=!1}),(c,i)=>r(s).canShowLoading?(t(),A(G,{key:0})):(t(),A(I,{key:1,"enter-active-class":"transition ease-out duration-600 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:j(()=>[p(Zt)]),_:1}))}};export{is as _};
