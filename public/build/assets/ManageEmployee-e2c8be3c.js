import{B as g,K as p,E as R,g as c,o as $,c as M,h as e,w as t,W as y,a0 as V,e as n,j as _,t as h,X as j,G as W,P as Q,H as J,R as G,q as K}from"./toastservice.esm-c4f6de4c.js";import{d as X,c as z}from"./pinia-0f325ab3.js";import{T as q,B as Z,S as ee,b as te,a as oe}from"./styleclass.esm-ea560a03.js";import"./blockui.esm-85692cd0.js";import{u as Y,C as ae,F as le,b as ne,s as se,a as ie}from"./inputtext.esm-5faf66bf.js";import{s as re}from"./confirmdialog.esm-51539a4d.js";import{D as de}from"./dialogservice.esm-b46cc252.js";import{s as pe}from"./toast.esm-8d255b70.js";import{s as ce}from"./progressspinner.esm-455f2fd3.js";import{s as me}from"./progressbar.esm-65b6c894.js";import{s as ue}from"./row.esm-6ebc942e.js";import{s as _e}from"./columngroup.esm-9dd1458e.js";import{s as ve}from"./calendar.esm-7c3ebc21.js";import{s as fe}from"./textarea.esm-6f057a89.js";import{s as ge}from"./chips.esm-a230b2d1.js";import{s as ye}from"./multiselect.esm-8c7e8f3c.js";import{d as B}from"./dayjs.min-ed58423a.js";import{a as I}from"./index-f7a317fc.js";const U=X("manageEmployees",()=>{const D=g(),f=g(),m=g();async function u(){let r=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+r),await I.get(r).then(i=>{D.value=i.data})}async function x(){let r=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+r),await I.get(r).then(i=>{console.log("Axios : "+i.data),f.value=i.data})}async function C(){let r=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+r),await I.get(r).then(i=>{console.log("Axios : "+i.data),m.value=i.data})}return{array_active_employees:D,yet_to_active_employees_data:f,exit_employees_data:m,getActiveEmployees:u,ajax_yet_to_active_employees_data:x,ajax_exit_employees_data:C}});const he=n("h5",{style:{"text-align":"center"}},"Please wait...",-1),be={__name:"active_employees",setup(D){const f=U();let m=g(!0);const u=g({global:{value:null,matchMode:p.CONTAINS},emp_name:{value:null,matchMode:p.STARTS_WITH,matchMode:p.EQUALS,matchMode:p.CONTAINS},emp_code:{value:null,matchMode:p.STARTS_WITH,matchMode:p.EQUALS,matchMode:p.CONTAINS},status:{value:null,matchMode:p.EQUALS}});R(async()=>{await f.getActiveEmployees(),m.value=!1});function x(C){window.location.href="/pages-profile-new?uid="+C}return(C,r)=>{const i=c("ProgressSpinner"),S=c("Dialog"),A=c("InputText"),v=c("Column"),P=c("ProgressBar"),L=c("Button"),d=c("DataTable");return $(),M("div",null,[e(S,{header:"Header",visible:y(m),"onUpdate:visible":r[0]||(r[0]=l=>V(m)?m.value=l:m=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(i,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[he]),_:1},8,["visible"]),n("div",null,[e(d,{value:y(f).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:u.value,"onUpdate:filters":r[1]||(r[1]=l=>u.value=l),filterDisplay:"menu",loading:y(m),globalFilterFields:["emp_name","emp_code","status"]},{empty:t(()=>[_(" No customers found.")]),loading:t(()=>[_(" Loading customers data. Please wait. ")]),default:t(()=>[e(v,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:t(l=>[_(h(l.data.emp_name),1)]),filter:t(({filterModel:l,filterCallback:T})=>[e(A,{modelValue:l.value,"onUpdate:modelValue":o=>l.value=o,onInput:o=>T(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(v,{field:"emp_code",header:"Employee Code"},{filter:t(({filterModel:l,filterCallback:T})=>[e(A,{modelValue:l.value,"onUpdate:modelValue":o=>l.value=o,onInput:o=>T(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(v,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(v,{field:"l1_manager_name",header:"Reporting Manager"}),e(v,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:t(l=>[_(h(y(B)(l.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(v,{field:"blood_group_name",header:"Blood Group"}),e(v,{field:"profile_completeness",header:"Profile Completeness"},{body:t(l=>[e(P,{value:l.data.profile_completeness},null,8,["value"])]),_:1}),e(v,{field:"enc_user_id",header:"View Profile"},{body:t(l=>[e(L,{icon:"pi pi-eye",severity:"success",label:"View",onClick:T=>x(l.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const we=n("h5",{style:{"text-align":"center"}},"Please wait...",-1),Se={class:"confirmation-content"},Pe=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),xe={key:0},Ce={key:1},Te={__name:"yet_to_active_employees",setup(D){const f=U();R(()=>{f.ajax_yet_to_active_employees_data()}),g();let m=g(!1),u=g(!1);Y();const x=j();function C(d){window.location.href="/pages-profile-new?uid="+d}const r=g({global:{value:null,matchMode:p.CONTAINS},emp_name:{value:null,matchMode:p.STARTS_WITH,matchMode:p.EQUALS,matchMode:p.CONTAINS},emp_code:{value:null,matchMode:p.STARTS_WITH,matchMode:p.EQUALS,matchMode:p.CONTAINS},status:{value:null,matchMode:p.EQUALS}});g(["Pending","Approved","Rejected"]);let i=null,S=null;function A(d,l){d.emp_code,d.emp_status,console.log(U.emp_status),console.log(d.emp_status),m.value=!0,i=l,S=d,console.log("Selected Row Data : "+JSON.stringify(d))}function v(d){m.value=!1,d&&P()}function P(){i="",S=null}function L(){v(!1),u.value=!0,console.log("Processing Rowdata : "+JSON.stringify(S)),I.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:S.emp_code,active_status:1}).then(d=>{console.log("Response : "+d),x.add({severity:"success",summary:"Activated",detail:`${S.emp_name} Activated Successfully`,life:3e3}),P()}).catch(d=>{u.value=!1,P()}).finally(()=>{f.ajax_yet_to_active_employees_data(),f.getActiveEmployees(),u.value=!1})}return(d,l)=>{const T=c("Toast"),o=c("ProgressSpinner"),k=c("Dialog"),w=c("Button"),O=c("InputText"),b=c("Column"),F=c("ProgressBar"),H=c("DataTable");return $(),M("div",null,[e(T),e(k,{header:"Header",visible:y(u),"onUpdate:visible":l[0]||(l[0]=a=>V(u)?u.value=a:u=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(o,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[we]),_:1},8,["visible"]),e(k,{header:"Confirmation",visible:y(m),"onUpdate:visible":l[3]||(l[3]=a=>V(m)?m.value=a:m=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:t(()=>[e(w,{label:"Yes",icon:"pi pi-check",onClick:l[1]||(l[1]=a=>L()),class:"p-button-text",autofocus:""}),e(w,{label:"No",icon:"pi pi-times",onClick:l[2]||(l[2]=a=>v(!0)),class:"p-button-text"})]),default:t(()=>[n("div",Se,[Pe,n("span",null,"Are you sure you want to "+h(y(i))+"?",1)])]),_:1},8,["visible"]),n("div",null,[e(H,{value:y(f).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:r.value,"onUpdate:filters":l[4]||(l[4]=a=>r.value=a),filterDisplay:"menu",loading:d.loading2,globalFilterFields:["emp_name","emp_code","status"]},{empty:t(()=>[_(" No customers found. ")]),loading:t(()=>[_(" Loading customers data. Please wait. ")]),default:t(()=>[e(b,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:t(a=>[_(h(a.data.emp_name),1)]),filter:t(({filterModel:a,filterCallback:E})=>[e(O,{modelValue:a.value,"onUpdate:modelValue":N=>a.value=N,onInput:N=>E(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(b,{field:"emp_code",header:"Employee Code"},{body:t(a=>[_(h(a.data.emp_code),1)]),filter:t(({filterModel:a,filterCallback:E})=>[e(O,{modelValue:a.value,"onUpdate:modelValue":N=>a.value=N,onInput:N=>E(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(b,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(b,{field:"reporting_manager_name",header:"Reporting Manager"}),e(b,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:t(a=>[_(h(y(B)(a.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(b,{field:"blood_group_name",header:"Blood Group"}),e(b,{field:"profile_completeness",header:"Profile Completeness"},{body:t(a=>[e(F,{value:a.data.profile_completeness},null,8,["value"])]),_:1}),e(b,{field:"is_onboarded",header:"Onboarding Status"},{body:t(a=>[_(h(a.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),e(b,{field:"doc_status",header:"Docs Approval Status"},{body:t(a=>[_(h(a.data.is_onboarded?a.data.doc_status?"Approved":"Not Done":"Pending"),1)]),_:1}),e(b,{field:"enc_user_id",header:"View Profile"},{body:t(a=>[e(w,{icon:"pi pi-eye",severity:"success",label:"View",onClick:E=>C(a.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1}),e(b,{style:{width:"300px"},field:"",header:"Action"},{body:t(a=>[a.data.is_onboarded&&a.data.doc_status?($(),M("div",xe,[e(w,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:E=>A(a.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):($(),M("div",Ce))]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const Ae=n("h5",{style:{"text-align":"center"}},"Please wait...",-1),ke=n("h5",{style:{"text-align":"center"}},"Please wait...",-1),De={class:"confirmation-content"},Le=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),$e={__name:"exit_employees",setup(D){const f=U();R(()=>{f.ajax_exit_employees_data()}),g();let m=g(!1),u=g(!1);Y(),j();const x=g({global:{value:null,matchMode:p.CONTAINS},emp_name:{value:null,matchMode:p.STARTS_WITH,matchMode:p.EQUALS,matchMode:p.CONTAINS},emp_code:{value:null,matchMode:p.STARTS_WITH,matchMode:p.EQUALS,matchMode:p.CONTAINS},status:{value:null,matchMode:p.EQUALS}});function C(r){window.location.href="/pages-profile-new?uid="+r}return(r,i)=>{const S=c("Toast"),A=c("ProgressSpinner"),v=c("Dialog"),P=c("Button"),L=c("InputText"),d=c("Column"),l=c("ProgressBar"),T=c("DataTable");return $(),M("div",null,[e(S),e(v,{header:"Header",visible:r.loading,"onUpdate:visible":i[0]||(i[0]=o=>r.loading=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(A,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[Ae]),_:1},8,["visible"]),e(v,{header:"Header",visible:y(u),"onUpdate:visible":i[1]||(i[1]=o=>V(u)?u.value=o:u=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(A,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[ke]),_:1},8,["visible"]),e(v,{header:"Confirmation",visible:y(m),"onUpdate:visible":i[4]||(i[4]=o=>V(m)?m.value=o:m=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:t(()=>[e(P,{label:"Yes",icon:"pi pi-check",onClick:i[2]||(i[2]=o=>r.processApproveReject()),class:"p-button-text",autofocus:""}),e(P,{label:"No",icon:"pi pi-times",onClick:i[3]||(i[3]=o=>r.hideConfirmDialog(!0)),class:"p-button-text"})]),default:t(()=>[n("div",De,[Le,n("span",null,"Are you sure you want to "+h(r.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),n("div",null,[e(T,{value:y(f).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:x.value,"onUpdate:filters":i[5]||(i[5]=o=>x.value=o),filterDisplay:"menu",loading:r.loading2,globalFilterFields:["emp_name","emp_code","status"]},{empty:t(()=>[_(" No customers found. ")]),loading:t(()=>[_(" Loading customers data. Please wait. ")]),default:t(()=>[e(d,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:t(o=>[_(h(o.data.emp_name),1)]),filter:t(({filterModel:o,filterCallback:k})=>[e(L,{modelValue:o.value,"onUpdate:modelValue":w=>o.value=w,onInput:w=>k(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(d,{field:"emp_code",header:"Employee Code"},{body:t(o=>[_(h(o.data.emp_code),1)]),filter:t(({filterModel:o,filterCallback:k})=>[e(L,{modelValue:o.value,"onUpdate:modelValue":w=>o.value=w,onInput:w=>k(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(d,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(d,{field:"l1_manager_name",header:"Reporting Manager"}),e(d,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:t(o=>[_(h(y(B)(o.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(d,{field:"blood_group_id",header:"Blood Group"}),e(d,{field:"profile_completeness",header:"Profile Completeness"},{body:t(o=>[e(l,{value:o.data.profile_completeness},null,8,["value"])]),_:1}),e(d,{field:"enc_user_id",header:"View Profile"},{body:t(o=>[e(P,{icon:"pi pi-eye",severity:"success",label:"View",onClick:k=>C(o.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const Me={class:"manage_employee-wrapper mt-30"},Ee=n("div",{class:"mb-2 card left-line"},[n("div",{class:"pt-1 pb-0 card-body"},[n("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),n("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),Ne={class:"card"},Ve={class:"card-body"},Ie={class:"tab-content",id:"pills-tabContent"},Ue={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Re={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Be={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Oe={__name:"ManageEmployee",setup(D){return(f,m)=>($(),M("div",Me,[Ee,n("div",Ne,[n("div",Ve,[n("div",Ie,[n("div",Ue,[e(be)]),n("div",Re,[e(Te)]),n("div",Be,[e($e)])])])])]))}},s=W(Oe),je=z();s.use(Q,{ripple:!0});s.use(ae);s.use(J);s.use(de);s.use(je);s.directive("tooltip",q);s.directive("badge",Z);s.directive("ripple",G);s.directive("styleclass",ee);s.directive("focustrap",le);s.component("Button",K);s.component("DataTable",te);s.component("Column",oe);s.component("ColumnGroup",_e);s.component("Row",ue);s.component("Toast",pe);s.component("ConfirmDialog",re);s.component("Dropdown",ne);s.component("InputText",se);s.component("Dialog",ie);s.component("ProgressSpinner",ce);s.component("Calendar",ve);s.component("Textarea",fe);s.component("Chips",ge);s.component("MultiSelect",ye);s.component("ProgressBar",me);s.mount("#vjs_manage_employee");
