import{G as _,a9 as j,ac as u,I as V,g as m,o as v,c as g,h as e,w as a,H as A,_ as M,d as o,t as r,l as R,n as L,a as W,J as G,P as K,K as X,R as q,u as Z,v as ee,L as te,Q as ae,M as oe,N as le,A as ne}from"./toastservice.esm-703f66b2.js";import{T as se,B as ie,S as re,b as de,a as ce}from"./styleclass.esm-dbba737a.js";import"./blockui.esm-7874af30.js";import{u as E,C as ue}from"./confirmationservice.esm-5566e2b7.js";import{s as pe}from"./progressspinner.esm-e2bd8dd3.js";import{s as me}from"./tag.esm-755eee37.js";import{a as P}from"./index-362795f3.js";import{h as ve}from"./moment-fbc5633a.js";import{d as ge}from"./dayjs.min-2f06af28.js";const _e=o("h5",{style:{"text-align":"center"}},"Please wait...",-1),he=o("h5",{style:{"text-align":"center"}},"Please wait...",-1),fe={class:"confirmation-content"},be=o("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),ye={class:"flex justify-content-center align-items-center"},we={key:0,if:"",class:"p-2 w-3 h-18 text-semibold rounded-full bg-blue-900 text-white"},Se=["src"],xe={class:"text-left pl-2"},Te={class:"text-right"},Ae={class:"text-center p-2"},Ce={key:0},ke={key:1},Re={key:1},De={key:0,style:{width:"250px",display:"block"}},Ne={__name:"attendance_regularization",setup(U){let w=_(),f=_(!1),b=_(!1);E();const S=j(),p=_(!0),C=_({global:{value:null,matchMode:u.CONTAINS},employee_name:{value:null,matchMode:u.STARTS_WITH,matchMode:u.EQUALS,matchMode:u.CONTAINS},status:{value:"Pending",matchMode:u.EQUALS}}),z=_(["Pending","Approved","Rejected"]);let s=null,T=null;V(()=>{D()});function D(){let c=window.location.origin+"/fetch-att-regularization-data";console.log("AJAX URL : "+c),P.get(c).then(i=>{console.log("Axios : "+i.data),w.value=Object.values(i.data),p.value=!1})}function N(c,i){f.value=!0,s=i,T=c,console.log("Selected Row Data : "+JSON.stringify(c))}function l(c){f.value=!1,c&&x()}function x(){s="",T=null}const d=c=>{switch(c){case"Rejected":return"danger";case"Approved":return"success";case"Pending":return"warning"}};function B(){l(!1),b.value=!0,console.log("Processing Rowdata : "+JSON.stringify(T)),P.post(window.location.origin+"/attendance-regularization-approvals",{id:T.id,status:s=="Approve"?"Approved":s=="Reject"?"Rejected":s,status_text:""}).then(c=>{console.log("Response : "+c),b.value=!1,S.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),D(),x()}).catch(c=>{b.value=!1,x(),console.log(c.toJSON())})}return(c,i)=>{const J=m("Toast"),I=m("ProgressSpinner"),O=m("Dialog"),$=m("Button"),Y=m("InputText"),y=m("Column"),F=m("Tag"),Q=m("Dropdown"),H=m("DataTable");return v(),g("div",null,[e(J),e(O,{header:"Header",visible:p.value,"onUpdate:visible":i[0]||(i[0]=t=>p.value=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:a(()=>[e(I,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:a(()=>[_e]),_:1},8,["visible"]),e(O,{header:"Header",visible:A(b),"onUpdate:visible":i[1]||(i[1]=t=>M(b)?b.value=t:b=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:a(()=>[e(I,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:a(()=>[he]),_:1},8,["visible"]),e(O,{header:"Confirmation",visible:A(f),"onUpdate:visible":i[4]||(i[4]=t=>M(f)?f.value=t:f=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:a(()=>[e($,{label:"Yes",icon:"pi pi-check",onClick:i[2]||(i[2]=t=>B()),class:"p-button-text",autofocus:""}),e($,{label:"No",icon:"pi pi-times",onClick:i[3]||(i[3]=t=>l(!0)),class:"p-button-text"})]),default:a(()=>[o("div",fe,[be,o("span",null,"Are you sure you want to "+r(A(s))+"?",1)])]),_:1},8,["visible"]),o("div",null,[e(H,{value:A(w),paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:C.value,"onUpdate:filters":i[5]||(i[5]=t=>C.value=t),filterDisplay:"menu",loading:c.loading2,globalFilterFields:["name","status"]},{empty:a(()=>[R(" No Employeee found. ")]),loading:a(()=>[R(" Loading customers data. Please wait. ")]),default:a(()=>[e(y,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:a(t=>[o("div",ye,[JSON.parse(t.data.employee_avatar).type=="shortname"?(v(),g("p",we,r(JSON.parse(t.data.employee_avatar).data),1)):(v(),g("img",{key:1,class:"rounded-circle img-md w-3 userActive-status profile-img",style:{height:"30px !important"},src:`data:image/png;base64,${JSON.parse(t.data.employee_avatar).data}`,srcset:"",alt:""},null,8,Se)),o("p",xe,r(t.data.employee_name),1)])]),filter:a(({filterModel:t,filterCallback:k})=>[e(Y,{modelValue:t.value,"onUpdate:modelValue":h=>t.value=h,onInput:h=>k(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(y,{field:"attendance_date",header:"Date",sortable:!0,style:{"min-width":"10rem"}},{body:a(t=>[o("h1",Te,r(A(ve)(t.data.attendance_date).format("DD-MM-YYYY")),1)]),_:1}),e(y,{field:"regularization_type",header:"Type",style:{"min-width":"10rem"}},{body:a(t=>[o("div",Ae,r(t.data.regularization_type),1)]),_:1}),e(y,{field:"user_time",header:"Actual Time",style:{"min-width":"10rem"}}),e(y,{field:"regularize_time",header:"Regularize Time",style:{"min-width":"10rem"}}),e(y,{field:"reason_type",header:"Reason",style:{"min-width":"18rem"}},{body:a(t=>[t.data.reason_type=="Others"?(v(),g("span",Ce,r(t.data.custom_reason),1)):(v(),g("span",ke,r(t.data.reason_type),1))]),_:1}),e(y,{field:"reviewer_comments",header:"Approve Comments"}),e(y,{field:"reviewer_reviewed_date",header:"Reviewed Date"}),e(y,{field:"status",header:"Status",icon:"pi pi-check"},{body:a(({data:t})=>[e(F,{value:t.status,severity:d(t.status)},null,8,["value","severity"])]),filter:a(({filterModel:t,filterCallback:k})=>[e(Q,{modelValue:t.value,"onUpdate:modelValue":h=>t.value=h,onChange:h=>k(),options:z.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:a(h=>[h.value?(v(),g("span",{key:0,class:L("customer-badge status-"+h.value)},r(h.value),3)):(v(),g("span",Re,r(h.placeholder),1))]),option:a(h=>[o("span",{class:L("customer-badge status-"+h.option)},r(h.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),e(y,{field:"",header:"Action"},{body:a(t=>[t.data.status=="Pending"?(v(),g("span",De,[e($,{type:"button",icon:"pi pi-check-circle",class:"p-button-success Button",label:"Approval",onClick:k=>N(t.data,"Approve"),style:{height:"2em"}},null,8,["onClick"]),e($,{type:"button",icon:"pi pi-times-circle",class:"p-button-danger Button",label:"Rejected",style:{"margin-left":"8px",height:"2em"},onClick:k=>N(t.data,"Reject")},null,8,["onClick"])])):W("",!0)]),_:1})]),_:1},8,["value","filters","loading"])])])}}},$e={class:"flex justify-content-center align-items-center"},Le={key:0,if:"",class:"p-2 w-3 h-18 text-semibold rounded-full bg-blue-900 text-white"},Pe=["src"],ze={class:"text-left pl-2"},Oe={key:1},Ve={__name:"absent_Regularization",setup(U){const w=_(),f=_({global:{value:null,matchMode:u.CONTAINS},employee_name:{value:null,matchMode:u.STARTS_WITH,matchMode:u.EQUALS,matchMode:u.CONTAINS},status:{value:"Pending",matchMode:u.EQUALS}});V(()=>{b()});async function b(){await P.get("/fetch-absent-regularization-data").then(p=>{w.value=p.data,console.log(w.value)}).finally(()=>{})}const S=p=>{switch(p){case"Rejected":return"danger";case"Approved":return"success";case"Pending":return"warning"}};return(p,C)=>{const z=m("InputText"),s=m("Column"),T=m("Tag"),D=m("Dropdown"),N=m("DataTable");return v(),g("div",null,[e(N,{value:w.value,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:f.value,"onUpdate:filters":C[0]||(C[0]=l=>f.value=l),filterDisplay:"menu",loading:p.loading2,globalFilterFields:["name","status"]},{empty:a(()=>[R(" No Employeee found. ")]),loading:a(()=>[R(" Loading customers data. Please wait. ")]),default:a(()=>[e(s,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:a(l=>[o("div",$e,[JSON.parse(l.data.employee_avatar).type=="shortname"?(v(),g("p",Le,r(JSON.parse(l.data.employee_avatar).data),1)):(v(),g("img",{key:1,class:"rounded-circle img-md w-3 userActive-status profile-img",style:{height:"30px !important"},src:`data:image/png;base64,${JSON.parse(l.data.employee_avatar).data}`,srcset:"",alt:""},null,8,Pe)),o("p",ze,r(l.data.employee_name),1)])]),filter:a(({filterModel:l,filterCallback:x})=>[e(z,{modelValue:l.value,"onUpdate:modelValue":d=>l.value=d,onInput:d=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(s,{class:"font-bold",field:"attendance_date",header:"Attendance Date"},{body:a(l=>[R(r(A(ge)(l.data.attendance_date).format("DD-MMM-YYYY")),1)]),_:1}),e(s,{class:"font-bold",field:"regularization_type",header:"Regularization Type"}),e(s,{class:"font-bold",field:"checkin_time",header:"Checkin Time"}),e(s,{class:"font-bold",field:"checkout_time",header:"Checkout Time"}),e(s,{class:"font-bold",field:"reason",header:"Reason"}),e(s,{class:"font-bold",field:"custom_reason",header:"Custom Reason"}),e(s,{class:"font-bold",field:"reviewer_comments",header:"Reviewer Comments"}),e(s,{class:"font-bold",field:"reviewer_reviewed_date",header:"Reviewed Date"}),e(s,{class:"font-bold",field:"status",header:"Status"},{body:a(({data:l})=>[e(T,{value:l.status,severity:S(l.status)},null,8,["value","severity"])]),filter:a(({filterModel:l,filterCallback:x})=>[e(D,{modelValue:l.value,"onUpdate:modelValue":d=>l.value=d,onChange:d=>x(),options:p.statuses,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:a(d=>[d.value?(v(),g("span",{key:0,class:L("customer-badge status-"+d.value)},r(d.value),3)):(v(),g("span",Oe,r(d.placeholder),1))]),option:a(d=>[o("span",{class:L("customer-badge status-"+d.option)},r(d.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1})]),_:1},8,["value","filters","loading"])])}}};const Ue={class:"Leave_dashboard"},Ie=o("div",{class:"p-2 pb-0 mb-3 bg-white rounded-lg shadow tw-card left-line",style:{"background-color":"white"}},[o("div",{class:"flex justify-between"},[o("ul",{class:"bg-white divide-x py-auto nav nav-pills divide-solid nav-tabs-dashed",id:"pills-tab",role:"tablist"},[o("li",{class:"nav-item text-muted",role:"presentation"},[o("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#leave_balance","aria-selected":"true",role:"tab"}," Attendance Regularization")]),o("li",{class:"nav-item text-muted",role:"presentation"},[o("a",{class:"pb-2 mx-4 nav-link","data-bs-toggle":"tab",href:"#team_leaveBalance","aria-selected":"false",tabindex:"-1",role:"tab"}," Absent Regularization")])])])],-1),Me={class:"tab-content h-[100vh]",id:"pills-tabContent"},je={class:"tab-pane show fade active",id:"leave_balance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ee={class:"tab-pane fade show",id:"team_leaveBalance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Be={__name:"AttRegularizationApproval",setup(U){let w=_();_(!1),_(!1),E(),j();const f=_(!0);_({global:{value:null,matchMode:u.CONTAINS},employee_name:{value:null,matchMode:u.STARTS_WITH,matchMode:u.EQUALS,matchMode:u.CONTAINS},status:{value:"Pending",matchMode:u.EQUALS}}),_(["Pending","Approved","Rejected"]),V(()=>{b()});function b(){let S=window.location.origin+"/fetch-att-regularization-data";console.log("AJAX URL : "+S),P.get(S).then(p=>{console.log("Axios : "+p.data),w.value=Object.values(p.data),f.value=!1})}return(S,p)=>(v(),g("div",Ue,[Ie,o("div",Me,[o("div",je,[e(Ne)]),o("div",Ee,[e(Ve)])])]))}},n=G(Be);n.use(K,{ripple:!0});n.use(ue);n.use(X);n.directive("tooltip",se);n.directive("badge",ie);n.directive("ripple",q);n.directive("styleclass",re);n.directive("focustrap",Z);n.component("Button",ee);n.component("DataTable",de);n.component("Column",ce);n.component("ConfirmDialog",te);n.component("Toast",ae);n.component("Dialog",oe);n.component("Dropdown",le);n.component("ProgressSpinner",pe);n.component("InputText",ne);n.component("Tag",me);n.mount("#vjs_regularizationTable");
