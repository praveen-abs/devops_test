import{H as r,I as j,o as n,c as a,d as e,t as l,a as i,h as v,w as p,F as w,f as x,T as g,k as O,G as z}from"./toastservice.esm-08a9bf8e.js";import{a as _}from"./index-362795f3.js";import{u as M}from"./dashboard_service-82896132.js";const V="/build/assets/setting-7207a137.svg",$="/build/assets/exit-9e7ca153.svg";const D={class:"grid grid-cols-4 items-center"},N={class:"text-black rounded focus:outline-none"},A=e("p",{class:"text-md text-gray-600 text-left"},"Your organization",-1),B={key:0,class:"flex justify-between items-center gap-2 py-0.5"},F=["src"],R={class:"font-semibold whitespace-nowrap text-sm"},q={key:0,class:"absolute top-5 left-2 mt-12 w-full bg-white shadow-lg rounded z-20"},E={class:""},I={class:"justify-between flex p-2 hover:bg-gray-200 items-center"},G={class:"cursor-pointer flex mx-2 align-center justify-between rounded-lg p-0.5"},H={class:"mx-2 p-1 flex items-center justify-between rounded border gap-4",style:{height:"40px",width:"40px"}},K=["src"],U={class:"font-medium whitespace-nowrap text-xs"},X=e("div",null,null,-1),Y={class:"relative"},J={key:0,class:"z-40 absolute top-0 left-0 mt-16 w-full bg-white shadow-lg rounded px-3 py-4 overflow-x-scroll"},P={class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},Q={class:"text-gray-900 font-bold text-sm"},W={class:"text-xs text-gray-600"},Z={class:"flex justify-evenly"},ee=e("img",{src:V,alt:"",class:"h-6 w-6"},null,-1),te=[ee],oe=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},"Master config",-1),se=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},"Client onboarding",-1),ne=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},"Document template",-1),ae=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},"Leave setting",-1),re=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},"Attendance setting",-1),le=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},"Investment setting",-1),ie=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},"Loan and salary advance setting ",-1),ce=[oe,se,ne,ae,re,le,ie],ue=e("button",{class:"rounded-lg p-2 hover:bg-gray-200"},[e("img",{src:$,alt:"",class:"h-6 w-6"})],-1),de=e("button",{class:"py-2 px-4 bg-blue-500 text-white rounded focus:outline-none"}," SA ",-1),ve={key:0,class:"absolute top-0 right-0 mt-14 w-48 bg-white shadow-lg rounded z-30"},pe=e("a",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 block",href:"pages-profile-new "},"View profile",-1),fe={__name:"Topbar",setup(ge){M();const h=r(!1),m=r(!1),c=r(!1),d=r(""),f=r(),y=r(),b=r(!1),u=r(),k=()=>{_.get("/clients-fetchAll").then(s=>{y.value=s.data,u.value=s.data[0]}).finally(()=>{})};function C(s,t){return t.filter(T=>T.name.toLowerCase().includes(s.toLowerCase()))}const L=()=>{_.get("/fetch-org-members").then(s=>{f.value=Object.values(s.data)})};j(()=>{L(),k(),setTimeout(()=>{b.value=!0},2e3)});async function S(){try{const s=document.head.querySelector('meta[name="csrf-token"]').content;await _.post("/logout",null,{headers:{"X-CSRF-TOKEN":s}}).finally(()=>{window.location.reload()})}catch(s){console.error("Logout error:",s)}}return(s,t)=>b.value?(n(),a("div",{key:0,class:"bg-white h-[60px]",onMousedown:t[5]||(t[5]=o=>c.value=!1)},[e("div",D,[e("div",{class:"relative border-1 border-x-gray-300 py-2 mx-2 px-2",onClick:t[0]||(t[0]=o=>m.value=!m.value)},[e("button",N,[A,u.value?(n(),a("div",B,[e("img",{src:u.value.client_logo,alt:"",class:"h-6 w-12"},null,8,F),e("p",R,l(u.value.client_fullname)+" ("+l(u.value.abs_client_code)+") ",1)])):i("",!0)]),v(g,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:p(()=>[m.value?(n(),a("div",q,[(n(!0),a(w,null,x(y.value,o=>(n(),a("div",E,[e("div",I,[e("div",G,[e("div",H,[e("img",{src:o.client_logo,alt:"",class:"mh-100 mw-100"},null,8,K),e("p",U,l(o.client_fullname)+" ("+l(o.abs_client_code)+")",1)])])])]))),256))])):i("",!0)]),_:1})]),X,e("div",Y,[O(e("input",{type:"text",name:"",id:"",class:"border p-2 border-gray-700 rounded-lg","onUpdate:modelValue":t[1]||(t[1]=o=>d.value=o),placeholder:"Search...."},null,512),[[z,d.value]]),v(g,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:p(()=>[d.value?(n(),a("div",J,[(n(!0),a(w,null,x(C(d.value,f.value),o=>(n(),a("div",P,[e("div",null,[e("p",Q,l(o.name),1)]),e("div",null,[e("p",W,l(o.designation),1)])]))),256))])):i("",!0)]),_:1})]),e("div",Z,[e("button",{class:"rounded-lg p-2 hover:bg-gray-200",onClick:t[2]||(t[2]=o=>c.value=!0)},te),v(g,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:p(()=>[c.value?(n(),a("div",{key:0,onClick:t[3]||(t[3]=o=>c.value=!c.value),class:"absolute top-0 right-40 mt-16 w-60 bg-white shadow-lg rounded z-40 p-2"},ce)):i("",!0)]),_:1}),ue,e("div",{class:"relative",onClick:t[4]||(t[4]=o=>h.value=!h.value)},[de,v(g,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:p(()=>[h.value?(n(),a("div",ve,[pe,e("a",{onClick:S,class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 block",href:""},"Log out")])):i("",!0)]),_:1})])])])],32)):i("",!0)}};export{fe as _};
