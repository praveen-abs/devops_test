import{G as p,g as R,a2 as f,o as h,c as v,d as e,h as s,a as b,H as P,j as g,w as u,t as A,F as D,I as x,P as S,J as T,R as N,u as k,v as U,N as V,K as E,M as L,A as B,L as I}from"./toastservice.esm-037e4fc0.js";import{d as F,c as M}from"./pinia-ebcadf7f.js";import{T as j,B as G,S as H,b as K,a as O,c as J}from"./styleclass.esm-7100130c.js";import{D as q}from"./dialogservice.esm-8790d538.js";import{C as z}from"./confirmationservice.esm-23320926.js";import{s as Q}from"./progressspinner.esm-c757b227.js";import{s as W}from"./row.esm-6ebc942e.js";import{s as X}from"./columngroup.esm-9dd1458e.js";import"./fileupload.esm-7fda2532.js";import{s as Y}from"./calendar.esm-89e9a2d9.js";import{s as Z}from"./textarea.esm-8d199d04.js";import{s as ee}from"./chips.esm-eaa25b3f.js";import{s as oe}from"./overlaypanel.esm-8dbc8d7e.js";import{s as se}from"./accordion.esm-89b30687.js";import{s as te}from"./accordiontab.esm-4640eace.js";import{s as le,a as ae,b as ne}from"./treetable.esm-8086b8ed.js";import{s as ie}from"./multiselect.esm-02197fcd.js";import{a as $}from"./index-3716a3fc.js";import"./progressbar.esm-6042247e.js";import"./badge.esm-9fb261d8.js";import"./_commonjsHelpers-042e6b4d.js";const C=F("UseRolePermissionStore",()=>{const _=p(1),a=p();p();async function r(){$.get("/getRoleDetails").then(l=>{a.value=l.data,console.log(a.value)})}async function n(l,c){console.log(l,c);let t="/removeRoleToUsers";await $.post(t,{roles_name:l,user_id:c}).then(d=>{})}return{rolesPermission:_,arrayRoleDetails:a,getRoleDetails:r,removeRoleDetails:n}}),re={key:0,class:"mt-30"},ce=e("div",null,null,-1),de=e("h1",{class:"fs-3 fw-semibold mb-2"},"Create New Role",-1),pe=e("p",{class:"fs-6 fw-semibold mb-2"},"Here you can Create role and set permission to them.",-1),me={class:"card shadow-sm"},ue={class:"row my-3 px-2"},fe={class:"col-12"},he={class:"row"},ve=e("div",{class:"col-3"},[e("label",{for:"",class:"mx-4 fw-semibold"},"Name of the Role")],-1),_e={class:"col-9"},we={class:"col-12"},ge={class:"row"},Re=e("div",{class:"col-3"},[e("label",{for:"",class:"mx-4 fw-semibold"},"Description of the Role")],-1),be={class:"col-9"},ye={class:"col-12"},$e={class:"row"},Ce=e("div",{class:"col-3"},[e("label",{for:"",class:"mx-4 fw-semibold"},"Category Name")],-1),Pe={class:"col-9"},Ae={__name:"CreateNewRole",setup(_){const a=C();return(r,n)=>{const l=R("InputText");return f(a).rolesPermission==2?(h(),v("div",re,[ce,de,pe,e("div",me,[e("div",ue,[e("div",fe,[e("div",he,[ve,e("div",_e,[s(l,{type:"text",class:"h-10 w-6",modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=c=>r.value=c),placeholder:"Enter Name of the Role"},null,8,["modelValue"])])])]),e("div",we,[e("div",ge,[Re,e("div",be,[s(l,{type:"text",class:"h-10 w-6",modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=c=>r.value=c),placeholder:"Give Description of the Role"},null,8,["modelValue"])])])]),e("div",ye,[e("div",$e,[Ce,e("div",Pe,[s(l,{type:"text",class:"h-10 w-6",modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=c=>r.value=c),placeholder:"Enter Name of the Sub Category"},null,8,["modelValue"])])])])])])])):b("",!0)}}},De={key:0},xe={class:"w-full mt-30"},Se=e("div",{class:""},[e("h1",{class:"fs-2 fw-semibold my-3"},"User Roles"),e("p",{class:"fw-semibold mb-3"},"User Roles can be assigned to the employees from here. New roles can be created and privileges for all these roles can be managed from this section.")],-1),Te={class:"card bg-blue-200 h-20 border-none p-4"},Ne={class:"d-flex justify-content-between align-items-center"},ke=e("div",{class:"w-80"},[e("input",{type:"text",name:"",id:"",placeholder:"search",class:"rounded h-10 w-80 pl-2 shadow-md"})],-1),Ue={class:""},Ve=e("button",{class:"bg-blue-800 px-4 py-2 rounded text-white mx-3 shadow-md"},"save",-1),Ee=e("i",{class:"pi pi-plus"},null,-1),Le={class:"card shadow-md mt-4"},Be=["onClick"],Ie={key:1},Fe={__name:"RolesAndPermission",setup(_){const a=C();p(!1),p();const r=p();P(()=>{a.getRoleDetails()});const n=p([]),l=p();async function c(t){r.value=t,await a.removeRoleDetails(t.roles_name,t.user_code)}return(t,d)=>{const i=R("Column"),y=R("DataTable");return h(),v(D,null,[f(a).rolesPermission==1?(h(),v("div",De,[e("div",xe,[Se,e("div",Te,[e("div",Ne,[ke,e("div",Ue,[Ve,e("button",{class:"bg-white text-blue-800 px-3 py-2 rounded shadow-md",onClick:d[0]||(d[0]=m=>f(a).rolesPermission=2)},[Ee,g(" New Role ")])])])]),e("div",Le,[s(y,{value:f(a).arrayRoleDetails,paginator:!0,rows:10,class:"",dataKey:"roles_id",onRowExpand:t.onRowExpand,onRowCollapse:t.onRowCollapse,expandedRows:n.value,"onUpdate:expandedRows":d[2]||(d[2]=m=>n.value=m),selection:l.value,"onUpdate:selection":d[3]||(d[3]=m=>l.value=m),selectAll:t.selectAll,onSelectAllChange:t.onSelectAllChange,onRowSelect:t.onRowSelect,onRowUnselect:t.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{empty:u(()=>[g(" No Employee Details documents for the selected status filter ")]),expansion:u(m=>[e("div",null,[s(y,{value:m.data.accordian,responsiveLayout:"scroll",selection:l.value,"onUpdate:selection":d[1]||(d[1]=w=>l.value=w),selectAll:t.selectAll,onSelectAllChange:t.onSelectAllChange},{default:u(()=>[s(i,{field:"user_code",header:"Employee ID"},{default:u(()=>[g(A(m.data.user_code),1)]),_:2},1024),s(i,{field:"name",header:"Employee Name"}),s(i,{field:"department_name",header:"Department"}),s(i,{field:"",header:"Action"},{body:u(w=>[e("button",{class:"text-white bg-blue-700 px-4 py-2 rounded shadow",onClick:je=>c(w.data)},"Remove",8,Be)]),_:2},1024)]),_:2},1032,["value","selection","selectAll","onSelectAllChange"])])]),default:u(()=>[s(i,{expander:!0}),s(i,{selectionMode:"multiple",style:{width:"1rem"},exportable:!1}),s(i,{field:"role",header:"Roles",sortable:""}),s(i,{field:"description",header:"Role Description"}),s(i,{field:"assigned_privileged",header:"Assigned Privileges",sortable:!1}),s(i,{field:"assigned_emp",header:"Assigned Employees",sortable:!1}),s(i,{field:"",header:"Action"})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])])])])):b("",!0),f(a).rolesPermission==2?(h(),v("div",Ie,[s(Ae)])):b("",!0)],64)}}},o=x(Fe),Me=M();o.use(S,{ripple:!0});o.use(z);o.use(T);o.use(q);o.use(Me);o.directive("tooltip",j);o.directive("badge",G);o.directive("ripple",N);o.directive("styleclass",H);o.directive("focustrap",k);o.component("Button",U);o.component("DataTable",K);o.component("Column",O);o.component("ColumnGroup",X);o.component("Row",W);o.component("Toast",V);o.component("OverlayPanel",oe);o.component("ConfirmDialog",E);o.component("Dropdown",L);o.component("InputText",B);o.component("Dialog",I);o.component("ProgressSpinner",Q);o.component("Calendar",Y);o.component("Textarea",Z);o.component("Chips",ee);o.component("InputNumber",J);o.component("Accordion",se);o.component("AccordionTab",te);o.component("Tree",le);o.component("Skeleton",ae);o.component("MultiSelect",ie);o.component("TreeTable",ne);o.mount("#AdminRolesPermission");
