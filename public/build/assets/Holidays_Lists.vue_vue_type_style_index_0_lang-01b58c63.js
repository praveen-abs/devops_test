import{a as c}from"./index-3716a3fc.js";import"./dayjs.min-e0adaab4.js";import{d as I}from"./pinia-e794dd07.js";import{ag as $,H as r,a1 as f,I as O,af as i,o as E,c as z,d as s,h as d,j as K,t as W,w as h,p as q,a as G,g as y}from"./toastservice.esm-8fb4434b.js";import"./moment-fbc5633a.js";const J=I("useHolidayStore",()=>{$();const w=r(!1),t=r(),m=r(),o=r(),C=r(1),p=r(),v=r(!1),L=r(!1),b=r(),a=f({FestivalTitle:"",Description:"",date:"",Holiday_Photo:""}),u=f({List_Name:"",ChooseTheHolidays:""}),_=f({location:"",ChooseTheHolidays:""}),n=f([]),g=r(),H=f([]);let N=new FormData;const x=r(),P=e=>{e.target.files&&e.target.files[0]&&(a.Holiday_Photo=e.target.files[0],x.value=window.URL.createObjectURL(e.target.files[0]),console.log(a.Holiday_Photo),N.append("file",a.Holiday_Photo),console.log(N))},D=async()=>{w.value=!0,await c.get("/holiday/master-page").then(e=>{console.log(e.data),t.value=e.data}).finally(()=>{w.value=!1})},S=()=>{let e="holiday/create_holiday",l=new FormData;l.append("holiday_name",a.FestivalTitle),l.append("holiday_description",a.Description),l.append("holiday_date",a.date),l.append("holiday_image",a.Holiday_Photo),c.post(e,l).then(()=>{}).finally(()=>{})},T=async()=>{await c.get("http://localhost:3000/HolidayMaster").then(e=>{console.log(e.data),m.value=e.data})},k=async()=>{await c.get("/holidays/add_holidayslist").then(e=>{p.value=e.data})},V=async()=>{await c.get("/holidays/show_holidaysListDetails").then(e=>{console.log(e.data),o.value=e.data})},F=()=>{for(var e in g.value){let l={id:g.value[e].id,holiday:g.value[e].holiday_name};H.push(l)}console.log(H),c.post("holiday/create_holidaylist",{name:u.List_Name,holiday_list_id:H}).then(l=>{l.data}).finally(()=>{v.value=!1})},R=()=>{c.post("holiday/create_holidaylocation",{name:_.location,vmt_holidays_list_id:_.ChooseTheHolidays.id}).finally(()=>{})},U=()=>{console.log(g.value)};async function A(e){let l={id:e.id,image_url:e.image},j="http://localhost:3000/SubmitAddNewLocation";c.post(j,l).then(()=>{}).finally(()=>{})}function M(e){L.value=!0,console.log(e),b.value=e.id,a.FestivalTitle=e.holiday_name,a.Description=e.holiday_description,a.date=e.holiday_date,a.Holiday_Photo=e.image}function B(){let e="http://localhost:3000/SubmitAddNewLocation",l=new FormData;l.append("id",b.value),l.append("holiday_name",a.FestivalTitle),l.append("holiday_description",a.Description),l.append("holiday_date",a.date),l.append("holiday_image",a.Holiday_Photo),c.post(e,l).then(()=>{})}return{holidayData:t,activeHolidaysPage:C,CreateNewList:u,AssignToLocation:_,arrayholidayMaster:m,canShowLoading:w,arrayHolidaysList:p,CreateNewListDialog:v,addNewHoliday:a,arrayCreateNewList:o,chooseHolidaylist:n,getHolidays:D,SubmitCreateNewList:F,SubmitAddNewLocation:R,getHolidaysMaster:T,getHolidaylist:k,getHolidayName:U,ChooseTheHolidays:g,FestivalPhoto:P,sumbitAddNewHoliday:S,avatar:x,getCreateNewList:V,editHolidaylist:M,editHoliday:L,sumbiteditHoliday:B,RemoveHolidayList:A}}),Q={key:0,class:"card px-3"},X={class:"w-full d-flex justify-between my-4"},Y={class:""},Z=s("i",{class:"pi pi-plus-circle"},null,-1),ee=s("span",{class:"pl-2 font-semibold text-white fs-6"},"Create New List",-1),te=[Z,ee],oe={class:"card"},ae=s("div",null,[s("h1",{class:"border-l-4 border-orange-400 fs-5 fw-bold pl-3"},"Create New List")],-1),se={class:"flex-column my-3 mx-5"},le={class:"row d-flex align-items-center"},ie=s("div",{class:"col"},[s("h1",{class:"text-gray-700 fs-4 font-semibold"},"Holiday List")],-1),ne={class:"col"},de={class:"row my-2 mb-4 d-flex align-items-center"},re=s("div",{class:"col"},[s("h1",{class:"text-gray-700 fs-4 font-semibold"},"Choose The Holidays")],-1),ce={class:"col"},ye=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),ge={__name:"CreateNewHolidaysList",setup(w){const t=J();return O(async()=>{await t.getCreateNewList(),await t.getHolidaylist()}),(m,o)=>{const C=y("Calendar"),p=y("Column"),v=y("DataTable"),L=y("InputText"),b=y("MultiSelect"),a=y("Button"),u=y("Dialog"),_=y("ProgressSpinner");return i(t).activeHolidaysPage===3?(E(),z("div",Q,[s("div",X,[d(C,{modelValue:m.date,"onUpdate:modelValue":o[0]||(o[0]=n=>m.date=n)},null,8,["modelValue"]),s("div",Y,[s("button",{onClick:o[1]||(o[1]=n=>i(t).activeHolidaysPage=1),class:"btn font-semibold border-orange-400 text-orange-500 mr-4 bg-transparent px-5"},"Cancel"),s("button",{class:"btn btn-orange ml-3 font-semibold",onClick:o[2]||(o[2]=n=>i(t).CreateNewListDialog=!0)},te)])]),s("div",oe,[K(W(i(t).arrayCreateNewList)+" ",1),d(v,{value:i(t).arrayCreateNewList,ref:"dt",dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:h(()=>[d(p,{header:"Holiday List",field:"name",style:{"min-width":"8rem"}}),d(p,{field:"no_of_holidays",header:"No of Holidays",style:{"min-width":"12rem"}}),d(p,{field:"location",header:"Location",style:{"min-width":"12rem"}}),d(p,{field:"json_popups_value.to_month",header:"Actions",style:{"min-width":"12rem"}})]),_:1},8,["value"]),d(u,{visible:i(t).CreateNewListDialog,"onUpdate:visible":o[7]||(o[7]=n=>i(t).CreateNewListDialog=n),modal:"",header:"Holiday ",style:q([{width:"38vw"},{"border-top":"5px solid #002f56"}]),class:"popup_card"},{header:h(()=>[ae]),footer:h(()=>[d(a,{label:"Cancel",class:"bg-white border-orange-400 text-orange-500 mr-4",onClick:o[6]||(o[6]=n=>i(t).CreateNewListDialog=!1),text:""}),d(a,{label:"Create",class:"bg-orange-500 border-none",icon:"pi pi-plus-circle",onClick:i(t).SubmitCreateNewList,autofocus:""},null,8,["onClick"])]),default:h(()=>[s("div",se,[s("div",le,[ie,s("div",ne,[d(L,{type:"text",class:"w-full h-12",modelValue:i(t).CreateNewList.List_Name,"onUpdate:modelValue":o[3]||(o[3]=n=>i(t).CreateNewList.List_Name=n)},null,8,["modelValue"])])]),s("div",de,[re,s("div",ce,[d(b,{modelValue:i(t).ChooseTheHolidays,"onUpdate:modelValue":o[4]||(o[4]=n=>i(t).ChooseTheHolidays=n),options:i(t).arrayHolidaysList,optionLabel:"holiday_name",placeholder:"Select Cities",maxSelectedLabels:3,class:"w-full h-12",style:{width:"230px !important"},onChange:o[5]||(o[5]=n=>i(t).getHolidayName())},null,8,["modelValue","options"])])])])]),_:1},8,["visible"]),d(u,{header:"Header",visible:i(t).canShowLoading,"onUpdate:visible":o[8]||(o[8]=n=>i(t).canShowLoading=n),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:h(()=>[d(_,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:h(()=>[ye]),_:1},8,["visible"])])])):G("",!0)}}};export{ge as _,J as u};
