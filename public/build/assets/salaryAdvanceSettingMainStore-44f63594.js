import{a as p}from"./index-362795f3.js";import{d as J}from"./pinia-503c53ce.js";import{G as o,a1 as m}from"./toastservice.esm-ed3188be.js";const V=J("salaryAdvanceSettingMainStore",()=>{const s=o(!1),S=o(1),F=o(),n=m({department_id:"",designation:"",work_location:"",state:"",client_name:""}),a=m([]),f=o(),D=async()=>{let e="/getAllDropdownFilter";await p.get(e).then(t=>{F.value=t.data}).finally(()=>{})},L=(e,t)=>{console.log(t),e=="department"?(console.log(t),n.department_id=t,console.log(n)):e=="designation"?(n.designation=t,console.log(n)):e=="state"?(n.state=t,console.log(n)):e=="work_location"?(n.work_location=t,console.log(n)):e=="client_name"?(n.client_name=t,console.log(n)):console.log("nope");let l="/showAssignEmp";p.post(l,n).then(d=>{f.value=d.data,console.log(d.data)})},C=()=>{s.value=!0;let e="/showAssignEmp";p.post(e,n).then(t=>{f.value=t.data,console.log(t.data)}).finally(()=>{s.value=!1})},x=o(),c=m({isSalaryAdvanceEnabled:0,eligibleEmployee:"",perOfSalAdvance:"",cusPerOfSalAdvance:"",deductMethod:"",cusDeductMethod:"",approvalflow:a}),W=o({}),P=()=>{s.value=!0,c.perOfSalAdvance=="custom"?c.perOfSalAdvance=c.cusPerOfSalAdvance:console.log("same of percent"),c.deductMethod=="afterPayroll"?c.deductMethod=c.cusDeductMethod:console.log("same of percent");let e="/saveSalaryAdvanceSetting";S.value=="1"&&console.log("salary Advance Disabled"),console.log("salary Advance Enabled"),c.isSalaryAdvanceEnabled=1,p.post(e,c).finally(()=>{s.value=!1,a.splice(0,a.length)}),console.log(c)},b=o(1),T=o(),i=m({isInterestFreeLoanIsEnabled:0,selectClientID:"",minEligibile:"",availPerInCtc:"",deductMethod:"",precent_Or_Amt:"",deductMethod:"",max_loan_limit:"",cusDeductMethod:"",maxTenure:"",approvalflow:a,loan_type:"InterestFreeLoan"}),I=o(),N=()=>{s.value=!0,i.deductMethod=="emi"?i.deductMethod=i.cusDeductMethod:console.log("same of percent"),b.value=="1"?console.log("disabled"):(console.log(i),i.isInterestFreeLoanIsEnabled=1),i.precent_Or_Amt=="fixed"?i.availPerInCtc="":i.precent_Or_Amt=="percnt"&&(i.max_loan_limit="");let e="/save-int-and-int-free-loan-settings";p.post(e,i).finally(()=>{s.value=!1,a.splice(0,a.length)})};async function H(){await p.get("/get-clients-for-loan-adv").then(e=>{I.value=e.data})}const O=o(1),R=o(1),h=m({tdl:"",deductMethod:"",sumbitWithIn:"",isDeductedInsubsequentpayroll:"",claimBill:"",approvalflow:a}),q=()=>{s.value=!0,O.value=="1"?console.log("disabled"):console.log(h);let e="/saveTravelAdvanceSettings";p.post(e,h).finally(()=>{s.value=!1,a.splice(0,a.length)})},E=o(1),r=m({LoanWithInterestFeature:"",selectClientID:"",minEligibile:"",availPerInCtc:"",deductMethod:"",precent_Or_Amt:"",deductMethod:"",max_loan_limit:"",cusDeductMethod:"",maxTenure:"",loan_amt_interest:"",loan_type:"LoanWithInterest",approvalflow:a}),B=()=>{s.value=!0,E.value=="1"?(console.log("disabled"),r.LoanWithInterestFeature=1):console.log(h),r.precent_Or_Amt=="fixed"?r.availPerInCtc="":r.precent_Or_Amt=="percnt"&&(r.max_loan_limit=""),r.deductMethod=="emi"?r.deductMethod=r.cusDeductMethod:console.log("same of percent");let e="/save-int-and-int-free-loan-settings";p.post(e,r).finally(()=>{s.value=!1,a.splice(0,a.length)})},G=()=>{n.client_name="",n.department_id="",n.designation="",n.state="",n.work_location="";let e="/showAssignEmp";p.post(e,n).then(t=>{f.value=t.data,console.log(t.data)})},A=o(),y=o(),M=o(),j=(e,t)=>{if(console.log(t),e==1){w.value=1,A.value=t.name;let d={approver:t.name,order:e};a.push(d)}if(e==2){y.value=t.name;let d={approver:t.name,order:e};a.push(d)}if(e==3){M.value=t.name;let d={approver:t.name,order:e};a.push(d)}else console.log("No More Options");if(e==4){console.log(t);var l=_.value.filter(function(g){return g.name==t});console.log(l);let u={name:l[0].name,val:l[0].val};console.log(u),v.value.push(u),A.value="",a.pop()}if(e==5){console.log(t);var l=_.value.filter(function(g){return g.name==t});console.log(l);let u={name:l[0].name,val:l[0].val};console.log(u),v.value.push(u),y.value="",a.pop()}if(e==6){console.log(t);var l=_.value.filter(function(g){return g.name==t});console.log(l);let u={name:l[0].name,val:l[0].val};console.log(u),v.value.push(u),M.value="",a.pop()}var l=v.value.filter(function(d){return d.val!==t.val});v.value=l},_=o([{name:"Line Manager",val:1},{name:"HR",val:2},{name:"Finance Admin",val:3}]),v=o([{name:"Line Manager",val:1},{name:"HR",val:2},{name:"Finance Admin",val:3}]),w=o(0),k=o(0),z=o(0);return{dropdownFilter:F,getDropdownFilterDetails:D,getSelectoption:L,getElibigleEmployees:C,eligbleEmployeeSource:f,resetFilters:G,canShowLoading:s,approvalFormat:a,selectedOption1:A,selectedOption2:y,selectedOption3:M,option:w,option1:k,option2:z,dropdownlist:_,filteredApprovalFlow:v,toSelectoption:j,isSalaryAdvanceFeatureEnabled:S,eligibleSalaryAdvanceEmployeeData:x,sa:c,SalaryAdvanceFeatureApprovalFlow:W,saveSalaryAdvanceFeature:P,isInterestFreeLoaneature:b,ifl:i,saveInterestfreeLoan:N,deduction_starting_months:T,getClientsName:H,ClientsName:I,isTravelAdvanceFeatureEnabled:O,eligibleTravelAdvanceEmployeeData:R,ta:h,saveTravelAdvance:q,isLoanWithInterestFeature:E,lwif:r,saveLoanWithInterest:B}});export{V as s};
