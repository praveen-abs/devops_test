import{I as u,aj as P,o as s,c as a,d as t,ai as r,t as l,a as d,h as f,w as h,F as _,f as S,T as y,k as b,E as R,l as N,g as F,j as q,n as K}from"./toastservice.esm-976801d7.js";import{a as v}from"./index-362795f3.js";import{u as U}from"./dashboard_service-c65c3500.js";import{S as Y}from"./Service-5278d847.js";const X="/build/assets/setting-7207a137.svg",T="/build/assets/notification-429a4257.svg",G="/build/assets/exit-9e7ca153.svg",H={key:0,class:"bg-white h-[60px]"},J={class:"grid grid-cols-12 justify-between items-center"},Q={class:"text-black rounded focus:outline-none"},W=t("p",{class:"text-md text-gray-600 text-left"},"Your organization",-1),Z={key:0,class:"flex justify-between items-center gap-2 py-0.5"},tt=["src"],et={key:0,class:"text-sm whitespace-nowrap font-semibold px-2"},ot={key:1,class:"font-semibold text-[12px] font-['Poppins'] text-center text-black my-auto"},nt={key:0,class:"absolute top-5 left-2 mt-14 w-11/12 bg-white shadow-lg rounded z-20"},st={class:"cursor-pointer hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},at=["onClick"],rt={class:"cursor-pointer flex mx-2 align-center justify-between rounded-lg p-0.5"},it={class:"mx-2 p-1 flex items-center justify-between rounded border gap-4",style:{height:"30px",width:"30px"}},lt=["src"],ct={class:"font-semibold whitespace-nowrap text-sm"},ut={key:0},dt=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-green-600 font-semibold"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"})],-1),mt=[dt],gt={class:"relative col-span-4"},ht={key:0,class:"z-40 absolute top-0 left-0 mt-16 w-3/4 bg-white shadow-lg rounded px-3 py-4 overflow-x-scroll"},ft=["onClick"],vt={class:"flex"},pt={class:"text-gray-900 font-bold text-sm"},_t={class:"text-gray-600 font-bold text-xs float-right"},yt={class:"text-xs text-gray-600"},bt={class:"flex col-span-4 justify-end"},wt=t("img",{src:X,alt:"",class:"h-6 w-6"},null,-1),xt=[wt],kt=t("a",{href:"config-master",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Master config",-1),Ct=t("a",{href:"clientOnboarding",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Client onboarding",-1),St=t("a",{href:"document_preview",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Document template",-1),Lt=t("a",{href:"documents_settings",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Document settings",-1),jt=t("a",{href:"attendance-leavesettings",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Leave setting",-1),zt=t("a",{href:"configurations/attendance_settings",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Attendance setting",-1),At=t("a",{href:"investment_settings",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Investment setting",-1),$t=t("a",{href:"showSAsettingsView",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Loan and salary advance setting ",-1),Dt=[kt,Ct,St,Lt,jt,zt,At,$t],Nt=t("img",{src:T,alt:"",class:"h-6 w-6"},null,-1),Tt=[Nt],Et={class:"bg-gray-100 rounded-full p-2 hover:bg-gray-200 transition duration-700 ease-in-out transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},Vt=t("img",{src:G,alt:"",class:"h-6 w-6"},null,-1),Mt=[Vt],Bt={class:"py-2 px-3 flex text-white focus:outline-none hover:bg-gray-200 transition duration-700 ease-in-out transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},It={class:"rounded-lg bg-blue-50 text-black font-semibold p-1.5 text-sm"},Ot={key:0,class:"text-sm whitespace-nowrap text-black font-semibold px-2 my-auto mx-2"},Pt={key:1,class:"font-semibold text-[12px] mx-2 whitespace-nowrap font-['Poppins'] text-center text-black my-auto"},Rt={key:0,class:"absolute top-0 right-0 mt-14 w-48 bg-white shadow-lg rounded z-30"},Ft=t("a",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 block transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none",href:"pages-profile-new "},"View profile",-1),qt=t("p",{class:"absolute left-0 mx-4 font-semibold fs-5"},[t("img",{src:T,alt:"",class:"h-6 w-6 animate-pulse"}),N(" Notification ")],-1),Kt=t("p",{class:"orange-median font-semibold fs-6"},"Attendance",-1),Ut=t("p",{class:"text-sm"},"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Inventore accusamus laborum .",-1),Yt=[Kt,Ut],Xt={key:1,class:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Gt=t("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity"},null,-1),Ht={class:"fixed inset-0 z-10 overflow-y-auto"},Jt={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Qt={class:"rounded-lg bg-white p-8 shadow-2xl absolute z-50 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},Wt=t("h2",{class:"text-lg font-bold"},"Are you sure you want to do that?",-1),Zt=t("p",{class:"mt-2 text-sm text-gray-500"}," Doing that could have cause some issues elsewhere, are you 100% sure it's OK? ",-1),te={class:"mt-4 flex gap-2 justify-center"},re={__name:"Topbar",setup(ee){const i=U(),m=Y(),w=u(!1),p=u(""),x=u(),L=u(),j=u(!1),k=u(!1);u([{id:1,label:"Attendance",to:"attendance-timesheet"}]);const c=u(),E=()=>{v.get("/clients-fetchAll").then(e=>{L.value=e.data}).finally(()=>{})},z=()=>{v.get("session-sessionselectedclient").then(e=>{console.log(e.data),c.value=e.data})},V=e=>{let o="/session-update-globalClient";console.log({client_id:e}),v.post(o,{client_id:e}).finally(()=>{z(),A()})};function M(e,o){return o.filter(g=>g.emp_name.toLowerCase().includes(e.toLowerCase())||g.emp_code.toLowerCase().includes(e.toLowerCase()))}u();const A=()=>{v.get("/vmt-activeemployees-fetchall").then(e=>{x.value=e.data})};P(()=>{A(),E(),z(),setTimeout(()=>{j.value=!0},2e3)});async function B(){try{const e=document.head.querySelector('meta[name="csrf-token"]').content;await v.post("/logout",null,{headers:{"X-CSRF-TOKEN":e}}).finally(()=>{window.location.reload()})}catch(e){console.error("Logout error:",e)}}async function I(e){console.log(e),window.location.href="/pages-profile-new?uid="+e}const $=["bg-orange-50","bg-emerald-50","bg-yellow-50","bg-rose-50","bg-cyan-50","bg-amber-50","bg-red-50","bg-blue-50","bg-pink-50","bg-green-50","bg-fuchsia-50"],O=e=>(console.log(e),$[e%$.length]);return(e,o)=>{const D=F("Sidebar"),g=q("tooltip");return s(),a(_,null,[j.value?(s(),a("div",H,[t("div",J,[t("div",{class:"relative border-1 border-x-gray-300 py-2 mx-2 px-2 col-span-4",onClick:o[0]||(o[0]=n=>r(i).canShowClients=!r(i).canShowClients)},[t("button",Q,[W,c.value?(s(),a("div",Z,[t("img",{src:c.value.client_logo,alt:"",class:"h-6 w-12"},null,8,tt),c.value.client_fullname.length<=13?(s(),a("p",et,l(c.value.client_fullname),1)):(s(),a("p",ot,l(c.value.client_fullname?c.value.client_fullname.substring(0,13)+"..":""),1))])):d("",!0)]),f(y,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:h(()=>[r(i).canShowClients?(s(),a("div",nt,[(s(!0),a(_,null,S(L.value,n=>(s(),a("div",st,[t("div",{class:"justify-between flex p-2 hover:bg-gray-200 items-center",onClick:C=>V(n.id)},[t("div",rt,[t("div",it,[t("img",{src:n.client_logo,alt:"",class:"mh-100 mw-100"},null,8,lt),t("p",ct,l(n.client_fullname)+" ("+l(n.abs_client_code)+")",1)])]),c.value&&c.value.id==n.id?(s(),a("div",ut,mt)):d("",!0)],8,at)]))),256))])):d("",!0)]),_:1})]),t("div",gt,[b(t("input",{type:"text",name:"",id:"",class:"border p-1.5 bg-gray-100 border-gray-300 rounded-lg w-full","onUpdate:modelValue":o[1]||(o[1]=n=>p.value=n),placeholder:"Search...."},null,512),[[R,p.value]]),f(y,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:h(()=>[p.value?(s(),a("div",ht,[(s(!0),a(_,null,S(M(p.value,x.value?x.value:[]),n=>(s(),a("div",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none",onClick:C=>I(n.enc_user_id)},[t("div",vt,[t("p",pt,[N(l(n.emp_name)+" ",1),t("span",_t,l(n.emp_code),1)])]),t("div",null,[t("p",yt,l(n.emp_designation),1)])],8,ft))),256))])):d("",!0)]),_:1})]),t("div",bt,[b((s(),a("button",{class:"rounded-full bg-gray-100 p-2 hover:bg-gray-200 transition duration-700 ease-in-out transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none mx-2",onClick:o[2]||(o[2]=n=>r(i).canShowConfiguration=!r(i).canShowConfiguration)},xt)),[[g,"Settings"]]),f(y,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:h(()=>[r(i).canShowConfiguration?(s(),a("div",{key:0,onClick:o[3]||(o[3]=n=>r(i).canShowConfiguration=!r(i).canShowConfiguration),class:"absolute top-0 right-40 mt-16 w-60 bg-white shadow-lg rounded z-40 p-2"},Dt)):d("",!0)]),_:1}),b((s(),a("button",{class:"mx-2 animate-pulse bg-gray-100 rounded-full p-2 hover:bg-gray-200 transition duration-700 ease-in-out transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none",onClick:o[4]||(o[4]=n=>w.value=!0)},Tt)),[[g,"Notification"]]),b((s(),a("button",Et,Mt)),[[g,"Exit"]]),t("div",{class:"mx-3 relative",onClick:o[6]||(o[6]=n=>r(i).canShowCurrentEmployee=!r(i).canShowCurrentEmployee)},[t("button",Bt,[t("p",It,l(r(m).current_user_name?r(m).current_user_name.substring(0,2):""),1),r(m).current_user_name.length<=10?(s(),a("p",Ot,l(r(m).current_user_name?r(m).current_user_name:""),1)):(s(),a("p",Pt,l(r(m).current_user_name?r(m).current_user_name.substring(0,10)+"..":""),1))]),f(y,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:h(()=>[r(i).canShowCurrentEmployee?(s(),a("div",Rt,[Ft,t("a",{onClick:o[5]||(o[5]=n=>k.value=!0),class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 block transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},"Log out")])):d("",!0)]),_:1})])])])])):d("",!0),f(D,{visible:w.value,"onUpdate:visible":o[7]||(o[7]=n=>w.value=n),position:"right",class:"w-full"},{header:h(()=>[qt]),default:h(()=>[(s(),a(_,null,S(20,(n,C)=>t("div",{class:K(["w-full px-2 rounded-lg my-2 p-2",`${O(C)}`])},Yt,2)),64))]),_:1},8,["visible"]),k.value?(s(),a("div",Xt,[Gt,t("div",Ht,[t("div",Jt,[t("div",Qt,[Wt,Zt,t("div",te,[t("button",{onClick:B,type:"button",class:"rounded bg-green-50 px-4 py-2 text-sm font-medium text-green-600"}," Yes, I'm sure "),t("button",{onClick:o[8]||(o[8]=n=>k.value=!1),type:"button",class:"rounded bg-gray-50 px-4 py-2 text-sm font-medium text-gray-600"}," No, go back ")])])])])])):d("",!0)],64)}}};export{re as _};
