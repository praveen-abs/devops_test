import{$ as u,aj as O,o as s,c as a,d as e,ai as r,t as l,a as d,h,w as g,F as _,f as k,T as p,k as P,G as R,l as A,g as F,n as I}from"./toastservice.esm-5497698c.js";import{a as f}from"./index-362795f3.js";import{u as q}from"./dashboard_service-edb72201.js";import{S as K}from"./Service-1f419817.js";const U="/build/assets/setting-7207a137.svg",T="/build/assets/notification-429a4257.svg",Y="/build/assets/exit-9e7ca153.svg";const G={key:0,class:"bg-white h-[60px]"},X={class:"grid grid-cols-12 justify-between items-center"},H={class:"text-black rounded focus:outline-none"},J=e("p",{class:"text-md text-gray-600 text-left"},"Your organization",-1),Q={key:0,class:"flex justify-between items-center gap-2 py-0.5"},W=["src"],Z={key:0,class:"text-sm whitespace-nowrap font-semibold px-2"},ee={key:1,class:"font-semibold text-[12px] font-['Poppins'] text-center text-black my-auto"},te={key:0,class:"absolute top-5 left-2 mt-14 w-11/12 bg-white shadow-lg rounded z-20"},oe={class:"cursor-pointer hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},ne=["onClick"],se={class:"cursor-pointer flex mx-2 align-center justify-between rounded-lg p-0.5"},ae={class:"mx-2 p-1 flex items-center justify-between rounded border gap-4",style:{height:"30px",width:"30px"}},re=["src"],ie={class:"font-semibold whitespace-nowrap text-sm"},le={key:0},ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-green-600 font-semibold"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"})],-1),ue=[ce],de={class:"relative col-span-4"},me={key:0,class:"z-40 absolute top-0 left-0 mt-16 w-3/4 bg-white shadow-lg rounded px-3 py-4 overflow-x-scroll"},ge=["onClick"],he={class:"flex"},fe={class:"text-gray-900 font-bold text-sm"},ve={class:"text-gray-600 font-bold text-xs float-right"},_e={class:"text-xs text-gray-600"},pe={class:"flex col-span-4 justify-end"},ye=e("img",{src:U,alt:"",class:"h-6 w-6"},null,-1),be=[ye],we=e("a",{href:"config-master",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Master config",-1),xe=e("a",{href:"clientOnboarding",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Client onboarding",-1),ke=e("a",{href:"document_preview",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Document template",-1),Ce=e("a",{href:"documents_settings",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Document settings",-1),Se=e("a",{href:"attendance-leavesettings",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Leave setting",-1),Le=e("a",{href:"configurations/attendance_settings",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Attendance setting",-1),$e=e("a",{href:"investment_settings",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Investment setting",-1),je=e("a",{href:"showSAsettingsView",class:"p-2 block text-black rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"}," Loan and salary advance setting ",-1),ze=[we,xe,ke,Ce,Se,Le,$e,je],Ae=e("img",{src:T,alt:"",class:"h-6 w-6"},null,-1),Te=[Ae],De=e("button",{class:"bg-gray-100 rounded-full p-2 hover:bg-gray-200 transition duration-700 ease-in-out transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},[e("img",{src:Y,alt:"",class:"h-6 w-6"})],-1),Ne={class:"py-2 px-3 flex bg-gray-100 text-white rounded-full focus:outline-none hover:bg-gray-200 transition duration-700 ease-in-out transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},Ve={class:"rounded-full bg-red-100 text-black font-semibold p-1 text-sm"},Me={key:0,class:"text-sm whitespace-nowrap text-black font-semibold px-2 my-auto"},Be={key:1,class:"font-semibold text-[12px] font-['Poppins'] text-center text-black my-auto"},Ee={key:0,class:"absolute top-0 right-0 mt-14 w-48 bg-white shadow-lg rounded z-30"},Oe=e("a",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 block transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none",href:"pages-profile-new "},"View profile",-1),Pe=e("p",{class:"absolute left-0 mx-4 font-semibold fs-5"},[e("img",{src:T,alt:"",class:"h-6 w-6 animate-pulse"}),A(" Notification ")],-1),Re=e("p",{class:"orange-median font-semibold fs-6"},"Attendance",-1),Fe=e("p",{class:"text-sm"},"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Inventore accusamus laborum .",-1),Ie=[Re,Fe],qe={key:1,class:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Ke=e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity"},null,-1),Ue={class:"fixed inset-0 z-10 overflow-y-auto"},Ye={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Ge={class:"rounded-lg bg-white p-8 shadow-2xl absolute z-50 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},Xe=e("h2",{class:"text-lg font-bold"},"Are you sure you want to do that?",-1),He=e("p",{class:"mt-2 text-sm text-gray-500"}," Doing that could have cause some issues elsewhere, are you 100% sure it's OK? ",-1),Je={class:"mt-4 flex gap-2 justify-center"},ot={__name:"Topbar",setup(Qe){const i=q(),m=K(),y=u(!1),v=u(""),b=u(),C=u(),S=u(!1),w=u(!1);u([{id:1,label:"Attendance",to:"attendance-timesheet"}]);const c=u(),D=()=>{f.get("/clients-fetchAll").then(o=>{C.value=o.data}).finally(()=>{})},L=()=>{f.get("session-sessionselectedclient").then(o=>{console.log(o.data),c.value=o.data})},N=o=>{let n="/session-update-globalClient";console.log({client_id:o}),f.post(n,{client_id:o}).finally(()=>{L(),$()})};function V(o,n){return n.filter(t=>t.emp_name.toLowerCase().includes(o.toLowerCase())||t.emp_code.toLowerCase().includes(o.toLowerCase()))}u();const $=()=>{f.get("/vmt-activeemployees-fetchall").then(o=>{b.value=o.data})};O(()=>{$(),D(),L(),setTimeout(()=>{S.value=!0},2e3)});async function M(){try{const o=document.head.querySelector('meta[name="csrf-token"]').content;await f.post("/logout",null,{headers:{"X-CSRF-TOKEN":o}}).finally(()=>{window.location.reload()})}catch(o){console.error("Logout error:",o)}}async function B(o){console.log(o),window.location.href="/pages-profile-new?uid="+o}const j=["bg-orange-50","bg-emerald-50","bg-yellow-50","bg-rose-50","bg-cyan-50","bg-amber-50","bg-red-50","bg-blue-50","bg-pink-50","bg-green-50","bg-fuchsia-50"],E=o=>(console.log(o),j[o%j.length]);return(o,n)=>{const z=F("Sidebar");return s(),a(_,null,[S.value?(s(),a("div",G,[e("div",X,[e("div",{class:"relative border-1 border-x-gray-300 py-2 mx-2 px-2 col-span-4",onClick:n[0]||(n[0]=t=>r(i).canShowClients=!r(i).canShowClients)},[e("button",H,[J,c.value?(s(),a("div",Q,[e("img",{src:c.value.client_logo,alt:"",class:"h-6 w-12"},null,8,W),c.value.client_fullname.length<=13?(s(),a("p",Z,l(c.value.client_fullname),1)):(s(),a("p",ee,l(c.value.client_fullname?c.value.client_fullname.substring(0,13)+"..":""),1))])):d("",!0)]),h(p,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:g(()=>[r(i).canShowClients?(s(),a("div",te,[(s(!0),a(_,null,k(C.value,t=>(s(),a("div",oe,[e("div",{class:"justify-between flex p-2 hover:bg-gray-200 items-center",onClick:x=>N(t.id)},[e("div",se,[e("div",ae,[e("img",{src:t.client_logo,alt:"",class:"mh-100 mw-100"},null,8,re),e("p",ie,l(t.client_fullname)+" ("+l(t.abs_client_code)+")",1)])]),c.value&&c.value.id==t.id?(s(),a("div",le,ue)):d("",!0)],8,ne)]))),256))])):d("",!0)]),_:1})]),e("div",de,[P(e("input",{type:"text",name:"",id:"",class:"border p-1.5 border-gray-300 rounded-lg w-2/5","onUpdate:modelValue":n[1]||(n[1]=t=>v.value=t),placeholder:"Search...."},null,512),[[R,v.value]]),h(p,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:g(()=>[v.value?(s(),a("div",me,[(s(!0),a(_,null,k(V(v.value,b.value?b.value:[]),t=>(s(),a("div",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none",onClick:x=>B(t.enc_user_id)},[e("div",he,[e("p",fe,[A(l(t.emp_name)+" ",1),e("span",ve,l(t.emp_code),1)])]),e("div",null,[e("p",_e,l(t.emp_designation),1)])],8,ge))),256))])):d("",!0)]),_:1})]),e("div",pe,[e("button",{class:"rounded-full bg-gray-100 p-2 hover:bg-gray-200 transition duration-700 ease-in-out transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none mx-2",onClick:n[2]||(n[2]=t=>r(i).canShowConfiguration=!r(i).canShowConfiguration)},be),h(p,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:g(()=>[r(i).canShowConfiguration?(s(),a("div",{key:0,onClick:n[3]||(n[3]=t=>r(i).canShowConfiguration=!r(i).canShowConfiguration),class:"absolute top-0 right-40 mt-16 w-60 bg-white shadow-lg rounded z-40 p-2"},ze)):d("",!0)]),_:1}),e("button",{class:"mx-2 animate-pulse bg-gray-100 rounded-full p-2 hover:bg-gray-200 transition duration-700 ease-in-out transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none",onClick:n[4]||(n[4]=t=>y.value=!0)},Te),De,e("div",{class:"mx-3 relative",onClick:n[6]||(n[6]=t=>r(i).canShowCurrentEmployee=!r(i).canShowCurrentEmployee)},[e("button",Ne,[e("p",Ve,l(r(m).current_user_name?r(m).current_user_name.substring(0,2):""),1),r(m).current_user_name.length<=11?(s(),a("p",Me,l(r(m).current_user_name?r(m).current_user_name:""),1)):(s(),a("p",Be,l(r(m).current_user_name?r(m).current_user_name.substring(0,11)+"..":""),1))]),h(p,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:g(()=>[r(i).canShowCurrentEmployee?(s(),a("div",Ee,[Oe,e("a",{onClick:n[5]||(n[5]=t=>w.value=!0),class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100 block transition transform hover:-translate-y-1 motion-reduce:transition-none motion-reduce:hover:transform-none"},"Log out")])):d("",!0)]),_:1})])])])])):d("",!0),h(z,{visible:y.value,"onUpdate:visible":n[7]||(n[7]=t=>y.value=t),position:"right",class:"w-full"},{header:g(()=>[Pe]),default:g(()=>[(s(),a(_,null,k(20,(t,x)=>e("div",{class:I(["w-full px-2 rounded-lg my-2 p-2",`${E(x)}`])},Ie,2)),64))]),_:1},8,["visible"]),w.value?(s(),a("div",qe,[Ke,e("div",Ue,[e("div",Ye,[e("div",Ge,[Xe,He,e("div",Je,[e("button",{onClick:M,type:"button",class:"rounded bg-green-50 px-4 py-2 text-sm font-medium text-green-600"}," Yes, I'm sure "),e("button",{onClick:n[8]||(n[8]=t=>w.value=!1),type:"button",class:"rounded bg-gray-50 px-4 py-2 text-sm font-medium text-gray-600"}," No, go back ")])])])])])):d("",!0)],64)}}};export{ot as _};
