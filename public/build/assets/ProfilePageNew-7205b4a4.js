import{H as k,a0 as q,I as H,g as $,o as h,c as x,h as t,e,a as B,t as T,a1 as r,k as D,w as _,p as M,F as K,a2 as G,j as U,E as F,a3 as W,a4 as z,b as X,J as Z,P as ee,K as te,L as oe,R as se,u as ae,v as le,N as ie,A as ne,M as de}from"./toastservice.esm-55c6bc57.js";import{d as re,c as ce}from"./pinia-7d464185.js";import{T as pe,B as _e,S as me,b as ue,a as fe,c as be}from"./styleclass.esm-d0955109.js";import"./blockui.esm-dfd3470d.js";import{a as ye,s as ge}from"./toast.esm-ed5ea1ae.js";import{D as he}from"./dialogservice.esm-b0ef9e19.js";import{s as ve}from"./progressspinner.esm-3e903105.js";import{s as xe}from"./row.esm-6ebc942e.js";import{s as De}from"./columngroup.esm-9dd1458e.js";import{s as we}from"./calendar.esm-bc739ce3.js";import{s as $e}from"./textarea.esm-6a3ca6d3.js";import{s as Pe}from"./chips.esm-4e8c1244.js";import{s as ke}from"./multiselect.esm-77e30b91.js";import{s as Le}from"./progressbar.esm-b0556340.js";import{l as Q}from"./lodash-b844b8cc.js";import{a as N}from"./index-f7a317fc.js";import{S as Y}from"./Service-c89a36de.js";import{p as O,E as Ce}from"./EmployeeDetails-1ef775cf.js";import{d as j}from"./dayjs.min-ed58423a.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";const Te={class:"mb-0 card top-line"},Ee={class:"card-body"},Ve={class:"row"},Se={class:"col-12 text-end"},Ne=e("i",{class:"fa fa-id-card text-success","aria-hidden":"true"},null,-1),Re=[Ne],Ue={class:"text-center col-12"},Ae={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{"box-shadow":"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",border:"1px solid navy"}},Fe=["src"],Me=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),Ie={class:"mt-4"},Be={class:"progress-wrapper border-bottom-liteAsh"},Ye=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),Oe={class:"mb-1 text-center px-auto"},je={class:"text-center fw-bold"},qe=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),He=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Ge={class:"mb-4 text-center profile-mid-right-content"},Ke={class:"py-2 border-bottom-liteAsh"},Je=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),We={key:0,class:"f-12 fw-bold"},ze={key:1,class:"text-danger f-12 fw-bold"},Qe={class:"py-2 border-bottom-liteAsh"},Xe=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),Ze={key:0,class:"f-12 fw-bold"},et={key:1,class:"f-12 fw-bold"},tt={class:"py-2 border-bottom-liteAsh"},ot=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),st={key:0,class:"f-12 fw-bold"},at={key:1,class:"f-12 fw-bold"},lt={class:"py-2 border-bottom-liteAsh"},it=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),nt={key:0,class:"f-12 fw-bold"},dt={key:1,class:"f-12 fw-bold"},rt={class:"py-2 border-bottom-liteAsh ml-3"},ct={class:"text-muted f-12 fw-bold"},pt=e("i",{class:"ri-pencil-fill"},null,-1),_t=[pt],mt={key:0,class:"f-12 fw-bold"},ut={key:1,class:"f-12 fw-bold"},ft={class:"py-2 border-bottom-liteAsh"},bt={class:"text-muted f-12 fw-bold"},yt=e("i",{class:"ri-pencil-fill"},null,-1),gt=[yt],ht={key:0,class:"f-12 fw-bold"},vt={key:1,class:"f-12 fw-bold"},xt=e("div",{class:"text-center profile-bottom-right-content"},[e("button",{class:"btn btn-danger"},[e("i",{class:"fa fa-sign-out me-1"}),D(" Action ")])],-1),Dt={class:"confirmation-content"},wt=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),$t={class:"card p-3 d-flex justify-items-center align-items-center",style:{width:"18rem","margin-left":"140px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},Pt=e("img",{src:"",alt:"",class:"",style:{height:"40px",width:"140px"}},null,-1),kt={class:"card-body d-flex justify-items-center align-items-center",style:{"flex-direction":"column"}},Lt=["src"],Ct={class:"card-title mt-3 mb-2 f-12",style:{"text-align":"center"}},Tt={key:1,class:"f-12 card-text mb-2 text-gray-400"},Et={key:2,class:"f-12 fw-bold"},Vt={key:3,class:"f-12 fw-bold mb-2",style:{color:"grey"}},St={key:4,class:"f-12 mb-2 text-secondary-emphasis"},Nt={__name:"EmployeeCard",setup(I){const m=Y(),l=k(),L=k(!1),s=q({department:"",reporting_manager:""});let i=O();const f=()=>{N.post("/profile-pages/getProfilePicture",{user_code:m.current_user_code}).then(c=>{l.value=c.data.data}).finally(()=>{console.log("profile Pic Fetched")})},o=c=>{c.target.files&&c.target.files[0]&&(l.value=c.target.files[0],console.log(l.value));let p=new FormData;p.append("user_code",m.current_user_code),p.append("file_object",l.value);let b="/profile-pages/updateProfilePicture";N.post(b,p).then(a=>{}).finally(()=>{console.log("Photo Sent"),f()})},w=k(),v=k(),u=k(!1),R=k(!1),P=k(!1),n=k("None"),d=c=>{console.log(c),N.post("/profile-pages/updateDepartment",{user_code:i.employeeDetails.user_code,department_id:s.department}).then(p=>{let b=Q._.find(w.value,["id",s.department]).name;console.log("Lodash [Selected Dept]: "+b),i.employeeDetails.get_employee_office_details.department_name=b,n.value="Department updated successfully !",console.log(p.data)}).catch(p=>{n.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+p)}).finally(()=>{P.value=!0,u.value=!1})},g=c=>{console.log("editReportingManager : "+c),N.post("/profile-pages/updateReportingManager",{user_code:i.employeeDetails.user_code,manager_user_code:s.reporting_manager}).then(p=>{let b=Q._.find(v.value,["user_code",s.reporting_manager]);i.employeeDetails.get_employee_office_details.l1_manager_name=b.name,i.employeeDetails.get_employee_office_details.l1_manager_code=b.user_code,n.value="Reporting Manager updated successfully !",console.log(p.data)}).catch(p=>{n.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+p)}).finally(()=>{P.value=!0,R.value=!1})},V=()=>{s.department=i.employeeDetails.get_employee_office_details.department_name,s.reporting_manager=i.employeeDetails.get_employee_office_details.l1_manager_name,console.log(s.department)};return H(()=>{m.DepartmentDetails().then(c=>{w.value=c.data,console.log("testing"+i.employeeDetails.get_employee_office_details.l1_manager_name)}),m.ManagerDetails().then(c=>{v.value=c.data}),f(),V()}),(c,p)=>{const b=$("Toast"),a=$("ProgressBar"),y=$("Dialog"),A=$("Dropdown");return h(),x(K,null,[t(b),e("div",Te,[e("div",Ee,[e("div",Ve,[e("div",Se,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:p[0]||(p[0]=S=>L.value=!0)},Re)]),e("div",Ue,[e("div",Ae,[l.value?(h(),x("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${l.value}`,srcset:""},null,8,Fe)):B("",!0),Me,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:p[1]||(p[1]=S=>o(S))},null,32)]),e("div",Ie,[e("div",Be,[Ye,e("div",Oe,[e("h6",je,T(r(i).employeeDetails.name),1)]),qe,t(a,{value:r(i).employeeDetails.profile_completeness},null,8,["value"]),He]),e("div",Ge,[e("div",Ke,[Je,r(i).employeeDetails.active==1?(h(),x("p",We," Active ")):(h(),x("p",ze,"Not Active"))]),e("div",Qe,[Xe,r(i).employeeDetails.user_code?(h(),x("p",Ze,T(r(i).employeeDetails.user_code),1)):(h(),x("p",et,"-"))]),e("div",tt,[ot,r(i).employeeDetails.get_employee_office_details.designation?(h(),x("p",st,T(r(i).employeeDetails.get_employee_office_details.designation),1)):(h(),x("p",at,"-"))]),e("div",lt,[it,r(i).employeeDetails.get_employee_office_details.work_location?(h(),x("p",nt,T(r(i).employeeDetails.get_employee_office_details.work_location),1)):(h(),x("p",dt,"-"))]),e("div",rt,[e("p",ct,[D(" Department "),e("a",{href:"#",class:"edit-icon",onClick:p[2]||(p[2]=S=>u.value=!0)},_t)]),r(i).employeeDetails.get_employee_office_details.department_id?(h(),x("p",mt,T(r(i).employeeDetails.get_employee_office_details.department_name),1)):(h(),x("p",ut,"-"))]),e("div",ft,[e("p",bt,[D(" Reporting To "),e("a",{href:"#",class:"edit-icon",onClick:p[3]||(p[3]=S=>R.value=!0)},gt)]),r(i).employeeDetails.get_employee_office_details.l1_manager_code?(h(),x("p",ht,T(r(i).employeeDetails.get_employee_office_details.l1_manager_name)+" - "+T(r(i).employeeDetails.get_employee_office_details.l1_manager_code),1)):(h(),x("p",vt,"-"))])]),xt])])])])]),t(y,{header:"Status",visible:P.value,"onUpdate:visible":p[4]||(p[4]=S=>P.value=S),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:_(()=>[e("div",Dt,[wt,e("span",null,T(n.value),1)])]),_:1},8,["visible"]),t(y,{visible:u.value,"onUpdate:visible":p[6]||(p[6]=S=>u.value=S),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:_(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:d}," Save ")])]),default:_(()=>[t(A,{options:w.value,optionLabel:"name",modelValue:s.department,"onUpdate:modelValue":p[5]||(p[5]=S=>s.department=S),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(y,{visible:R.value,"onUpdate:visible":p[8]||(p[8]=S=>R.value=S),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:_(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:g}," Save ")])]),default:_(()=>[t(A,{optionLabel:"name",options:v.value,modelValue:s.reporting_manager,"onUpdate:modelValue":p[7]||(p[7]=S=>s.reporting_manager=S),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(y,{visible:L.value,"onUpdate:visible":p[9]||(p[9]=S=>L.value=S),modal:"",header:"",style:{width:"40vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:M({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:_(()=>[e("div",$t,[Pt,e("div",kt,[l.value?(h(),x("img",{key:0,class:"rounded-circle profile-img",src:`data:image/png;base64,${l.value}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"120px",height:"120px"}},null,8,Lt)):B("",!0),e("h5",Ct,T(r(i).employeeDetails.name),1),r(i).employeeDetails.get_employee_office_details.department_id?(h(),x("h5",Tt,T(r(i).employeeDetails.get_employee_office_details.department_name),1)):(h(),x("h1",Et,"-")),r(i).employeeDetails.user_code?(h(),x("h5",Vt,T(r(i).employeeDetails.user_code),1)):(h(),x("p",St,"-"))])])]),_:1},8,["visible"])],64)}}};const Rt={class:"mb-2 card"},Ut={class:"card-body"},At={class:"fw-bold fs-15"},Ft={class:"space-between"},Mt={class:"flex-col input_text"},It=e("span",null,[D("Name "),e("span",{class:"text-danger"},"*")],-1),Bt={class:"flex-col input_text"},Yt=e("span",null,[D("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ot={class:"space-between M-T"},jt={class:"flex-col input_text"},qt=e("span",null,[D("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Ht={class:"flex-col input_text"},Gt=e("span",null,[D("phone"),e("span",{class:"text-danger"},"*")],-1),Kt={class:"my-6 table-responsive"},Jt={key:0},Wt={key:1},zt=["onClick"],Qt=["onClick"],Xt={class:"space-between"},Zt={class:"flex-col input_text"},eo=e("span",null,[D("Name "),e("span",{class:"text-danger"},"*")],-1),to={class:"flex-col input_text"},oo=e("span",null,[D("Relationship"),e("span",{class:"text-danger"},"*")],-1),so={class:"space-between M-T"},ao={class:"flex-col input_text"},lo=e("span",null,[D("Date of birth "),e("span",{class:"text-danger"},"*")],-1),io={class:"flex-col input_text"},no=e("span",null,[D("phone"),e("span",{class:"text-danger"},"*")],-1),ro={__name:"FamilyDetails",setup(I){const m=Y(),l=O(),L=G();k("");const s=k(!1),i=k(!1),f=q({name:"",relationship:"",dob:"",phone_number:""}),o=q({name:"",relationship:"",dob:"",phone_number:""}),w=k(),v=()=>{l.loading_screen=!0;let d=`/add-family-info/${m.current_user_id}`;N.post(d,{user_code:l.employeeDetails.user_code,name:f.name,relationship:f.relationship,dob:f.dob,phone_number:f.phone_number}).then(g=>{g.data.status=="success"?(L.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),l.employeeDetails.get_family_details.dob=useDateFormat(f.dob,"YYYY-MM-DD"),l.employeeDetails.get_family_details.name=f.gender,l.employeeDetails.get_family_details.relationship=f.relationship,l.employeeDetails.get_family_details.phone_number=f.phone_number):g.data.status=="failure"&&(leave_data.leave_request_error_messege=g.data.message)}).catch(g=>{console.log(g)}).finally(()=>{l.fetchEmployeeDetails(),l.loading_screen=!1}),s.value=!1},u=n=>{i.value=!0,w.value=n.id,o.name=n.name,o.relationship=n.relationship,o.dob=n.dob,o.phone_number=n.phone_number},R=n=>{w.value=n.id;let g=` /delete-family-info/${m.current_user_id}`;N.post(g,{current_table_id:w.value}).then(V=>{V.data.status=="success"?(window.location.reload(),L.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),l.employeeDetails.get_family_details.dob=useDateFormat(f.dob,"YYYY-MM-DD"),l.employeeDetails.get_family_details.name=f.gender,l.employeeDetails.get_family_details.relationship=f.relationship,l.employeeDetails.get_family_details.phone_number=f.phone_number):V.data.status=="failure"&&(leave_data.leave_request_error_messege=V.data.message)}).catch(V=>{console.log(V)})},P=n=>{let g=`/update-family-info/${m.current_user_id}`;N.post(g,{user_code:l.employeeDetails.user_code,current_table_id:w.value,name:o.name,relationship:o.relationship,dob:o.dob,phone_number:o.phone_number}).then(V=>{V.data.status=="success"?(window.location.reload(),L.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),l.employeeDetails.get_family_details.dob=useDateFormat(o.dob,"YYYY-MM-DD"),l.employeeDetails.get_family_details.name=o.gender,l.employeeDetails.get_family_details.relationship=f.relationship,l.employeeDetails.get_family_details.phone_number=o.phone_number):V.data.status=="failure"&&(leave_data.leave_request_error_messege=V.data.message)}).catch(V=>{console.log(V)}),i.value=!1};return H(()=>{}),(n,d)=>{const g=$("Toast"),V=$("Dialog"),c=$("Column"),p=$("DataTable");return h(),x("div",Rt,[e("div",Ut,[e("h6",At,[D("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"79%"},onClick:d[0]||(d[0]=b=>s.value=!0)}," Add New "),t(V,{visible:s.value,"onUpdate:visible":d[5]||(d[5]=b=>s.value=b),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:_(()=>[e("div",null,[e("h5",{style:M({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:_(()=>[t(g),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:v},"submit")])]),default:_(()=>[e("div",Ft,[e("div",Mt,[It,U(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":d[1]||(d[1]=b=>f.name=b)},null,512),[[F,f.name]])]),e("div",Bt,[Yt,U(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":d[2]||(d[2]=b=>f.relationship=b),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[F,f.relationship]])])]),e("div",Ot,[e("div",jt,[qt,U(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":d[3]||(d[3]=b=>f.dob=b)},null,512),[[F,f.dob]])]),e("div",Ht,[Gt,U(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":d[4]||(d[4]=b=>f.phone_number=b)},null,512),[[F,f.phone_number]])])])]),_:1},8,["visible"])]),e("div",Kt,[t(p,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:r(l).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[t(c,{header:"Name",field:"name",style:{"min-width":"8rem"}}),t(c,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),t(c,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:_(b=>[b.data.dob=="Invalid Date"?(h(),x("div",Jt," - ")):(h(),x("div",Wt,T(r(j)(b.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),t(c,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),t(c,{exportable:!1,header:"Action",style:{"min-width":"8rem"}},{body:_(b=>[e("button",{class:"mr-3 btn btn-success",onClick:a=>u(b.data)},"Edit",8,zt),e("button",{class:"btn btn-danger",onClick:a=>R(b.data)},"Delete",8,Qt),e("template",null,[t(V,{visible:i.value,"onUpdate:visible":d[10]||(d[10]=a=>i.value=a),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:M({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:_(()=>[t(g),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:P},"submit")])]),default:_(()=>[e("div",Xt,[e("div",Zt,[eo,U(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":d[6]||(d[6]=a=>o.name=a),required:""},null,512),[[F,o.name]])]),e("div",to,[oo,U(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":d[7]||(d[7]=a=>o.relationship=a),required:""},null,512),[[F,o.relationship]])])]),e("div",so,[e("div",ao,[lo,U(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":d[8]||(d[8]=a=>o.dob=a)},null,512),[[F,o.dob]])]),e("div",io,[no,U(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":d[9]||(d[9]=a=>o.phone_number=a)},null,512),[[F,o.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}},co=re("employeePayslipStore",()=>{const I=k(),m=k(),l=k(!1),L=new URLSearchParams(window.location.search);function s(){return L.has("uid")?L.get("uid"):""}async function i(){N.post("/payroll/paycheck/getEmployeeAllPayslipList",{uid:s()}).then(w=>{I.value=w.data.data})}async function f(w,v){let u=parseInt(j(v).month())+1,R=j(v).year();await N.post("/payroll/paycheck/getEmployeePayslipDetailsAsHTML",{uid:s(),user_code:w,month:u,year:R}).then(P=>{m.value=P.data,l.value=!0})}async function o(w,v){console.log("Downloading payslip PDF.....");let u=parseInt(j(v).month())+1,R=j(v).year();await N.post("/payroll/paycheck/getEmployeePayslipDetailsAsPDF",{uid:s(),user_code:w,month:u,year:R}).then(P=>{console.log("Response [getEmployeePayslipDetailsAsPDF] : "+P.data.data),console.log(" Response [downloadPayslipReleaseStatus] : "+JSON.stringify(P.data.data)),window.open(`data:application/pdf;base64,${P.data.data}`)})}return{array_employeePayslips_list:I,paySlipHTMLView:m,canShowPayslipView:l,getEmployeeAllPayslipList:i,getEmployeePayslipDetailsAsHTML:f,getEmployeePayslipDetailsAsPDF:o}});const po={class:"my-4"},_o={class:"card flex justify-content-center inline-flex"},mo=["innerHTML"],uo={__name:"EmployeePayslips",setup(I){const m=co();return H(async()=>{await m.getEmployeeAllPayslipList("174")}),(l,L)=>{const s=$("Column"),i=$("Button"),f=$("column"),o=$("DataTable"),w=$("Dialog");return h(),x(K,null,[e("div",po,[t(o,{value:r(m).array_employeePayslips_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:l.filters,"onUpdate:filters":L[0]||(L[0]=v=>l.filters=v),filterDisplay:"menu",loading:l.loading2,globalFilterFields:["name","status"]},{default:_(()=>[t(s,{field:"PAYROLL_MONTH",header:"Month"},{body:_(v=>[D(T(r(j)(v.data.PAYROLL_MONTH).format("DD-MMM-YYYY")),1)]),_:1}),t(s,{field:"TOTAL_EARNED_GROSS",header:"Gross Pay"}),t(s,{field:"Reimbursements",header:"Reimbursements"},{body:_(v=>[D(T(0))]),_:1}),t(s,{field:"TOTAL_DEDUCTIONS",header:"Deductions"}),t(s,{field:"NET_TAKE_HOME",header:"Take Home"}),t(s,{header:"Action"},{body:_(v=>[t(i,{class:"btn-primary",label:"View ",onClick:u=>r(m).getEmployeePayslipDetailsAsHTML("",v.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1}),t(f,{header:"Download"},{body:_(v=>[t(i,{class:"btn-primary",label:"Download ",onClick:u=>r(m).getEmployeePayslipDetailsAsPDF("",v.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])]),e("div",_o,[t(w,{visible:r(m).canShowPayslipView,"onUpdate:visible":L[1]||(L[1]=v=>r(m).canShowPayslipView=v),modal:"",header:"Payslip",style:{width:"50vw"}},{default:_(()=>[e("div",{innerHTML:r(m).paySlipHTMLView},null,8,mo)]),_:1},8,["visible"])])],64)}}};const fo=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),bo={class:"tab-content",id:"pills-tabContent"},yo={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},go=e("div",{class:"mb-2 card"},[e("div",{class:"card-body"},[e("form",{action:"",method:"POST",enctype:"multipart/form-data"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:"mb-2 fw-bold fs-15"}," Payroll Summary ")]),e("ul",{class:"personal-info"},[e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Last Processed"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Total Working Days"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1"},[e("div",{class:"title"},"Loss Of Pay(LOP)"),e("div",{class:"text"}," - ")])])])])],-1),ho={class:"mb-2 card"},vo={class:"card-body"},xo=e("i",{class:"ri-pencil-fill"},null,-1),Do=[xo],wo={class:"modal-body"},$o={class:"row"},Po={class:"col-md-6"},ko={class:"mb-3 form-group"},Lo=e("label",null,"Bank Name",-1),Co={class:"col-md-6"},To={class:"mb-3 form-group"},Eo=e("label",null,"Bank Account No",-1),Vo=e("div",{class:"cal-icon"},null,-1),So={class:"col-md-6"},No={class:"mb-3 form-group"},Ro=e("label",null,"IFSC Code",-1),Uo={class:"col-md-6"},Ao={class:"mb-3 form-group"},Fo=e("label",null,"PAN No",-1),Mo={class:"col-md-6"},Io={class:"floating"},Bo=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),Yo={class:"flex justify-content-start"},Oo=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),D(),e("h1",{class:"text-light"},"Upload file")],-1),jo={class:"personal-info"},qo=e("div",{class:"title"},"Bank Name",-1),Ho={class:"text"},Go=e("div",{class:"title"},"Bank Account No.",-1),Ko={class:"text"},Jo=e("div",{class:"title"},"IFSC Code",-1),Wo={class:"text"},zo=e("div",{class:"title"},"PAN No",-1),Qo={class:"text"},Xo={class:"mb-2 card"},Zo={class:"card-body"},es={class:"mb-2 fw-bold fs-15"},ts={class:"personal-edit"},os=e("i",{class:"ri-pencil-fill"},null,-1),ss=[os],as={class:"modal-body"},ls={class:"row"},is={class:"col-md-6"},ns={class:"floating"},ds=e("label",{for:"",class:"float-label"},[D("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),rs=e("option",{value:"",hidden:"",selected:"",disabled:""},"PF Applicable",-1),cs=e("option",{value:"yes"},"Yes",-1),ps=e("option",{value:"no"},"No",-1),_s=[rs,cs,ps],ms={class:"col-md-6"},us={class:"mb-3 form-group"},fs=e("label",null,"EPF Number",-1),bs={class:"col-md-6"},ys={class:"mb-3 form-group"},gs=e("label",null,"UAN Number",-1),hs={class:"col-md-6"},vs={class:"mb-3 form-group"},xs=e("label",{class:"float-label"},[D("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),Ds=e("option",{value:"",hidden:"",selected:"",disabled:""},"ESIC Applicable",-1),ws=e("option",{value:"yes"}," Yes ",-1),$s=e("option",{value:"no"}," No ",-1),Ps=[Ds,ws,$s],ks={class:"col-md-6"},Ls={class:"floating"},Cs=e("label",{for:"",class:"float-label"},"ESIC Number",-1),Ts=e("span",{class:"error",id:"error_esic_number"},null,-1),Es=e("div",{class:"col-md-6"},[e("div",{class:"floating"},[e("label",{for:"",class:"float-label"},"check book"),e("span",{class:"error",id:"error_esic_number"})])],-1),Vs={key:0,class:"personal-info"},Ss=e("div",{class:"title"},"PF Applicable",-1),Ns={class:"text"},Rs=e("div",{class:"title"},"EPF Number",-1),Us={class:"text"},As=e("div",{class:"title"},"UAN Number",-1),Fs={class:"text"},Ms=e("div",{class:"title"},"ESIC Applicable",-1),Is={class:"text"},Bs=e("div",{class:"title"},"ESIC Number",-1),Ys={class:"text"},Os={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},js={class:"mb-2 card"},qs={class:"card-body"},Hs={__name:"FinanceDetails",setup(I){const m=G();let l=new FormData;l.append("user_code",Y.current_user_code),l.append("file_object",O.value);let L="/profile-pages/updateProfilePicture";N.post(L,l).then(b=>{}).finally(()=>{console.log("Photo Sent")});const s=O(),i=Y();k([]).value.push(s.employeeDetails.get_statutory_details),H(()=>{i.getBankList().then(b=>{v.value=b.data})});const o=k(!1),w=k(!1);k(),k();const v=k(),u=q({bank_id:"",bank_ac_no:"",ifsc_code:"",pan_no:"",PassBook:""}),R=b=>{b.target.files&&b.target.files[0]&&(u.PassBook=b.target.files[0],console.log(u.PassBook))},P=W(()=>{if(s.employeeDetails.get_statutory_details.esic_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.esic_applicable=="yes")return"Yes"}),n=W(()=>{if(s.employeeDetails.get_statutory_details.pf_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.pf_applicable=="yes")return"Yes"}),d=()=>{let a=`/update-bank-info/${i.current_user_id}`,y=new FormData;y.append("user_code",s.employeeDetails.user_code),y.append("bank_id",u.bank_id.id),y.append("account_no",u.bank_ac_no),y.append("bank_ifsc",u.ifsc_code),y.append("pan_no",u.pan_no),y.append("PassBook",u.PassBook),N.post(a,y).then(A=>{A.data.status=="success"?(m.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),s.employeeDetails.get_employee_details.bank_id=u.bank_id,s.employeeDetails.get_employee_details.account_no=u.bank_ac_no,s.employeeDetails.get_employee_details.bank_ifsc=u.ifsc_code,s.employeeDetails.get_employee_details.pan_no=u.pan_no):A.data.status=="failure"&&(leave_data.leave_request_error_messege=A.data.message)}).catch(A=>{console.log(A)}),o.value=!1};function g(){console.log("Opening General Info Dialog"),u.bank_id=s.employeeDetails.get_employee_details.bank_id,u.bank_ac_no=s.employeeDetails.get_employee_details.bank_account_number,u.ifsc_code=s.employeeDetails.get_employee_details.bank_ifsc_code,u.pan_no=s.employeeDetails.get_employee_details.pan_number,o.value=!0}function V(){console.log("Opening General Info Dialog"),c.pf_applicable=s.employeeDetails.get_statutory_details.pf_applicable,c.epf_no=s.employeeDetails.get_statutory_details.epf_number,c.uan_no=s.employeeDetails.get_statutory_details.uan_number,c.esic_applicable=s.employeeDetails.get_statutory_details.esic_applicable,c.esic_no=s.employeeDetails.get_statutory_details.esic_number,w.value=!0}const c=q({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),p=()=>{let a=`/update-statutory-info/${i.current_user_id}`;N.post(a,{user_code:s.employeeDetails.user_code,pf_applicable:c.pf_applicable,epf_number:c.epf_no,uan_number:c.uan_no,esic_applicable:c.esic_applicable,esic_number:c.esic_no}).then(y=>{y.data.status=="success"?m.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):y.data.status=="failure"&&(leave_data.leave_request_error_messege=y.data.message)}).catch(y=>{console.log(y)}),w.value=!1};return(b,a)=>{const y=$("Dropdown"),A=$("InputText"),S=$("Toast"),J=$("Dialog");return h(),x("div",null,[fo,e("div",bo,[e("div",yo,[go,e("div",ho,[e("div",vo,[e("h6",{class:"mb-2 fw-bold fs-15"},[D("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:g},Do)])]),t(J,{visible:o.value,"onUpdate:visible":a[5]||(a[5]=E=>o.value=E),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:M({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:_(()=>[e("div",null,[e("div",wo,[e("div",$o,[e("div",Po,[e("div",ko,[Lo,t(y,{editable:"",options:v.value,optionLabel:"bank_name",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:u.bank_id,"onUpdate:modelValue":a[0]||(a[0]=E=>u.bank_id=E)},null,8,["options","modelValue"])])]),e("div",Co,[e("div",To,[Eo,Vo,t(A,{class:"form-controls onboard-form",inputId:"integeronly",name:"account_no",min:0,max:100,type:"number",modelValue:u.bank_ac_no,"onUpdate:modelValue":a[1]||(a[1]=E=>u.bank_ac_no=E)},null,8,["modelValue"])])]),e("div",So,[e("div",No,[Ro,t(A,{type:"text",name:"bank_ifsc_",class:"form-controls",modelValue:u.ifsc_code,"onUpdate:modelValue":a[2]||(a[2]=E=>u.ifsc_code=E)},null,8,["modelValue"])])]),e("div",Uo,[e("div",Ao,[Fo,t(A,{type:"text",name:"pan_nos",class:"form-controls",modelValue:u.pan_no,"onUpdate:modelValue":a[3]||(a[3]=E=>u.pan_no=E)},null,8,["modelValue"])])]),e("div",Mo,[e("div",Io,[Bo,e("div",Yo,[t(S),Oo,e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:a[4]||(a[4]=E=>R(E))},null,32)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:d},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",jo,[e("li",null,[qo,e("div",Ho,T(r(s).employeeDetails.get_employee_details.bank_name),1)]),e("li",null,[Go,e("div",Ko,T(r(s).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[Jo,e("div",Wo,T(r(s).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[zo,e("div",Qo,T(r(s).employeeDetails.get_employee_details.pan_number),1)])])])])]),e("div",Xo,[e("div",Zo,[e("h6",es,[D("Statutory Information "),e("span",ts,[e("a",{href:"#",class:"edit-icon",onClick:a[6]||(a[6]=E=>V())},ss)])]),t(J,{visible:w.value,"onUpdate:visible":a[12]||(a[12]=E=>w.value=E),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:M({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:_(()=>[e("div",as,[e("div",ls,[e("div",is,[e("div",ns,[ds,U(e("select",{placeholder:"PF Applicable",name:"pf_applicable",id:"pf_applicable",class:"onboard-form form-control textbox select2_form_without_search","onUpdate:modelValue":a[7]||(a[7]=E=>c.pf_applicable=E)},_s,512),[[z,c.pf_applicable]])])]),e("div",ms,[e("div",us,[fs,U(e("input",{type:"text",placeholder:"EPF Number",name:"epf_number",id:"epf_number",class:"onboard-form form-control","onUpdate:modelValue":a[8]||(a[8]=E=>c.epf_no=E)},null,512),[[F,c.epf_no]])])]),e("div",bs,[e("div",ys,[gs,U(e("input",{name:"uan_number",id:"uan_number",minlength:"12",maxlength:"12",class:"form-control onboard-form",type:"text","pattern-data":"ifsc",required:"","onUpdate:modelValue":a[9]||(a[9]=E=>c.uan_no=E)},null,512),[[F,c.uan_no]])])]),e("div",hs,[e("div",vs,[xs,U(e("select",{placeholder:"ESIC Applicable",name:"esic_applicable",id:"esic_applicable",class:"onboard-form form-control textbox select2_form_without_search",required:"","onUpdate:modelValue":a[10]||(a[10]=E=>c.esic_applicable=E)},Ps,512),[[z,c.esic_applicable]])])]),e("div",ks,[e("div",Ls,[Cs,U(e("input",{type:"text",placeholder:"ESIC Number",name:"esic_number",id:"esic_number",minlength:"10",maxlength:"10",class:"onboard-form form-control textbox","onUpdate:modelValue":a[11]||(a[11]=E=>c.esic_no=E)},null,512),[[F,c.esic_no]]),Ts])]),Es]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:p},"Save")])])])]),_:1},8,["visible"]),r(s).employeeDetails.get_statutory_details?(h(),x("ul",Vs,[e("li",null,[Ss,e("div",Ns,T(r(n)),1)]),e("li",null,[Rs,e("div",Us,T(r(s).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[As,e("div",Fs,T(r(s).employeeDetails.get_statutory_details.uan_number),1)]),e("li",null,[Ms,e("div",Is,T(r(P))+" ",1)]),e("li",null,[Bs,e("div",Ys,T(r(s).employeeDetails.get_statutory_details.esic_number),1)])])):B("",!0)])])]),e("div",Os,[e("div",js,[e("div",qs,[t(uo)])])])])])}}};const Gs={class:"mb-2 card"},Ks={class:"card-body"},Js={class:"fw-bold fs-15"},Ws={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},zs={class:"space-between"},Qs={class:"flex-col input_text"},Xs=e("span",null,[D("Company Name "),e("span",{class:"text-danger"},"*")],-1),Zs={class:"flex-col input_text"},ea=e("span",null,[D(" Location"),e("span",{class:"text-danger"},"*")],-1),ta={class:"space-between M-T"},oa={class:"flex-col input_text"},sa=e("span",null,[D("Job Position "),e("span",{class:"text-danger"},"*")],-1),aa={class:"flex-col input_text",style:{"margin-right":"7px"}},la=e("span",{style:{paddingLeft:"6px"}},[D("Period From"),e("span",{class:"text-danger"},"*")],-1),ia={class:"space-between M-T"},na={class:"flex-col input_text",style:{marginLeft:"-6px"}},da=e("span",{style:{paddingLeft:"6px"}},[D("Period To "),e("span",{class:"text-danger"},"*")],-1),ra={class:"my-6 table-responsive"},ca=["onClick"],pa=["onClick"],_a={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},ma={class:"space-between"},ua={class:"flex-col input_text"},fa=e("span",null,[D("Company Name "),e("span",{class:"text-danger"},"*")],-1),ba={class:"flex-col input_text"},ya=e("span",null,[D(" Location"),e("span",{class:"text-danger"},"*")],-1),ga={class:"space-between M-T"},ha={class:"flex-col input_text"},va=e("span",null,[D("Job Position "),e("span",{class:"text-danger"},"*")],-1),xa={class:"flex-col input_text",style:{"margin-right":"7px"}},Da=e("span",{style:{paddingLeft:"6px"}},[D("Period From"),e("span",{class:"text-danger"},"*")],-1),wa={class:"space-between M-T"},$a={class:"flex-col input_text",style:{marginLeft:"-6px"}},Pa=e("span",{style:{paddingLeft:"6px"}},[D("Period To "),e("span",{class:"text-danger"},"*")],-1),ka={__name:"ExperienceDetails",setup(I){const m=Y(),l=O(),L=G();G(),k("");const s=k(!1),i=k(!1),f=k(),o=q({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),w=()=>{console.log(o),l.loading_screen=!0;let n=`/add-experience-info/${m.current_user_id}`;N.post(n,{user_code:l.employeeDetails.user_code,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:o.period_from,period_to:o.period_to}).then(d=>{d.data.status=="success"?L.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):d.data.status=="failure"&&(leave_data.leave_request_error_messege=d.data.message)}).catch(d=>{console.log(d)}).finally(()=>{l.fetchEmployeeDetails(),l.loading_screen=!1}),s.value=!1};H(()=>{});const v=P=>{i.value=!0,f.value=P.id,console.log(f.value),o.company_name=P.company_name,o.location=P.location,o.job_position=P.job_position,o.period_from=P.period_from,o.period_to=P.period_to},u=P=>{i.value=!1;let d=`/update-experience-info/${m.current_user_id}`;N.post(d,{user_code:l.employeeDetails.user_code,exp_current_table_id:f.value,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:o.period_from,period_to:o.period_to}).then(g=>{g.data.status=="success"?(window.location.reload(),L.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):g.data.status=="failure"&&(leave_data.leave_request_error_messege=g.data.message)}).catch(g=>{console.log(g)})},R=P=>{f.value=P.id;let d=`/delete-experience-info/${m.current_user_id}`;N.post(d,{exp_current_table_id:f.value}).then(g=>{g.data.status=="success"?L.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}):g.data.status=="failure"&&(leave_data.leave_request_error_messege=g.data.message)}).catch(g=>{console.log(g)}).finally(()=>{l.fetchEmployeeDetails(),l.loading_screen=!1})};return(P,n)=>{const d=$("InputText"),g=$("Calendar"),V=$("Toast"),c=$("Dialog"),p=$("Column"),b=$("DataTable");return h(),x("div",null,[e("div",Gs,[e("div",Ks,[e("h6",Js,[D("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"76%"},onClick:n[0]||(n[0]=a=>s.value=!0)}," Add New "),t(c,{visible:s.value,"onUpdate:visible":n[6]||(n[6]=a=>s.value=a),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:_(()=>[e("div",null,[e("h5",{style:M({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:_(()=>[e("div",null,[t(V),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:w},"submit")])]),default:_(()=>[e("div",Ws,[e("div",zs,[e("div",Qs,[Xs,t(d,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":n[1]||(n[1]=a=>o.company_name=a),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",Zs,[ea,t(d,{type:"text",modelValue:o.location,"onUpdate:modelValue":n[2]||(n[2]=a=>o.location=a),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",ta,[e("div",oa,[sa,t(d,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":n[3]||(n[3]=a=>o.job_position=a),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",aa,[la,t(g,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":n[4]||(n[4]=a=>o.period_from=a),style:M({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",ia,[e("div",na,[da,t(g,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":n[5]||(n[5]=a=>o.period_to=a),class:"",style:M({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])]),e("div",ra,[t(b,{ref:"dt",value:r(l).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[t(p,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),t(p,{field:"location",header:"Location",style:{"min-width":"8rem"}}),t(p,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),t(p,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),t(p,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),t(p,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:_(a=>[e("button",{class:"mr-3 btn btn-success",onClick:y=>v(a.data)},"Edit",8,ca),e("button",{class:"btn btn-danger",onClick:y=>R(a.data)},"Delete",8,pa),e("template",null,[t(c,{visible:i.value,"onUpdate:visible":n[13]||(n[13]=y=>i.value=y),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:M({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:_(()=>[e("div",null,[t(V),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:n[12]||(n[12]=y=>u())},"submit")])]),default:_(()=>[e("div",_a,[e("div",ma,[e("div",ua,[fa,t(d,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":n[7]||(n[7]=y=>o.company_name=y),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",ba,[ya,t(d,{type:"text",modelValue:o.location,"onUpdate:modelValue":n[8]||(n[8]=y=>o.location=y),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",ga,[e("div",ha,[va,t(d,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":n[9]||(n[9]=y=>o.job_position=y),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",xa,[Da,t(g,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":n[10]||(n[10]=y=>o.period_from=y),style:M({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",wa,[e("div",$a,[Pa,t(g,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":n[11]||(n[11]=y=>o.period_to=y),class:"",style:M({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},La={class:"table-responsive"},Ca={class:"w-full h-full d-flex justify-content-center"},Ta=["src"],Ea=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Va={__name:"documents",setup(I){const m=O();Y();const l=k({}),L=k(!1),s=k(),i=k(!1),f=o=>{l.value={...o},console.log(l.value),console.log(l.value.doc_url),L.value=!0,i.value=!0,N.post("/view-profile-private-file",{user_code:m.employeeDetails.user_code,document_name:l.value.document_name}).then(w=>{console.log(w.data.data),s.value=w.data.data,console.log("data sent",s.value)}).finally(()=>{i.value=!1})};return(o,w)=>{const v=$("Column"),u=$("Button"),R=$("DataTable"),P=$("Dialog"),n=$("ProgressSpinner");return h(),x("div",La,[t(R,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:r(m).employeeDetails.employee_documents,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[t(v,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:_(()=>[D(T(r(m).employeeDetails.employee_documents.document_name),1)]),_:1}),t(v,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:_(()=>[D(T(r(m).employeeDetails.employee_documents.status),1)]),_:1}),t(v,{field:"reason",header:"Reason ",style:{"min-width":"12rem"}}),t(v,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:_(d=>[t(u,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:g=>f(d.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),i.value==!1?(h(),X(P,{key:0,visible:L.value,"onUpdate:visible":w[0]||(w[0]=d=>L.value=d),modal:"",header:"Documents",style:{width:"40vw"}},{default:_(()=>[e("div",Ca,[l.value.doc_url?(h(),x("img",{key:0,src:`data:image/png;base64,${s.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,Ta)):B("",!0)])]),_:1},8,["visible"])):B("",!0),t(P,{header:"Header",visible:i.value,"onUpdate:visible":w[1]||(w[1]=d=>i.value=d),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(n,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[Ea]),_:1},8,["visible"])])}}},Sa=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Na={class:"profile_page-wrapper mt-30 container-fluid"},Ra={class:"row"},Ua={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},Aa={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},Fa=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Ma={class:"tab-content",id:"pills-tabContent"},Ia={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Ba={key:0},Ya={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Oa={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},ja={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},qa={key:0},Ha={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},Ga={__name:"profilePageNew",setup(I){Y();let m=O();return H(async()=>{console.log("Loading screen start : "+m.loading_screen),m.fetchEmployeeDetails().then(function(l){console.log("Loading screen end : "+m.loading_screen),console.log("Req done")})}),(l,L)=>{const s=$("Toast"),i=$("ProgressSpinner"),f=$("Dialog");return h(),x(K,null,[t(s),t(f,{header:"Header",visible:r(m).loading_screen,"onUpdate:visible":L[0]||(L[0]=o=>r(m).loading_screen=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(i,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[Sa]),_:1},8,["visible"]),e("div",Na,[e("div",Ra,[r(m).loading_screen?B("",!0):(h(),x("div",Ua,[t(Nt)])),e("div",Aa,[Fa,e("div",Ma,[e("div",Ia,[r(m).loading_screen?B("",!0):(h(),x("div",Ba,[t(Ce)]))]),e("div",Ya,[t(ro)]),e("div",Oa,[t(ka)]),e("div",ja,[r(m).loading_screen?B("",!0):(h(),x("div",qa,[t(Hs)]))]),e("div",Ha,[t(Va)])])])])])],64)}}},C=Z(Ga),Ka=ce();C.use(ee,{ripple:!0});C.use(te);C.use(oe);C.use(he);C.use(Ka);C.directive("tooltip",pe);C.directive("badge",_e);C.directive("ripple",se);C.directive("styleclass",me);C.directive("focustrap",ae);C.component("Button",le);C.component("DataTable",ue);C.component("Column",fe);C.component("ColumnGroup",De);C.component("Row",xe);C.component("Toast",ye);C.component("ConfirmDialog",ge);C.component("Dropdown",ie);C.component("InputText",ne);C.component("Dialog",de);C.component("ProgressSpinner",ve);C.component("Calendar",we);C.component("Textarea",$e);C.component("Chips",Pe);C.component("MultiSelect",ke);C.component("InputNumber",be);C.component("ProgressBar",Le);C.mount("#profilePage");
