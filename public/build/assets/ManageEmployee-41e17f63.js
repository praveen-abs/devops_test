import{d as P}from"./dayjs.min-2f06af28.js";import{p as W,r as h,Q as s,o as B,b as _,d as r,e as S,f as n,m as a,k as l,h as v,n as x,g as w,t as b,j as k,i as A,H as Y,x as F,K as Q,F as z}from"./app-0f1d8729.js";import{p as K}from"./ProfilePagesStore-ad57a364.js";import{a as E}from"./index-362795f3.js";import{S as J}from"./Service-8c132ee2.js";/* empty css                                                                       */import{L as X}from"./LoadingSpinner-7a51f44f.js";const O=W("manageEmployees",()=>{const M=h(),C=h(),p=h(),f=h(!0);async function T(){let d=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+d),await E.get(d).then(u=>{M.value=u.data})}async function $(){let d=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+d),await E.get(d).then(u=>{console.log("Axios : "+u.data),C.value=u.data})}async function L(){let d=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+d),await E.get(d).then(u=>{console.log("Axios : "+u.data),p.value=u.data})}return{array_active_employees:M,yet_to_active_employees_data:C,exit_employees_data:p,getActiveEmployees:T,ajax_yet_to_active_employees_data:$,ajax_exit_employees_data:L,canShowLoadingScreen:f}});const G={class:"w-full"},q={class:"flex items-center justify-center"},Z=["src"],ee={class:"pl-2 font-semibold text-left fs-6"},ae=["onClick"],te=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),oe={__name:"active_employees",setup(M){const C=J(),p=O(),f=K(),T=h(),$=h({global:{value:null,matchMode:s.CONTAINS},emp_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_code:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_designation:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},reporting_manager_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS}});B(async()=>{await p.getActiveEmployees(),p.canShowLoadingScreen=!1});async function L(d){console.log(d),T.value=d.data,f.user_code=d.enc_user_id,window.location.href="/pages-profile-new?uid="+d.enc_user_id}return(d,u)=>{const y=_("InputText"),m=_("Column"),N=_("ProgressBar"),R=_("DataTable");return r(),S("div",G,[n("div",null,[a(R,{value:w(p).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:$.value,"onUpdate:filters":u[0]||(u[0]=e=>$.value=e),filterDisplay:"menu",loading:d.canShowLoadingScreen,globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{empty:l(()=>[v(" No customers found.")]),loading:l(()=>[v(" Loading customers data. Please wait. ")]),default:l(()=>[a(m,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem !important","text-align":"center:  !important"}},{body:l(e=>[n("div",q,[JSON.parse(e.data.emp_avatar).type=="shortname"?(r(),S("p",{key:0,class:x(["p-2 font-semibold text-white rounded-full w-11 fs-6",w(C).getBackgroundColor(e.index)])},b(JSON.parse(e.data.emp_avatar).data),3)):(r(),S("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(e.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Z)),n("p",ee,b(e.data.emp_name),1)])]),filter:l(({filterModel:e,filterCallback:i})=>[a(y,{modelValue:e.value,"onUpdate:modelValue":c=>e.value=c,onInput:c=>i(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(m,{field:"emp_code",header:"Employee Code",class:"",style:{}},{filter:l(({filterModel:e,filterCallback:i})=>[a(y,{modelValue:e.value,"onUpdate:modelValue":c=>e.value=c,onInput:c=>i(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(m,{field:"emp_designation",header:"Designation",class:""},{filter:l(({filterModel:e,filterCallback:i})=>[a(y,{modelValue:e.value,"onUpdate:modelValue":c=>e.value=c,onInput:c=>i(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(m,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:l(({filterModel:e,filterCallback:i})=>[a(y,{modelValue:e.value,"onUpdate:modelValue":c=>e.value=c,onInput:c=>i(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(m,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(e=>[v(b(w(P)(e.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(m,{field:"profile_completeness",header:"Profile Completeness"},{body:l(e=>[e.data.profile_completeness<=39?(r(),k(N,{key:0,value:e.data.profile_completeness,class:x([e.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):A("",!0),e.data.profile_completeness>=40&&e.data.profile_completeness<=59?(r(),k(N,{key:1,class:x(["progressbar_val2",[e.data.profile_completeness>=40&&e.data.profile_completeness<=59]]),value:e.data.profile_completeness},null,8,["class","value"])):A("",!0),e.data.profile_completeness>=60?(r(),k(N,{key:2,class:x(["progressbar_val3",[e.data.profile_completeness>=60]]),value:e.data.profile_completeness},null,8,["class","value"])):A("",!0)]),_:1}),a(m,{field:"enc_user_id",header:"View Profile"},{body:l(e=>[n("button",{onClick:i=>L(e.data),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[te,v("View")],8,ae)]),_:1})]),_:1},8,["value","filters","loading"])])])}}},le={class:"confirmation-content"},ne=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),se={class:"flex items-center justify-center"},ie=["src"],re={class:"pl-2 font-semibold text-left fs-6"},de=["onClick"],ce=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),pe={key:0},me={key:1},ue={__name:"yet_to_active_employees",setup(M){const C=J(),p=O();B(()=>{p.ajax_yet_to_active_employees_data()}),h();let f=h(!1);h(!1),Y();const T=F();function $(e){window.location.href="/pages-profile-new?uid="+e}const L=h({global:{value:null,matchMode:s.CONTAINS},emp_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_code:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS}});h(["Pending","Approved","Rejected"]);let d=null,u=null;function y(e,i){e.emp_code,e.emp_status,console.log(O.emp_status),console.log(e.emp_status),f.value=!0,d=i,u=e,console.log("Selected Row Data : "+JSON.stringify(e))}function m(e){p.canShowLoadingScreen=!1,f.value=!1,e&&N()}function N(){d="",u=null}function R(){m(!1),p.canShowLoadingScreen=!0,console.log("Processing Rowdata : "+JSON.stringify(u)),E.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:u.emp_code,active_status:1}).then(e=>{console.log("Response : "+e),T.add({severity:"success",summary:"Activated",detail:`${u.emp_name} Activated Successfully`,life:3e3}),N()}).catch(e=>{p.canShowLoadingScreen=!1,N()}).finally(()=>{p.ajax_yet_to_active_employees_data(),p.getActiveEmployees(),p.canShowLoadingScreen=!1,f.value=!1})}return(e,i)=>{const c=_("Toast"),I=_("Button"),j=_("Dialog"),o=_("InputText"),g=_("Column"),V=_("ProgressBar"),H=_("DataTable");return r(),S("div",null,[a(c),a(j,{header:"Confirmation",visible:w(f),"onUpdate:visible":i[2]||(i[2]=t=>Q(f)?f.value=t:f=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:l(()=>[a(I,{label:"Yes",icon:"pi pi-check",onClick:i[0]||(i[0]=t=>R()),class:"p-button-text",autofocus:""}),a(I,{label:"No",icon:"pi pi-times",onClick:i[1]||(i[1]=t=>m(!0)),class:"p-button-text"})]),default:l(()=>[n("div",le,[ne,n("span",null,"Are you sure you want to "+b(w(d))+"?",1)])]),_:1},8,["visible"]),n("div",null,[a(H,{value:w(p).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:L.value,"onUpdate:filters":i[3]||(i[3]=t=>L.value=t),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:l(()=>[v(" No customers found. ")]),loading:l(()=>[v(" Loading customers data. Please wait. ")]),default:l(()=>[a(g,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:l(t=>[n("div",se,[JSON.parse(t.data.emp_avatar).type=="shortname"?(r(),S("p",{key:0,class:x(["p-2 font-semibold text-white rounded-full w-11 fs-6",w(C).getBackgroundColor(t.index)])},b(JSON.parse(t.data.emp_avatar).data),3)):(r(),S("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(t.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ie)),n("p",re,b(t.data.emp_name),1)])]),filter:l(({filterModel:t,filterCallback:D})=>[a(o,{modelValue:t.value,"onUpdate:modelValue":U=>t.value=U,onInput:U=>D(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(g,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem !important"}},{body:l(t=>[v(b(t.data.emp_code),1)]),filter:l(({filterModel:t,filterCallback:D})=>[a(o,{modelValue:t.value,"onUpdate:modelValue":U=>t.value=U,onInput:U=>D(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(g,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),a(g,{field:"reporting_manager_name",header:"Reporting Manager"}),a(g,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(t=>[v(b(w(P)(t.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(g,{field:"profile_completeness",header:"Profile Completeness"},{body:l(t=>[t.data.profile_completeness<=39?(r(),k(V,{key:0,value:t.data.profile_completeness,class:x([t.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):A("",!0),t.data.profile_completeness>=40&&t.data.profile_completeness<=59?(r(),k(V,{key:1,class:x(["progressbar_val2",[t.data.profile_completeness>=40&&t.data.profile_completeness<=59]]),value:t.data.profile_completeness},null,8,["class","value"])):A("",!0),t.data.profile_completeness>=60?(r(),k(V,{key:2,class:x(["progressbar_val3",[t.data.profile_completeness>=60]]),value:t.data.profile_completeness},null,8,["class","value"])):A("",!0)]),_:1}),a(g,{field:"is_onboarded",header:"Onboarding Status"},{body:l(t=>[v(b(t.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),a(g,{field:"doc_status",header:"Docs Approval Status"},{body:l(t=>[v(b(t.data.is_onboarded&&t.data.doc_status?"Approved":"Pending"),1)]),_:1}),a(g,{field:"enc_user_id",header:"View Profile"},{body:l(t=>[n("button",{onClick:D=>$(t.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[ce,v("View")],8,de)]),_:1}),a(g,{style:{width:"300px"},field:"",header:"Action"},{body:l(t=>[t.data.is_onboarded&&t.data.doc_status?(r(),S("div",pe,[a(I,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:D=>y(t.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(r(),S("div",me))]),_:1})]),_:1},8,["value","filters"])])])}}},_e={class:"confirmation-content"},fe=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),ge={class:"flex items-center justify-center"},ve=["src"],he={class:"pl-2 font-semibold text-left fs-6"},ye=["onClick"],be=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),we={__name:"exit_employees",setup(M){const C=J(),p=O();B(()=>{p.ajax_exit_employees_data()}),h();let f=h(!1),T=h(!1);Y();const $=F(),L=h({global:{value:null,matchMode:s.CONTAINS},employee_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS},status:{value:null,matchMode:s.EQUALS}});function d(y){window.location.href="/pages-profile-new?uid="+y}function u(){hideConfirmDialog(!1),T.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),E.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(y=>{console.log("Response : "+y),T.value=!1,$.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(y=>{T.value=!1,resetVars()})}return(y,m)=>{const N=_("Toast"),R=_("Button"),e=_("Dialog"),i=_("InputText"),c=_("Column"),I=_("ProgressBar"),j=_("DataTable");return r(),S("div",null,[a(N),a(e,{header:"Confirmation",visible:w(f),"onUpdate:visible":m[2]||(m[2]=o=>Q(f)?f.value=o:f=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:l(()=>[a(R,{label:"Yes",icon:"pi pi-check",onClick:m[0]||(m[0]=o=>u()),class:"p-button-text",autofocus:""}),a(R,{label:"No",icon:"pi pi-times",onClick:m[1]||(m[1]=o=>y.hideConfirmDialog(!0)),class:"p-button-text"})]),default:l(()=>[n("div",_e,[fe,n("span",null,"Are you sure you want to "+b(y.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),n("div",null,[a(j,{value:w(p).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:L.value,"onUpdate:filters":m[3]||(m[3]=o=>L.value=o),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:l(()=>[v(" No customers found.")]),loading:l(()=>[v(" Loading customers data. Please wait. ")]),default:l(()=>[a(c,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:l(o=>[n("div",ge,[JSON.parse(o.data.emp_avatar).type=="shortname"?(r(),S("p",{key:0,class:x(["p-2 font-semibold text-white rounded-full w-11 fs-6",w(C).getBackgroundColor(o.index)])},b(JSON.parse(o.data.emp_avatar).data),3)):(r(),S("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(o.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ve)),n("p",he,b(o.data.emp_name),1)])]),filter:l(({filterModel:o,filterCallback:g})=>[a(i,{modelValue:o.value,"onUpdate:modelValue":V=>o.value=V,onInput:V=>g(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(c,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem"}},{filter:l(({filterModel:o,filterCallback:g})=>[a(i,{modelValue:o.value,"onUpdate:modelValue":V=>o.value=V,onInput:V=>g(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(c,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),a(c,{field:"reporting_manager_name",header:"Reporting Manager"}),a(c,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(o=>[v(b(w(P)(o.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(c,{field:"profile_completeness",header:"Profile Completeness"},{body:l(o=>[o.data.profile_completeness<=39?(r(),k(I,{key:0,value:o.data.profile_completeness,class:x([o.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):A("",!0),o.data.profile_completeness>=40&&o.data.profile_completeness<=59?(r(),k(I,{key:1,class:x(["progressbar_val2",[o.data.profile_completeness>=40&&o.data.profile_completeness<=59]]),value:o.data.profile_completeness},null,8,["class","value"])):A("",!0),o.data.profile_completeness>=60?(r(),k(I,{key:2,class:x(["progressbar_val3",[o.data.profile_completeness>=60]]),value:o.data.profile_completeness},null,8,["class","value"])):A("",!0)]),_:1}),a(c,{field:"enc_user_id",header:"View Profile"},{body:l(o=>[n("button",{onClick:g=>d(o.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[be,v("View")],8,ye)]),_:1})]),_:1},8,["value","filters"])])])}}};const Se={class:""},xe=n("div",{class:"mb-2 card left-line"},[n("div",{class:"pt-1 pb-0 card-body"},[n("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),n("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),Ce={class:"card"},ke={class:"card-body"},Ae={class:"tab-content",id:"pills-tabContent"},Te={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Le={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ne={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ee={__name:"ManageEmployee",setup(M){const C=O();return(p,f)=>(r(),S(z,null,[w(C).canShowLoadingScreen?(r(),k(X,{key:0,class:"absolute z-50 bg-white w-[100%] h-[100%]"})):A("",!0),n("div",Se,[xe,n("div",Ce,[n("div",ke,[n("div",Ae,[n("div",Te,[a(oe)]),n("div",Le,[a(ue)]),n("div",Ne,[a(we)])])])])])],64))}};export{Ee as default};
