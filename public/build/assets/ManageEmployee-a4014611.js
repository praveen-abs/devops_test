/* empty css              */import{$ as y,av as r,aj as Y,g as c,o as m,c as C,h as e,w as o,ai as w,a3 as j,d as s,l as x,t as b,b as D,n as N,a as L,ag as Q,H as z,P as K,I as X,u as G,J as q,R as Z,S as ee,x as ae,y as te,M as oe,K as le,X as se,L as ne,Q as ie,W as re,N as ce}from"./toastservice.esm-5497698c.js";import{d as de,c as pe}from"./pinia-61b2fb76.js";import"./blockui.esm-221ce14c.js";import{D as me,s as ue}from"./dialogservice.esm-ab849a93.js";import{u as H,C as _e}from"./confirmationservice.esm-712df8af.js";import{s as fe}from"./progressspinner.esm-b55e6b3f.js";import{s as ve}from"./progressbar.esm-318715d1.js";import{s as ge}from"./row.esm-6ebc942e.js";import{s as ye}from"./calendar.esm-ae4d5a30.js";import{s as he}from"./textarea.esm-65d5b1f4.js";import{s as be}from"./chips.esm-834fa53a.js";import{s as we}from"./multiselect.esm-023b6cc5.js";import{d as F}from"./dayjs.min-2f06af28.js";import{p as Se}from"./ProfilePagesStore-70f5719f.js";import{a as O}from"./index-362795f3.js";import"./Service-ef0d3f06.js";const B=de("manageEmployees",()=>{const P=y(),h=y(),f=y();async function d(){let v=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+v),await O.get(v).then(u=>{P.value=u.data})}async function R(){let v=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+v),await O.get(v).then(u=>{console.log("Axios : "+u.data),h.value=u.data})}async function $(){let v=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+v),await O.get(v).then(u=>{console.log("Axios : "+u.data),f.value=u.data})}return{array_active_employees:P,yet_to_active_employees_data:h,exit_employees_data:f,getActiveEmployees:d,ajax_yet_to_active_employees_data:R,ajax_exit_employees_data:$}}),xe=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),Ce={class:"d-flex justify-content-center align-items-center"},ke={key:0,if:"",class:"p-2 w-2 h-18 text-semibold rounded-full bg-blue-900 text-white"},Ae=["src"],Te={class:"text-left pl-2"},$e={__name:"active_employees",setup(P){const h=B(),f=Se();let d=y(!0);const R=y(),$=y({global:{value:null,matchMode:r.CONTAINS},emp_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},emp_code:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS}});Y(async()=>{await h.getActiveEmployees(),d.value=!1});async function v(u){console.log(u),R.value=u.data,f.user_code=u.enc_user_id,window.location.href="/pages-profile-new?uid="+u.enc_user_id}return(u,_)=>{const S=c("ProgressSpinner"),I=c("Dialog"),A=c("InputText"),k=c("Column"),p=c("ProgressBar"),i=c("Button"),M=c("DataTable");return m(),C("div",null,[e(I,{header:"Header",visible:w(d),"onUpdate:visible":_[0]||(_[0]=l=>j(d)?d.value=l:d=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:o(()=>[e(S,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:o(()=>[xe]),_:1},8,["visible"]),s("div",null,[e(M,{value:w(h).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:$.value,"onUpdate:filters":_[1]||(_[1]=l=>$.value=l),filterDisplay:"menu",loading:w(d),globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[x(" No customers found.")]),loading:o(()=>[x(" Loading customers data. Please wait. ")]),default:o(()=>[e(k,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"20rem","text-align":"center:  !important"}},{body:o(l=>[s("div",Ce,[JSON.parse(l.data.emp_avatar).type=="shortname"?(m(),C("p",ke,b(JSON.parse(l.data.emp_avatar).data),1)):(m(),C("img",{key:1,class:"rounded-circle img-md w-2 userActive-status profile-img",style:{height:"30px !important"},src:`data:image/png;base64,${JSON.parse(l.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Ae)),s("p",Te,b(l.data.emp_name),1)])]),filter:o(({filterModel:l,filterCallback:t})=>[e(A,{modelValue:l.value,"onUpdate:modelValue":g=>l.value=g,onInput:g=>t(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(k,{field:"emp_code",header:"Employee Code",class:"",style:{"min-width":"5rem !important"}},{filter:o(({filterModel:l,filterCallback:t})=>[e(A,{modelValue:l.value,"onUpdate:modelValue":g=>l.value=g,onInput:g=>t(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(k,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(k,{field:"reporting_manager_name",header:"Reporting Manager"}),e(k,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(l=>[x(b(w(F)(l.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(k,{field:"profile_completeness",header:"Profile Completeness"},{body:o(l=>[l.data.profile_completeness<=39?(m(),D(p,{key:0,value:l.data.profile_completeness,class:N([l.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),l.data.profile_completeness>=40&&l.data.profile_completeness<=59?(m(),D(p,{key:1,class:N(["progressbar_val2",[l.data.profile_completeness>=40&&l.data.profile_completeness<=59]]),value:l.data.profile_completeness},null,8,["class","value"])):L("",!0),l.data.profile_completeness>=60?(m(),D(p,{key:2,class:N(["progressbar_val3",[l.data.profile_completeness>=60]]),value:l.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),e(k,{field:"enc_user_id",header:"View Profile"},{body:o(l=>[e(i,{icon:"pi pi-eye",severity:"success",label:"View",onClick:t=>v(l.data),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}},De=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),Ne={class:"confirmation-content"},Le=s("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Ve={class:"d-flex justify-content-center align-items-center"},Re={key:0,if:"",class:"p-2 w-2 h-18 text-semibold rounded-full bg-blue-900 text-white"},Me=["src"],Pe={class:"text-left pl-2"},Ie={key:0},Ee={key:1},Ue={__name:"yet_to_active_employees",setup(P){const h=B();Y(()=>{h.ajax_yet_to_active_employees_data()}),y();let f=y(!1),d=y(!1);H();const R=Q();function $(p){window.location.href="/pages-profile-new?uid="+p}const v=y({global:{value:null,matchMode:r.CONTAINS},emp_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},emp_code:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS}});y(["Pending","Approved","Rejected"]);let u=null,_=null;function S(p,i){p.emp_code,p.emp_status,console.log(B.emp_status),console.log(p.emp_status),f.value=!0,u=i,_=p,console.log("Selected Row Data : "+JSON.stringify(p))}function I(p){f.value=!1,p&&A()}function A(){u="",_=null}function k(){I(!1),d.value=!0,console.log("Processing Rowdata : "+JSON.stringify(_)),O.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:_.emp_code,active_status:1}).then(p=>{console.log("Response : "+p),R.add({severity:"success",summary:"Activated",detail:`${_.emp_name} Activated Successfully`,life:3e3}),A()}).catch(p=>{d.value=!1,A()}).finally(()=>{h.ajax_yet_to_active_employees_data(),h.getActiveEmployees(),d.value=!1})}return(p,i)=>{const M=c("Toast"),l=c("ProgressSpinner"),t=c("Dialog"),g=c("Button"),V=c("InputText"),T=c("Column"),J=c("ProgressBar"),W=c("DataTable");return m(),C("div",null,[e(M),e(t,{header:"Header",visible:w(d),"onUpdate:visible":i[0]||(i[0]=a=>j(d)?d.value=a:d=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:o(()=>[e(l,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:o(()=>[De]),_:1},8,["visible"]),e(t,{header:"Confirmation",visible:w(f),"onUpdate:visible":i[3]||(i[3]=a=>j(f)?f.value=a:f=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[e(g,{label:"Yes",icon:"pi pi-check",onClick:i[1]||(i[1]=a=>k()),class:"p-button-text",autofocus:""}),e(g,{label:"No",icon:"pi pi-times",onClick:i[2]||(i[2]=a=>I(!0)),class:"p-button-text"})]),default:o(()=>[s("div",Ne,[Le,s("span",null,"Are you sure you want to "+b(w(u))+"?",1)])]),_:1},8,["visible"]),s("div",null,[e(W,{value:w(h).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:v.value,"onUpdate:filters":i[4]||(i[4]=a=>v.value=a),filterDisplay:"menu",loading:p.loading2,globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[x(" No customers found. ")]),loading:o(()=>[x(" Loading customers data. Please wait. ")]),default:o(()=>[e(T,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"20rem"}},{body:o(a=>[s("div",Ve,[JSON.parse(a.data.emp_avatar).type=="shortname"?(m(),C("p",Re,b(JSON.parse(a.data.emp_avatar).data),1)):(m(),C("img",{key:1,class:"rounded-circle img-md w-2 userActive-status profile-img",style:{height:"30px !important"},src:`data:image/png;base64,${JSON.parse(a.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Me)),s("p",Pe,b(a.data.emp_name),1)])]),filter:o(({filterModel:a,filterCallback:E})=>[e(V,{modelValue:a.value,"onUpdate:modelValue":U=>a.value=U,onInput:U=>E(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(T,{field:"emp_code",header:"Employee Code"},{body:o(a=>[x(b(a.data.emp_code),1)]),filter:o(({filterModel:a,filterCallback:E})=>[e(V,{modelValue:a.value,"onUpdate:modelValue":U=>a.value=U,onInput:U=>E(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(T,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(T,{field:"reporting_manager_name",header:"Reporting Manager"}),e(T,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(a=>[x(b(w(F)(a.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(T,{field:"profile_completeness",header:"Profile Completeness"},{body:o(a=>[a.data.profile_completeness<=39?(m(),D(J,{key:0,value:a.data.profile_completeness,class:N([a.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),a.data.profile_completeness>=40&&a.data.profile_completeness<=59?(m(),D(J,{key:1,class:N(["progressbar_val2",[a.data.profile_completeness>=40&&a.data.profile_completeness<=59]]),value:a.data.profile_completeness},null,8,["class","value"])):L("",!0),a.data.profile_completeness>=60?(m(),D(J,{key:2,class:N(["progressbar_val3",[a.data.profile_completeness>=60]]),value:a.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),e(T,{field:"is_onboarded",header:"Onboarding Status"},{body:o(a=>[x(b(a.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),e(T,{field:"doc_status",header:"Docs Approval Status"},{body:o(a=>[x(b(a.data.is_onboarded&&a.data.doc_status?"Approved":"Pending"),1)]),_:1}),e(T,{field:"enc_user_id",header:"View Profile"},{body:o(a=>[e(g,{icon:"pi pi-eye",severity:"success",label:"View",onClick:E=>$(a.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1}),e(T,{style:{width:"300px"},field:"",header:"Action"},{body:o(a=>[a.data.is_onboarded&&a.data.doc_status?(m(),C("div",Ie,[e(g,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:E=>S(a.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(m(),C("div",Ee))]),_:1})]),_:1},8,["value","filters","loading"])])])}}},Oe={class:"confirmation-content"},je=s("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Be={class:"d-flex justify-content-center align-items-center"},Je={key:0,if:"",class:"p-2 w-2 h-18 text-semibold rounded-full bg-blue-900 text-white"},Ye=["src"],Fe={class:"text-left pl-2"},Qe={__name:"exit_employees",setup(P){const h=B();Y(()=>{h.ajax_exit_employees_data()}),y();let f=y(!1),d=y(!1);H();const R=Q(),$=y({global:{value:null,matchMode:r.CONTAINS},employee_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS},status:{value:null,matchMode:r.EQUALS}});function v(_){window.location.href="/pages-profile-new?uid="+_}function u(){hideConfirmDialog(!1),d.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),O.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(_=>{console.log("Response : "+_),d.value=!1,R.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(_=>{d.value=!1,resetVars()})}return(_,S)=>{const I=c("Toast"),A=c("Button"),k=c("Dialog"),p=c("InputText"),i=c("Column"),M=c("ProgressBar"),l=c("DataTable");return m(),C("div",null,[e(I),e(k,{header:"Confirmation",visible:w(f),"onUpdate:visible":S[2]||(S[2]=t=>j(f)?f.value=t:f=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[e(A,{label:"Yes",icon:"pi pi-check",onClick:S[0]||(S[0]=t=>u()),class:"p-button-text",autofocus:""}),e(A,{label:"No",icon:"pi pi-times",onClick:S[1]||(S[1]=t=>_.hideConfirmDialog(!0)),class:"p-button-text"})]),default:o(()=>[s("div",Oe,[je,s("span",null,"Are you sure you want to "+b(_.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),s("div",null,[e(l,{value:w(h).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:$.value,"onUpdate:filters":S[3]||(S[3]=t=>$.value=t),filterDisplay:"menu",loading:w(d),globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[x(" No customers found.")]),loading:o(()=>[x(" Loading customers data. Please wait. ")]),default:o(()=>[e(i,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"20rem"}},{body:o(t=>[s("div",Be,[JSON.parse(t.data.emp_avatar).type=="shortname"?(m(),C("p",Je,b(JSON.parse(t.data.emp_avatar).data),1)):(m(),C("img",{key:1,class:"rounded-circle img-md w-2 userActive-status profile-img",style:{height:"30px !important"},src:`data:image/png;base64,${JSON.parse(t.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Ye)),s("p",Fe,b(t.data.emp_name),1)])]),filter:o(({filterModel:t,filterCallback:g})=>[e(p,{modelValue:t.value,"onUpdate:modelValue":V=>t.value=V,onInput:V=>g(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(i,{field:"emp_code",header:"Employee Code",style:{"min-width":"15rem"}},{filter:o(({filterModel:t,filterCallback:g})=>[e(p,{modelValue:t.value,"onUpdate:modelValue":V=>t.value=V,onInput:V=>g(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(i,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(i,{field:"reporting_manager_name",header:"Reporting Manager"}),e(i,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(t=>[x(b(w(F)(t.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(i,{field:"profile_completeness",header:"Profile Completeness"},{body:o(t=>[t.data.profile_completeness<=39?(m(),D(M,{key:0,value:t.data.profile_completeness,class:N([t.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),t.data.profile_completeness>=40&&t.data.profile_completeness<=59?(m(),D(M,{key:1,class:N(["progressbar_val2",[t.data.profile_completeness>=40&&t.data.profile_completeness<=59]]),value:t.data.profile_completeness},null,8,["class","value"])):L("",!0),t.data.profile_completeness>=60?(m(),D(M,{key:2,class:N(["progressbar_val3",[t.data.profile_completeness>=60]]),value:t.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),e(i,{field:"enc_user_id",header:"View Profile"},{body:o(t=>[e(A,{icon:"pi pi-eye",severity:"success",label:"View",onClick:g=>v(t.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const He={class:"w-[96%]"},We=s("div",{class:"mb-2 card left-line"},[s("div",{class:"pt-1 pb-0 card-body"},[s("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[s("li",{class:"nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),s("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),s("li",{class:"nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),ze={class:"card"},Ke={class:"card-body"},Xe={class:"tab-content",id:"pills-tabContent"},Ge={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},qe={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ze={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ea={__name:"ManageEmployee",setup(P){return(h,f)=>(m(),C("div",He,[We,s("div",ze,[s("div",Ke,[s("div",Xe,[s("div",Ge,[e($e)]),s("div",qe,[e(Ue)]),s("div",Ze,[e(Qe)])])])])]))}},n=z(ea),aa=pe();n.use(K,{ripple:!0});n.use(_e);n.use(X);n.use(me);n.use(aa);n.directive("tooltip",G);n.directive("badge",q);n.directive("ripple",Z);n.directive("styleclass",ee);n.directive("focustrap",ae);n.component("Button",te);n.component("DataTable",oe);n.component("Column",le);n.component("ColumnGroup",ue);n.component("Row",ge);n.component("Toast",se);n.component("ConfirmDialog",ne);n.component("Dropdown",ie);n.component("InputText",re);n.component("Dialog",ce);n.component("ProgressSpinner",fe);n.component("Calendar",ye);n.component("Textarea",he);n.component("Chips",be);n.component("MultiSelect",we);n.component("ProgressBar",ve);n.mount("#vjs_manage_employee");
