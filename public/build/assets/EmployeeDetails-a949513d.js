import{H as h,af as A,ag as c,ah as j,a1 as B,aj as Q,I as ee,c as le,h as b,e,k as D,w as S,t as f,F as oe,g as C,o as se,p as O,j as w,E as M,ak as te,al as ae}from"./toastservice.esm-11027b59.js";import{d as H}from"./dayjs.min-2f06af28.js";import"./moment-fbc5633a.js";import{a as P}from"./index-362795f3.js";import{S as ie}from"./Service-14aa6e72.js";import{d as de}from"./pinia-e6f84f32.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";const re=de("employeeService",()=>{const o=h([]),d=h(!0),l=new URLSearchParams(window.location.search);let _="/profile-pages-getEmpDetails";l.has("uid")&&(_=_+"?uid="+l.get("uid"));async function g(){console.log("Getting employee details"),await P.get(_).then(m=>{console.log("fetchEmployeeDetails() : "+m.data),d.value=!1,o.value=m.data}).catch(m=>console.log(m)).finally(()=>console.log("completed"))}return{fetchEmployeeDetails:g,employeeDetails:o,loading_screen:d}});var T;const ce=typeof window<"u";ce&&((T=window==null?void 0:window.navigator)!=null&&T.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function F(o){return typeof o=="function"?o():c(o)}const _e=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,me=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,pe=(o,d,l,_)=>{let g=o<12?"AM":"PM";return _&&(g=g.split("").reduce((m,y)=>m+=`${y}.`,"")),l?g.toLowerCase():g},ue=(o,d,l={})=>{var _;const g=o.getFullYear(),m=o.getMonth(),y=o.getDate(),p=o.getHours(),t=o.getMinutes(),V=o.getSeconds(),U=o.getMilliseconds(),E=o.getDay(),x=(_=l.customMeridiem)!=null?_:pe,G={YY:()=>String(g).slice(-2),YYYY:()=>g,M:()=>m+1,MM:()=>`${m+1}`.padStart(2,"0"),MMM:()=>o.toLocaleDateString(l.locales,{month:"short"}),MMMM:()=>o.toLocaleDateString(l.locales,{month:"long"}),D:()=>String(y),DD:()=>`${y}`.padStart(2,"0"),H:()=>String(p),HH:()=>`${p}`.padStart(2,"0"),h:()=>`${p%12||12}`.padStart(1,"0"),hh:()=>`${p%12||12}`.padStart(2,"0"),m:()=>String(t),mm:()=>`${t}`.padStart(2,"0"),s:()=>String(V),ss:()=>`${V}`.padStart(2,"0"),SSS:()=>`${U}`.padStart(3,"0"),d:()=>E,dd:()=>o.toLocaleDateString(l.locales,{weekday:"narrow"}),ddd:()=>o.toLocaleDateString(l.locales,{weekday:"short"}),dddd:()=>o.toLocaleDateString(l.locales,{weekday:"long"}),A:()=>x(p,t),AA:()=>x(p,t,!1,!0),a:()=>x(p,t,!0),aa:()=>x(p,t,!0,!0)};return d.replace(me,(L,Y)=>Y||G[L]())},fe=o=>{if(o===null)return new Date(NaN);if(o===void 0)return new Date;if(o instanceof Date)return new Date(o);if(typeof o=="string"&&!/Z$/i.test(o)){const d=o.match(_e);if(d){const l=d[2]-1||0,_=(d[7]||"0").substring(0,3);return new Date(d[1],l,d[3]||1,d[4]||0,d[5]||0,d[6]||0,_)}}return new Date(o)};function ge(o,d="HH:mm:ss",l={}){return A(()=>ue(fe(F(o)),F(d),l))}const i=o=>(te("data-v-0c227c4c"),o=o(),ae(),o),be={class:"mb-2 card"},he={class:"card-body"},ye={class:"fw-bold mb-3 fs-15"},ve=i(()=>e("i",{class:"ri-pencil-fill"},null,-1)),De=[ve],xe={class:"row"},Se={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},we={class:"mb-3 form-group"},Me=i(()=>e("label",{style:{marginLeft:"10px"}},[D("Birth Date"),e("span",{class:"text-danger"},"*")],-1)),Ae={class:"cal-icon"},Ve={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Ye={class:"mb-3 form-group"},Ie=i(()=>e("label",null,[D("Gender"),e("span",{class:"text-danger"},"*")],-1)),Ce={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Pe={class:"mb-3 form-group"},Ue=i(()=>e("label",{style:{marginLeft:"10px"}},[D("Date Of Joining(DOJ)"),e("span",{class:"text-danger"},"*")],-1)),Ee={class:"cal-icon"},Ge={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Le={class:"mb-3 form-group"},ke=i(()=>e("label",null,[D("Blood Group"),e("span",{class:"text-danger"},"*")],-1)),Be={class:"cal-icon"},Oe={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Ne={class:"mb-3 form-group",style:{marginLeft:"10px"}},$e=i(()=>e("label",null,[D("Marital status "),e("span",{class:"text-danger"},"*")],-1)),je={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},He={class:"mb-3 form-group"},Te=i(()=>e("label",null,"Physically Handicapped",-1)),Fe={class:"text-right col-12"},ze={class:"personal-info"},Re={class:"pb-1 border-bottom-liteAsh"},Je=i(()=>e("div",{class:"title"},"Birthday",-1)),qe={class:"text"},We={class:"pb-1 border-bottom-liteAsh"},Xe=i(()=>e("div",{class:"title"},"Gender ",-1)),Ze={class:"text"},Ke={class:"pb-1 border-bottom-liteAsh"},Qe=i(()=>e("div",{class:"title"},"Date Of Joining (DOJ)",-1)),el={class:"text"},ll={class:"pb-1 border-bottom-liteAsh"},ol=i(()=>e("div",{class:"title"},"Marital Status ",-1)),sl={class:"text text-capitalize"},tl={class:"pb-1 border-bottom-liteAsh"},al=i(()=>e("div",{class:"title"}," Blood Group",-1)),il={class:"text"},dl={class:"pb-1"},nl=i(()=>e("div",{class:"title"},"Physically Handicapped",-1)),rl={class:"text"},cl={class:"mb-2 card"},_l={class:"card-body"},ml={class:"mb-3 fw-bold fs-15"},pl=i(()=>e("i",{class:"ri-pencil-fill"},null,-1)),ul=[pl],fl={class:"modal-body"},gl={class:"row"},bl={class:"col-md-6"},hl={class:"mb-3 form-group"},yl=i(()=>e("label",null,"Personal Email",-1)),vl={class:"col-md-6"},Dl={class:"mb-3 form-group"},xl=i(()=>e("label",null," Office Email",-1)),Sl={class:"col-md-6"},wl={class:"mb-3 form-group"},Ml=i(()=>e("label",null,"Mobile Number",-1)),Al={class:"col-md-6"},Vl={class:"mb-3 form-group"},Yl=i(()=>e("label",null,"Official Mobile Number",-1)),Il={class:"personal-info"},Cl={class:"pb-1 border-bottom-liteAsh"},Pl=i(()=>e("div",{class:"title"},"Personal Email",-1)),Ul={class:"text"},El={class:"pb-1 border-bottom-liteAsh"},Gl=i(()=>e("div",{class:"title"},"Official Email",-1)),Ll={class:"text"},kl={class:"pb-1"},Bl=i(()=>e("div",{class:"title"},"Mobile Number",-1)),Ol={class:"text"},Nl={class:"pb-1"},$l=i(()=>e("div",{class:"title"},"Official Mobile Number",-1)),jl={class:"text"},Hl={class:"mb-2 card"},Tl={class:"card-body"},Fl={class:"ml-2 fw-bold fs-15"},zl=i(()=>e("i",{class:"ri-pencil-fill"},null,-1)),Rl=[zl],Jl={class:"modal-body"},ql={class:"col-md-12"},Wl={class:"mb-3 form-group"},Xl=i(()=>e("label",null,"Current Address",-1)),Zl={class:"mb-3 form-group"},Kl=i(()=>e("label",null,"Permanent Address ",-1)),Ql={class:"col-12"},eo={class:"text-right"},lo={class:"row"},oo={class:"col-6"},so={class:"personal-info"},to={class:"pb-1 border-bottom-liteAsh flex-column"},ao=i(()=>e("div",{class:"title"},"Current Address ",-1)),io={class:"text"},no={class:"col-6"},ro={class:"personal-info"},co={class:"pb-1 border-bottom-liteAsh flex-column"},_o=i(()=>e("div",{class:"title"},"Permanent Address ",-1)),mo={class:"text"},po={__name:"EmployeeDetails",setup(o){const d=ie(),l=re(),_=j(),g=j(),m=h(!1),y=h(!1),p=h(!1),t=B({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),V=h([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),U=A(()=>l.employeeDetails.get_employee_details.gender=="male"?"Male":l.employeeDetails.get_employee_details.gender=="female"?"Female":l.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),E=A(()=>{if(l.employeeDetails.get_employee_details.marital_status_id==1)return"Unmarried";if(l.employeeDetails.get_employee_details.marital_status_id==2)return"Married";if(l.employeeDetails.get_employee_details.marital_status_id==3)return"Separated";if(l.employeeDetails.get_employee_details.marital_status_id==4)return"Widowed";if(l.employeeDetails.get_employee_details.marital_status_id==5)return"Divorced"}),x=A(()=>{if(l.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(l.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(l.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(l.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(l.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(l.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(l.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(l.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),G=A(()=>{if(l.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(l.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"}),L=h([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),Y=h(),N=h();Q(),ee(()=>{d.getBloodGroups().then(v=>{console.log(v.data),Y.value=v.data}),d.getMaritalStatus().then(v=>{console.log(v),N.value=v.data})});function z(){console.log("Opening General Info Dialog"),t.dob=l.employeeDetails.get_employee_details.dob,t.doj=l.employeeDetails.get_employee_details.doj,t.marital_status_id=parseInt(l.employeeDetails.get_employee_details.marital_status_id),t.gender=l.employeeDetails.get_employee_details.gender,t.blood_group_id=parseInt(l.employeeDetails.get_employee_details.blood_group_id),t.physically_challenged=l.employeeDetails.get_employee_details.physically_challenged,m.value=!0}function R(){let s=`/profile-pages-update-generalinfo/${d.current_user_id}`;P.post(s,{user_code:l.employeeDetails.user_code,dob:t.dob,gender:t.gender,marital_status_id:t.marital_status_id,doj:t.doj,blood_group_id:t.blood_group_id,physically_challenged:t.physically_challenged}).then(r=>{r.data.status=="success"?(_.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),l.employeeDetails.get_employee_details.dob=ge(t.dob,"YYYY-MM-DD"),l.employeeDetails.gender=t.gender,l.employeeDetails.marital_status_id=t.marital_status_id,l.employeeDetails.get_employee_details.doj=t.doj,l.employeeDetails.blood_group_id=t.blood_group_id,l.employeeDetails.physically_challenged=t.physically_challenged):r.data.status=="failure"&&(leave_data.leave_request_error_messege=r.data.message)}).catch(r=>{console.log(r)}),m.value=!1}const J=h(),n=B({email:"",official_email:"",mobile_number:"",official_mobile_number:""});function q(){console.log("Opening General Info Dialog : "),n.email=l.employeeDetails.email,n.official_email=l.employeeDetails.get_employee_office_details.officical_mail,n.mobile_number=parseInt(l.employeeDetails.get_employee_details.mobile_number),n.official_mobile_number=parseInt(l.employeeDetails.get_employee_office_details.official_mobile),console.log("testing"),y.value=!0}function W(){let s=`/profile-pages-update-contactinfo/${d.current_user_id}`;P.post(s,{user_code:l.employeeDetails.user_code,email:n.email,officical_mail:n.official_email,mobile_number:n.mobile_number,official_mobile_number:n.official_mobile_number}).then(r=>{r.data.status=="success"?(_.add({severity:"success",summary:"Updated",detail:"Contact information updated",life:3e3}),l.employeeDetails.email=n.email,l.employeeDetails.get_employee_office_details.officical_mail=n.official_email,l.employeeDetails.get_employee_details.mobile_number=n.mobile_number,l.employeeDetails.get_employee_office_details.official_mobile=n.official_mobile_number):r.data.status=="failure"&&(J.leave_request_error_messege=r.data.message)}).catch(r=>{console.log(r)}),y.value=!1}const X=h(),u=B({current_address:"",Permanent_Address:""});function Z(){console.log("Opening General Info Dialog"),u.current_address=l.employeeDetails.get_employee_details.current_address_line_1,u.Permanent_Address=l.employeeDetails.get_employee_details.permanent_address_line_1,p.value=!0}const K=()=>{if(u.current_address==" "||u.Permanent_Address==" ")g.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3});else{let s=`/profile-pages-update-address_info/${d.current_user_id}`;P.post(s,{user_code:l.employeeDetails.user_code,current_address_line_1:u.current_address,permanent_address_line_1:u.Permanent_Address}).then(r=>{data_checking.value=!1,r.data.status=="success"?(_.add({severity:"success",summary:"Updated",detail:"Address information updated",life:3e3}),l.employeeDetails.current_address_line_1=u.current_address,l.employeeDetails.get_employee_office_details.permanent_address_line_1=u.Permanent_Address):r.data.status=="failure"&&(X.leave_request_error_messege=r.data.message)}).catch(r=>{console.log(r)}),p.value=!1}};return(v,s)=>{const r=C("Toast"),$=C("Calendar"),I=C("Dropdown"),k=C("Dialog");return se(),le(oe,null,[b(r),e("div",be,[e("div",he,[e("h6",ye,[D("General Information "),e("a",{type:"button",class:"edit-icon",onClick:z},De),b(k,{visible:m.value,"onUpdate:visible":s[7]||(s[7]=a=>m.value=a),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:S(()=>[e("div",null,[e("h5",{style:O({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:S(()=>[e("div",xe,[e("div",Se,[e("div",we,[Me,e("div",Ae,[b($,{showIcon:"",class:"mb-3 form-selects",modelValue:t.dob,"onUpdate:modelValue":s[0]||(s[0]=a=>t.dob=a),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Ve,[e("div",Ye,[Ie,b(I,{modelValue:t.gender,"onUpdate:modelValue":s[1]||(s[1]=a=>t.gender=a),options:V.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects"},null,8,["modelValue","options"])])]),e("div",Ce,[e("div",Pe,[Ue,e("div",Ee,[b($,{showIcon:"",class:"mb-3 form-selects",modelValue:t.doj,"onUpdate:modelValue":s[2]||(s[2]=a=>t.doj=a),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Ge,[e("div",Le,[ke,e("div",Be,[b(I,{modelValue:t.blood_group_id,"onUpdate:modelValue":s[3]||(s[3]=a=>t.blood_group_id=a),options:Y.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects"},null,8,["modelValue","options"])])])]),e("div",Oe,[e("div",Ne,[$e,b(I,{modelValue:t.marital_status_id,"onUpdate:modelValue":s[4]||(s[4]=a=>t.marital_status_id=a),options:N.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects"},null,8,["modelValue","options"])])]),e("div",je,[e("div",He,[Te,b(I,{modelValue:t.physically_challenged,"onUpdate:modelValue":s[5]||(s[5]=a=>t.physically_challenged=a),options:L.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects"},null,8,["modelValue","options"])])])]),e("div",Fe,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:s[6]||(s[6]=a=>R())},"Save")])]),_:1},8,["visible"])]),e("div",null,[e("ul",ze,[e("li",Re,[Je,e("div",qe,f(c(H)(c(l).employeeDetails.get_employee_details.dob).format("DD-MMM-YYYY")),1)]),e("li",We,[Xe,e("div",Ze,f(c(U)),1)]),e("li",Ke,[Qe,e("div",el,f(c(H)(c(l).employeeDetails.get_employee_details.doj).format("DD-MMM-YYYY")),1)]),e("li",ll,[ol,e("div",sl,f(c(E)),1)]),e("li",tl,[al,e("div",il,f(c(x))+" ",1)]),e("li",dl,[nl,e("div",rl,f(c(G)),1)])])])])]),e("div",cl,[e("div",_l,[e("h6",ml,[D("Contact Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:q},ul)]),b(k,{visible:y.value,"onUpdate:visible":s[12]||(s[12]=a=>y.value=a),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:S(()=>[e("div",null,[e("h5",{style:O({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:S(()=>[e("div",fl,[e("div",gl,[e("div",bl,[e("div",hl,[yl,w(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":s[8]||(s[8]=a=>n.email=a)},null,512),[[M,n.email]])])]),e("div",vl,[e("div",Dl,[xl,w(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":s[9]||(s[9]=a=>n.official_email=a)},null,512),[[M,n.official_email]])])]),e("div",Sl,[e("div",wl,[Ml,w(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=a=>n.mobile_number=a)},null,512),[[M,n.mobile_number]])])]),e("div",Al,[e("div",Vl,[Yl,w(e("input",{type:"text",size:"20",maxlength:"10",name:"official_mobile_number",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=a=>n.official_mobile_number=a)},null,512),[[M,n.official_mobile_number]])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:W},"Save")])])])])]),_:1},8,["visible"])]),e("div",null,[e("ul",Il,[e("li",Cl,[Pl,e("div",Ul,f(c(l).employeeDetails.email),1)]),e("li",El,[Gl,e("div",Ll,f(c(l).employeeDetails.get_employee_office_details.officical_mail),1)]),e("li",kl,[Bl,e("div",Ol,f(c(l).employeeDetails.get_employee_details.mobile_number),1)]),e("li",Nl,[$l,e("div",jl,f(c(l).employeeDetails.get_employee_office_details.official_mobile),1)])])])])]),e("div",Hl,[e("div",Tl,[e("h6",Fl,[D("Address "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:Z},Rl)]),b(k,{visible:p.value,"onUpdate:visible":s[15]||(s[15]=a=>p.value=a),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:S(()=>[e("div",null,[e("h5",{style:O({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:S(()=>[e("div",Jl,[e("div",ql,[e("div",Wl,[Xl,w(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=a=>u.current_address=a)},null,512),[[M,u.current_address]])]),e("div",Zl,[Kl,w(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=a=>u.Permanent_Address=a)},null,512),[[M,u.Permanent_Address]])])]),e("div",Ql,[e("div",eo,[b(r),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:K,severity:"warn"},"Save")])])])]),_:1},8,["visible"])]),e("div",null,[e("div",lo,[e("div",oo,[e("ul",so,[e("li",to,[ao,e("div",io,f(c(l).employeeDetails.get_employee_details.current_address_line_1),1)])])]),e("div",no,[e("ul",ro,[e("li",co,[_o,e("div",mo,f(c(l).employeeDetails.get_employee_details.permanent_address_line_1),1)])])])])])])])],64)}}},Do=ne(po,[["__scopeId","data-v-0c227c4c"]]);export{Do as E,re as p};
