import{d as k}from"./dayjs.min-2f06af28.js";import{a as H}from"./index-362795f3.js";import{s as O,r as p,o as F,R,c as V,e as s,f as a,h as n,k as C,j as b,g as e,n as T,l as E,i as m,t as l,F as d,m as c,p as g}from"./app-e27ee384.js";import{S as I}from"./Service-cb704971.js";import{p as U}from"./ProfilePagesStore-220f152f.js";/* empty css                                                                       */const j=O("EmployeeDocumentManagerService",()=>{const L=I(),o=p(!1),x=p([]);p();const P=p(),y=U();return{EmployeeDocs_upload:p({AadharCardFront:null,AadharCardBack:null,PanCardDoc:null,DrivingLicenseDoc:null,EductionDoc:null,VoterIdDoc:null,RelievingLetterDoc:null,PassportDoc:null,save_draft_messege:null}),getEmployeeDetails:L,getEmployeeDoc:x,getEmpdocPhoto:P,fetch_EmployeeDocument:async()=>{let f=y.employeeDetails.user_code;await L.getCurrentUserCode().then(w=>{f=w.data}),o.value=!0,await H.post("/employee-documents-details",{user_code:f}).then(w=>{x.value=w.data.data,console.log("employee document : ",x.value)}).finally(()=>{o.value=!1,console.log("completed")})},loading:o}}),$=O("employeePayslipStore",()=>{const L=j(),o=p(),x=p(),P=p(""),y=p(!1),D=new URLSearchParams(window.location.search),_=p(!1);function f(){return D.has("uid")?D.get("uid"):""}async function w(){_.value=!0,H.post("/payroll/paycheck/getEmployeeAllPayslipList",{uid:f()}).then(S=>{o.value=S.data.data}).finally(()=>{_.value=!1})}async function t(S,v){_.value=!0,P.value=v;let M=parseInt(k(v).month())+1,A=k(v).year();await H.post("/empViewPayslipdetails",{uid:f(),user_code:S,month:M,year:A}).then(h=>{x.value=h.data,y.value=!0}).finally(()=>{_.value=!1})}function i(S,v,M,A){const h=S,u=document.createElement("a"),N=`${v}-${M}-${A}.pdf`;u.href=h,u.download=N,u.click()}async function r(S,v){_.value=!0,L.loading=!0,console.log("Downloading payslip PDF.....");let M=parseInt(k(v).month())+1,A=k(v).year();await H.post("/empGeneratePayslipPdfMail",{uid:f(),user_code:S,month:M,year:A,type:"pdf"}).then(h=>{if(console.log(" Response [downloadPayslipReleaseStatus] : "+JSON.stringify(h.data.data.payslip)),h.data){let u=h.data.data.payslip,N=h.data.data.emp_name,Y=h.data.data.month,B=h.data.data.year;console.log(u),u&&(u.startsWith("JVB")?(u="data:application/pdf;base64,"+u,i(u,N,Y,B)):u.startsWith("data:application/pdf;base64")&&i(u))}else console.log("Response Url Not Found")}).finally(()=>{L.loading=!1,_.value=!1})}return{Payroll_month:P,array_employeePayslips_list:o,paySlipHTMLView:x,canShowPayslipView:y,loading:_,getEmployeeAllPayslipList:w,getEmployeePayslipDetailsAsHTML:t,getEmployeePayslipDetailsAsPDF:r}});const G={class:"w-full"},W=e("h2",{class:"my-2 text-lg font-semibold"},"Salary Details",-1),J=["onClick"],K=e("i",{class:"pi pi-download"},null,-1),q=[K],z={class:"flex justify-center w-[100%] my-3 rounded-lg"},Q={class:"w-[95%] h-[90%] shadow-lg p-4"},X={class:"w-[100%] flex justify-between"},Z={class:"flex flex-col"},ee={class:"text-[25px] flex items-center"},te={class:"text-gray-500 text-[25px]"},se=["src"],ae={class:"mt-[30px]"},oe=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),le={class:"col-3"},ne=e("p",{class:""},"Employee Code",-1),ie={class:"text-[#000] text-[12px]"},de={class:"col-3"},ce=e("p",null,"Date Joining",-1),re={class:"text-[#000]"},_e={class:"col-3"},pe=e("p",null,"Department",-1),ue={class:"text-[#000]"},ye={class:"col-3"},he=e("p",null,"Designation",-1),me={class:"text-[#000]"},xe={class:"col-3"},be=e("p",null,"Payment Mode",-1),fe={class:"text-[#000]"},ve={class:"col-3"},ge=e("p",null,"Bank Name",-1),we={class:"text-[#000]"},Se={class:"col-3"},Te=e("p",null,"Bank Account",-1),Le={class:"text-[#000]"},Pe={class:"col-3"},ke=e("p",null,"Bank ISFC",-1),De={class:"text-[#000]"},Me={class:"col-3"},Ae=e("p",null,"PAN",-1),Ee={class:"text-[#000]"},Ve=e("div",{class:"col-3"},[e("p",null,"ESIC"),e("p",{class:"text-[#000]"},l("-"))],-1),He={class:"col-3"},Ne=e("p",null,"UAN",-1),Re={class:"text-[#000]"},Ce={class:"col-3"},Oe=e("p",null,"EPF Number",-1),Ye={class:"text-[#000]"},Be=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),Fe={class:""},Ie=e("h1",{class:"font-semibold text-[16px] my-[16px]"},"LEAVE DETAILS",-1),Ue=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),je={class:"py-2 mx-2 row"},$e={class:"col-3"},Ge=e("p",null,"Leave Type",-1),We={class:"col-3"},Je=e("p",null,"Opening Balance",-1),Ke={class:"col-3"},qe=e("p",null,"Availed",-1),ze={class:"col-3"},Qe=e("p",null,"Closing Balance",-1),Xe={class:""},Ze=e("h1",{class:"font-semibold text-[16px] my-[16px]"},"SALARY DETAILS",-1),et=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),tt={class:"col-3"},st=e("p",null,"ACTUAL PAYABLE DAYS",-1),at={class:"text-[#000]"},ot={class:"col-3"},lt=e("p",null,"TOTAL WORKING DAYS",-1),nt={class:"text-[#000]"},it={class:"col-3"},dt=e("p",null,"LOSS OF PAY DAYS",-1),ct={class:"text-[#000]"},rt={class:"col-3"},_t=e("p",null,"ARREAR DAYS PAYABLE",-1),pt={class:"text-[#000]"},ut={class:"row mt-2 py-2 border-y-[1px] border-[gray] mx-2"},yt={class:"col-7 border-r-[1.4px] border-[gray]"},ht={class:"row"},mt={class:"col-6"},xt=e("h1",{class:"font-semibold"},"Earnings",-1),bt={key:0,class:"font-semibold text-black"},ft={class:"col-2"},vt={key:0,class:"font-semibold text-right"},gt={class:"col-2"},wt={key:0,class:"font-semibold text-right"},St={class:"col-2"},Tt=e("h1",{class:"font-semibold text-right"},"Earned",-1),Lt={class:"col"},Pt={border:"2",class:"w-[100%]"},kt={class:"w-[100%]"},Dt=e("h1",{class:"font-semibold"},"CONTRIBUTIONS",-1),Mt={key:0,class:"text-black font-semibold text-[14px]"},At=e("h1",{class:"font-semibold"}," ",-1),Et={class:"w-[100%]"},Vt=e("h1",{class:"font-semibold"},"Tax Deduction",-1),Ht={key:0,class:"text-[14px] text-[#000] font-semibold"},Nt=e("h1",{class:"font-semibold"}," ",-1),Rt={class:"my-2 col-6"},Ct={key:0,class:"font-semibold text-black"},Ot={class:"my-2 col-6"},Yt={class:"text-[16px] text-[#000]"},Bt=e("div",null,[e("p",{class:"mt-2 font-semibold flex text-[#000]"},[m("*** Note:All "),e("span",{class:"text-[16px] text-[#000]"},"amounts displayed in this payslips are in"),m(" INR")]),e("p",{class:"mt-[50px] font-semibold text-[#000]"},"**This is computer generated statement,does not require signature.")],-1),Ft={class:""},It={class:"flex items-center float-right"},Ut=e("p",{class:"mx-2"},"Powered by ",-1),jt=["src"],zt={__name:"EmployeePayslips",setup(L){const o=$();p(!0),p(),F(()=>{console.log("EmployeePayslips,vue loaded"),o.getEmployeeAllPayslipList()});const x=p({PAYROLL_MONTH:{value:null,matchMode:R.STARTS_WITH,matchMode:R.EQUALS,matchMode:R.CONTAINS}});return(P,y)=>{const D=V("LoadingSpinner"),_=V("Column"),f=V("DataTable"),w=V("Sidebar");return s(),a(d,null,[n(o).loading?(s(),C(D,{key:0,class:"absolute z-50 bg-white"})):b("",!0),e("div",G,[W,T(f,{value:n(o).array_employeePayslips_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],sortField:"PAYROLL_MONTH",sortOrder:-1,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:x.value,"onUpdate:filters":y[0]||(y[0]=t=>x.value=t),filterDisplay:"menu",loading:P.loading2,globalFilterFields:["name"]},{default:E(()=>[T(_,{field:"PAYROLL_MONTH",header:"Month",sortable:!0},{body:E(t=>[m(l(n(k)(t.data.PAYROLL_MONTH).format("DD-MMM-YYYY")),1)]),_:1}),T(_,{field:"TOTAL_EARNED_GROSS",header:"Gross Pay"}),T(_,{field:"Reimbursements",header:"Reimbursements"},{body:E(t=>[m(l(0))]),_:1}),T(_,{field:"TOTAL_DEDUCTIONS",header:"Deductions"}),T(_,{field:"NET_TAKE_HOME",header:"Take Home"}),T(_,{header:"Action"},{body:E(t=>[e("button",{class:"border-[2px] border-[#000] py-2 px-3 rounded-md",onClick:i=>n(o).getEmployeePayslipDetailsAsHTML("",t.data.PAYROLL_MONTH)},"View",8,J)]),_:1})]),_:1},8,["value","filters","loading"])]),n(o).canShowPayslipView?(s(),C(w,{key:1,position:"right",visible:n(o).canShowPayslipView,"onUpdate:visible":y[2]||(y[2]=t=>n(o).canShowPayslipView=t),modal:"",header:"Payslip",style:{width:"70vw"}},{default:E(()=>[e("button",{class:"flex items-center p-2 absolute top-5 border-[1px] mx-2 text-[#000] rounded-md h-[33px]",onClick:y[1]||(y[1]=t=>n(o).getEmployeePayslipDetailsAsPDF("",n(o).Payroll_month))},q),e("div",z,[e("div",Q,[e("div",X,[e("div",Z,[e("h1",ee,[m("PAYSLIP "),e("span",te,l(n(o).paySlipHTMLView.data.date_month.Month)+" "+l(n(o).paySlipHTMLView.data.date_month.Year),1)]),(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.client_details,t=>(s(),a("h2",{class:"text-[16px] mt-[10px] text-[#000] font-semibold",key:t},l(t.client_fullname),1))),128)),(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.client_details,t=>(s(),a("p",{class:"w-[300px] mt-[10px]",key:t},l(t.address),1))),128))]),(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.client_details,t=>(s(),a("div",{key:t},[e("img",{src:`${t.client_logo}`,alt:"testing",class:"w-[200px]"},null,8,se)]))),128))]),e("div",ae,[(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.personal_details,t=>(s(),a("h1",{class:"font-semibold text-[16px] my-[16px]",key:t}," Employee Name : "+l(t.name),1))),128)),oe,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.personal_details,t=>(s(),a("div",{class:"mx-2 row border-b-[1px] border-[gray] py-2",key:t},[e("div",le,[ne,e("p",ie,l(t.user_code?t.user_code:"-"),1)]),e("div",de,[ce,e("p",re,l(t.doj?n(k)(t.doj).format("DD-MMM-YYYY"):"-"),1)]),e("div",_e,[pe,e("p",ue,l(t.department_name?t.department_name:"-"),1)]),e("div",ye,[he,e("p",me,l(t.designation?t.designation:"-"),1)])]))),128)),(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.personal_details,t=>(s(),a("div",{class:"mx-2 row border-b-[1px] border-[gray] py-2",key:t},[e("div",xe,[be,e("p",fe,l(t.bank_account_number?"Bank":"cheque"),1)]),e("div",ve,[ge,e("p",we,l(t.bank_name?t.bank_name:"-"),1)]),e("div",Se,[Te,e("p",Le,l(t.bank_account_number?t.bank_account_number:"-"),1)]),e("div",Pe,[ke,e("p",De,l(t.bank_ifsc_code?t.bank_ifsc_code:"-"),1)])]))),128)),(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.personal_details,t=>(s(),a("div",{class:"py-2 mx-2 row",key:t},[e("div",Me,[Ae,e("p",Ee,l(t.pan_number?t.pan_number:"-"),1)]),Ve,e("div",He,[Ne,e("p",Re,l(t.uan_number?t.uan_number:"-"),1)]),e("div",Ce,[Oe,e("p",Ye,l(t.epf_number?t.epf_number:"-"),1)])]))),128)),Be]),e("div",Fe,[Ie,Ue,e("div",je,[e("div",$e,[Ge,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},l(t.leave_type?t.leave_type:"-"),1))),128))]),e("div",We,[Je,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},l(t.opening_balance?t.opening_balance:"-"),1))),128))]),e("div",Ke,[qe,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},l(t.availed?t.availed:"-"),1))),128))]),e("div",ze,[Qe,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},l(t.closing_balance?t.closing_balance:"-"),1))),128))])])]),e("div",Xe,[Ze,et,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.salary_details,t=>(s(),a("div",{class:"py-2 mx-2 row",key:t},[e("div",tt,[st,e("p",at,l(t.month_days?t.month_days:"-"),1)]),e("div",ot,[lt,e("p",nt,l(t.worked_Days?t.worked_Days:"-"),1)]),e("div",it,[dt,e("p",ct,l(t.lop?t.lop:"-"),1)]),e("div",rt,[_t,e("p",pt,l(t.arrears_Days?t.arrears_Days:"-"),1)])]))),128))]),e("div",ut,[e("div",yt,[e("div",ht,[e("div",mt,[xt,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.earnings[0],(t,i,r)=>(s(),a("h1",{class:g(["flex items-center my-3",[i=="Total Earnings"?"text-black font-semibold":"text-black"]]),key:r},[m(l(i)+" ",1),i=="Total Earnings"?(s(),a("span",bt,"(A)")):b("",!0)],2))),128))]),e("div",ft,[n(o).paySlipHTMLView.data.compensatory_data[0]?(s(),a("h1",vt,"Fixed")):b("",!0),(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.compensatory_data[0],(t,i,r)=>(s(),a("h1",{key:r,class:"mt-[12px] text-black text-right"},l(t),1))),128))]),e("div",gt,[n(o).paySlipHTMLView.data.arrears[0]!=""?(s(),a("h1",wt,"Arrears")):b("",!0),(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.arrears[0],(t,i,r)=>(s(),a("h1",{key:r,class:"mt-[12px]"},l(t),1))),128))]),e("div",St,[Tt,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.earnings[0],(t,i,r)=>(s(),a("h1",{key:r,class:g(["my-3 text-right",[i=="Total Earnings"?"text-black text-[14px] font-semibold":""]])},l(t),3))),128))])])]),e("div",Lt,[e("table",Pt,[e("tr",kt,[e("td",null,[Dt,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.contribution[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] flex",[i=="Total Contribution"?"text-[14px] text-[#000] font-semibold":" text-black"]]),key:r},[m(l(i)+" ",1),i=="Total Contribution"?(s(),a("span",Mt," (B)")):b("",!0)],2))),128))]),e("td",null,[At,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.contribution[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] text-right",[i=="Total Contribution"?"text-[13px] text-[#000] font-semibold":" text-black"]]),key:r},l(t),3))),128))])]),e("tr",Et,[e("td",null,[Vt,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.Tax_Deduction[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] flex items-center",[i=="Total Deduction"?"text-[14px] text-[#000] font-semibold":" text-black"]]),key:r},[m(l(i)+" ",1),i=="Total Deduction"?(s(),a("span",Ht," (C)")):b("",!0)],2))),128))]),e("td",null,[Nt,(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.Tax_Deduction[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] text-right",[i=="Total Deduction"?"text-[14px] text-[#000] font-semibold":" text-black"]]),key:r},l(t),3))),128))])])])])]),(s(!0),a(d,null,c(n(o).paySlipHTMLView.data.over_all[0],(t,i,r)=>(s(),a("div",{class:"my-2 row w-[100%]",key:r},[e("div",Rt,[e("p",{class:g(["text-[#000]",[i=="Net Salary Payable"||i=="Net Salary in words"?"text-black text-[14px] font-semibold":""]])},[m(l(i)+" ",1),i=="Net Salary Payable"?(s(),a("span",Ct,"(A-B-C)")):b("",!0)],2)]),e("div",Ot,[e("p",Yt,[i=="Net Salary Payable"?(s(),a("span",{key:0,class:g(["text-[16px] font-semibold text-right",[i=="Net Salary Payable"?"text-black text-[14px] font-semibold":""]]),style:{"font-family":"sans-serif !important"}},"₹ ",2)):b("",!0),m(l(t),1)])])]))),128)),Bt,e("div",Ft,[e("div",It,[Ut,e("img",{src:`${n(o).paySlipHTMLView.data.date_month.abs_logo}`,alt:"",class:"w-[140px] h-[50px]"},null,8,jt)])])])])]),_:1},8,["visible"])):b("",!0)],64)}}};export{j as U,zt as _};
