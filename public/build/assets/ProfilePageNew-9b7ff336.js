import{G as w,a1 as O,H as ee,af as ie,g as x,o as p,c as m,h as t,d as e,a2 as l,a as F,t as h,w as _,q as A,n as J,l as k,F as ce,ag as oe,k as G,E as H,b as ue,I as fe,P as be,J as ve,R as ge,u as he,v as ye,N as xe,K as $e,M as De,A as we,L as ke}from"./toastservice.esm-089fd174.js";import{c as Pe}from"./pinia-33c7e0da.js";import{T as Ve,B as Ce,S as Ee,b as Le,a as Se,c as Te}from"./styleclass.esm-c4aad718.js";import"./blockui.esm-fe051704.js";import{D as Ue}from"./dialogservice.esm-5a9d18a9.js";import{C as Fe}from"./confirmationservice.esm-66a41967.js";import{s as Ne}from"./progressspinner.esm-76560800.js";import{s as Be}from"./row.esm-6ebc942e.js";import{s as Ie}from"./columngroup.esm-9dd1458e.js";import{s as Me}from"./calendar.esm-42fe84c3.js";import{s as Ye}from"./textarea.esm-8cab7db9.js";import{s as Re}from"./chips.esm-bdf07124.js";import{s as Ae}from"./multiselect.esm-34e50992.js";import{s as je}from"./inputmask.esm-02784e1d.js";import{s as qe}from"./progressbar.esm-1d9e195a.js";import{l as re}from"./lodash-629bded8.js";import{a as M}from"./index-362795f3.js";import{S as K}from"./Service-c3c14bcb.js";import{p as W}from"./ProfilePagesStore-3bce2b50.js";import{r as Q,u as ne}from"./index.esm-d960d492.js";import{u as ae,E as Oe}from"./EmployeeDetails-15a4a9df.js";import{d as z}from"./dayjs.min-2f06af28.js";import{_ as Ge}from"./EmployeePayslips-1d492399.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";const He={class:"mb-0 card top-line"},ze={class:"card-body"},Ke={class:"row"},We={class:"col-12 text-end"},Je=e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true"},null,-1),Qe=[Je],Xe={class:"text-center col-12"},Ze={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{"box-shadow":"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",border:"1px solid navy"}},et=["src"],tt=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),ot={class:"mt-4"},st={class:"progress-wrapper border-bottom-liteAsh"},lt=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),at={class:"mb-1 px-auto d-flex align-items-center justify-content-center pl-5"},it={class:"text-center fw-bold"},nt={class:"personal-edit position-absolute",style:{right:"-9px"}},dt={href:"#",class:"edit-icon"},rt={class:"modal-body"},ct={class:"row"},pt={class:"col-md-6"},_t={class:"mb-3 form-group"},mt=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),ut={key:0,class:"text-red-400 fs-6 font-semibold"},ft={class:"col-md-6"},bt={class:"form-group"},vt=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),gt={key:0,class:"text-red-400 fs-6 font-semibold"},ht={class:"col-md-6 d-flex flex-column"},yt={class:"d-flex justify-items-center flex-column"},xt=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),$t={class:"d-flex justify-items-center align-items-center"},Dt=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),wt={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},kt={key:0,class:"text-red-400 fs-6 font-semibold"},Pt=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),Vt=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Ct={class:"mb-4 text-center profile-mid-right-content"},Et={class:"py-2 border-bottom-liteAsh"},Lt=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),St={key:0,class:"f-12 fw-bold"},Tt={key:1,class:"text-danger f-12 fw-bold"},Ut={class:"py-2 border-bottom-liteAsh"},Ft=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),Nt={key:0,class:"f-12 fw-bold"},Bt={key:1,class:"f-12 fw-bold"},It={class:"py-2 border-bottom-liteAsh"},Mt=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),Yt={key:0,class:"f-12 fw-bold"},Rt={key:1,class:"f-12 fw-bold"},At={class:"py-2 border-bottom-liteAsh"},jt=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),qt={key:0,class:"f-12 fw-bold"},Ot={key:1,class:"f-12 fw-bold"},Gt={class:"py-2 border-bottom-liteAsh ml-3"},Ht={class:"text-muted f-12 fw-bold"},zt=e("i",{class:"ri-pencil-fill"},null,-1),Kt=[zt],Wt={key:0,class:"f-12 fw-bold"},Jt={key:1,class:"f-12 fw-bold"},Qt={class:"py-2 border-bottom-liteAsh"},Xt={class:"text-muted f-12 fw-bold"},Zt=e("i",{class:"ri-pencil-fill"},null,-1),eo=[Zt],to={key:0,class:"f-12 fw-bold"},oo={key:1,class:"f-12 fw-bold"},so=e("div",{class:"text-center profile-bottom-right-content"},null,-1),lo={class:"confirmation-content"},ao=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),io={class:"card p-3 d-flex justify-items-center align-items-center",style:{width:"18rem","margin-left":"150px",height:"300px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},no=["src"],ro={class:"card-body d-flex justify-items-center align-items-center mt-4",style:{"flex-direction":"column"}},co={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{border:"1px solid navy","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},po=["src"],_o={class:"card-title mt-3 mb-2 f-12",style:{"text-align":"center"}},mo={key:0,class:"f-12 card-text mb-2 text-gray-400"},uo={key:1,class:"f-12 fw-bold"},fo={key:2,class:"f-12 fw-bold mb-2",style:{color:"grey"}},bo={key:3,class:"f-12 mb-2 text-secondary-emphasis"},vo=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),go={__name:"EmployeeCard",setup(X){const V=K(),d=w(!1),L=w(!1),$=O({department:"",reporting_manager:""}),y=O({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),s=w([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),o=w(!1);let i=W();const R=S=>{S.target.files&&S.target.files[0]&&(i.profile=S.target.files[0]);let r=new FormData;r.append("user_code",i.user_code),r.append("file_object",i.profile);let N="/profile-pages/updateProfilePicture";M.post(N,r).then(j=>{}).finally(()=>{console.log("Photo Sent"),i.getProfilePhoto()})},Y=w(),I=w(),c=w(!1),a=w(!1),n=w(!1),v=w("None"),U=S=>{console.log(S),M.post("/profile-pages/updateDepartment",{user_code:i.employeeDetails.user_code,department_id:$.department}).then(r=>{let N=re._.find(Y.value,["id",$.department]).name;console.log("Lodash [Selected Dept]: "+N),i.employeeDetails.get_employee_office_details.department_name=N,v.value="Department updated successfully !",console.log(r.data)}).catch(r=>{v.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+r)}).finally(()=>{n.value=!0,c.value=!1})},q=S=>{console.log("editReportingManager : "+S),M.post("/profile-pages/updateReportingManager",{user_code:i.employeeDetails.user_code,manager_user_code:$.reporting_manager}).then(r=>{let N=re._.find(I.value,["user_code",$.reporting_manager]);i.employeeDetails.get_employee_office_details.l1_manager_name=N.name,i.employeeDetails.get_employee_office_details.l1_manager_code=N.user_code,v.value="Reporting Manager updated successfully !",console.log(r.data)}).catch(r=>{v.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+r)}).finally(()=>{n.value=!0,a.value=!1})},B=()=>{$.department=i.employeeDetails.get_employee_office_details.department_name,$.reporting_manager=i.employeeDetails.get_employee_office_details.l1_manager_name,console.log($.department)};ee(()=>{V.DepartmentDetails().then(S=>{Y.value=S.data,console.log("testing"+i.employeeDetails.get_employee_office_details.l1_manager_name)}),V.ManagerDetails().then(S=>{I.value=S.data}),B()});const C=S=>{S.target.files&&S.target.files[0]&&(y.emp_upload_doc=S.target.files[0],console.log(y.emp_upload_doc))},g=ie(()=>({emp_name:{required:Q},emp_doc_name:{required:Q},emp_upload_doc:{required:Q}})),f=ne(g,y),se=()=>{f.value.$validate(),f.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),le())},le=()=>{d.value=!0,o.value=!1;const r=`/update-EmplpoyeeName-info/${V.current_user_id}`,N=new FormData;N.append("user_code",i.employeeDetails.user_code),N.append("name",y.emp_name),N.append("onboard_document_type",y.emp_doc_name.name),N.append("emp_doc",y.emp_upload_doc),M.post(r,N).finally(()=>{d.value=!1})};return(S,r)=>{const N=x("Toast"),j=x("InputText"),Z=x("Dropdown"),T=x("Dialog"),u=x("ProgressBar"),E=x("ProgressSpinner");return p(),m(ce,null,[t(N),e("div",He,[e("div",ze,[e("div",Ke,[e("div",We,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:r[0]||(r[0]=b=>L.value=!0)},Qe)]),e("div",Xe,[e("div",Ze,[l(i).profile?(p(),m("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${l(i).profile}`,srcset:"",alt:""},null,8,et)):F("",!0),tt,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:r[1]||(r[1]=b=>R(b))},null,32)]),e("div",ot,[e("div",st,[lt,e("div",at,[e("h6",it,h(l(i).employeeDetails.name),1),e("span",nt,[e("a",dt,[e("i",{class:"ri-pencil-fill",onClick:r[2]||(r[2]=b=>o.value=!0)})])])]),t(T,{visible:o.value,"onUpdate:visible":r[6]||(r[6]=b=>o.value=b),modal:"",header:" ",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:_(()=>[e("div",null,[e("div",rt,[e("div",ct,[e("div",pt,[e("div",_t,[mt,t(j,{type:"text",modelValue:y.emp_name,"onUpdate:modelValue":r[3]||(r[3]=b=>y.emp_name=b),style:{"text-transform":"uppercase"},class:J(["form-controls pl-2",[l(f).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),l(f).emp_name.$error?(p(),m("span",ut,h(l(f).emp_name.required.$message.replace("Value","Employee Name")),1)):F("",!0)])]),e("div",ft,[e("div",bt,[vt,t(Z,{modelValue:y.emp_doc_name,"onUpdate:modelValue":r[4]||(r[4]=b=>y.emp_doc_name=b),options:s.value,optionLabel:"name",placeholder:"Select a document ",class:J(["form-controls pl-2 w-full h-12",[l(f).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),l(f).emp_doc_name.$error?(p(),m("span",gt,h(l(f).emp_doc_name.required.$message.replace("Value","Documents")),1)):F("",!0)])]),e("div",ht,[e("div",yt,[xt,e("div",$t,[t(N),Dt,y.emp_upload_doc?(p(),m("div",wt,h(y.emp_upload_doc.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:r[5]||(r[5]=b=>C(b)),class:J([l(f).emp_upload_doc.$error?"p-invalid":""])},null,34)]),l(f).emp_upload_doc.$error?(p(),m("span",kt,h(l(f).emp_upload_doc.required.$message.replace("Value","document")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:se},"Submit")])])])])]),_:1},8,["visible"]),Pt,t(u,{value:l(i).employeeDetails.profile_completeness},null,8,["value"]),Vt]),e("div",Ct,[e("div",Et,[Lt,l(i).employeeDetails.active==1?(p(),m("p",St," Active ")):(p(),m("p",Tt,"Not Active"))]),e("div",Ut,[Ft,l(i).employeeDetails.user_code?(p(),m("p",Nt,h(l(i).employeeDetails.user_code),1)):(p(),m("p",Bt,"-"))]),e("div",It,[Mt,l(i).employeeDetails.get_employee_office_details.designation?(p(),m("p",Yt,h(l(i).employeeDetails.get_employee_office_details.designation),1)):(p(),m("p",Rt,"-"))]),e("div",At,[jt,l(i).employeeDetails.get_employee_office_details.work_location?(p(),m("p",qt,h(l(i).employeeDetails.get_employee_office_details.work_location),1)):(p(),m("p",Ot,"-"))]),e("div",Gt,[e("p",Ht,[k(" Department "),l(i).employeeDetails.is_ssa==1?(p(),m("a",{key:0,href:"#",class:"edit-icon",onClick:r[7]||(r[7]=b=>c.value=!0)},Kt)):F("",!0)]),l(i).employeeDetails.get_employee_office_details.department_id?(p(),m("p",Wt,h(l(i).employeeDetails.get_employee_office_details.department_name),1)):(p(),m("p",Jt,"-"))]),e("div",Qt,[e("p",Xt,[k(" Reporting To "),l(i).employeeDetails.is_ssa==1?(p(),m("a",{key:0,href:"#",class:"edit-icon",onClick:r[8]||(r[8]=b=>a.value=!0)},eo)):F("",!0)]),l(i).employeeDetails.get_employee_office_details.l1_manager_code?(p(),m("p",to,h(l(i).employeeDetails.get_employee_office_details.l1_manager_name)+"  - "+h(l(i).employeeDetails.get_employee_office_details.l1_manager_code),1)):(p(),m("p",oo,"-"))])]),so])])])])]),t(T,{header:"Status",visible:n.value,"onUpdate:visible":r[9]||(r[9]=b=>n.value=b),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:_(()=>[e("div",lo,[ao,e("span",null,h(v.value),1)])]),_:1},8,["visible"]),t(T,{visible:c.value,"onUpdate:visible":r[11]||(r[11]=b=>c.value=b),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:_(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:U}," Save ")])]),default:_(()=>[t(Z,{options:Y.value,optionLabel:"name",modelValue:$.department,"onUpdate:modelValue":r[10]||(r[10]=b=>$.department=b),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(T,{visible:a.value,"onUpdate:visible":r[13]||(r[13]=b=>a.value=b),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:_(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:q}," Save ")])]),default:_(()=>[t(Z,{optionLabel:"name",options:I.value,modelValue:$.reporting_manager,"onUpdate:modelValue":r[12]||(r[12]=b=>$.reporting_manager=b),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(T,{visible:L.value,"onUpdate:visible":r[14]||(r[14]=b=>L.value=b),modal:"",header:"",style:{width:"40vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:_(()=>[e("div",io,[e("img",{src:`${l(i).employeeDetails.client_logo}`,alt:"",style:{height:"45px",width:"140px","object-fit":"cover"}},null,8,no),e("div",ro,[e("div",co,[l(i).profile?(p(),m("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border",src:`data:image/png;base64,${l(i).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"120px",height:"120px"}},null,8,po)):F("",!0)]),e("h5",_o,h(l(i).employeeDetails.name),1),l(i).employeeDetails.get_employee_office_details.department_id?(p(),m("h5",mo,h(l(i).employeeDetails.get_employee_office_details.department_name),1)):(p(),m("h1",uo,"-")),l(i).employeeDetails.user_code?(p(),m("h5",fo,h(l(i).employeeDetails.user_code),1)):(p(),m("p",bo,"-"))])])]),_:1},8,["visible"]),t(T,{header:"Header",visible:d.value,"onUpdate:visible":r[15]||(r[15]=b=>d.value=b),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(E,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[vo]),_:1},8,["visible"])],64)}}};const ho={class:"mb-2 card"},yo={class:"card-body"},xo={class:"fw-bold fs-15"},$o={class:"space-between"},Do={class:"flex-col input_text"},wo=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),ko={class:"flex-col input_text"},Po=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),Vo={class:"space-between M-T mr-4"},Co={class:"flex-col input_text"},Eo=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Lo={class:"flex-col input_text"},So=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),To={class:"my-6 table-responsive"},Uo={key:0},Fo={key:1},No=["onClick"],Bo=["onClick"],Io={class:"space-between"},Mo={class:"flex-col input_text"},Yo=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),Ro={class:"flex-col input_text"},Ao=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),jo={class:"space-between M-T"},qo={class:"flex-col input_text"},Oo=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Go={class:"flex-col input_text"},Ho=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),zo={__name:"FamilyDetails",setup(X){const V=K(),d=W(),L=oe();w("");const $=w(!1),y=w(!1),s=O({name:"",relationship:"",dob:"",phone_number:""}),o=O({name:"",relationship:"",dob:"",phone_number:""}),i=w(),R=()=>{d.loading_screen=!0;let n=`/add-family-info/${V.current_user_id}`;M.post(n,{user_code:d.employeeDetails.user_code,name:s.name,relationship:s.relationship,dob:z(s.dob).format("YYYY-MM-DD"),phone_number:s.phone_number}).then(v=>{v.data.status=="success"?(L.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),d.employeeDetails.get_family_details.dob=ae(s.dob,"YYYY-MM-DD"),d.employeeDetails.get_family_details.name=s.gender,d.employeeDetails.get_family_details.relationship=s.relationship,d.employeeDetails.get_family_details.phone_number=s.phone_number):v.data.status=="failure"}).catch(v=>{console.log(v)}).finally(()=>{d.fetchEmployeeDetails(),d.loading_screen=!1}),$.value=!1},Y=a=>{y.value=!0,i.value=a.id,o.name=a.name,o.relationship=a.relationship,o.dob=a.dob,o.phone_number=a.phone_number},I=a=>{d.loading_screen=!0,i.value=a.id;let v=` /delete-family-info/${V.current_user_id}`;M.post(v,{current_table_id:i.value}).then(U=>{U.data.status=="success"?(L.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),d.employeeDetails.get_family_details.dob=ae(s.dob,"YYYY-MM-DD"),d.employeeDetails.get_family_details.name=s.gender,d.employeeDetails.get_family_details.relationship=s.relationship,d.employeeDetails.get_family_details.phone_number=s.phone_number):U.data.status=="failure"&&(leave_data.leave_request_error_messege=U.data.message)}).catch(U=>{console.log(U)}).finally(()=>{d.loading_screen=!1,d.fetchEmployeeDetails()})},c=a=>{d.loading_screen=!0;let v=`/update-family-info/${V.current_user_id}`;M.post(v,{user_code:d.employeeDetails.user_code,current_table_id:i.value,name:o.name,relationship:o.relationship,dob:z(o.dob).format("YYYY-MM-DD"),phone_number:o.phone_number}).then(U=>{U.data.status=="success"?(L.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),d.employeeDetails.get_family_details.dob=ae(o.dob,"YYYY-MM-DD"),d.employeeDetails.get_family_details.name=o.gender,d.employeeDetails.get_family_details.relationship=s.relationship,d.employeeDetails.get_family_details.phone_number=o.phone_number):U.data.status=="failure"&&(leave_data.leave_request_error_messege=U.data.message)}).catch(U=>{console.log(U)}).finally(()=>{d.fetchEmployeeDetails(),d.loading_screen=!1}),y.value=!1};return ee(()=>{}),(a,n)=>{const v=x("Calendar"),U=x("Toast"),q=x("Dialog"),B=x("Column"),C=x("DataTable");return p(),m("div",ho,[e("div",yo,[e("h6",xo,[k("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"79%"},onClick:n[0]||(n[0]=g=>$.value=!0)}," Add New "),t(q,{visible:$.value,"onUpdate:visible":n[5]||(n[5]=g=>$.value=g),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:_(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:_(()=>[t(U),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:R},"submit")])]),default:_(()=>[e("div",$o,[e("div",Do,[wo,G(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":n[1]||(n[1]=g=>s.name=g)},null,512),[[H,s.name]])]),e("div",ko,[Po,G(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":n[2]||(n[2]=g=>s.relationship=g),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[H,s.relationship]])])]),e("div",Vo,[e("div",Co,[Eo,t(v,{dateFormat:"dd/mm/yy",modelValue:s.dob,"onUpdate:modelValue":n[3]||(n[3]=g=>s.dob=g),class:"h-10 w-full",minDate:a.minDate,maxDate:a.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Lo,[So,G(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":n[4]||(n[4]=g=>s.phone_number=g)},null,512),[[H,s.phone_number]])])])]),_:1},8,["visible"])]),e("div",To,[t(C,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:l(d).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[t(B,{header:"Name",field:"name",style:{"min-width":"8rem"}}),t(B,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),t(B,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:_(g=>[g.data.dob=="Invalid Date"?(p(),m("div",Uo," - ")):(p(),m("div",Fo,h(l(z)(g.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),t(B,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),t(B,{exportable:!1,header:"Action",style:{"min-width":"8rem"}},{body:_(g=>[e("button",{class:"mr-3 btn btn-success",onClick:f=>Y(g.data)},"Edit",8,No),e("button",{class:"btn btn-danger",onClick:f=>I(g.data)},"Delete",8,Bo),e("template",null,[t(q,{visible:y.value,"onUpdate:visible":n[10]||(n[10]=f=>y.value=f),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:_(()=>[t(U),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:c},"submit")])]),default:_(()=>[e("div",Io,[e("div",Mo,[Yo,G(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":n[6]||(n[6]=f=>o.name=f),required:""},null,512),[[H,o.name]])]),e("div",Ro,[Ao,G(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":n[7]||(n[7]=f=>o.relationship=f),required:""},null,512),[[H,o.relationship]])])]),e("div",jo,[e("div",qo,[Oo,G(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":n[8]||(n[8]=f=>o.dob=f)},null,512),[[H,o.dob]])]),e("div",Go,[Ho,G(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":n[9]||(n[9]=f=>o.phone_number=f)},null,512),[[H,o.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}};const Ko=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),Wo={class:"tab-content",id:"pills-tabContent"},Jo={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},Qo=e("div",{class:"mb-2 card"},[e("div",{class:"card-body"},[e("form",{action:"",method:"POST",enctype:"multipart/form-data"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:"mb-2 fw-bold fs-15 z-0"}," Payroll Summary ")]),e("ul",{class:"personal-info"},[e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Last Processed"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Total Working Days"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1"},[e("div",{class:"title"},"Loss Of Pay(LOP)"),e("div",{class:"text"}," - ")])])])])],-1),Xo={class:"mb-2 card"},Zo={class:"card-body"},es=e("i",{class:"ri-pencil-fill"},null,-1),ts=[es],os={class:"modal-body"},ss={class:"row"},ls={class:"col-md-6"},as={class:"mb-3 form-group"},is=e("label",null,"Bank Name",-1),ns={class:"col-md-6"},ds={class:"mb-3 form-group"},rs=e("label",null,"Bank Account No",-1),cs=e("div",{class:"cal-icon"},null,-1),ps={class:"col-md-6"},_s={class:"mb-3 form-group"},ms=e("label",null,"IFSC Code",-1),us={class:"col-md-6"},fs={class:"floating d-block justify-items-start al"},bs=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),vs={class:"flex justify-content-start"},gs=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),hs={class:"d-flex flex-column justify-content-center align-items-center border"},ys={key:0,class:"text-red-400 fs-6 font-semibold text-center"},xs={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},$s={class:"personal-info"},Ds=e("div",{class:"title"},"Bank Name",-1),ws={class:"text"},ks=e("div",{class:"title"},"Bank Account No.",-1),Ps={class:"text"},Vs=e("div",{class:"title"},"IFSC Code",-1),Cs={class:"text"},Es=e("div",{class:"title"},"PAN No",-1),Ls={class:"text w-20"},Ss={class:"personal-edit"},Ts={href:"#",class:"edit-icon",style:{color:"#e63b1f"}},Us={class:"modal-body"},Fs={class:"row"},Ns={class:"col-md-6"},Bs={class:"mb-3 form-group"},Is=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),Ms={key:0,class:"text-red-400 fs-6 font-semibold"},Ys={class:"col-md-6 d-flex flex-column"},Rs={class:"d-flex justify-items-center flex-column ml-10"},As=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),js={class:"d-flex justify-items-center align-items-center"},qs=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),Os={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},Gs={key:0,class:"text-red-400 fs-6 font-semibold"},Hs={class:"mb-2 card"},zs={class:"card-body"},Ks={class:"mb-2 fw-bold fs-15"},Ws={class:"personal-edit"},Js=e("i",{class:"ri-pencil-fill"},null,-1),Qs=[Js],Xs={class:"modal-body"},Zs={class:"row"},el={class:"col"},tl=e("label",{for:"",class:""},[k("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),ol={class:"col"},sl=e("label",{class:"ml-2"},"EPF Number",-1),ll={class:"row"},al={class:"col"},il=e("label",{class:"ml-1"},"UAN Number",-1),nl={class:"col ml-2"},dl=e("label",{class:"ml-2"},[k("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),rl={class:"row"},cl={class:"col-6"},pl=e("label",{for:"",class:"ml-2"},"ESIC Number",-1),_l=e("div",{class:"col"},null,-1),ml={key:0,class:"personal-info"},ul=e("div",{class:"title"},"PF Applicable",-1),fl={class:"text"},bl=e("div",{class:"title"},"EPF Number",-1),vl={class:"text"},gl=e("div",{class:"title"},"UAN Number",-1),hl={key:0,class:"text"},yl={key:1,class:"text"},xl=e("div",{class:"title"},"ESIC Applicable",-1),$l={class:"text"},Dl=e("div",{class:"title"},"ESIC Number",-1),wl={class:"text"},kl={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Pl={class:"mb-2 card"},Vl={class:"card-body"},Cl=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),El={__name:"FinanceDetails",setup(X){const V=oe(),d=w(!1),L=w(!1);let $=new FormData;$.append("user_code",K.current_user_code),$.append("file_object",W.value);let y="/profile-pages/updateProfilePicture";M.post(y,$).then(T=>{}).finally(()=>{console.log("Photo Sent")});const s=W(),o=K(),i=w([]),R=w();i.value.push(s.employeeDetails.get_statutory_details),ee(()=>{o.getBankList().then(T=>{R.value=T.data}),s.fetchEmployeeDetails()});const Y=w(!1),I=w(!1);w(),w();const c=O({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),a=O({pan_no:"",Pancard:""}),n=T=>{T.target.files&&T.target.files[0]&&(c.PassBook=T.target.files[0],console.log(c.PassBook))},v=w([{name:"Yes",value:"Yes"},{name:"No",value:"No"}]),U=()=>{d.value=!0;let u=`/update-bank-info/${o.current_user_id}`,E=new FormData;E.append("user_code",s.employeeDetails.user_code),E.append("bank_id",c.bank_id),E.append("account_no",c.bank_ac_no),E.append("bank_ifsc",c.ifsc_code),E.append("PassBook",c.PassBook),E.append("onboard_document_type","Cheque leaf/Bank Passbook"),M.post(u,E).then(b=>{b.data.status=="success"?(V.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),s.employeeDetails.get_employee_details.bank_id=c.bank_id,s.employeeDetails.get_employee_details.bank_account_number=c.bank_ac_no,s.employeeDetails.get_employee_details.bank_ifsc_code=c.ifsc_code,s.employeeDetails.get_employee_details.pan_no=c.pan_no):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}).finally(()=>{s.fetchEmployeeDetails(),d.value=!1}),Y.value=!1};function q(){c.bank_id=parseInt(s.employeeDetails.get_employee_details.bank_id),c.bank_ac_no=s.employeeDetails.get_employee_details.bank_account_number,c.ifsc_code=s.employeeDetails.get_employee_details.bank_ifsc_code,c.pan_no=s.employeeDetails.get_employee_details.pan_number,Y.value=!0}function B(){s.employeeDetails.get_statutory_details?(C.pf_applicable=s.employeeDetails.get_statutory_details.pf_applicable,C.epf_no=s.employeeDetails.get_statutory_details.epf_number,C.uan_no=s.employeeDetails.get_statutory_details.uan_number,C.esic_applicable=s.employeeDetails.get_statutory_details.esic_applicable,C.esic_no=s.employeeDetails.get_statutory_details.esic_number):I.value=!0,I.value=!0}const C=O({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),g=()=>{d.value=!0;let u=`/update-statutory-info/${o.current_user_id}`;M.post(u,{user_code:s.employeeDetails.user_code,pf_applicable:C.pf_applicable,epf_number:C.epf_no,uan_number:C.uan_no,esic_applicable:C.esic_applicable,esic_number:C.esic_no}).then(E=>{E.data.status=="success"?V.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):E.data.status=="failure"&&(leave_data.leave_request_error_messege=E.data.message)}).catch(E=>{console.log(E)}).finally(()=>{s.fetchEmployeeDetails(),d.value=!1}),I.value=!1},f=T=>{T.target.files&&T.target.files[0]&&(a.Pancard=T.target.files[0],console.log(a.Pancard))},se=()=>{d.value=!0;const u=`/update-Pancard-info/${o.current_user_id}`,E=new FormData;E.append("pan_no",a.pan_no),E.append("pancard",a.Pancard),E.append("user_code",s.employeeDetails.user_code),E.append("onboard_document_type","Pan Card"),L.value=!1,a.Pancard&&M.post(u,E).finally(()=>{d.value=!1})},le=ie(()=>({PassBook:{required:Q}})),S=ne(le,c),r=()=>{S.value.$validate(),S.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),U())},N=ie(()=>({pan_no:{required:Q},Pancard:{required:Q}})),j=ne(N,a),Z=()=>{j.value.$validate(),j.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),se())};return(T,u)=>{const E=x("Dropdown"),b=x("InputNumber"),pe=x("InputText"),de=x("Toast"),te=x("Dialog"),_e=x("InputMask"),me=x("ProgressSpinner");return p(),m("div",null,[Ko,e("div",Wo,[e("div",Jo,[Qo,e("div",Xo,[e("div",Zo,[e("h6",{class:"mb-2 fw-bold fs-15"},[k("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:q},ts)])]),t(te,{visible:Y.value,"onUpdate:visible":u[4]||(u[4]=D=>Y.value=D),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:_(()=>[e("div",null,[e("div",os,[e("div",ss,[e("div",ls,[e("div",as,[is,k(" "+h(c.bank_id)+" ",1),t(E,{editable:"",options:R.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:c.bank_id,"onUpdate:modelValue":u[0]||(u[0]=D=>c.bank_id=D)},null,8,["options","modelValue"])])]),e("div",ns,[e("div",ds,[rs,cs,t(b,{modelValue:c.bank_ac_no,"onUpdate:modelValue":u[1]||(u[1]=D=>c.bank_ac_no=D),class:"form-controls onboard-form",inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])])]),e("div",ps,[e("div",_s,[ms,t(pe,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:c.ifsc_code,"onUpdate:modelValue":u[2]||(u[2]=D=>c.ifsc_code=D)},null,8,["modelValue"])])]),e("div",us,[e("div",fs,[bs,e("div",vs,[t(de),gs,e("div",hs,[e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:u[3]||(u[3]=D=>n(D)),style:{"text-transform":"uppercase"},class:J(["form-controls pl-2",[l(S).PassBook.$error?"p-invalid":""]])},null,34),l(S).PassBook.$error?(p(),m("span",ys,h(l(S).PassBook.required.$message.replace("Value","PassBook or Cheque Leaf")),1)):F("",!0)]),c.PassBook?(p(),m("div",xs,h(c.PassBook.name),1)):F("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:r},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",$s,[e("li",null,[Ds,e("div",ws,h(l(s).employeeDetails.get_employee_details.bank_name),1)]),e("li",null,[ks,e("div",Ps,h(l(s).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[Vs,e("div",Cs,h(l(s).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[Es,e("div",Ls,[k(h(l(s).employeeDetails.get_employee_details.pan_number)+" ",1),e("span",Ss,[e("a",Ts,[e("i",{class:"ri-pencil-fill",onClick:u[5]||(u[5]=D=>L.value=!0)})])])])])])])])]),t(te,{visible:L.value,"onUpdate:visible":u[8]||(u[8]=D=>L.value=D),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:_(()=>[e("div",null,[e("div",Us,[e("div",Fs,[e("div",Ns,[e("div",Bs,[Is,t(_e,{onFocusout:T.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:a.pan_no,"onUpdate:modelValue":u[6]||(u[6]=D=>a.pan_no=D),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:J(["form-controls pl-2",[l(j).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),l(j).pan_no.$error?(p(),m("span",Ms,h(l(j).pan_no.required.$message.replace("Value","Pancard number")),1)):F("",!0)])]),e("div",Ys,[e("div",Rs,[As,e("div",js,[t(de),qs,a.Pancard?(p(),m("div",Os,h(a.Pancard.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:u[7]||(u[7]=D=>f(D)),class:J([l(j).Pancard.$error?"p-invalid":""])},null,34)]),l(j).Pancard.$error?(p(),m("span",Gs,h(l(j).Pancard.required.$message.replace("Value","Pancard attachment")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:Z},"Submit")])])])])]),_:1},8,["visible"]),e("div",Hs,[e("div",zs,[e("h6",Ks,[k("Statutory Information "),e("span",Ws,[e("a",{href:"#",class:"edit-icon",onClick:u[9]||(u[9]=D=>B())},Qs)])]),t(te,{visible:I.value,"onUpdate:visible":u[15]||(u[15]=D=>I.value=D),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:_(()=>[e("div",Xs,[e("div",Zs,[e("div",el,[tl,t(E,{modelValue:C.pf_applicable,"onUpdate:modelValue":u[10]||(u[10]=D=>C.pf_applicable=D),options:v.value,placeholder:"PF Applicable",optionLabel:"name",optionValue:"value",class:"w-100"},null,8,["modelValue","options"])]),e("div",ol,[sl,t(b,{placeholder:"EPF Number",class:"w-100 mt-1",modelValue:C.epf_no,"onUpdate:modelValue":u[11]||(u[11]=D=>C.epf_no=D),inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])])]),e("div",ll,[e("div",al,[il,t(b,{placeholder:"EPF Number",class:"w-100",minlength:"12",maxlength:"12",modelValue:C.uan_no,"onUpdate:modelValue":u[12]||(u[12]=D=>C.uan_no=D),inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])]),e("div",nl,[dl,t(E,{modelValue:C.esic_applicable,"onUpdate:modelValue":u[13]||(u[13]=D=>C.esic_applicable=D),options:v.value,optionLabel:"name",placeholder:"ESIC Applicable",class:"w-100",optionValue:"value"},null,8,["modelValue","options"])])]),e("div",rl,[e("div",cl,[pl,t(b,{placeholder:"EPF Number",class:"w-100 mt-1",minlength:"12",maxlength:"12",modelValue:C.esic_no,"onUpdate:modelValue":u[14]||(u[14]=D=>C.esic_no=D),inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])]),_l]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:g},"Save")])])])]),_:1},8,["visible"]),l(s).employeeDetails.get_statutory_details?(p(),m("ul",ml,[e("li",null,[ul,e("div",fl,h(l(s).employeeDetails.get_statutory_details.pf_applicable),1)]),e("li",null,[bl,e("div",vl,h(l(s).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[gl,l(s).employeeDetails.get_statutory_details.uan_number=="null"?(p(),m("div",hl," - ")):(p(),m("div",yl,h(l(s).employeeDetails.get_statutory_details.uan_number),1))]),e("li",null,[xl,e("div",$l,h(l(s).employeeDetails.get_statutory_details.esic_applicable),1)]),e("li",null,[Dl,e("div",wl,h(l(s).employeeDetails.get_statutory_details.esic_number),1)])])):F("",!0)])])]),e("div",kl,[e("div",Pl,[e("div",Vl,[t(Ge)])])])]),t(te,{header:"Header",visible:d.value,"onUpdate:visible":u[16]||(u[16]=D=>d.value=D),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(me,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[Cl]),_:1},8,["visible"])])}}};const Ll={class:"mb-2 card"},Sl={class:"card-body"},Tl={class:"fw-bold fs-15"},Ul={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},Fl={class:"space-between"},Nl={class:"flex-col input_text"},Bl=e("span",null,[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),Il={class:"flex-col input_text"},Ml=e("span",null,[k(" Location"),e("span",{class:"text-danger"},"*")],-1),Yl={class:"space-between M-T"},Rl={class:"flex-col input_text"},Al=e("span",null,[k("Job Position "),e("span",{class:"text-danger"},"*")],-1),jl={class:"flex-col input_text",style:{"margin-right":"7px"}},ql=e("span",{style:{paddingLeft:"6px"}},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),Ol={class:"space-between M-T"},Gl={class:"flex-col input_text",style:{marginLeft:"-6px"}},Hl=e("span",{style:{paddingLeft:"6px"}},[k("Period To "),e("span",{class:"text-danger"},"*")],-1),zl={class:"my-6 table-responsive"},Kl=["onClick"],Wl=["onClick"],Jl={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},Ql={class:"space-between"},Xl={class:"flex-col input_text"},Zl=e("span",null,[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),ea={class:"flex-col input_text"},ta=e("span",null,[k(" Location"),e("span",{class:"text-danger"},"*")],-1),oa={class:"space-between M-T"},sa={class:"flex-col input_text"},la=e("span",null,[k("Job Position "),e("span",{class:"text-danger"},"*")],-1),aa={class:"flex-col input_text",style:{"margin-right":"7px"}},ia=e("span",{style:{paddingLeft:"6px"}},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),na={class:"space-between M-T"},da={class:"flex-col input_text",style:{marginLeft:"-6px"}},ra=e("span",{style:{paddingLeft:"6px"}},[k("Period To "),e("span",{class:"text-danger"},"*")],-1),ca={__name:"ExperienceDetails",setup(X){const V=K(),d=W(),L=oe();oe(),w("");const $=w(!1),y=w(!1),s=w(),o=O({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),i=()=>{console.log(o),d.loading_screen=!0;let a=`/add-experience-info/${V.current_user_id}`;M.post(a,{user_code:d.employeeDetails.user_code,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:z(o.period_from).format("YYYY-MM-DD"),period_to:z(o.period_to).format("YYYY-MM-DD")}).then(n=>{n.data.status=="success"?L.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):n.data.status=="failure"&&(leave_data.leave_request_error_messege=n.data.message)}).catch(n=>{console.log(n)}).finally(()=>{d.fetchEmployeeDetails(),d.loading_screen=!1}),$.value=!1};ee(()=>{});const R=c=>{y.value=!0,s.value=c.id,console.log(s.value),o.company_name=c.company_name,o.location=c.location,o.job_position=c.job_position,o.period_from=c.period_from,o.period_to=c.period_to},Y=c=>{y.value=!1;let n=`/update-experience-info/${V.current_user_id}`;M.post(n,{user_code:d.employeeDetails.user_code,exp_current_table_id:s.value,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:z(o.period_from).format("YYYY-MM-DD"),period_to:z(o.period_to).format("YYYY-MM-DD")}).then(v=>{v.data.status=="success"?(window.location.reload(),L.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):v.data.status=="failure"&&(leave_data.leave_request_error_messege=v.data.message)}).catch(v=>{console.log(v)})},I=c=>{s.value=c.id;let n=`/delete-experience-info/${V.current_user_id}`;M.post(n,{exp_current_table_id:s.value}).then(v=>{v.data.status=="success"?L.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}):v.data.status=="failure"&&(leave_data.leave_request_error_messege=v.data.message)}).catch(v=>{console.log(v)}).finally(()=>{d.fetchEmployeeDetails(),d.loading_screen=!1})};return(c,a)=>{const n=x("InputText"),v=x("Calendar"),U=x("Toast"),q=x("Dialog"),B=x("Column"),C=x("DataTable");return p(),m("div",null,[e("div",Ll,[e("div",Sl,[e("h6",Tl,[k("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"76%"},onClick:a[0]||(a[0]=g=>$.value=!0)}," Add New "),t(q,{visible:$.value,"onUpdate:visible":a[6]||(a[6]=g=>$.value=g),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:_(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:_(()=>[e("div",null,[t(U),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:i},"submit")])]),default:_(()=>[e("div",Ul,[e("div",Fl,[e("div",Nl,[Bl,t(n,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":a[1]||(a[1]=g=>o.company_name=g),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",Il,[Ml,t(n,{type:"text",modelValue:o.location,"onUpdate:modelValue":a[2]||(a[2]=g=>o.location=g),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",Yl,[e("div",Rl,[Al,t(n,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":a[3]||(a[3]=g=>o.job_position=g),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",jl,[ql,t(v,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":a[4]||(a[4]=g=>o.period_from=g),style:A({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",Ol,[e("div",Gl,[Hl,t(v,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":a[5]||(a[5]=g=>o.period_to=g),class:"",style:A({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])]),e("div",zl,[t(C,{ref:"dt",value:l(d).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[t(B,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),t(B,{field:"location",header:"Location",style:{"min-width":"8rem"}}),t(B,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),t(B,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),t(B,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),t(B,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:_(g=>[e("button",{class:"mr-3 btn btn-success",onClick:f=>R(g.data)},"Edit",8,Kl),e("button",{class:"btn btn-danger",onClick:f=>I(g.data)},"Delete",8,Wl),e("template",null,[t(q,{visible:y.value,"onUpdate:visible":a[13]||(a[13]=f=>y.value=f),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:_(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:_(()=>[e("div",null,[t(U),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:a[12]||(a[12]=f=>Y())},"submit")])]),default:_(()=>[e("div",Jl,[e("div",Ql,[e("div",Xl,[Zl,t(n,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":a[7]||(a[7]=f=>o.company_name=f),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",ea,[ta,t(n,{type:"text",modelValue:o.location,"onUpdate:modelValue":a[8]||(a[8]=f=>o.location=f),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",oa,[e("div",sa,[la,t(n,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":a[9]||(a[9]=f=>o.job_position=f),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",aa,[ia,t(v,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":a[10]||(a[10]=f=>o.period_from=f),style:A({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",na,[e("div",da,[ra,t(v,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":a[11]||(a[11]=f=>o.period_to=f),class:"",style:A({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},pa={class:"table-responsive"},_a={class:"w-full h-full d-flex justify-content-center"},ma=["src"],ua=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),fa={__name:"documents",setup(X){const V=W();K();const d=w({}),L=w(!1),$=w(),y=w(!1),s=o=>{d.value={...o},console.log(d.value),console.log(d.value.doc_url),L.value=!0,y.value=!0,M.post("/view-profile-private-file",{user_code:V.employeeDetails.user_code,document_name:d.value.document_name}).then(i=>{console.log(i.data.data),$.value=i.data.data,console.log("data sent",$.value)}).finally(()=>{y.value=!1})};return(o,i)=>{const R=x("Column"),Y=x("Button"),I=x("DataTable"),c=x("Dialog"),a=x("ProgressSpinner");return p(),m("div",pa,[t(I,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:l(V).employeeDetails.employee_documents,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[t(R,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:_(()=>[k(h(l(V).employeeDetails.employee_documents.document_name),1)]),_:1}),t(R,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:_(()=>[k(h(l(V).employeeDetails.employee_documents.status),1)]),_:1}),t(R,{field:"reason",header:"Reason ",style:{"min-width":"12rem"}}),t(R,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:_(n=>[t(Y,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:v=>s(n.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),y.value==!1?(p(),ue(c,{key:0,visible:L.value,"onUpdate:visible":i[0]||(i[0]=n=>L.value=n),modal:"",header:"Documents",style:{width:"40vw"}},{default:_(()=>[e("div",_a,[d.value.doc_url?(p(),m("img",{key:0,src:`data:image/png;base64,${$.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,ma)):F("",!0)])]),_:1},8,["visible"])):F("",!0),t(c,{header:"Header",visible:y.value,"onUpdate:visible":i[1]||(i[1]=n=>y.value=n),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(a,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[ua]),_:1},8,["visible"])])}}},ba=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),va={class:"profile_page-wrapper mt-30 container-fluid"},ga={class:"row"},ha={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},ya={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},xa=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),$a={class:"tab-content",id:"pills-tabContent"},Da={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},wa={key:0},ka={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Pa={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Va={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Ca={key:0},Ea={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},La={__name:"profilePageNew",setup(X){K();let V=W();return ee(async()=>{console.log("Loading screen start : "+V.loading_screen),V.fetchEmployeeDetails().then(function(d){console.log("Loading screen end : "+V.loading_screen),console.log("Req done")})}),(d,L)=>{const $=x("Toast"),y=x("ProgressSpinner"),s=x("Dialog");return p(),m(ce,null,[t($),t(s,{header:"Header",visible:l(V).loading_screen,"onUpdate:visible":L[0]||(L[0]=o=>l(V).loading_screen=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[t(y,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[ba]),_:1},8,["visible"]),e("div",va,[e("div",ga,[l(V).loading_screen?F("",!0):(p(),m("div",ha,[t(go)])),e("div",ya,[xa,e("div",$a,[e("div",Da,[l(V).loading_screen?F("",!0):(p(),m("div",wa,[t(Oe)]))]),e("div",ka,[t(zo)]),e("div",Pa,[t(ca)]),e("div",Va,[l(V).loading_screen?F("",!0):(p(),m("div",Ca,[t(El)]))]),e("div",Ea,[t(fa)])])])])])],64)}}},P=fe(La),Sa=Pe();P.use(be,{ripple:!0});P.use(Fe);P.use(ve);P.use(Ue);P.use(Sa);P.directive("tooltip",Ve);P.directive("badge",Ce);P.directive("ripple",ge);P.directive("styleclass",Ee);P.directive("focustrap",he);P.component("Button",ye);P.component("DataTable",Le);P.component("Column",Se);P.component("ColumnGroup",Ie);P.component("Row",Be);P.component("Toast",xe);P.component("ConfirmDialog",$e);P.component("Dropdown",De);P.component("InputText",we);P.component("Dialog",ke);P.component("ProgressSpinner",Ne);P.component("Calendar",Me);P.component("Textarea",Ye);P.component("Chips",Re);P.component("MultiSelect",Ae);P.component("InputNumber",Te);P.component("ProgressBar",qe);P.component("InputMask",je);P.mount("#profilePage");
