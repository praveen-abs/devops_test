import{a0 as C,M as c,G as p,a as g,K as j,L as k,H as Q,b as ee,j as y,g as e,l as x,w as M,t as u,F as te,i as G,o as le,q as N,k as A,B as V,a6 as oe,a7 as se}from"./toastservice.esm-556c9345.js";import"./moment-fbc5633a.js";import{u as ae}from"./inputtext.esm-185811f5.js";import{d as F}from"./pinia-96f4c845.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";var H;const ne=typeof window<"u";ne&&((H=window==null?void 0:window.navigator)!=null&&H.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function T(l){return typeof l=="function"?l():c(l)}const de=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,re=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ce=(l,n,t,b)=>{let _=l<12?"AM":"PM";return b&&(_=_.split("").reduce((h,v)=>h+=`${v}.`,"")),t?_.toLowerCase():_},_e=(l,n,t={})=>{var b;const _=l.getFullYear(),h=l.getMonth(),v=l.getDate(),m=l.getHours(),o=l.getMinutes(),S=l.getSeconds(),B=l.getMilliseconds(),P=l.getDay(),w=(b=t.customMeridiem)!=null?b:ce,U={YY:()=>String(_).slice(-2),YYYY:()=>_,M:()=>h+1,MM:()=>`${h+1}`.padStart(2,"0"),MMM:()=>l.toLocaleDateString(t.locales,{month:"short"}),MMMM:()=>l.toLocaleDateString(t.locales,{month:"long"}),D:()=>String(v),DD:()=>`${v}`.padStart(2,"0"),H:()=>String(m),HH:()=>`${m}`.padStart(2,"0"),h:()=>`${m%12||12}`.padStart(1,"0"),hh:()=>`${m%12||12}`.padStart(2,"0"),m:()=>String(o),mm:()=>`${o}`.padStart(2,"0"),s:()=>String(S),ss:()=>`${S}`.padStart(2,"0"),SSS:()=>`${B}`.padStart(3,"0"),d:()=>P,dd:()=>l.toLocaleDateString(t.locales,{weekday:"narrow"}),ddd:()=>l.toLocaleDateString(t.locales,{weekday:"short"}),dddd:()=>l.toLocaleDateString(t.locales,{weekday:"long"}),A:()=>w(m,o),AA:()=>w(m,o,!1,!0),a:()=>w(m,o,!0),aa:()=>w(m,o,!0,!0)};return n.replace(re,(Y,I)=>I||U[Y]())},me=l=>{if(l===null)return new Date(NaN);if(l===void 0)return new Date;if(l instanceof Date)return new Date(l);if(typeof l=="string"&&!/Z$/i.test(l)){const n=l.match(de);if(n){const t=n[2]-1||0,b=(n[7]||"0").substring(0,3);return new Date(n[1],t,n[3]||1,n[4]||0,n[5]||0,n[6]||0,b)}}return new Date(l)};function ue(l,n="HH:mm:ss",t={}){return C(()=>_e(me(T(l)),T(n),t))}const pe=F("Service",()=>{const l=p(),n=p();return g.get("/currentUser").then(S=>{l.value=S.data}),g.get("/currentUserName").then(S=>{n.value=S.data}),{current_user_id:l,current_user_name:n,getBankList:()=>g.get("/db/getBankDetails"),getCountryList:()=>g.get("/db/getCountryDetails"),getStateList:()=>g.get("/db/getStatesDetails"),ManagerDetails:()=>g.get("/fetch-managers-name"),getBloodGroups:()=>g.get("/fetch-blood-groups"),DepartmentDetails:()=>g.get("/fetch-departments"),getMaritalStatus:()=>g.get("/fetch-marital-details")}}),ge=F("employeeService",()=>{const l=p([]),n=p(!0);let t="174";async function b(){console.log("Getting employee details"),await g.get("/profile-pages-getEmpDetails?uid="+t).then(_=>{console.log("fetchEmployeeDetails() : "+_.data),n.value=!1,l.value=_.data}).catch(_=>console.log(_)).finally(()=>console.log("completed"))}return{fetchEmployeeDetails:b,employeeDetails:l,loading_screen:n}});const i=l=>(oe("data-v-6acd3b79"),l=l(),se(),l),fe={class:"mb-2 card"},be={class:"card-body"},ye={class:""},he=i(()=>e("i",{class:"ri-pencil-fill"},null,-1)),ve=[he],De={class:"row"},xe={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Se={class:"mb-3 form-group"},we=i(()=>e("label",{style:{marginLeft:"10px"}},[x("Birth Date"),e("span",{class:"text-danger"},"*")],-1)),Me={class:"cal-icon"},Ae={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Ve={class:"mb-3 form-group"},Ce=i(()=>e("label",null,[x("Gender"),e("span",{class:"text-danger"},"*")],-1)),Ie={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Le={class:"mb-3 form-group"},Ge=i(()=>e("label",{style:{marginLeft:"10px"}},[x("Date Of Joining(DOJ)"),e("span",{class:"text-danger"},"*")],-1)),Be={class:"cal-icon"},Pe={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Ue={class:"mb-3 form-group"},Ye=i(()=>e("label",null,[x("Blood Group"),e("span",{class:"text-danger"},"*")],-1)),Ee={class:"cal-icon"},ke={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Ne={class:"mb-3 form-group",style:{marginLeft:"10px"}},Oe=i(()=>e("label",null,[x("Marital status "),e("span",{class:"text-danger"},"*")],-1)),$e={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},je={class:"mb-3 form-group"},He=i(()=>e("label",null,"Physically Handicapped",-1)),Te={class:"text-right col-12"},Fe={class:"personal-info"},ze={class:"pb-1 border-bottom-liteAsh"},qe=i(()=>e("div",{class:"title"},"Birthday",-1)),Je={class:"text"},Re={class:"pb-1 border-bottom-liteAsh"},We=i(()=>e("div",{class:"title"},"Gender ",-1)),Xe={class:"text"},Ze={class:"pb-1 border-bottom-liteAsh"},Ke=i(()=>e("div",{class:"title"},"Date Of Joining (DOJ)",-1)),Qe={class:"text"},et={class:"pb-1 border-bottom-liteAsh"},tt=i(()=>e("div",{class:"title"},"Marital Status ",-1)),lt={class:"text text-capitalize"},ot={class:"pb-1 border-bottom-liteAsh"},st=i(()=>e("div",{class:"title"}," Blood Group",-1)),at={class:"text"},it={class:"pb-1"},nt=i(()=>e("div",{class:"title"},"Physically Handicapped",-1)),dt={class:"text"},rt={class:"mb-2 card"},ct={class:"card-body"},_t={class:""},mt=i(()=>e("i",{class:"ri-pencil-fill"},null,-1)),ut=[mt],pt={class:"modal-body"},gt={class:"row"},ft={class:"col-md-6"},bt={class:"mb-3 form-group"},yt=i(()=>e("label",null,"Personal Email",-1)),ht={class:"col-md-6"},vt={class:"mb-3 form-group"},Dt=i(()=>e("label",null," Office Email",-1)),xt={class:"col-md-6"},St={class:"mb-3 form-group"},wt=i(()=>e("label",null,"Mobile Number",-1)),Mt={class:"col-md-6"},At={class:"mb-3 form-group"},Vt=i(()=>e("label",null,"Official Mobile Number",-1)),Ct={class:"personal-info"},It={class:"pb-1 border-bottom-liteAsh"},Lt=i(()=>e("div",{class:"title"},"Personal Email",-1)),Gt={class:"text"},Bt={class:"pb-1 border-bottom-liteAsh"},Pt=i(()=>e("div",{class:"title"},"Official Email",-1)),Ut={class:"text"},Yt={class:"pb-1"},Et=i(()=>e("div",{class:"title"},"Mobile Number",-1)),kt={class:"text"},Nt={class:"pb-1"},Ot=i(()=>e("div",{class:"title"},"Official Mobile Number",-1)),$t={class:"text"},jt={class:"mb-2 card"},Ht={class:"card-body"},Tt={class:""},Ft=i(()=>e("i",{class:"ri-pencil-fill"},null,-1)),zt=[Ft],qt={class:"modal-body"},Jt={class:"col-md-12"},Rt={class:"mb-3 form-group"},Wt=i(()=>e("label",null,"Current Address",-1)),Xt={class:"mb-3 form-group"},Zt=i(()=>e("label",null,"Permanent Address ",-1)),Kt={class:"col-12"},Qt={class:"text-right"},el={class:"row"},tl={class:"col-6"},ll={class:"personal-info"},ol={class:"pb-1 border-bottom-liteAsh flex-column"},sl=i(()=>e("div",{class:"title"},"Current Address ",-1)),al={class:"text"},il={class:"col-6"},nl={class:"personal-info"},dl={class:"pb-1 border-bottom-liteAsh flex-column"},rl=i(()=>e("div",{class:"title"},"Permanent Address ",-1)),cl={class:"text"},_l={__name:"EmployeeDetails",setup(l){const n=pe(),t=ge(),b=j(),_=j(),h=p(!1),v=p(!1),m=p(!1),o=k({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),S=p([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),B=C(()=>t.employeeDetails.get_employee_details.gender=="male"?"Male":t.employeeDetails.get_employee_details.gender=="female"?"Female":t.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),P=C(()=>{if(t.employeeDetails.get_employee_details.marital_status_id==1)return"Unmarried";if(t.employeeDetails.get_employee_details.marital_status_id==2)return"Married";if(t.employeeDetails.get_employee_details.marital_status_id==3)return"Separated";if(t.employeeDetails.get_employee_details.marital_status_id==4)return"Widowed";if(t.employeeDetails.get_employee_details.marital_status_id==5)return"Divorced"}),w=C(()=>{if(t.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(t.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(t.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(t.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(t.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(t.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(t.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(t.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),U=C(()=>{if(t.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(t.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"}),Y=p([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),I=p(),O=p();ae(),Q(()=>{n.getBloodGroups().then(D=>{console.log(D.data),I.value=D.data}),n.getMaritalStatus().then(D=>{console.log(D),O.value=D.data})});function z(){console.log("Opening General Info Dialog"),o.dob=t.employeeDetails.get_employee_details.dob,o.doj=t.employeeDetails.get_employee_details.doj,o.marital_status_id=parseInt(t.employeeDetails.get_employee_details.marital_status_id),o.gender=t.employeeDetails.get_employee_details.gender,o.blood_group_id=parseInt(t.employeeDetails.get_employee_details.blood_group_id),o.physically_challenged=t.employeeDetails.get_employee_details.physically_challenged,h.value=!0}function q(){console.log("Called saveGeneralInformationDetails.... ");let s=`/profile-pages-update-generalinfo/${n.current_user_id}`;g.post(s,{user_code:t.employeeDetails.user_code,dob:o.dob,gender:o.gender,marital_status_id:o.marital_status_id,doj:o.doj,blood_group_id:o.blood_group_id,physically_challenged:o.physically_challenged}).then(r=>{r.data.status=="success"?(window.location.reload(),b.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),t.employeeDetails.get_employee_details.dob=ue(o.dob,"YYYY-MM-DD"),t.employeeDetails.gender=o.gender,t.employeeDetails.marital_status_id=o.marital_status_id,t.employeeDetails.get_employee_details.doj=o.doj,t.employeeDetails.blood_group_id=o.blood_group_id,t.employeeDetails.physically_challenged=o.physically_challenged):r.data.status=="failure"&&(leave_data.leave_request_error_messege=r.data.message)}).catch(r=>{console.log(r)}),h.value=!1,window.location.reload()}const J=p(),d=k({email:"",official_email:"",mobile_number:"",official_mobile_number:""});function R(){console.log("Opening General Info Dialog : "),d.email=t.employeeDetails.email,d.official_email=t.employeeDetails.get_employee_office_details.officical_mail,console.log("Mobile number : "+t.employeeDetails.mobile_number),d.mobile_number=parseInt(t.employeeDetails.get_employee_details.mobile_number),d.official_mobile_number=parseInt(t.employeeDetails.get_employee_office_details.official_mobile),console.log("testing"),v.value=!0}function W(){console.log("testing contact");let s=`/profile-pages-update-contactinfo/${n.current_user_id}`;g.post(s,{user_code:t.employeeDetails.user_code,email:d.email,officical_mail:d.official_email,mobile_number:d.mobile_number,official_mobile_number:d.official_mobile_number}).then(r=>{r.data.status=="success"?(console.log("Updating mobile number : "+d.mobile_number),t.employeeDetails.email=d.email,t.employeeDetails.get_employee_office_details.officical_mail=d.official_email,t.employeeDetails.get_employee_details.mobile_number=d.mobile_number,t.employeeDetails.get_employee_office_details.official_mobile=d.official_mobile_number):r.data.status=="failure"&&(J.leave_request_error_messege=r.data.message)}).catch(r=>{console.log(r)}),v.value=!1,window.location.reload()}const X=p(),f=k({current_address:"",Permanent_Address:""});function Z(){console.log("Opening General Info Dialog"),f.current_address=t.employeeDetails.get_employee_details.current_address_line_1,f.Permanent_Address=t.employeeDetails.get_employee_details.permanent_address_line_1,m.value=!0}const K=()=>{if(f.current_address==" "||f.Permanent_Address==" ")_.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3}),console.log(Addressinfo);else{let s=`/profile-pages-update-address_info/${n.current_user_id}`;g.post(s,{user_code:t.employeeDetails.user_code,current_address_line_1:f.current_address,permanent_address_line_1:f.Permanent_Address}).then(r=>{data_checking.value=!1,r.data.status=="success"?(t.employeeDetails.current_address_line_1=f.current_address,t.employeeDetails.get_employee_office_details.permanent_address_line_1=f.Permanent_Address):r.data.status=="failure"&&(X.leave_request_error_messege=r.data.message)}).catch(r=>{console.log(r)}),m.value=!1,window.location.reload()}};return(D,s)=>{const r=G("Toast"),$=G("Calendar"),L=G("Dropdown"),E=G("Dialog");return le(),ee(te,null,[y(r),e("div",fe,[e("div",be,[e("h6",ye,[x("General Information "),e("a",{type:"button",class:"edit-icon",onClick:z},ve),y(E,{visible:h.value,"onUpdate:visible":s[7]||(s[7]=a=>h.value=a),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:M(()=>[e("div",null,[e("h5",{style:N({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:M(()=>[e("div",De,[e("div",xe,[e("div",Se,[we,e("div",Me,[y($,{showIcon:"",class:"mb-3 form-selects",modelValue:o.dob,"onUpdate:modelValue":s[0]||(s[0]=a=>o.dob=a),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Ae,[e("div",Ve,[Ce,y(L,{modelValue:o.gender,"onUpdate:modelValue":s[1]||(s[1]=a=>o.gender=a),options:S.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects"},null,8,["modelValue","options"])])]),e("div",Ie,[e("div",Le,[Ge,e("div",Be,[y($,{showIcon:"",class:"mb-3 form-selects",modelValue:o.doj,"onUpdate:modelValue":s[2]||(s[2]=a=>o.doj=a),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Pe,[e("div",Ue,[Ye,e("div",Ee,[y(L,{modelValue:o.blood_group_id,"onUpdate:modelValue":s[3]||(s[3]=a=>o.blood_group_id=a),options:I.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects"},null,8,["modelValue","options"])]),x(" "+u(o.blood_group_id),1)])]),e("div",ke,[e("div",Ne,[Oe,y(L,{modelValue:o.marital_status_id,"onUpdate:modelValue":s[4]||(s[4]=a=>o.marital_status_id=a),options:O.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects"},null,8,["modelValue","options"])])]),e("div",$e,[e("div",je,[He,y(L,{modelValue:o.physically_challenged,"onUpdate:modelValue":s[5]||(s[5]=a=>o.physically_challenged=a),options:Y.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects"},null,8,["modelValue","options"])])])]),e("div",Te,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:s[6]||(s[6]=a=>q())},"Save")])]),_:1},8,["visible"])]),e("div",null,[e("ul",Fe,[e("li",ze,[qe,e("div",Je,u(c(t).employeeDetails.get_employee_details.dob.slice(8,10)+"-"+c(t).employeeDetails.get_employee_details.dob.slice(5,7)+"-"+c(t).employeeDetails.get_employee_details.dob.slice(0,4))+" ",1)]),e("li",Re,[We,e("div",Xe,u(c(B)),1)]),e("li",Ze,[Ke,e("div",Qe,u(c(t).employeeDetails.get_employee_details.doj.slice(8,10)+"-"+c(t).employeeDetails.get_employee_details.doj.slice(5,7)+"-"+c(t).employeeDetails.get_employee_details.doj.slice(0,4))+" ",1)]),e("li",et,[tt,e("div",lt,u(c(P)),1)]),e("li",ot,[st,e("div",at,u(c(w))+" ",1)]),e("li",it,[nt,e("div",dt,u(c(U)),1)])])])])]),e("div",rt,[e("div",ct,[e("h6",_t,[x("Contact Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:R},ut)]),y(E,{visible:v.value,"onUpdate:visible":s[12]||(s[12]=a=>v.value=a),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:M(()=>[e("div",null,[e("h5",{style:N({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:M(()=>[e("div",pt,[e("div",gt,[e("div",ft,[e("div",bt,[yt,A(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":s[8]||(s[8]=a=>d.email=a)},null,512),[[V,d.email]])])]),e("div",ht,[e("div",vt,[Dt,A(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":s[9]||(s[9]=a=>d.official_email=a)},null,512),[[V,d.official_email]])])]),e("div",xt,[e("div",St,[wt,A(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=a=>d.mobile_number=a)},null,512),[[V,d.mobile_number]])])]),e("div",Mt,[e("div",At,[Vt,A(e("input",{type:"text",size:"20",maxlength:"10",name:"official_mobile_number",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=a=>d.official_mobile_number=a)},null,512),[[V,d.official_mobile_number]])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:W},"Save")])])])])]),_:1},8,["visible"])]),e("div",null,[e("ul",Ct,[e("li",It,[Lt,e("div",Gt,u(c(t).employeeDetails.email),1)]),e("li",Bt,[Pt,e("div",Ut,u(c(t).employeeDetails.get_employee_office_details.officical_mail),1)]),e("li",Yt,[Et,e("div",kt,u(c(t).employeeDetails.get_employee_details.mobile_number),1)]),e("li",Nt,[Ot,e("div",$t,u(c(t).employeeDetails.get_employee_office_details.official_mobile),1)])])])])]),e("div",jt,[e("div",Ht,[e("h6",Tt,[x("Address "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:Z},zt)]),y(E,{visible:m.value,"onUpdate:visible":s[15]||(s[15]=a=>m.value=a),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:M(()=>[e("div",null,[e("h5",{style:N({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:M(()=>[e("div",qt,[e("div",Jt,[e("div",Rt,[Wt,A(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=a=>f.current_address=a)},null,512),[[V,f.current_address]])]),e("div",Xt,[Zt,A(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=a=>f.Permanent_Address=a)},null,512),[[V,f.Permanent_Address]])])]),e("div",Kt,[e("div",Qt,[y(r),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:K,severity:"warn"},"Save")])])])]),_:1},8,["visible"])]),e("div",null,[e("div",el,[e("div",tl,[e("ul",ll,[e("li",ol,[sl,e("div",al,u(c(t).employeeDetails.get_employee_details.current_address_line_1),1)])])]),e("div",il,[e("ul",nl,[e("li",dl,[rl,e("div",cl,u(c(t).employeeDetails.get_employee_details.permanent_address_line_1),1)])])])])])])])],64)}}},bl=ie(_l,[["__scopeId","data-v-6acd3b79"]]);export{bl as E,pe as S,ge as p};
