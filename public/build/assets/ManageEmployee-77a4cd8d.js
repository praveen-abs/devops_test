import{B as g,K as r,E as B,g as d,o as R,c as V,h as e,w as o,W as b,a0 as N,e as n,j as v,t as S,X as O,G as Q,P as H,H as W,R as G,q as z}from"./toastservice.esm-2710e797.js";import{d as K,c as X}from"./pinia-249763b3.js";import{T as q,B as Z,S as ee,b as te,a as oe}from"./styleclass.esm-74f5155b.js";import"./blockui.esm-3338af13.js";import{u as Y,C as ae,F as le,b as ne,s as se,a as ie}from"./inputtext.esm-4f855040.js";import{s as re}from"./confirmdialog.esm-758a9a8f.js";import{D as de}from"./dialogservice.esm-5827f3a2.js";import{s as ce}from"./toast.esm-4005e5d5.js";import{s as pe}from"./progressspinner.esm-cda45397.js";import{s as ue}from"./progressbar.esm-16beba44.js";import{s as me}from"./row.esm-6ebc942e.js";import{s as _e}from"./columngroup.esm-9dd1458e.js";import{s as ve}from"./calendar.esm-7f2e263f.js";import{s as fe}from"./textarea.esm-9322bb60.js";import{s as ge}from"./chips.esm-84b28267.js";import{s as ye}from"./multiselect.esm-09947cfd.js";import{d as j}from"./dayjs.min-ed58423a.js";import{a as I}from"./index-f7a317fc.js";const U=K("manageEmployees",()=>{const L=g(),f=g(),i=g();async function u(){let p=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+p),await I.get(p).then(m=>{L.value=m.data})}async function k(){let p=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+p),await I.get(p).then(m=>{console.log("Axios : "+m.data),f.value=m.data})}async function P(){let p=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+p),await I.get(p).then(m=>{console.log("Axios : "+m.data),i.value=m.data})}return{array_active_employees:L,yet_to_active_employees_data:f,exit_employees_data:i,getActiveEmployees:u,ajax_yet_to_active_employees_data:k,ajax_exit_employees_data:P}});const he=n("h5",{style:{"text-align":"center"}},"Please wait...",-1),be={__name:"active_employees",setup(L){const f=U();let i=g(!0);const u=g({global:{value:null,matchMode:r.CONTAINS},emp_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},emp_code:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS}});B(async()=>{await f.getActiveEmployees(),i.value=!1});function k(P){window.location.href="/pages-profile-new?uid="+P}return(P,p)=>{const m=d("ProgressSpinner"),_=d("Dialog"),y=d("InputText"),h=d("Column"),x=d("ProgressBar"),$=d("Button"),c=d("DataTable");return R(),V("div",null,[e(_,{header:"Header",visible:b(i),"onUpdate:visible":p[0]||(p[0]=t=>N(i)?i.value=t:i=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:o(()=>[e(m,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:o(()=>[he]),_:1},8,["visible"]),n("div",null,[e(c,{value:b(f).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:u.value,"onUpdate:filters":p[1]||(p[1]=t=>u.value=t),filterDisplay:"menu",loading:b(i),globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[v(" No customers found.")]),loading:o(()=>[v(" Loading customers data. Please wait. ")]),default:o(()=>[e(h,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:o(t=>[v(S(t.data.emp_name),1)]),filter:o(({filterModel:t,filterCallback:A})=>[e(y,{modelValue:t.value,"onUpdate:modelValue":C=>t.value=C,onInput:C=>A(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(h,{field:"emp_code",header:"Employee Code"},{filter:o(({filterModel:t,filterCallback:A})=>[e(y,{modelValue:t.value,"onUpdate:modelValue":C=>t.value=C,onInput:C=>A(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(h,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(h,{field:"l1_manager_name",header:"Reporting Manager"}),e(h,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(t=>[v(S(b(j)(t.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(h,{field:"blood_group_name",header:"Blood Group"}),e(h,{field:"profile_completeness",header:"Profile Completeness"},{body:o(t=>[e(x,{value:t.data.profile_completeness},null,8,["value"])]),_:1}),e(h,{field:"enc_user_id",header:"View Profile"},{body:o(t=>[e($,{icon:"pi pi-eye",severity:"success",label:"View",onClick:A=>k(t.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const we=n("h5",{style:{"text-align":"center"}},"Please wait...",-1),Se={class:"confirmation-content"},Pe=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),xe={key:0},Ce={key:1},Te={__name:"yet_to_active_employees",setup(L){const f=U();B(()=>{f.ajax_yet_to_active_employees_data()}),g();let i=g(!1),u=g(!1);Y();const k=O();function P(c){window.location.href="/pages-profile-new?uid="+c}const p=g({global:{value:null,matchMode:r.CONTAINS},emp_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},emp_code:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS}});g(["Pending","Approved","Rejected"]);let m=null,_=null;function y(c,t){c.emp_code,c.emp_status,console.log(U.emp_status),console.log(c.emp_status),i.value=!0,m=t,_=c,console.log("Selected Row Data : "+JSON.stringify(c))}function h(c){i.value=!1,c&&x()}function x(){m="",_=null}function $(){h(!1),u.value=!0,console.log("Processing Rowdata : "+JSON.stringify(_)),I.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:_.emp_code,active_status:1}).then(c=>{console.log("Response : "+c),k.add({severity:"success",summary:"Activated",detail:`${_.emp_name} Activated Successfully`,life:3e3}),x()}).catch(c=>{u.value=!1,x()}).finally(()=>{f.ajax_yet_to_active_employees_data(),f.getActiveEmployees(),u.value=!1})}return(c,t)=>{const A=d("Toast"),C=d("ProgressSpinner"),s=d("Dialog"),T=d("Button"),D=d("InputText"),w=d("Column"),F=d("ProgressBar"),J=d("DataTable");return R(),V("div",null,[e(A),e(s,{header:"Header",visible:b(u),"onUpdate:visible":t[0]||(t[0]=a=>N(u)?u.value=a:u=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:o(()=>[e(C,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:o(()=>[we]),_:1},8,["visible"]),e(s,{header:"Confirmation",visible:b(i),"onUpdate:visible":t[3]||(t[3]=a=>N(i)?i.value=a:i=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[e(T,{label:"Yes",icon:"pi pi-check",onClick:t[1]||(t[1]=a=>$()),class:"p-button-text",autofocus:""}),e(T,{label:"No",icon:"pi pi-times",onClick:t[2]||(t[2]=a=>h(!0)),class:"p-button-text"})]),default:o(()=>[n("div",Se,[Pe,n("span",null,"Are you sure you want to "+S(b(m))+"?",1)])]),_:1},8,["visible"]),n("div",null,[e(J,{value:b(f).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:p.value,"onUpdate:filters":t[4]||(t[4]=a=>p.value=a),filterDisplay:"menu",loading:c.loading2,globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[v(" No customers found. ")]),loading:o(()=>[v(" Loading customers data. Please wait. ")]),default:o(()=>[e(w,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:o(a=>[v(S(a.data.emp_name),1)]),filter:o(({filterModel:a,filterCallback:M})=>[e(D,{modelValue:a.value,"onUpdate:modelValue":E=>a.value=E,onInput:E=>M(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(w,{field:"emp_code",header:"Employee Code"},{body:o(a=>[v(S(a.data.emp_code),1)]),filter:o(({filterModel:a,filterCallback:M})=>[e(D,{modelValue:a.value,"onUpdate:modelValue":E=>a.value=E,onInput:E=>M(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(w,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(w,{field:"reporting_manager_name",header:"Reporting Manager"}),e(w,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(a=>[v(S(b(j)(a.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(w,{field:"blood_group_name",header:"Blood Group"}),e(w,{field:"profile_completeness",header:"Profile Completeness"},{body:o(a=>[e(F,{value:a.data.profile_completeness},null,8,["value"])]),_:1}),e(w,{field:"is_onboarded",header:"Onboarding Status"},{body:o(a=>[v(S(a.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),e(w,{field:"doc_status",header:"Docs Approval Status"},{body:o(a=>[v(S(a.data.is_onboarded&&a.data.doc_status?"Approved":"Pending"),1)]),_:1}),e(w,{field:"enc_user_id",header:"View Profile"},{body:o(a=>[e(T,{icon:"pi pi-eye",severity:"success",label:"View",onClick:M=>P(a.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1}),e(w,{style:{width:"300px"},field:"",header:"Action"},{body:o(a=>[a.data.is_onboarded&&a.data.doc_status?(R(),V("div",xe,[e(T,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:M=>y(a.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(R(),V("div",Ce))]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const Ae={class:"confirmation-content"},De=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),ke={__name:"exit_employees",setup(L){const f=U();B(()=>{f.ajax_exit_employees_data()}),g();let i=g(!1),u=g(!1);Y();const k=O(),P=g({global:{value:null,matchMode:r.CONTAINS},employee_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS},status:{value:null,matchMode:r.EQUALS}});function p(_){window.location.href="/pages-profile-new?uid="+_}function m(){hideConfirmDialog(!1),u.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),I.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(_=>{console.log("Response : "+_),u.value=!1,k.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(_=>{u.value=!1,resetVars()})}return(_,y)=>{const h=d("Toast"),x=d("Button"),$=d("Dialog"),c=d("InputText"),t=d("Column"),A=d("ProgressBar"),C=d("DataTable");return R(),V("div",null,[e(h),e($,{header:"Confirmation",visible:b(i),"onUpdate:visible":y[2]||(y[2]=s=>N(i)?i.value=s:i=s),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[e(x,{label:"Yes",icon:"pi pi-check",onClick:y[0]||(y[0]=s=>m()),class:"p-button-text",autofocus:""}),e(x,{label:"No",icon:"pi pi-times",onClick:y[1]||(y[1]=s=>_.hideConfirmDialog(!0)),class:"p-button-text"})]),default:o(()=>[n("div",Ae,[De,n("span",null,"Are you sure you want to "+S(_.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),n("div",null,[e(C,{value:b(f).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:P.value,"onUpdate:filters":y[3]||(y[3]=s=>P.value=s),filterDisplay:"menu",loading:b(u),globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[v(" No customers found.")]),loading:o(()=>[v(" Loading customers data. Please wait. ")]),default:o(()=>[e(t,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:o(s=>[v(S(s.data.emp_name),1)]),filter:o(({filterModel:s,filterCallback:T})=>[e(c,{modelValue:s.value,"onUpdate:modelValue":D=>s.value=D,onInput:D=>T(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(t,{field:"emp_code",header:"Employee Code"},{filter:o(({filterModel:s,filterCallback:T})=>[e(c,{modelValue:s.value,"onUpdate:modelValue":D=>s.value=D,onInput:D=>T(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(t,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(t,{field:"l1_manager_name",header:"Reporting Manager"}),e(t,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(s=>[v(S(b(j)(s.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(t,{field:"blood_group_name",header:"Blood Group"}),e(t,{field:"profile_completeness",header:"Profile Completeness"},{body:o(s=>[e(A,{value:s.data.profile_completeness},null,8,["value"])]),_:1}),e(t,{field:"enc_user_id",header:"View Profile"},{body:o(s=>[e(x,{icon:"pi pi-eye",severity:"success",label:"View",onClick:T=>p(s.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const Le={class:"manage_employee-wrapper mt-30"},Re=n("div",{class:"mb-2 card left-line"},[n("div",{class:"pt-1 pb-0 card-body"},[n("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),n("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),Ve={class:"card"},$e={class:"card-body"},Me={class:"tab-content",id:"pills-tabContent"},Ee={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ie={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ne={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ue={__name:"ManageEmployee",setup(L){return(f,i)=>(R(),V("div",Le,[Re,n("div",Ve,[n("div",$e,[n("div",Me,[n("div",Ee,[e(be)]),n("div",Ie,[e(Te)]),n("div",Ne,[e(ke)])])])])]))}},l=Q(Ue),Be=X();l.use(H,{ripple:!0});l.use(ae);l.use(W);l.use(de);l.use(Be);l.directive("tooltip",q);l.directive("badge",Z);l.directive("ripple",G);l.directive("styleclass",ee);l.directive("focustrap",le);l.component("Button",z);l.component("DataTable",te);l.component("Column",oe);l.component("ColumnGroup",_e);l.component("Row",me);l.component("Toast",ce);l.component("ConfirmDialog",re);l.component("Dropdown",ne);l.component("InputText",se);l.component("Dialog",ie);l.component("ProgressSpinner",pe);l.component("Calendar",ve);l.component("Textarea",fe);l.component("Chips",ge);l.component("MultiSelect",ye);l.component("ProgressBar",ue);l.mount("#vjs_manage_employee");
