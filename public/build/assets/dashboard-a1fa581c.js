import{r as x,s as H,o as N,a as j,c as o,d as r,e,F as R,j as O,t as l,u as s,w as I,x as W,n as $,f as E,k as c,i as S,y as J,h as A,b as K,g as L,_ as Q,z as X,A as Z,T as q,B as ee,C as te}from"./app-97a3f32c.js";import{S as B}from"./Service-339664db.js";import{u as y}from"./dashboard.vue_vue_type_style_index_1_scoped_8309e156_lang-550f29f1.js";import{a as U}from"./index-362795f3.js";import{d as M}from"./dayjs.min-2f06af28.js";import{u as se}from"./LeaveApply.vue_vue_type_style_index_0_lang-ad09a55d.js";import{e as oe}from"./exceljs.min-1f699027.js";import{L as ae}from"./LoadingSpinner-76947ebc.js";import"./moment-fbc5633a.js";/* empty css                                                                       */const ne="/build/assets/femaleDashboardImage-7f53f6fa.svg",le={class:"!h-[180px] w-[100%] overflow-hidden rounded-xl shadow-lg bg-[#DFE8FF] p-3 grid grid-cols-12 gap-4 justify-between leading-normal"},re={class:"font-[14px] font-['Poppins'] text-gray-500 flex items-center"},ie={class:"text-gray-900 text-[18px] mb-2 font-['Poppins']"},ce={class:"flex gap-4 items-center"},de=e("div",{class:"flex my-1 overflow-visible items-center !z-10"},[e("i",{class:"fa fa-sun-o text-warning my-auto text-[20px]","aria-hidden":"true"}),e("p",{class:"text-[12px] my-auto font-semibold px-2"},"General Shift")],-1),pe={class:"btn-status"},_e={class:"text-[12px] text-[#8B8B8B] font-['Poppins'] flex items-center"},ue={key:0,class:"w-[300px] my-2 max-[1300px]:text-[9px] font-['Poppins'] text-[12px]"},he={key:1,class:"w-[300px] my-2 max-[1300px]:text-[9px] font-['Poppins'] text-[12px]"},me={key:2,class:"w-[300px] max-[1300px]:text-[9px] font-['Poppins'] text-[12px]"},fe={key:3,class:"w-[300px] my-2 max-[1300px]:text-[9px] font-['Poppins'] text-[12px]"},ge=e("div",{class:"col-span-5 h-full !z-5"},[e("div",{class:"grid justify-center items-centers my-auto h-full border-[1px]"},[e("img",{src:ne,alt:"",srcset:"",class:"w-full h-full"})])],-1),xe={class:"bg-white modal-content"},be={class:"p-1 text-center modal-body"},ve={class:"check-in-animate"},ye={class:"mt-2"},we={class:"text-gray-900 text-[18px] mb-2 font-['Poppins']"},$e=e("span",null,"Welcome",-1),ke={key:0,class:"mb-4 text-muted"},Ce={key:1,class:"mb-4 text-muted"},De={class:"gap-2 hstack justify-content-center"},Se={href:"javascript:void(0);",class:"btn btn-link link-success fw-medium","data-bs-dismiss":"modal"},Ee={class:"bg-white modal-content"},Me={class:"p-1 text-center modal-body"},Fe={class:"check-in-animate"},Pe={class:"mt-4"},je={class:"mb-3"},Re=e("p",{class:"mb-4 text-muted"},"See you tommorrow",-1),Ae={class:"gap-2 hstack justify-content-center"},Le={href:"javascript:void(0);",class:"btn btn-link link-success fw-medium","data-bs-dismiss":"modal"},Ne={__name:"welcome_card",setup(f){const t=B(),i=y(),a=x();x();const d=x([]),p=x(!1),g=x(!1),n=H({date:new Date,check:"",check_in:"",check_out:"",attendance_mode:"web",work_mode:"",checked:!1}),b=()=>{var v=new Date,h=v.getHours();h<12?a.value="Good Morning":h<18?a.value="Good Afternoon":a.value="Good Evening"},u=()=>{d.value.splice(0,d.value.length),n.check==!0?(n.check_in=new Date().toLocaleTimeString(),n.checked=!0,p.value=!0):(n.check_out=new Date().toLocaleTimeString(),g.value=!0,n.checked=!1),i.updateCheckin_out({checked:n.checked}).then(v=>{w.value=v.data.message}).finally(()=>{F(),P()})},_=x(!0),w=x(),F=async()=>{let v="/fetchEmpLastAttendanceStatus";await U.get(v).then(h=>{console.log(h.data),d.value.push(h.data),h.data.checkout_time?n.check=!1:h.data.checkin_time?n.check=!0:n.check=null}).finally(()=>{i.canShowTopbar=!0})};N(()=>{b(),_&&F().finally(()=>{_.value=!1})});const k=v=>(console.log(v),v=="biometric"?"fas fa-fingerprint fs-12":v=="web"?"fa fa-laptop fs-12":v=="mobile"?"fa fa-mobile-phone fs-12":""),P=()=>{i.check="",i.check_in="",i.check_out="",i.work_mode=""};return(v,h)=>{const C=j("lord-icon"),D=j("Dialog");return o(),r(R,null,[e("div",le,[(o(!0),r(R,null,O(d.value,m=>(o(),r("div",{class:"col-span-7 mb-8",key:m},[e("p",re,l(a.value),1),e("div",ie,l(s(t).current_user_name),1),e("div",ce,[de,e("div",pe,[I(e("input",{type:"checkbox",name:"checkbox",id:"checkbox",class:"hidden","onUpdate:modelValue":h[0]||(h[0]=T=>n.check=T),onChange:u},null,544),[[W,n.check]]),e("label",{for:"checkbox",class:$(["relative inline-block w-12 h-5 rounded-lg transition duration-300 cursor-pointer",[n.check?" bg-green-100":"bg-red-100"]])},[e("span",{class:$(["absolute inset-0 inline-block w-5 h-5 rounded-full shadow transform transition-transform cursor-pointer",[n.check?"translate-x-6 bg-green-400":"bg-red-400"]])},null,2)],2)])]),e("div",null,[e("p",_e,[E(" Time duration:"),e("span",null,l(m.effective_hours?m.effective_hours:0),1)]),m.checkin_time?(o(),r("p",ue,[E(l(`Check-In : ${m.checkin_time} (${s(M)(m.checkin_date).format("MMM D, YYYY")}) `)+" ",1),e("i",{class:$(["mx-2 text-sm font-semibold text-green-800",k(m.attendance_mode_checkin)])},null,2)])):(o(),r("p",he,l(`Check-In:
                    --:--:--`))),m.checkout_time?(o(),r("p",me,[E(l(`Check-Out : ${m.checkout_time} (${s(M)(m.checkout_date).format("MMM D, YYYY")}) `)+" ",1),e("i",{class:$(["mx-2 text-sm font-semibold text-green-800",k(m.attendance_mode_checkout)])},null,2)])):(o(),r("p",fe,l(`Check-Out:
                    --:--:--`)))])]))),128)),ge]),c(D,{visible:p.value,"onUpdate:visible":h[2]||(h[2]=m=>p.value=m),modal:"",style:{width:"30vw"}},{default:S(()=>[e("div",xe,[e("div",be,[e("div",ve,[c(C,{src:"https://cdn.lordicon.com/dcfqtwxe.json",trigger:"loop",delay:"2000",class:"gliters",colors:"primary:#1aff1a,secondary:#1aff1a"}),c(C,{src:"https://cdn.lordicon.com/twopqjaj.json",trigger:"loop",delay:"2000",class:"entry-man",colors:"primary:#121331,secondary:#ebe6ef,tertiary:#f9c9c0,quaternary:#ffffff,quinary:#3a3347,senary:#b26836,septenary:#30e849"})]),e("div",ye,[e("div",we,[$e,E(" "+l(s(t).current_user_name),1)]),w.value?(o(),r("p",ke,l(w.value),1)):(o(),r("p",Ce,"Have a good day !")),e("div",De,[e("a",Se,[e("button",{onClick:h[1]||(h[1]=m=>p.value=!1),type:"button",class:"btn btn-primary"}," Close ")])])])])])]),_:1},8,["visible"]),c(D,{visible:g.value,"onUpdate:visible":h[4]||(h[4]=m=>g.value=m),modal:"",style:{width:"25vw"}},{default:S(()=>[e("div",Ee,[e("div",Me,[e("div",Fe,[c(C,{src:"https://cdn.lordicon.com/dcfqtwxe.json",trigger:"loop",delay:"2000",colors:"primary:#ff3300,secondary:#ff3300",class:"gliters"}),c(C,{src:"https://cdn.lordicon.com/twopqjaj.json",trigger:"loop",delay:"2000",class:"entry-man",colors:"primary:#121331,secondary:#ebe6ef,tertiary:#f9c9c0,quaternary:#ffffff,quinary:#3a3347,senary:#b26836,septenary:#e62e00"})]),e("div",Pe,[e("h4",je,"Bye "+l(s(t).current_user_name),1),Re,e("div",Ae,[e("a",Le,[e("button",{type:"button",class:"btn btn-primary",onClick:h[3]||(h[3]=m=>g.value=!1)}," Close ")])])])])])]),_:1},8,["visible"])],64)}}},Te={class:"!h-[180px] rounded-[20px] shadow-sm bg-white"},Be={class:"px-6 py-4"},Oe={class:"font-[14px] font-['Poppins'] text-gray-500"},Ie={class:"mb-2 text-xl font-semibold"},Ye={class:"grid grid-cols-3 gap-4 mt-4"},qe={class:"bg-[#F6F6F6] rounded-lg p-3"},Ue={class:"px-auto"},Ve={class:"mb-2 text-3xl font-bold text-center"},Ge=e("span",{class:"px-1 text-base font-semibold text-gray-700"},"days",-1),ze=e("p",{class:"py-2 text-lg font-semibold text-center text-gray-500"},"Present",-1),He={class:"p-3 bg-gray-100 rounded-lg"},We={class:"mb-2 text-3xl font-bold"},Je=e("span",{class:"px-1 text-base font-semibold text-gray-700"},"days",-1),Ke=e("p",{class:"py-2 text-lg font-semibold text-center text-gray-500"},"Leave",-1),Qe={class:"p-3 bg-gray-100 rounded-lg"},Xe={class:"mb-2 text-3xl font-bold"},Ze=e("span",{class:"px-1 text-base font-semibold text-gray-700"},"days",-1),et=e("p",{class:"py-2 text-lg font-semibold text-center text-gray-500"},"Absent",-1),tt={__name:"leave_details",setup(f){const t=y();return N(()=>{}),(i,a)=>(o(),r("div",Te,[e("div",Be,[e("p",Oe,[E(" Current month - "),e("span",Ie,l(s(M)(new Date).format("MMMM")),1)]),e("div",Ye,[e("div",qe,[e("div",Ue,[e("span",Ve,l(s(t).attenanceReportPerMonth.present),1),Ge]),ze]),e("div",He,[e("span",We,l(s(t).attenanceReportPerMonth.not_applied),1),Je,Ke]),e("div",Qe,[e("span",Xe,l(s(t).attenanceReportPerMonth.absent),1),Ze,et])])])]))}},st={class:"bg-white min-h-min rounded-lg overflow-hidden"},ot=J('<div class="flex items-center justify-between p-3 mb-3 bg-gray-100 card-title" id=""><span class="font-semibold text-[14px] text-[#000] font-[&#39;Poppins]">Activity Log</span></div><div class="h-full overflow-x-scroll"><div class="hover:bg-slate-100 divide-y-2 divide-gray-400"><p class="font-medium text-sm text-center">No activity log to display</p></div></div>',2),at=[ot],V={__name:"notification",setup(f){return y(),(t,i)=>(o(),r("div",st,at))}},nt={class:"p-2 overflow-hidden bg-white rounded-lg",style:{height:"200px"}},lt=e("span",{class:"font-semibold text-[14px] text-[#000] font-['Poppins]"},"Leave Balance",-1),rt={class:"h-full overflow-x-scroll bg-white rounded-lg"},it={class:"px-auto"},ct={class:"flex px-2"},dt={class:""},pt={class:"text-3xl font-semibold text-black"},_t=e("span",{class:""},"/",-1),ut={class:""},ht={class:"px-3"},mt={class:"font-semibold text-primary text-[14px] align-bottom py-2"},ft={__name:"leave_balance",setup(f){const t=y();return se(),(i,a)=>(o(),r("div",nt,[lt,e("div",rt,[e("div",it,[(o(!0),r(R,null,O(s(t).leaveBalancePerMonthSource,d=>(o(),r("a",{href:"attendance-leave",key:d.leave_type,class:"p-2 block mx-2 my-2 transition duration-700 ease-in-out bg-[#E4ECFF] rounded-lg cursor-pointer hover:-translate-y-1 hover:scale-100"},[e("div",ct,[e("div",dt,[e("span",pt,l(d.leave_balance),1),_t,e("span",ut,l(d.availed_leaves),1)]),e("div",ht,[e("p",mt,l(d.leave_type),1)])])]))),128))])])]))}},gt={class:"bg-[#FFEFE2] rounded-lg overflow-hidden p-3",style:{height:"200px"}},xt=e("div",{class:"flex justify-between"},[e("span",{class:"font-semibold text-[14px] text-[#000] font-['Poppins]"},"Calendar"),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-[20px] h-[20px] text-gray-900 cursor-pointer"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})])],-1),bt={class:"py-8"},vt={class:"text-[#d1814c] font-semibold text-[36px] mb-2 font-['Petrona']",style:{}},yt={class:"mb-2 font-semibold text-gray-900 text-[16px]"},wt={__name:"calender",setup(f){return(t,i)=>(o(),r("div",gt,[xt,e("div",bt,[e("p",vt,l(s(M)(new Date).format("D, MMMM YYYY")),1),e("p",yt,l(s(M)(new Date).format("dddd")),1)])]))}},$t=["src","alt"],kt={__name:"holiday_widget",setup(f){const t=x(),i=x(),a=x(),d=()=>{U.get("/holiday/master-page").then(p=>{console.log(p.data),i.value=p.data;let g=!0;p.data.forEach((n,b)=>{g&&new Date(n.holiday_date)>=new Date&&(t.value=b,g=!1)}),a.value=i.value[0].image})};return N(()=>{d()}),(p,g)=>{const n=j("Galleria");return o(),A(n,{value:i.value,responsiveOptions:p.responsiveOptions,numVisible:5,circular:!0,containerStyle:"",class:"!h-[180px] !rounded-[20px] overflow-hidden",showItemNavigators:!0,showThumbnails:!1},{item:S(b=>[e("img",{src:`data:image/png;base64,${b.item.image}`,class:"mt-3 mb-2 !rounded-[20px] shadow-sm !h-[180px]",style:{width:"100%","margin-bottom":"10px",position:"relative",right:"0",bottom:"10px",display:"block"},alt:b.item.holiday_name},null,8,$t)]),_:1},8,["value","responsiveOptions"])}}},Ct={class:"bg-white rounded-lg p-2"},Dt=e("span",{class:"text-primary font-semibold fs-6"},"Events",-1),St={class:"min-h-min overflow-x-scroll"},Et={class:"grid grid-cols-4 gap-4"},Mt={class:"font-semibold text-center text-white my-2 text-[12px] font-['Poppins']"},Ft={class:"absolute top-8 w-full z-10"},Pt={class:"grid grid-cols-2 w-11/12 bg-slate-100 mx-auto rounded-lg h-full"},jt={class:"w-[100%] relative h-[90px]"},Rt={class:"font-semibold text-4xl py-4 text-center align-middle text-white"},At=["src"],Lt={class:"h-full"},Nt={class:"py-6"},Tt={key:0,class:"font-semibold text-[12px] font-['Poppins'] text-center text-black my-auto"},Bt={key:1,class:"font-semibold text-[12px] font-['Poppins'] text-center text-black my-auto"},Ot={class:"font-semibold text-sm text-center text-gray-600 my-auto"},It={class:"text-xs absolute right-6 fa fa-commenting-o text-right cursor-pointer","data-bs-target":"#wishes_popup","data-bs-toggle":"modal"},Yt=e("div",{class:"flex justify-center my-2"},null,-1),qt=e("div",{id:"wishes_popup",class:"modal fade",role:"dialog"},[e("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md"},[e("div",{class:"modal-content"},[e("div",{class:"py-2 border-0 modal-header"},[e("h6",{class:"modal-title"}," Wishes Text"),e("button",{type:"button",class:"bg-transparent border-0 outline-none close h3","data-bs-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])]),e("div",{class:"modal-body"},[e("p",{for:"",class:"text-muted f-14 fw-bold"},"Commants here"),e("textarea",{name:"",id:"",cols:"",placeholder:"Commants here....",rows:"2",class:"resize-none form-control"}),e("div",{class:"text-end"},[e("button",{class:"mt-2 btn btn-border-orange",id:""},[e("i",{class:"fa fa-paper-plane me","aria-hidden":"true"}),E(" Send")])])])])])],-1),G={__name:"events",setup(f){B();const t=y(),i=["bg-emerald-600","bg-yellow-600","bg-rose-600","bg-cyan-600","bg-amber-600","bg-red-600","bg-pink-600","bg-green-600","bg-fuchsia-600"],a=["bg-emerald-200","bg-yellow-200","bg-rose-200","bg-cyan-200","bg-amber-200","bg-red-200","bg-pink-200","bg-green-200","bg-fuchsia-200"],d=n=>i[n%i.length],p=n=>a[n%i.length],g=n=>{if(n=="birthday")return"Happy birthday";if(n=="work_anniversery")return"Work anniversary"};return(n,b)=>{const u=K("tooltip");return o(),r(R,null,[e("div",Ct,[Dt,e("div",St,[e("div",Et,[(o(!0),r(R,null,O(s(t).allEventSource,(_,w)=>(o(),r("div",{class:"relative w-[180px] rounded-lg my-8",key:w},[e("div",{class:$(["h-[80px] rounded-lg",`${d(w)}`])},[e("p",Mt,l(g(_.type)),1)],2),e("div",Ft,[e("div",Pt,[e("div",jt,[JSON.parse(_.avatar).type=="shortname"?(o(),r("div",{key:0,class:$([p(w),"h-full rounded-lg"])},[e("p",Rt,l(JSON.parse(_.avatar).data),1)],2)):(o(),r("img",{key:1,src:`data:image/png;base64,${JSON.parse(_.avatar).data}`,alt:"",class:"rounded-lg absolute w-[100%] h-[100%] top-0"},null,8,At))]),e("div",Lt,[e("div",Nt,[_.name.length<=8?(o(),r("p",Tt,l(_.name),1)):I((o(),r("p",Bt,[E(l(_.name?_.name.substring(0,8)+"..":""),1)])),[[u,_.name]]),e("p",Ot,l(s(M)(_.dob).format("DD"))+"th "+l(s(M)(_.dob).format("MMM")),1),e("p",null,[I(e("i",It,null,512),[[u,"wish"]])])])])]),Yt])]))),128))])])]),qt],64)}}},Ut={class:"grid grid-cols-12 gap-4"},Vt={class:"col-span-5 w-[100%] !rounded-[20px] overflow-hidden"},Gt={class:"col-span-4 w-[100%] !rounded-[20px]"},zt={class:"col-span-3 w-[100%] !rounded-[20px]"},Ht={class:"grid grid-cols-12 gap-4 pb-7"},Wt={class:"col-span-8 !rounded-[20px]"},Jt={class:"grid grid-cols-2 gap-4 my-2"},Kt={class:"!rounded-[20px] overflow-hidden"},Qt={class:"!rounded-[20px] overflow-hidden"},Xt={class:"grid grid-cols-1"},Zt={class:"col-span-4 my-2"},es={__name:"employee_dashboard",setup(f){const t=y();return(i,a)=>(o(),r("div",{class:"h-screen p-3 overflow-auto",onMousemove:a[0]||(a[0]=d=>s(t).canShowConfiguration=!1)},[e("div",Ut,[e("div",Vt,[c(Ne)]),e("div",Gt,[c(tt)]),e("div",zt,[c(kt)])]),e("div",Ht,[e("div",Wt,[e("div",Jt,[e("div",Kt,[c(ft)]),e("div",Qt,[c(wt)])]),e("div",Xt,[e("div",null,[c(G)])])]),e("div",Zt,[c(V)])])],32))}},ts={key:0,class:"w-full"},ss={class:"font-[14px] font-['Poppins'] text-gray-500"},os={class:"mb-2 text-xl font-semibold"},as={class:"grid grid-cols-4 gap-3 my-2"},ns={class:"px-auto flex justify-center"},ls={class:"text-3xl font-semibold text-center"},rs=e("p",{class:"text-lg font-semibold text-center text-gray-500"},"Total Employees",-1),is={class:"px-auto flex justify-center"},cs={class:"text-3xl font-semibold text-center"},ds=e("p",{class:"text-lg font-semibold text-center text-gray-500"},"New Employees",-1),ps={class:"px-auto flex justify-center"},_s={class:"text-3xl font-semibold text-center"},us=e("p",{class:"text-lg font-semibold text-center text-gray-500"},"Exit Employees",-1),hs={class:"px-auto flex justify-center"},ms={class:"text-3xl font-semibold text-center"},fs=e("p",{class:"text-lg font-semibold text-center text-gray-500"},"Yet to Active Employees ",-1),gs={__name:"org_employee_details",setup(f){const t=y();return(i,a)=>s(t).orgEmployeeDetailCount?(o(),r("div",ts,[e("p",ss,[E(" Current month - "),e("span",os,l(s(M)(new Date).format("MMMM")),1)]),e("div",as,[e("div",{class:"bg-[#F6F6F6] rounded-lg p-2 transition duration-700 ease-in-out hover:-translate-y-1 hover:scale-100 cursor-pointer",onClick:a[0]||(a[0]=d=>(s(t).canShowSidebar=!0,s(t).ShowEmployeeStatuswise={...s(t).orgEmployeeDetailCount.total_employees},s(t).reportName=`total_employee_reports_${new Date}`))},[e("div",ns,[e("span",ls,l(s(t).orgEmployeeDetailCount.total_employee_count?s(t).orgEmployeeDetailCount.total_employee_count:0),1)]),rs]),e("div",{class:"bg-[#F6F6F6] rounded-lg p-2 transition duration-700 ease-in-out hover:-translate-y-1 hover:scale-100 cursor-pointer",onClick:a[1]||(a[1]=d=>(s(t).canShowSidebar=!0,s(t).ShowEmployeeStatuswise={...s(t).orgEmployeeDetailCount.new_employees},s(t).reportName=`new_employee_reports_${new Date}`))},[e("div",is,[e("span",cs,l(s(t).orgEmployeeDetailCount.new_employee_count?s(t).orgEmployeeDetailCount.new_employee_count:0),1)]),ds]),e("div",{class:"bg-[#F6F6F6] rounded-lg p-2 transition duration-700 ease-in-out hover:-translate-y-1 hover:scale-100 cursor-pointer",onClick:a[2]||(a[2]=d=>(s(t).canShowSidebar=!0,s(t).ShowEmployeeStatuswise={...s(t).orgEmployeeDetailCount.exit_employees},s(t).reportName=`active_employee_reports_${new Date}`))},[e("div",ps,[e("span",_s,l(s(t).orgEmployeeDetailCount.exit_employee_count?s(t).orgEmployeeDetailCount.exit_employee_count:0),1)]),us]),e("div",{class:"bg-[#F6F6F6] rounded-lg p-2 transition duration-700 ease-in-out hover:-translate-y-1 hover:scale-100 cursor-pointer",onClick:a[3]||(a[3]=d=>(s(t).canShowSidebar=!0,s(t).ShowEmployeeStatuswise={...s(t).orgEmployeeDetailCount.yet_to_active_employees},s(t).reportName=`yet_to_active_employee_reports_${new Date}`))},[e("div",hs,[e("span",ms,l(s(t).orgEmployeeDetailCount.yet_to_active_employee_count?s(t).orgEmployeeDetailCount.yet_to_active_employee_count:0),1)]),fs])])])):L("",!0)}},xs={class:"p-2 overflow-hidden bg-white rounded-lg",style:{height:"200px"}},bs=e("span",{class:"font-semibold text-[14px] text-[#000] font-['Poppins]"},"Analytics",-1),vs=e("div",{class:"h-full overflow-x-scroll bg-white rounded-lg"},[e("p",{class:"font-medium text-sm text-center"},"No data to display")],-1),ys=[bs,vs],ws={__name:"Analytics",setup(f){return y(),(t,i)=>(o(),r("div",xs,ys))}},$s={class:"p-2 overflow-hidden bg-white rounded-lg",style:{height:"200px"}},ks=e("span",{class:"font-semibold text-[14px] text-[#000] font-['Poppins]"},"Pending Requests",-1),Cs={class:"h-full overflow-x-scroll bg-white rounded-lg"},Ds=["href"],Ss={class:"p-2 my-2 transition duration-700 ease-in-out bg-[#E4ECFF] rounded-lg cursor-pointer hover:-translate-y-1 hover:scale-100"},Es={class:"flex px-2 justify-between items-center"},Ms={class:"text-[14px] font-semibold"},Fs={class:"flex items-center gap-6"},Ps={class:"text-xl font-semibold text-black"},js=e("span",null,[e("i",{class:"fa fa-chevron-right","aria-hidden":"true"})],-1),Rs={__name:"leave_request",setup(f){const t=y(),i=a=>{if(a=="Leave Requests")return"attendance-leave-approvals";if(a=="Document Approvals")return"approvals-documents";if(a=="Attendance Regularization")return"attendance-regularization-approvals"};return(a,d)=>(o(),r("div",$s,[ks,e("div",Cs,[s(t).hrPendingRequestCount?(o(!0),r(R,{key:0},O(s(t).hrPendingRequestCount,p=>(o(),r("a",{class:"px-auto",href:i(p.title)},[e("div",Ss,[e("div",Es,[e("div",null,[e("span",Ms,l(p.title),1)]),e("div",Fs,[e("span",Ps,l(p.value),1),js])])])],8,Ds))),256)):L("",!0)])]))}},As={__name:"overall_employee",setup(f){const t=y();N(()=>{a.value=d(),setTimeout(()=>{console.log(t.overallEmployeeCountForGraph),i.value.datasets[0].data=t.overallEmployeeCountForGraph},3e3)});const i=x({labels:["Male","Female","Others","App Check-Ins","Active Apps","Inactive Apps"],datasets:[{backgroundColor:["rgba(8, 115, 205, 1)","rgba(205, 159, 71, 1)","rgba(255, 205, 86, 0.2)","rgba(80, 64, 34, 1)","rgba(113, 74, 161, 1)","rgba(181, 86, 151, 1)"],borderWidth:10,borderColor:"white",data:[0,0,0,0,0,0]}]}),a=x();x();const d=()=>{const p=getComputedStyle(document.documentElement),g=p.getPropertyValue("--text-color"),n=p.getPropertyValue("--text-color-secondary");return p.getPropertyValue("--surface-border"),{maintainAspectRatio:!1,aspectRatio:100,plugins:{title:{display:!1,text:"Custom Chart Title"},legend:{display:!1,labels:{fontColor:g}}},scales:{x:{ticks:{autoSkip:!1,maxRotation:0,minRotation:0,textAlign:"center",padding:10,color:n,font:{weight:600}},grid:{display:!1,drawBorder:!1}},y:{display:!1,ticks:{color:n},grid:{color:!1,drawBorder:!1}}}}};return(p,g)=>{const n=j("Chart");return s(t).overallEmployeeCountForGraph?(o(),A(n,{key:0,type:"bar",data:i.value,options:a.value,class:"h-full"},null,8,["data","options"])):L("",!0)}}},Ls={class:"h-screen p-3 overflow-auto"},Ns={class:"grid grid-cols-12 gap-4"},Ts={class:"col-span-8"},Bs={class:"col-span-12 w-[100%] !rounded-[20px] bg-white p-2"},Os={class:"col-span-12 !rounded-[20px]"},Is={class:"grid grid-cols-12 gap-4 my-2"},Ys={class:"!rounded-[20px] overflow-hidden col-span-5"},qs={class:"!rounded-[20px] overflow-hidden bg-white col-span-7"},Us={class:"col-span-12"},Vs={class:"col-span-4 w-[100%] !rounded-[20px]"},Gs={class:"py-3"},zs={__name:"hr_dashboard",setup(f){return y(),x(0),(t,i)=>(o(),r("div",Ls,[e("div",Ns,[e("div",Ts,[e("div",Bs,[c(gs)]),e("div",Os,[e("div",Is,[e("div",Ys,[c(Rs)]),e("div",qs,[c(As)])])]),e("div",Us,[c(G)])]),e("div",Vs,[e("div",null,[c(ws)]),e("div",Gs,[c(V)])])])]))}},Y=f=>(ee("data-v-8309e156"),f=f(),te(),f),Hs={key:0,class:"col"},Ws=Y(()=>e("p",{class:"absolute left-0 mx-4 font-semibold fs-5"}," Reports",-1)),Js={class:"relative right-0 mx-4 font-semibold fs-5"},Ks=Y(()=>e("p",{class:"relative left-2 font-['poppins']"},"Download",-1)),Qs=Y(()=>e("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16"},[e("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"}),e("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"}),e("path",{d:"M8,1 L8,11",class:"svg-out"})],-1)),Xs=[Qs],Zs={key:0,class:"mt-6"},eo={__name:"dashboard",setup(f){const t=y(),i=x(),a=B(),d=X(t.allEventSource,(b,u)=>{b!==null&&handleData(b)});N(async()=>{t.isDashboardDataReceived&&t.isHrDashboardDataReceived&&(i.value=!0,await t.getMainDashboardData(),await t.getHrDashboardMainSource(),B(),i.value=!1)}),Z(()=>{d()});const p=async()=>{const b=new oe.Workbook,u=b.addWorksheet("Sheet1"),_=["user_code","name","department","process","location"],w="this report generated by ABShrms payroll software ",F=_;u.addRow(F).eachCell((D,m)=>{D.fill={type:"pattern",pattern:"solid",fgColor:{argb:"252f70"}},D.font={bold:!0,color:{argb:"ffffff"}},u.getColumn(m).width=20}),Object.values(t.ShowEmployeeStatuswise).forEach((D,m)=>{console.log(D);const T=[];F.forEach(z=>{T.push(D[z])}),u.addRow(T)}),u.addRow([""]);const P=u.addRow([""]);P.getCell(1).value=w,u.mergeCells(P.number,1,P.number,3),P.getCell(1).alignment={wrapText:!0},P.getCell(1).font={italic:!0};const v=await b.xlsx.writeBuffer(),h=window.URL.createObjectURL(new Blob([v])),C=document.createElement("a");C.href=h,C.download=`${t.reportName}.xlsx`,C.click(),window.URL.revokeObjectURL(h)},g=x(!1),n=x("downloaded");return(b,u)=>{const _=j("Column"),w=j("DataTable"),F=j("Sidebar");return o(),r(R,null,[s(a).current_user_role==1||s(a).current_user_role==2||s(a).current_user_role==3?(o(),r("div",Hs,[e("button",{class:$(["font-semibold text-sm p-1.5 rounded-l-lg",[s(t).currentDashboard===0?"bg-green-200 text-black border border-black":"bg-white text-slate-700 border border-black"]]),onClick:u[0]||(u[0]=k=>s(t).currentDashboard=0)},"Self-dashboard",2),e("button",{class:$(["font-semibold text-sm p-1.5 rounded-r-lg",[s(t).currentDashboard===1?"bg-green-200 text-black border border-black":"bg-white text-slate-700 border border-black"]]),onClick:u[1]||(u[1]=k=>s(t).currentDashboard=1)},"Org-dashboard",2)])):L("",!0),s(t).canShowLoading?(o(),A(ae,{key:1})):s(t).currentDashboard==1?(o(),A(q,{key:2,"enter-active-class":"transition ease-out transform duration-600","enter-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-100 ease-in transform","leave-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-2 opacity-0"},{default:S(()=>[c(zs)]),_:1})):(o(),A(q,{key:3,"enter-active-class":"transition ease-out transform duration-600","enter-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-100 ease-in transform","leave-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-2 opacity-0"},{default:S(()=>[c(es)]),_:1})),c(F,{visible:s(t).canShowSidebar,"onUpdate:visible":u[3]||(u[3]=k=>s(t).canShowSidebar=k),position:"right",class:"w-full"},{header:S(()=>[Ws,e("div",Js,[e("button",{class:"bg-[#E6E6E6] p-2 mx-2 rounded-md w-[120px]",onClick:u[2]||(u[2]=k=>(g.value=!g.value,p()))},[Ks,e("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:$([g.value==!0?n.value:" "])},Xs,2)])])]),default:S(()=>[s(t).ShowEmployeeStatuswise?(o(),r("div",Zs,[c(w,{value:s(t).ShowEmployeeStatuswise?s(t).ShowEmployeeStatuswise:[]},{default:S(()=>[c(_,{field:"user_code",header:"User code"}),c(_,{field:"name",header:"Name",style:{"text-align":"left !important","white-space":"no !important"}}),c(_,{field:"department_name",header:"Department",style:{"text-align":"left !important","white-space":"no !important"}}),c(_,{field:"process",header:"Process",style:{"text-align":"left !important","white-space":"no !important"}}),c(_,{field:"location",header:"Work location",style:{"text-align":"left !important","white-space":"no !important"}})]),_:1},8,["value"])])):L("",!0)]),_:1},8,["visible"])],64)}}},_o=Q(eo,[["__scopeId","data-v-8309e156"]]);export{_o as default};
