import{B as D,V as O,E as q,g as x,o as y,c as g,h as o,e,a as B,t as C,W as c,j as h,w as m,l as I,F as K,X as H,i as A,z as M,M as J,Y as W,G as Z,P as ee,H as te,R as oe,q as se}from"./toastservice.esm-c4f6de4c.js";import{d as ae,c as le}from"./pinia-0f325ab3.js";import{T as ie,B as ne,S as de,b as re,a as ce,c as pe}from"./styleclass.esm-ea560a03.js";import"./blockui.esm-85692cd0.js";import{C as _e,F as me,b as ue,s as fe,a as be}from"./inputtext.esm-5faf66bf.js";import{s as ye}from"./confirmdialog.esm-51539a4d.js";import{D as ge}from"./dialogservice.esm-b46cc252.js";import{s as he}from"./toast.esm-8d255b70.js";import{s as ve}from"./progressspinner.esm-455f2fd3.js";import{s as xe}from"./row.esm-6ebc942e.js";import{s as De}from"./columngroup.esm-9dd1458e.js";import{s as we}from"./calendar.esm-7c3ebc21.js";import{s as $e}from"./textarea.esm-6f057a89.js";import{s as ke}from"./chips.esm-a230b2d1.js";import{s as Pe}from"./multiselect.esm-8c7e8f3c.js";import{s as Ce}from"./progressbar.esm-65b6c894.js";import{l as X}from"./lodash-b844b8cc.js";import{a as U}from"./index-f7a317fc.js";import{S as Y}from"./Service-eef5851a.js";import{p as j,E as Le}from"./EmployeeDetails-8a5d1490.js";import{d as G}from"./dayjs.min-ed58423a.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";const Te={class:"mb-0 card top-line"},Ve={class:"card-body"},Ee={class:"row"},Se={class:"col-12 text-end"},Ne=e("i",{class:"fa fa-id-card text-success","aria-hidden":"true"},null,-1),Ue=[Ne],Re={class:"text-center col-12"},Ae={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{"box-shadow":"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",border:"1px solid navy"}},Me=["src"],Ie=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),Fe={class:"mt-4"},Be={class:"progress-wrapper border-bottom-liteAsh"},Ye=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),je={class:"mb-1 text-center px-auto"},Oe={class:"text-center fw-bold"},qe=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),He=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Ge={class:"mb-4 text-center profile-mid-right-content"},Ke={class:"py-2 border-bottom-liteAsh"},ze=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),Je={key:0,class:"f-12 fw-bold"},We={key:1,class:"text-danger f-12 fw-bold"},Xe={class:"py-2 border-bottom-liteAsh"},Qe=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),Ze={key:0,class:"f-12 fw-bold"},et={key:1,class:"f-12 fw-bold"},tt={class:"py-2 border-bottom-liteAsh"},ot=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),st={key:0,class:"f-12 fw-bold"},at={key:1,class:"f-12 fw-bold"},lt={class:"py-2 border-bottom-liteAsh"},it=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),nt={key:0,class:"f-12 fw-bold"},dt={key:1,class:"f-12 fw-bold"},rt={class:"py-2 border-bottom-liteAsh ml-3"},ct={class:"text-muted f-12 fw-bold"},pt=e("i",{class:"ri-pencil-fill"},null,-1),_t=[pt],mt={key:0,class:"f-12 fw-bold"},ut={key:1,class:"f-12 fw-bold"},ft={class:"py-2 border-bottom-liteAsh"},bt={class:"text-muted f-12 fw-bold"},yt=e("i",{class:"ri-pencil-fill"},null,-1),gt=[yt],ht={key:0,class:"f-12 fw-bold"},vt={key:1,class:"f-12 fw-bold"},xt=e("div",{class:"text-center profile-bottom-right-content"},[e("button",{class:"btn btn-danger"},[e("i",{class:"fa fa-sign-out me-1"}),h(" Action ")])],-1),Dt={class:"confirmation-content"},wt=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),$t={class:"card p-3 d-flex justify-items-center align-items-center",style:{width:"18rem","margin-left":"140px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},kt=e("img",{src:"",alt:"",class:"",style:{height:"40px",width:"140px"}},null,-1),Pt={class:"card-body d-flex justify-items-center align-items-center",style:{"flex-direction":"column"}},Ct=["src"],Lt={class:"card-title mt-3 mb-2 f-12"},Tt={key:1,class:"f-12 card-text mb-2 text-gray-400"},Vt={key:2,class:"f-12 fw-bold"},Et={key:3,class:"f-12 fw-bold mb-2",style:{color:"grey"}},St={key:4,class:"f-12 mb-2 text-secondary-emphasis"},Nt={__name:"EmployeeCard",setup(F){const f=Y(),l=D(),w=D(!1),_=O({department:"",reporting_manager:""});let d=j();const s=()=>{U.post("/profile-pages/getProfilePicture",{user_code:f.current_user_code}).then(P=>{l.value=P.data.data}).finally(()=>{console.log("profile Pic Fetched")})},t=P=>{P.target.files&&P.target.files[0]&&(l.value=P.target.files[0],console.log(l.value));let a=new FormData;a.append("user_code",f.current_user_code),a.append("file_object",l.value);let v="/profile-pages/updateProfilePicture";U.post(v,a).then(u=>{}).finally(()=>{console.log("Photo Sent"),s()})},V=D(),k=D(),S=D(!1),R=D(!1),p=D(!1),i=D("None"),r=P=>{console.log(P),U.post("/profile-pages/updateDepartment",{user_code:d.employeeDetails.user_code,department_id:_.department}).then(a=>{let v=X._.find(V.value,["id",_.department]).name;console.log("Lodash [Selected Dept]: "+v),d.employeeDetails.get_employee_office_details.department_name=v,i.value="Department updated successfully !",console.log(a.data)}).catch(a=>{i.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+a)}).finally(()=>{p.value=!0,S.value=!1})},b=P=>{console.log("editReportingManager : "+P),U.post("/profile-pages/updateReportingManager",{user_code:d.employeeDetails.user_code,manager_user_code:_.reporting_manager}).then(a=>{let v=X._.find(k.value,["user_code",_.reporting_manager]);d.employeeDetails.get_employee_office_details.l1_manager_name=v.name,d.employeeDetails.get_employee_office_details.l1_manager_code=v.user_code,i.value="Reporting Manager updated successfully !",console.log(a.data)}).catch(a=>{i.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+a)}).finally(()=>{p.value=!0,R.value=!1})},T=()=>{_.department=d.employeeDetails.get_employee_office_details.department_name,_.reporting_manager=d.employeeDetails.get_employee_office_details.l1_manager_name,console.log(_.department)};return q(()=>{f.DepartmentDetails().then(P=>{V.value=P.data,console.log("testing"+d.employeeDetails.get_employee_office_details.l1_manager_name)}),f.ManagerDetails().then(P=>{k.value=P.data}),s(),T()}),(P,a)=>{const v=x("Toast"),u=x("ProgressBar"),n=x("Dialog"),N=x("Dropdown");return y(),g(K,null,[o(v),e("div",Te,[e("div",Ve,[e("div",Ee,[e("div",Se,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:a[0]||(a[0]=E=>w.value=!0)},Ue)]),e("div",Re,[e("div",Ae,[l.value?(y(),g("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${l.value}`,srcset:""},null,8,Me)):B("",!0),Ie,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:a[1]||(a[1]=E=>t(E))},null,32)]),e("div",Fe,[e("div",Be,[Ye,e("div",je,[e("h6",Oe,C(c(d).employeeDetails.name),1)]),qe,o(u,{value:c(d).employeeDetails.profile_completeness},null,8,["value"]),He]),e("div",Ge,[e("div",Ke,[ze,c(d).employeeDetails.active==1?(y(),g("p",Je," Active ")):(y(),g("p",We,"Not Active"))]),e("div",Xe,[Qe,c(d).employeeDetails.user_code?(y(),g("p",Ze,C(c(d).employeeDetails.user_code),1)):(y(),g("p",et,"-"))]),e("div",tt,[ot,c(d).employeeDetails.get_employee_office_details.designation?(y(),g("p",st,C(c(d).employeeDetails.get_employee_office_details.designation),1)):(y(),g("p",at,"-"))]),e("div",lt,[it,c(d).employeeDetails.get_employee_office_details.work_location?(y(),g("p",nt,C(c(d).employeeDetails.get_employee_office_details.work_location),1)):(y(),g("p",dt,"-"))]),e("div",rt,[e("p",ct,[h(" Department "),e("a",{href:"#",class:"edit-icon",onClick:a[2]||(a[2]=E=>S.value=!0)},_t)]),c(d).employeeDetails.get_employee_office_details.department_id?(y(),g("p",mt,C(c(d).employeeDetails.get_employee_office_details.department_name),1)):(y(),g("p",ut,"-"))]),e("div",ft,[e("p",bt,[h(" Reporting To "),e("a",{href:"#",class:"edit-icon",onClick:a[3]||(a[3]=E=>R.value=!0)},gt)]),c(d).employeeDetails.get_employee_office_details.l1_manager_code?(y(),g("p",ht,C(c(d).employeeDetails.get_employee_office_details.l1_manager_name)+" - "+C(c(d).employeeDetails.get_employee_office_details.l1_manager_code),1)):(y(),g("p",vt,"-"))])]),xt])])])])]),o(n,{header:"Status",visible:p.value,"onUpdate:visible":a[4]||(a[4]=E=>p.value=E),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:m(()=>[e("div",Dt,[wt,e("span",null,C(i.value),1)])]),_:1},8,["visible"]),o(n,{visible:S.value,"onUpdate:visible":a[6]||(a[6]=E=>S.value=E),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:r}," Save ")])]),default:m(()=>[o(N,{options:V.value,optionLabel:"name",modelValue:_.department,"onUpdate:modelValue":a[5]||(a[5]=E=>_.department=E),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),o(n,{visible:R.value,"onUpdate:visible":a[8]||(a[8]=E=>R.value=E),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:b}," Save ")])]),default:m(()=>[o(N,{optionLabel:"name",options:k.value,modelValue:_.reporting_manager,"onUpdate:modelValue":a[7]||(a[7]=E=>_.reporting_manager=E),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),o(n,{visible:w.value,"onUpdate:visible":a[9]||(a[9]=E=>w.value=E),modal:"",header:"",style:{width:"40vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:I({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:m(()=>[e("div",$t,[kt,e("div",Pt,[l.value?(y(),g("img",{key:0,class:"rounded-circle profile-img",src:`data:image/png;base64,${l.value}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"120px",height:"120px"}},null,8,Ct)):B("",!0),e("h5",Lt,C(c(d).employeeDetails.name),1),c(d).employeeDetails.get_employee_office_details.department_id?(y(),g("h5",Tt,C(c(d).employeeDetails.get_employee_office_details.department_name),1)):(y(),g("h1",Vt,"-")),c(d).employeeDetails.user_code?(y(),g("h5",Et,C(c(d).employeeDetails.user_code),1)):(y(),g("p",St,"-"))])])]),_:1},8,["visible"])],64)}}};const Ut={class:"mb-2 card"},Rt={class:"card-body"},At={class:"fw-bold fs-15"},Mt={class:"space-between"},It={class:"flex-col input_text"},Ft=e("span",null,[h("Name "),e("span",{class:"text-danger"},"*")],-1),Bt={class:"flex-col input_text"},Yt=e("span",null,[h("Relationship"),e("span",{class:"text-danger"},"*")],-1),jt={class:"space-between M-T"},Ot={class:"flex-col input_text"},qt=e("span",null,[h("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Ht={class:"flex-col input_text"},Gt=e("span",null,[h("phone"),e("span",{class:"text-danger"},"*")],-1),Kt={class:"my-6 table-responsive"},zt={key:0},Jt={key:1},Wt=["onClick"],Xt=["onClick"],Qt={class:"space-between"},Zt={class:"flex-col input_text"},eo=e("span",null,[h("Name "),e("span",{class:"text-danger"},"*")],-1),to={class:"flex-col input_text"},oo=e("span",null,[h("Relationship"),e("span",{class:"text-danger"},"*")],-1),so={class:"space-between M-T"},ao={class:"flex-col input_text"},lo=e("span",null,[h("Date of birth "),e("span",{class:"text-danger"},"*")],-1),io={class:"flex-col input_text"},no=e("span",null,[h("phone"),e("span",{class:"text-danger"},"*")],-1),ro={__name:"FamilyDetails",setup(F){const f=Y(),l=j(),w=H();D("");const _=D(!1),d=D(!1),s=O({name:"",relationship:"",dob:"",phone_number:""}),t=O({name:"",relationship:"",dob:"",phone_number:""}),V=D(),k=()=>{l.loading_screen=!0;let r=`/add-family-info/${f.current_user_id}`;U.post(r,{user_code:l.employeeDetails.user_code,name:s.name,relationship:s.relationship,dob:s.dob,phone_number:s.phone_number}).then(b=>{b.data.status=="success"?(w.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),l.employeeDetails.get_family_details.dob=useDateFormat(s.dob,"YYYY-MM-DD"),l.employeeDetails.get_family_details.name=s.gender,l.employeeDetails.get_family_details.relationship=s.relationship,l.employeeDetails.get_family_details.phone_number=s.phone_number):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}).finally(()=>{l.fetchEmployeeDetails(),l.loading_screen=!1}),_.value=!1},S=i=>{d.value=!0,V.value=i.id,t.name=i.name,t.relationship=i.relationship,t.dob=i.dob,t.phone_number=i.phone_number},R=i=>{V.value=i.id;let b=` /delete-family-info/${f.current_user_id}`;U.post(b,{current_table_id:V.value}).then(T=>{T.data.status=="success"?(window.location.reload(),w.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),l.employeeDetails.get_family_details.dob=useDateFormat(s.dob,"YYYY-MM-DD"),l.employeeDetails.get_family_details.name=s.gender,l.employeeDetails.get_family_details.relationship=s.relationship,l.employeeDetails.get_family_details.phone_number=s.phone_number):T.data.status=="failure"&&(leave_data.leave_request_error_messege=T.data.message)}).catch(T=>{console.log(T)})},p=i=>{let b=`/update-family-info/${f.current_user_id}`;U.post(b,{user_code:l.employeeDetails.user_code,current_table_id:V.value,name:t.name,relationship:t.relationship,dob:t.dob,phone_number:t.phone_number}).then(T=>{T.data.status=="success"?(window.location.reload(),w.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),l.employeeDetails.get_family_details.dob=useDateFormat(t.dob,"YYYY-MM-DD"),l.employeeDetails.get_family_details.name=t.gender,l.employeeDetails.get_family_details.relationship=s.relationship,l.employeeDetails.get_family_details.phone_number=t.phone_number):T.data.status=="failure"&&(leave_data.leave_request_error_messege=T.data.message)}).catch(T=>{console.log(T)}),d.value=!1};return q(()=>{}),(i,r)=>{const b=x("Toast"),T=x("Dialog"),P=x("Column"),a=x("DataTable");return y(),g("div",Ut,[e("div",Rt,[e("h6",At,[h("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"79%"},onClick:r[0]||(r[0]=v=>_.value=!0)}," Add New "),o(T,{visible:_.value,"onUpdate:visible":r[5]||(r[5]=v=>_.value=v),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:I({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:m(()=>[o(b),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:k},"submit")])]),default:m(()=>[e("div",Mt,[e("div",It,[Ft,A(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":r[1]||(r[1]=v=>s.name=v)},null,512),[[M,s.name]])]),e("div",Bt,[Yt,A(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":r[2]||(r[2]=v=>s.relationship=v),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[M,s.relationship]])])]),e("div",jt,[e("div",Ot,[qt,A(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":r[3]||(r[3]=v=>s.dob=v)},null,512),[[M,s.dob]])]),e("div",Ht,[Gt,A(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":r[4]||(r[4]=v=>s.phone_number=v)},null,512),[[M,s.phone_number]])])])]),_:1},8,["visible"])]),e("div",Kt,[o(a,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:c(l).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[o(P,{header:"Name",field:"name",style:{"min-width":"8rem"}}),o(P,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),o(P,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:m(v=>[v.data.dob=="Invalid Date"?(y(),g("div",zt," - ")):(y(),g("div",Jt,C(c(G)(v.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),o(P,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),o(P,{exportable:!1,header:"Action",style:{"min-width":"8rem"}},{body:m(v=>[e("button",{class:"mr-3 btn btn-success",onClick:u=>S(v.data)},"Edit",8,Wt),e("button",{class:"btn btn-danger",onClick:u=>R(v.data)},"Delete",8,Xt),e("template",null,[o(T,{visible:d.value,"onUpdate:visible":r[10]||(r[10]=u=>d.value=u),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:I({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:m(()=>[o(b),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:p},"submit")])]),default:m(()=>[e("div",Qt,[e("div",Zt,[eo,A(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":r[6]||(r[6]=u=>t.name=u),required:""},null,512),[[M,t.name]])]),e("div",to,[oo,A(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":r[7]||(r[7]=u=>t.relationship=u),required:""},null,512),[[M,t.relationship]])])]),e("div",so,[e("div",ao,[lo,A(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":r[8]||(r[8]=u=>t.dob=u)},null,512),[[M,t.dob]])]),e("div",io,[no,A(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":r[9]||(r[9]=u=>t.phone_number=u)},null,512),[[M,t.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}},co=ae("employeePayslipStore",()=>{const F=D(),f=D(),l=D(!1),w=new URLSearchParams(window.location.search);function _(){return w.has("uid")?w.get("uid"):""}async function d(){U.post("/payroll/paycheck/getEmployeeAllPayslipList",{uid:_()}).then(t=>{F.value=t.data.data})}async function s(t){let V=parseInt(G(t).month())+1,k=G(t).year();U.post("/payroll/paycheck/getEmployeePayslipDetailsAsHTML",{uid:_(),month:V,year:k}).then(S=>{f.value=S.data,l.value=!0})}return{array_employeePayslips_list:F,paySlipHTMLView:f,canShowPayslipView:l,getEmployeeAllPayslipList:d,getEmployeePayslipDetailsAsHTML:s}});const po={class:"my-4"},_o={class:"card flex justify-content-center inline-flex"},mo=["innerHTML"],uo={__name:"EmployeePayslips",setup(F){const f=co();return q(async()=>{await f.getEmployeeAllPayslipList("174")}),(l,w)=>{const _=x("Column"),d=x("Button"),s=x("column"),t=x("DataTable"),V=x("Dialog");return y(),g(K,null,[e("div",po,[o(t,{value:c(f).array_employeePayslips_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:l.filters,"onUpdate:filters":w[0]||(w[0]=k=>l.filters=k),filterDisplay:"menu",loading:l.loading2,globalFilterFields:["name","status"]},{default:m(()=>[o(_,{field:"PAYROLL_MONTH",header:"Month"},{body:m(k=>[h(C(c(G)(k.data.PAYROLL_MONTH).format("DD-MMM-YYYY")),1)]),_:1}),o(_,{field:"TOTAL_EARNED_GROSS",header:"Gross Pay"}),o(_,{field:"Reimbursements",header:"Reimbursements"},{body:m(k=>[h(C(0))]),_:1}),o(_,{field:"TOTAL_DEDUCTIONS",header:"Deductions"}),o(_,{field:"NET_TAKE_HOME",header:"Take Home"}),o(_,{header:"Action"},{body:m(k=>[o(d,{class:"btn-primary",label:"View ",onClick:S=>c(f).getEmployeePayslipDetailsAsHTML(k.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1}),o(s,{header:"Download"},{body:m(k=>[o(d,{label:"Download"})]),_:1})]),_:1},8,["value","filters","loading"])]),e("div",_o,[o(V,{visible:c(f).canShowPayslipView,"onUpdate:visible":w[1]||(w[1]=k=>c(f).canShowPayslipView=k),modal:"",header:"Payslip",style:{width:"50vw"}},{default:m(()=>[e("div",{innerHTML:c(f).paySlipHTMLView},null,8,mo)]),_:1},8,["visible"])])],64)}}};const fo=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),bo={class:"tab-content",id:"pills-tabContent"},yo={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},go=e("div",{class:"mb-2 card"},[e("div",{class:"card-body"},[e("form",{action:"",method:"POST",enctype:"multipart/form-data"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:"mb-2 fw-bold fs-15"}," Payroll Summary ")]),e("ul",{class:"personal-info"},[e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Last Processed"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Total Working Days"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1"},[e("div",{class:"title"},"Loss Of Pay(LOP)"),e("div",{class:"text"}," - ")])])])])],-1),ho={class:"mb-2 card"},vo={class:"card-body"},xo=e("i",{class:"ri-pencil-fill"},null,-1),Do=[xo],wo={class:"modal-body"},$o={class:"row"},ko={class:"col-md-6"},Po={class:"mb-3 form-group"},Co=e("label",null,"Bank Name",-1),Lo={class:"col-md-6"},To={class:"mb-3 form-group"},Vo=e("label",null,"Bank Account No",-1),Eo=e("div",{class:"cal-icon"},null,-1),So={class:"col-md-6"},No={class:"mb-3 form-group"},Uo=e("label",null,"IFSC Code",-1),Ro={class:"col-md-6"},Ao={class:"mb-3 form-group"},Mo=e("label",null,"PAN No",-1),Io={class:"col-md-6"},Fo={class:"floating"},Bo=e("label",{for:"",class:"float-label mb-2"},"Check book",-1),Yo={class:"flex justify-content-start"},jo=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),h(),e("h1",{class:"text-light"},"Upload file")],-1),Oo={class:"personal-info"},qo=e("div",{class:"title"},"Bank Name",-1),Ho={class:"text"},Go=e("div",{class:"title"},"Bank Account No.",-1),Ko={class:"text"},zo=e("div",{class:"title"},"IFSC Code",-1),Jo={class:"text"},Wo=e("div",{class:"title"},"PAN No",-1),Xo={class:"text"},Qo={class:"mb-2 card"},Zo={class:"card-body"},es={class:"mb-2 fw-bold fs-15"},ts={class:"personal-edit"},os=e("i",{class:"ri-pencil-fill"},null,-1),ss=[os],as={class:"modal-body"},ls={class:"row"},is={class:"col-md-6"},ns={class:"floating"},ds=e("label",{for:"",class:"float-label"},[h("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),rs=e("option",{value:"",hidden:"",selected:"",disabled:""},"PF Applicable",-1),cs=e("option",{value:"yes"},"Yes",-1),ps=e("option",{value:"no"},"No",-1),_s=[rs,cs,ps],ms={class:"col-md-6"},us={class:"mb-3 form-group"},fs=e("label",null,"EPF Number",-1),bs={class:"col-md-6"},ys={class:"mb-3 form-group"},gs=e("label",null,"UAN Number",-1),hs={class:"col-md-6"},vs={class:"mb-3 form-group"},xs=e("label",{class:"float-label"},[h("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),Ds=e("option",{value:"",hidden:"",selected:"",disabled:""},"ESIC Applicable",-1),ws=e("option",{value:"yes"}," Yes ",-1),$s=e("option",{value:"no"}," No ",-1),ks=[Ds,ws,$s],Ps={class:"col-md-6"},Cs={class:"floating"},Ls=e("label",{for:"",class:"float-label"},"ESIC Number",-1),Ts=e("span",{class:"error",id:"error_esic_number"},null,-1),Vs=e("div",{class:"col-md-6"},[e("div",{class:"floating"},[e("label",{for:"",class:"float-label"},"check book"),e("span",{class:"error",id:"error_esic_number"})])],-1),Es={key:0,class:"personal-info"},Ss=e("div",{class:"title"},"PF Applicable",-1),Ns={class:"text"},Us=e("div",{class:"title"},"EPF Number",-1),Rs={class:"text"},As=e("div",{class:"title"},"UAN Number",-1),Ms={class:"text"},Is=e("div",{class:"title"},"ESIC Applicable",-1),Fs={class:"text"},Bs=e("div",{class:"title"},"ESIC Number",-1),Ys={class:"text"},js={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Os={class:"mb-2 card"},qs={class:"card-body"},Hs={__name:"FinanceDetails",setup(F){const f=H(),l=D(),w=u=>{u.target.files&&u.target.files[0]&&(l.value=u.target.files[0],console.log(l.value))};let _=new FormData;_.append("user_code",Y.current_user_code),_.append("file_object",j.value);let d="/profile-pages/updateProfilePicture";U.post(d,_).then(u=>{}).finally(()=>{console.log("Photo Sent"),getProfilePhoto()});const s=j(),t=Y();D([]).value.push(s.employeeDetails.get_statutory_details),q(()=>{t.getBankList().then(u=>{R.value=u.data})});const k=D(!1),S=D(!1);D(),D();const R=D(),p=O({bank_id:"",bank_ac_no:"",ifsc_code:"",pan_no:""}),i=J(()=>{if(s.employeeDetails.get_statutory_details.esic_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.esic_applicable=="yes")return"Yes"}),r=J(()=>{if(s.employeeDetails.get_statutory_details.pf_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.pf_applicable=="yes")return"Yes"}),b=()=>{let n=`/update-bank-info/${t.current_user_id}`;U.post(n,{user_code:s.employeeDetails.user_code,bank_id:p.bank_id.id,account_no:p.bank_ac_no,bank_ifsc:p.ifsc_code,pan_no:p.pan_no}).then(N=>{N.data.status=="success"?(f.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),s.employeeDetails.get_employee_details.bank_id=p.bank_id,s.employeeDetails.get_employee_details.account_no=p.bank_ac_no,s.employeeDetails.get_employee_details.bank_ifsc=p.ifsc_code,s.employeeDetails.get_employee_details.pan_no=p.pan_no):N.data.status=="failure"&&(leave_data.leave_request_error_messege=N.data.message)}).catch(N=>{console.log(N)}),k.value=!1};function T(){console.log("Opening General Info Dialog"),p.bank_id=s.employeeDetails.get_employee_details.bank_id,p.bank_ac_no=s.employeeDetails.get_employee_details.bank_account_number,p.ifsc_code=s.employeeDetails.get_employee_details.bank_ifsc_code,p.pan_no=s.employeeDetails.get_employee_details.pan_number,k.value=!0}function P(){console.log("Opening General Info Dialog"),a.pf_applicable=s.employeeDetails.get_statutory_details.pf_applicable,a.epf_no=s.employeeDetails.get_statutory_details.epf_number,a.uan_no=s.employeeDetails.get_statutory_details.uan_number,a.esic_applicable=s.employeeDetails.get_statutory_details.esic_applicable,a.esic_no=s.employeeDetails.get_statutory_details.esic_number,S.value=!0}const a=O({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),v=()=>{let n=`/update-statutory-info/${t.current_user_id}`;U.post(n,{user_code:s.employeeDetails.user_code,pf_applicable:a.pf_applicable,epf_number:a.epf_no,uan_number:a.uan_no,esic_applicable:a.esic_applicable,esic_number:a.esic_no}).then(N=>{N.data.status=="success"?f.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):N.data.status=="failure"&&(leave_data.leave_request_error_messege=N.data.message)}).catch(N=>{console.log(N)}),S.value=!1};return(u,n)=>{const N=x("Dropdown"),E=x("InputText"),Q=x("Toast"),z=x("Dialog");return y(),g("div",null,[fo,e("div",bo,[e("div",yo,[go,e("div",ho,[e("div",vo,[e("h6",{class:"mb-2 fw-bold fs-15"},[h("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:T},Do)])]),o(z,{visible:k.value,"onUpdate:visible":n[5]||(n[5]=L=>k.value=L),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:I({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:m(()=>[e("div",null,[e("div",wo,[e("div",$o,[e("div",ko,[e("div",Po,[Co,o(N,{editable:"",options:R.value,optionLabel:"bank_name",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:p.bank_id,"onUpdate:modelValue":n[0]||(n[0]=L=>p.bank_id=L)},null,8,["options","modelValue"])])]),e("div",Lo,[e("div",To,[Vo,Eo,o(E,{class:"form-controls onboard-form",inputId:"integeronly",name:"account_no",min:0,max:100,type:"number",modelValue:p.bank_ac_no,"onUpdate:modelValue":n[1]||(n[1]=L=>p.bank_ac_no=L)},null,8,["modelValue"])])]),e("div",So,[e("div",No,[Uo,o(E,{type:"text",name:"bank_ifsc_",class:"form-controls",modelValue:p.ifsc_code,"onUpdate:modelValue":n[2]||(n[2]=L=>p.ifsc_code=L)},null,8,["modelValue"])])]),e("div",Ro,[e("div",Ao,[Mo,o(E,{type:"text",name:"pan_nos",class:"form-controls",modelValue:p.pan_no,"onUpdate:modelValue":n[3]||(n[3]=L=>p.pan_no=L)},null,8,["modelValue"])])]),e("div",Io,[e("div",Fo,[Bo,e("div",Yo,[o(Q),jo,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:n[4]||(n[4]=L=>w(L))},null,32)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:b},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",Oo,[e("li",null,[qo,e("div",Ho,C(c(s).employeeDetails.get_employee_details.bank_name),1)]),e("li",null,[Go,e("div",Ko,C(c(s).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[zo,e("div",Jo,C(c(s).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[Wo,e("div",Xo,C(c(s).employeeDetails.get_employee_details.pan_number),1)])])])])]),e("div",Qo,[e("div",Zo,[e("h6",es,[h("Statutory Information "),e("span",ts,[e("a",{href:"#",class:"edit-icon",onClick:n[6]||(n[6]=L=>P())},ss)])]),o(z,{visible:S.value,"onUpdate:visible":n[12]||(n[12]=L=>S.value=L),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:I({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:m(()=>[e("div",as,[e("div",ls,[e("div",is,[e("div",ns,[ds,A(e("select",{placeholder:"PF Applicable",name:"pf_applicable",id:"pf_applicable",class:"onboard-form form-control textbox select2_form_without_search","onUpdate:modelValue":n[7]||(n[7]=L=>a.pf_applicable=L)},_s,512),[[W,a.pf_applicable]])])]),e("div",ms,[e("div",us,[fs,A(e("input",{type:"text",placeholder:"EPF Number",name:"epf_number",id:"epf_number",class:"onboard-form form-control","onUpdate:modelValue":n[8]||(n[8]=L=>a.epf_no=L)},null,512),[[M,a.epf_no]])])]),e("div",bs,[e("div",ys,[gs,A(e("input",{name:"uan_number",id:"uan_number",minlength:"12",maxlength:"12",class:"form-control onboard-form",type:"text","pattern-data":"ifsc",required:"","onUpdate:modelValue":n[9]||(n[9]=L=>a.uan_no=L)},null,512),[[M,a.uan_no]])])]),e("div",hs,[e("div",vs,[xs,A(e("select",{placeholder:"ESIC Applicable",name:"esic_applicable",id:"esic_applicable",class:"onboard-form form-control textbox select2_form_without_search",required:"","onUpdate:modelValue":n[10]||(n[10]=L=>a.esic_applicable=L)},ks,512),[[W,a.esic_applicable]])])]),e("div",Ps,[e("div",Cs,[Ls,A(e("input",{type:"text",placeholder:"ESIC Number",name:"esic_number",id:"esic_number",minlength:"10",maxlength:"10",class:"onboard-form form-control textbox","onUpdate:modelValue":n[11]||(n[11]=L=>a.esic_no=L)},null,512),[[M,a.esic_no]]),Ts])]),Vs]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:v},"Save")])])])]),_:1},8,["visible"]),c(s).employeeDetails.get_statutory_details?(y(),g("ul",Es,[e("li",null,[Ss,e("div",Ns,C(c(r)),1)]),e("li",null,[Us,e("div",Rs,C(c(s).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[As,e("div",Ms,C(c(s).employeeDetails.get_statutory_details.uan_number),1)]),e("li",null,[Is,e("div",Fs,C(c(i))+" ",1)]),e("li",null,[Bs,e("div",Ys,C(c(s).employeeDetails.get_statutory_details.esic_number),1)])])):B("",!0)])])]),e("div",js,[e("div",Os,[e("div",qs,[o(uo)])])])])])}}};const Gs={class:"mb-2 card"},Ks={class:"card-body"},zs={class:"fw-bold fs-15"},Js={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},Ws={class:"space-between"},Xs={class:"flex-col input_text"},Qs=e("span",null,[h("Company Name "),e("span",{class:"text-danger"},"*")],-1),Zs={class:"flex-col input_text"},ea=e("span",null,[h(" Location"),e("span",{class:"text-danger"},"*")],-1),ta={class:"space-between M-T"},oa={class:"flex-col input_text"},sa=e("span",null,[h("Job Position "),e("span",{class:"text-danger"},"*")],-1),aa={class:"flex-col input_text",style:{"margin-right":"7px"}},la=e("span",{style:{paddingLeft:"6px"}},[h("Period From"),e("span",{class:"text-danger"},"*")],-1),ia={class:"space-between M-T"},na={class:"flex-col input_text",style:{marginLeft:"-6px"}},da=e("span",{style:{paddingLeft:"6px"}},[h("Period To "),e("span",{class:"text-danger"},"*")],-1),ra={class:"my-6 table-responsive"},ca=["onClick"],pa=["onClick"],_a={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},ma={class:"space-between"},ua={class:"flex-col input_text"},fa=e("span",null,[h("Company Name "),e("span",{class:"text-danger"},"*")],-1),ba={class:"flex-col input_text"},ya=e("span",null,[h(" Location"),e("span",{class:"text-danger"},"*")],-1),ga={class:"space-between M-T"},ha={class:"flex-col input_text"},va=e("span",null,[h("Job Position "),e("span",{class:"text-danger"},"*")],-1),xa={class:"flex-col input_text",style:{"margin-right":"7px"}},Da=e("span",{style:{paddingLeft:"6px"}},[h("Period From"),e("span",{class:"text-danger"},"*")],-1),wa={class:"space-between M-T"},$a={class:"flex-col input_text",style:{marginLeft:"-6px"}},ka=e("span",{style:{paddingLeft:"6px"}},[h("Period To "),e("span",{class:"text-danger"},"*")],-1),Pa={__name:"ExperienceDetails",setup(F){const f=Y(),l=j(),w=H();H(),D("");const _=D(!1),d=D(!1),s=D(),t=O({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),V=()=>{console.log(t),l.loading_screen=!0;let i=`/add-experience-info/${f.current_user_id}`;U.post(i,{user_code:l.employeeDetails.user_code,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:t.period_from,period_to:t.period_to}).then(r=>{r.data.status=="success"?w.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):r.data.status=="failure"&&(leave_data.leave_request_error_messege=r.data.message)}).catch(r=>{console.log(r)}).finally(()=>{l.fetchEmployeeDetails(),l.loading_screen=!1}),_.value=!1};q(()=>{});const k=p=>{d.value=!0,s.value=p.id,console.log(s.value),t.company_name=p.company_name,t.location=p.location,t.job_position=p.job_position,t.period_from=p.period_from,t.period_to=p.period_to},S=p=>{d.value=!1;let r=`/update-experience-info/${f.current_user_id}`;U.post(r,{user_code:l.employeeDetails.user_code,exp_current_table_id:s.value,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:t.period_from,period_to:t.period_to}).then(b=>{b.data.status=="success"?(window.location.reload(),w.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)})},R=p=>{s.value=p.id;let r=`/delete-experience-info/${f.current_user_id}`;U.post(r,{exp_current_table_id:s.value}).then(b=>{b.data.status=="success"?(window.location.reload(),w.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3})):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)})};return(p,i)=>{const r=x("InputText"),b=x("Calendar"),T=x("Toast"),P=x("Dialog"),a=x("Column"),v=x("DataTable");return y(),g("div",null,[e("div",Gs,[e("div",Ks,[e("h6",zs,[h("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"76%"},onClick:i[0]||(i[0]=u=>_.value=!0)}," Add New "),o(P,{visible:_.value,"onUpdate:visible":i[6]||(i[6]=u=>_.value=u),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:I({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:m(()=>[e("div",null,[o(T),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:V},"submit")])]),default:m(()=>[e("div",Js,[e("div",Ws,[e("div",Xs,[Qs,o(r,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":i[1]||(i[1]=u=>t.company_name=u),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",Zs,[ea,o(r,{type:"text",modelValue:t.location,"onUpdate:modelValue":i[2]||(i[2]=u=>t.location=u),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",ta,[e("div",oa,[sa,o(r,{type:"text",modelValue:t.job_position,"onUpdate:modelValue":i[3]||(i[3]=u=>t.job_position=u),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",aa,[la,o(b,{showIcon:"",modelValue:t.period_from,"onUpdate:modelValue":i[4]||(i[4]=u=>t.period_from=u),style:I({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",ia,[e("div",na,[da,o(b,{showIcon:"",modelValue:t.period_to,"onUpdate:modelValue":i[5]||(i[5]=u=>t.period_to=u),class:"",style:I({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])]),e("div",ra,[o(v,{ref:"dt",value:c(l).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[o(a,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),o(a,{field:"location",header:"Location",style:{"min-width":"8rem"}}),o(a,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),o(a,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),o(a,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),o(a,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:m(u=>[e("button",{class:"mr-3 btn btn-success",onClick:n=>k(u.data)},"Edit",8,ca),e("button",{class:"btn btn-danger",onClick:n=>R(u.data)},"Delete",8,pa),e("template",null,[o(P,{visible:d.value,"onUpdate:visible":i[13]||(i[13]=n=>d.value=n),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:I({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:m(()=>[e("div",null,[o(T),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:i[12]||(i[12]=n=>S())},"submit")])]),default:m(()=>[e("div",_a,[e("div",ma,[e("div",ua,[fa,o(r,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":i[7]||(i[7]=n=>t.company_name=n),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",ba,[ya,o(r,{type:"text",modelValue:t.location,"onUpdate:modelValue":i[8]||(i[8]=n=>t.location=n),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",ga,[e("div",ha,[va,o(r,{type:"text",modelValue:t.job_position,"onUpdate:modelValue":i[9]||(i[9]=n=>t.job_position=n),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",xa,[Da,o(b,{showIcon:"",modelValue:t.period_from,"onUpdate:modelValue":i[10]||(i[10]=n=>t.period_from=n),style:I({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",wa,[e("div",$a,[ka,o(b,{showIcon:"",modelValue:t.period_to,"onUpdate:modelValue":i[11]||(i[11]=n=>t.period_to=n),class:"",style:I({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},Ca={class:"table-responsive"},La=["src"],Ta=e("img",{src:"",alt:""},null,-1),Va=e("a",{href:""},null,-1),Ea={__name:"documents",setup(F){const f=j();Y();const l=D({}),w=D(!1),_=D(),d=s=>{l.value={...s},console.log(l.value),console.log(l.value.doc_url),w.value=!0,U.post("/view-profile-private-file",{user_code:f.employeeDetails.user_code,document_name:l.value.document_name}).then(t=>{console.log(t.data.data),_.value=t.data.data,console.log("data sent",_.value)})};return(s,t)=>{const V=x("Column"),k=x("Button"),S=x("DataTable"),R=x("Dialog");return y(),g("div",Ca,[o(S,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:c(f).employeeDetails.employee_documents,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[o(V,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:m(()=>[h(C(c(f).employeeDetails.employee_documents.document_name),1)]),_:1}),o(V,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:m(()=>[h(C(c(f).employeeDetails.employee_documents.status),1)]),_:1}),o(V,{field:"reason",header:"Reason ",style:{"min-width":"12rem"}}),o(V,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:m(p=>[o(k,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:i=>d(p.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),o(R,{visible:w.value,"onUpdate:visible":t[0]||(t[0]=p=>w.value=p),modal:"",header:"Documents",style:{width:"40vw"}},{default:m(()=>[l.value.doc_url?(y(),g("img",{key:0,src:`data:image/png;base64,${_.value}`},null,8,La)):B("",!0),Ta,Va]),_:1},8,["visible"])])}}},Sa=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Na={class:"profile_page-wrapper mt-30 container-fluid"},Ua={class:"row"},Ra={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},Aa={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},Ma=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Ia={class:"tab-content",id:"pills-tabContent"},Fa={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Ba={key:0},Ya={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},ja={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Oa={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},qa={key:0},Ha={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},Ga={__name:"profilePageNew",setup(F){Y();let f=j();return q(async()=>{console.log("Loading screen start : "+f.loading_screen),f.fetchEmployeeDetails().then(function(l){console.log("Loading screen end : "+f.loading_screen),console.log("Req done")})}),(l,w)=>{const _=x("Toast"),d=x("ProgressSpinner"),s=x("Dialog");return y(),g(K,null,[o(_),o(s,{header:"Header",visible:c(f).loading_screen,"onUpdate:visible":w[0]||(w[0]=t=>c(f).loading_screen=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[o(d,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[Sa]),_:1},8,["visible"]),e("div",Na,[e("div",Ua,[c(f).loading_screen?B("",!0):(y(),g("div",Ra,[o(Nt)])),e("div",Aa,[Ma,e("div",Ia,[e("div",Fa,[c(f).loading_screen?B("",!0):(y(),g("div",Ba,[o(Le)]))]),e("div",Ya,[o(ro)]),e("div",ja,[o(Pa)]),e("div",Oa,[c(f).loading_screen?B("",!0):(y(),g("div",qa,[o(Hs)]))]),e("div",Ha,[o(Ea)])])])])])],64)}}},$=Z(Ga),Ka=le();$.use(ee,{ripple:!0});$.use(_e);$.use(te);$.use(ge);$.use(Ka);$.directive("tooltip",ie);$.directive("badge",ne);$.directive("ripple",oe);$.directive("styleclass",de);$.directive("focustrap",me);$.component("Button",se);$.component("DataTable",re);$.component("Column",ce);$.component("ColumnGroup",De);$.component("Row",xe);$.component("Toast",he);$.component("ConfirmDialog",ye);$.component("Dropdown",ue);$.component("InputText",fe);$.component("Dialog",be);$.component("ProgressSpinner",ve);$.component("Calendar",we);$.component("Textarea",$e);$.component("Chips",ke);$.component("MultiSelect",Pe);$.component("InputNumber",pe);$.component("ProgressBar",Ce);$.mount("#profilePage");
