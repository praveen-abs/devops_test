import{d as k}from"./dayjs.min-2f06af28.js";import{a as H}from"./index-362795f3.js";import{p as R,r as p,o as B,Q as C,b as V,d as s,e as a,g as l,j as O,i as b,f as e,m as L,k as E,h as m,t as n,F as d,l as c,n as g}from"./app-1d702269.js";import{S as I}from"./Service-2e0fbc76.js";import{p as U}from"./ProfilePagesStore-3d1f6cb3.js";/* empty css                                                                       */const $=R("EmployeeDocumentManagerService",()=>{const T=I(),o=p(!1),x=p([]);p();const P=p(),y=U();return{EmployeeDocs_upload:p({AadharCardFront:null,AadharCardBack:null,PanCardDoc:null,DrivingLicenseDoc:null,EductionDoc:null,VoterIdDoc:null,RelievingLetterDoc:null,PassportDoc:null,save_draft_messege:null}),getEmployeeDetails:T,getEmployeeDoc:x,getEmpdocPhoto:P,fetch_EmployeeDocument:async()=>{let f=y.employeeDetails.user_code;await T.getCurrentUserCode().then(w=>{f=w.data}),o.value=!0,await H.post("/employee-documents-details",{user_code:f}).then(w=>{x.value=w.data.data,console.log("employee document : ",x.value)}).finally(()=>{o.value=!1,console.log("completed")})},loading:o}}),j=R("employeePayslipStore",()=>{const T=$(),o=p(),x=p(),P=p(""),y=p(!1),D=new URLSearchParams(window.location.search),_=p(!1);function f(){return D.has("uid")?D.get("uid"):""}async function w(){_.value=!0,H.post("/payroll/paycheck/getEmployeeAllPayslipList",{uid:f()}).then(S=>{o.value=S.data.data}).finally(()=>{_.value=!1})}async function t(S,v){_.value=!0,P.value=v;let M=parseInt(k(v).month())+1,A=k(v).year();await H.post("/empViewPayslipdetails",{uid:f(),user_code:S,month:M,year:A}).then(h=>{x.value=h.data,y.value=!0}).finally(()=>{_.value=!1})}function i(S,v,M,A){const h=S,u=document.createElement("a"),N=`${v}-${M}-${A}.pdf`;u.href=h,u.download=N,u.click()}async function r(S,v){_.value=!0,T.loading=!0,console.log("Downloading payslip PDF.....");let M=parseInt(k(v).month())+1,A=k(v).year();await H.post("/empGeneratePayslipPdfMail",{uid:f(),user_code:S,month:M,year:A,type:"pdf"}).then(h=>{if(console.log(" Response [downloadPayslipReleaseStatus] : "+JSON.stringify(h.data.data.payslip)),h.data){let u=h.data.data.payslip,N=h.data.data.emp_name,Y=h.data.data.month,F=h.data.data.year;console.log(u),u&&(u.startsWith("JVB")?(u="data:application/pdf;base64,"+u,i(u,N,Y,F)):u.startsWith("data:application/pdf;base64")&&i(u))}else console.log("Response Url Not Found")}).finally(()=>{T.loading=!1,_.value=!1})}return{Payroll_month:P,array_employeePayslips_list:o,paySlipHTMLView:x,canShowPayslipView:y,loading:_,getEmployeeAllPayslipList:w,getEmployeePayslipDetailsAsHTML:t,getEmployeePayslipDetailsAsPDF:r}});const G={class:"w-full"},W=e("h2",{class:"my-2 text-lg font-semibold"},"Salary Details",-1),J=["onClick"],K=["onClick"],q=e("i",{class:"pi pi-download"},null,-1),z=[q],Q={class:"flex justify-center w-[100%] my-3 rounded-lg"},X={class:"w-[95%] h-[90%] shadow-lg p-4"},Z={class:"w-[100%] flex justify-between"},ee={class:"flex flex-col"},te={class:"text-[25px] flex items-center"},se={class:"text-gray-500 text-[25px]"},ae=["src"],oe={class:"mt-[30px]"},le=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),ne={class:"col-3"},ie=e("p",{class:""},"Employee Code",-1),de={class:"text-[#000] text-[12px]"},ce={class:"col-3"},re=e("p",null,"Date Joining",-1),_e={class:"text-[#000]"},pe={class:"col-3"},ue=e("p",null,"Department",-1),ye={class:"text-[#000]"},he={class:"col-3"},me=e("p",null,"Designation",-1),xe={class:"text-[#000]"},be={class:"col-3"},fe=e("p",null,"Payment Mode",-1),ve={class:"text-[#000]"},ge={class:"col-3"},we=e("p",null,"Bank Name",-1),Se={class:"text-[#000]"},Le={class:"col-3"},Te=e("p",null,"Bank Account",-1),Pe={class:"text-[#000]"},ke={class:"col-3"},De=e("p",null,"Bank ISFC",-1),Me={class:"text-[#000]"},Ae={class:"col-3"},Ee=e("p",null,"PAN",-1),Ve={class:"text-[#000]"},He=e("div",{class:"col-3"},[e("p",null,"ESIC"),e("p",{class:"text-[#000]"},n("-"))],-1),Ne={class:"col-3"},Ce=e("p",null,"UAN",-1),Oe={class:"text-[#000]"},Re={class:"col-3"},Ye=e("p",null,"EPF Number",-1),Fe={class:"text-[#000]"},Be=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),Ie={class:""},Ue=e("h1",{class:"font-semibold text-[16px] my-[16px]"},"LEAVE DETAILS",-1),$e=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),je={class:"py-2 mx-2 row"},Ge={class:"col-3"},We=e("p",null,"Leave Type",-1),Je={class:"col-3"},Ke=e("p",null,"Opening Balance",-1),qe={class:"col-3"},ze=e("p",null,"Availed",-1),Qe={class:"col-3"},Xe=e("p",null,"Closing Balance",-1),Ze={class:""},et=e("h1",{class:"font-semibold text-[16px] my-[16px]"},"SALARY DETAILS",-1),tt=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),st={class:"col-3"},at=e("p",null,"ACTUAL PAYABLE DAYS",-1),ot={class:"text-[#000]"},lt={class:"col-3"},nt=e("p",null,"TOTAL WORKING DAYS",-1),it={class:"text-[#000]"},dt={class:"col-3"},ct=e("p",null,"LOSS OF PAY DAYS",-1),rt={class:"text-[#000]"},_t={class:"col-3"},pt=e("p",null,"ARREAR DAYS PAYABLE",-1),ut={class:"text-[#000]"},yt={class:"row mt-2 py-2 border-y-[1px] border-[gray] mx-2"},ht={class:"col-7 border-r-[1.4px] border-[gray]"},mt={class:"row"},xt={class:"col-6"},bt=e("h1",{class:"font-semibold"},"Earnings",-1),ft={key:0,class:"font-semibold text-black"},vt={class:"col-2"},gt={key:0,class:"font-semibold text-right"},wt={class:"col-2"},St={key:0,class:"font-semibold text-right"},Lt={class:"col-2"},Tt=e("h1",{class:"font-semibold text-right"},"Earned",-1),Pt={class:"col"},kt={border:"2",class:"w-[100%]"},Dt={class:"w-[100%]"},Mt=e("h1",{class:"font-semibold"},"CONTRIBUTIONS",-1),At={key:0,class:"text-black font-semibold text-[14px]"},Et=e("h1",{class:"font-semibold"}," ",-1),Vt={class:"w-[100%]"},Ht=e("h1",{class:"font-semibold"},"Tax Deduction",-1),Nt={key:0,class:"text-[14px] text-[#000] font-semibold"},Ct=e("h1",{class:"font-semibold"}," ",-1),Ot={class:"my-2 col-6"},Rt={key:0,class:"font-semibold text-black"},Yt={class:"my-2 col-6"},Ft={class:"text-[16px] text-[#000]"},Bt=e("div",null,[e("p",{class:"mt-2 font-semibold flex text-[#000]"},[m("*** Note:All "),e("span",{class:"text-[16px] text-[#000]"},"amounts displayed in this payslips are in"),m(" INR")]),e("p",{class:"mt-[50px] font-semibold text-[#000]"},"**This is computer generated statement,does not require signature.")],-1),It={class:""},Ut={class:"flex items-center float-right"},$t=e("p",{class:"mx-2"},"Powered by ",-1),jt=["src"],Qt={__name:"EmployeePayslips",setup(T){const o=j();p(!0),p(),B(()=>{console.log("EmployeePayslips,vue loaded"),o.getEmployeeAllPayslipList()});const x=p({PAYROLL_MONTH:{value:null,matchMode:C.STARTS_WITH,matchMode:C.EQUALS,matchMode:C.CONTAINS}});return(P,y)=>{const D=V("LoadingSpinner"),_=V("Column"),f=V("DataTable"),w=V("Sidebar");return s(),a(d,null,[l(o).loading?(s(),O(D,{key:0,class:"absolute z-50 bg-white"})):b("",!0),e("div",G,[W,L(f,{value:l(o).array_employeePayslips_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],sortField:"PAYROLL_MONTH",sortOrder:-1,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:x.value,"onUpdate:filters":y[0]||(y[0]=t=>x.value=t),filterDisplay:"menu",loading:P.loading2,globalFilterFields:["name"]},{default:E(()=>[L(_,{field:"PAYROLL_MONTH",header:"Month",sortable:!0},{body:E(t=>[m(n(l(k)(t.data.PAYROLL_MONTH).format("DD-MMM-YYYY")),1)]),_:1}),L(_,{field:"TOTAL_EARNED_GROSS",header:"Gross Pay"}),L(_,{field:"Reimbursements",header:"Reimbursements"},{body:E(t=>[m(n(0))]),_:1}),L(_,{field:"TOTAL_DEDUCTIONS",header:"Deductions"}),L(_,{field:"NET_TAKE_HOME",header:"Take Home"}),L(_,{header:"Action"},{body:E(t=>[e("button",{class:"p-2 mx-2 text-white bg-black rounded-md",onClick:i=>l(o).getEmployeePayslipDetailsAsPDF("",t.data.PAYROLL_MONTH)},"Download",8,J),e("button",{class:"border-[2px] border-[#000] py-2 px-3 rounded-md",onClick:i=>l(o).getEmployeePayslipDetailsAsHTML("",t.data.PAYROLL_MONTH)},"View",8,K)]),_:1})]),_:1},8,["value","filters","loading"])]),l(o).canShowPayslipView?(s(),O(w,{key:1,position:"right",visible:l(o).canShowPayslipView,"onUpdate:visible":y[2]||(y[2]=t=>l(o).canShowPayslipView=t),modal:"",header:"Payslip",style:{width:"70vw"}},{default:E(()=>[e("button",{class:"flex items-center p-2 absolute top-5 border-[1px] mx-2 text-[#000] rounded-md h-[33px]",onClick:y[1]||(y[1]=t=>l(o).getEmployeePayslipDetailsAsPDF("",l(o).Payroll_month))},z),e("div",Q,[e("div",X,[e("div",Z,[e("div",ee,[e("h1",te,[m("PAYSLIP "),e("span",se,n(l(o).paySlipHTMLView.data.date_month.Month)+" "+n(l(o).paySlipHTMLView.data.date_month.Year),1)]),(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.client_details,t=>(s(),a("h2",{class:"text-[16px] mt-[10px] text-[#000] font-semibold",key:t},n(t.client_fullname),1))),128)),(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.client_details,t=>(s(),a("p",{class:"w-[300px] mt-[10px]",key:t},n(t.address),1))),128))]),(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.client_details,t=>(s(),a("div",{key:t},[e("img",{src:`${t.client_logo}`,alt:"testing",class:"w-[200px]"},null,8,ae)]))),128))]),e("div",oe,[(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.personal_details,t=>(s(),a("h1",{class:"font-semibold text-[16px] my-[16px]",key:t}," Employee Name : "+n(t.name),1))),128)),le,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.personal_details,t=>(s(),a("div",{class:"mx-2 row border-b-[1px] border-[gray] py-2",key:t},[e("div",ne,[ie,e("p",de,n(t.user_code?t.user_code:"-"),1)]),e("div",ce,[re,e("p",_e,n(t.doj?l(k)(t.doj).format("DD-MMM-YYYY"):"-"),1)]),e("div",pe,[ue,e("p",ye,n(t.department_name?t.department_name:"-"),1)]),e("div",he,[me,e("p",xe,n(t.designation?t.designation:"-"),1)])]))),128)),(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.personal_details,t=>(s(),a("div",{class:"mx-2 row border-b-[1px] border-[gray] py-2",key:t},[e("div",be,[fe,e("p",ve,n(t.bank_account_number?"Bank":"cheque"),1)]),e("div",ge,[we,e("p",Se,n(t.bank_name?t.bank_name:"-"),1)]),e("div",Le,[Te,e("p",Pe,n(t.bank_account_number?t.bank_account_number:"-"),1)]),e("div",ke,[De,e("p",Me,n(t.bank_ifsc_code?t.bank_ifsc_code:"-"),1)])]))),128)),(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.personal_details,t=>(s(),a("div",{class:"py-2 mx-2 row",key:t},[e("div",Ae,[Ee,e("p",Ve,n(t.pan_number?t.pan_number:"-"),1)]),He,e("div",Ne,[Ce,e("p",Oe,n(t.uan_number?t.uan_number:"-"),1)]),e("div",Re,[Ye,e("p",Fe,n(t.epf_number?t.epf_number:"-"),1)])]))),128)),Be]),e("div",Ie,[Ue,$e,e("div",je,[e("div",Ge,[We,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},n(t.leave_type?t.leave_type:"-"),1))),128))]),e("div",Je,[Ke,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},n(t.opening_balance?t.opening_balance:"-"),1))),128))]),e("div",qe,[ze,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},n(t.availed?t.availed:"-"),1))),128))]),e("div",Qe,[Xe,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},n(t.closing_balance?t.closing_balance:"-"),1))),128))])])]),e("div",Ze,[et,tt,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.salary_details,t=>(s(),a("div",{class:"py-2 mx-2 row",key:t},[e("div",st,[at,e("p",ot,n(t.month_days?t.month_days:"-"),1)]),e("div",lt,[nt,e("p",it,n(t.worked_Days?t.worked_Days:"-"),1)]),e("div",dt,[ct,e("p",rt,n(t.lop?t.lop:"-"),1)]),e("div",_t,[pt,e("p",ut,n(t.arrears_Days?t.arrears_Days:"-"),1)])]))),128))]),e("div",yt,[e("div",ht,[e("div",mt,[e("div",xt,[bt,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.earnings[0],(t,i,r)=>(s(),a("h1",{class:g(["flex items-center my-3",[i=="Total Earnings"?"text-black font-semibold":"text-black"]]),key:r},[m(n(i)+" ",1),i=="Total Earnings"?(s(),a("span",ft,"(A)")):b("",!0)],2))),128))]),e("div",vt,[l(o).paySlipHTMLView.data.compensatory_data[0]?(s(),a("h1",gt,"Fixed")):b("",!0),(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.compensatory_data[0],(t,i,r)=>(s(),a("h1",{key:r,class:"mt-[12px] text-black text-right"},n(t),1))),128))]),e("div",wt,[l(o).paySlipHTMLView.data.arrears[0]!=""?(s(),a("h1",St,"Arrears")):b("",!0),(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.arrears[0],(t,i,r)=>(s(),a("h1",{key:r,class:"mt-[12px]"},n(t),1))),128))]),e("div",Lt,[Tt,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.earnings[0],(t,i,r)=>(s(),a("h1",{key:r,class:g(["my-3 text-right",[i=="Total Earnings"?"text-black text-[14px] font-semibold":""]])},n(t),3))),128))])])]),e("div",Pt,[e("table",kt,[e("tr",Dt,[e("td",null,[Mt,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.contribution[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] flex",[i=="Total Contribution"?"text-[14px] text-[#000] font-semibold":" text-black"]]),key:r},[m(n(i)+" ",1),i=="Total Contribution"?(s(),a("span",At," (B)")):b("",!0)],2))),128))]),e("td",null,[Et,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.contribution[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] text-right",[i=="Total Contribution"?"text-[13px] text-[#000] font-semibold":" text-black"]]),key:r},n(t),3))),128))])]),e("tr",Vt,[e("td",null,[Ht,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.Tax_Deduction[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] flex items-center",[i=="Total Deduction"?"text-[14px] text-[#000] font-semibold":" text-black"]]),key:r},[m(n(i)+" ",1),i=="Total Deduction"?(s(),a("span",Nt," (C)")):b("",!0)],2))),128))]),e("td",null,[Ct,(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.Tax_Deduction[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] text-right",[i=="Total Deduction"?"text-[14px] text-[#000] font-semibold":" text-black"]]),key:r},n(t),3))),128))])])])])]),(s(!0),a(d,null,c(l(o).paySlipHTMLView.data.over_all[0],(t,i,r)=>(s(),a("div",{class:"my-2 row w-[100%]",key:r},[e("div",Ot,[e("p",{class:g(["text-[#000]",[i=="Net Salary Payable"||i=="Net Salary in words"?"text-black text-[14px] font-semibold":""]])},[m(n(i)+" ",1),i=="Net Salary Payable"?(s(),a("span",Rt,"(A-B-C)")):b("",!0)],2)]),e("div",Yt,[e("p",Ft,[i=="Net Salary Payable"?(s(),a("span",{key:0,class:g(["text-[16px] font-semibold text-right",[i=="Net Salary Payable"?"text-black text-[14px] font-semibold":""]]),style:{"font-family":"sans-serif !important"}},"₹ ",2)):b("",!0),m(n(t),1)])])]))),128)),Bt,e("div",It,[e("div",Ut,[$t,e("img",{src:`${l(o).paySlipHTMLView.data.date_month.abs_logo}`,alt:"",class:"w-[140px] h-[50px]"},null,8,jt)])])])])]),_:1},8,["visible"])):b("",!0)],64)}}};export{$ as U,Qt as _};
