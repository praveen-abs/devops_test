/* empty css              */import{$ as g,a2 as ee,aj as ae,ac as se,g as V,o as r,c as _,h as a,d as e,n as X,ai as t,a as T,t as f,w as u,v as z,b as pe,l as L,F as ue,ag as ne,k as Z,G as Q,au as De,ak as we,al as ke,av as fe,H as Pe,P as Ce,I as Se,u as Ve,J as Le,R as Ee,S as Me,x as Ae,y as Ue,M as Te,K as Ne,X as Ye,L as Ie,Q as Fe,W as Be,N as Re,V as je}from"./toastservice.esm-5497698c.js";/* empty css                 */import{d as Oe,c as He}from"./pinia-61b2fb76.js";import"./blockui.esm-221ce14c.js";import{D as qe,s as Ge}from"./dialogservice.esm-ab849a93.js";import{u as Ke,C as ze}from"./confirmationservice.esm-712df8af.js";import{s as We}from"./progressspinner.esm-b55e6b3f.js";import{s as Je}from"./row.esm-6ebc942e.js";import{s as Ze}from"./calendar.esm-ae4d5a30.js";import{s as Xe}from"./textarea.esm-65d5b1f4.js";import{s as Qe}from"./chips.esm-834fa53a.js";import{s as et}from"./multiselect.esm-023b6cc5.js";import{s as tt}from"./inputmask.esm-45888d86.js";import{s as ot}from"./progressbar.esm-318715d1.js";import{l as ye}from"./lodash-facb8280.js";import{a as R}from"./index-362795f3.js";import{S as de}from"./Service-ef0d3f06.js";import{p as le}from"./ProfilePagesStore-70f5719f.js";import{r as re,u as be}from"./index.esm-b5ff0d04.js";import{d as K}from"./dayjs.min-2f06af28.js";import"./moment-fbc5633a.js";import{_ as st}from"./_plugin-vue_export-helper-c27b6911.js";import{U as ve}from"./EmployeeDocumentsManagerService-5880a810.js";const lt={class:"mb-0 card top-line"},at={class:"card-body"},it={class:"row"},nt={class:"col-12 text-end"},dt=e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true"},null,-1),rt=[dt],ct={class:"text-center col-12"},_t=["src"],pt={key:1,class:"text-white fs-4"},mt=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),ut={class:"mt-4"},ft={class:"progress-wrapper border-bottom-liteAsh"},bt=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),yt={class:"mb-1 px-auto d-flex align-items-center justify-content-around"},gt={class:"text-center fw-bold fs-5"},ht={class:"personal-edit position-absolute",style:{top:"148px",right:"0px"}},vt={href:"#",class:"edit-icon"},xt={class:"modal-body"},$t={class:"row"},Dt={class:"col-md-6"},wt={class:"mb-3 form-group"},kt=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),Pt={key:0,class:"text-red-400 fs-6 font-semibold"},Ct={class:"col-md-6"},St={class:"form-group"},Vt=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),Lt={key:0,class:"text-red-400 fs-6 font-semibold"},Et={class:"col-md-6 d-flex flex-column"},Mt={class:"d-flex justify-items-center flex-column"},At=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),Ut={class:"d-flex justify-items-center align-items-center"},Tt=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),Nt={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},Yt={key:0,class:"text-red-400 fs-6 font-semibold"},It=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),Ft=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Bt={class:"mb-4 text-center profile-mid-right-content"},Rt={class:"py-2 border-bottom-liteAsh"},jt=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),Ot={key:0,class:"f-12 fw-bold"},Ht={key:1,class:"text-danger f-12 fw-bold"},qt={class:"py-2 border-bottom-liteAsh"},Gt=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),Kt={key:0,class:"f-12 fw-bold"},zt={key:1,class:"f-12 fw-bold"},Wt={class:"py-2 border-bottom-liteAsh"},Jt=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),Zt={key:0,class:"f-12 fw-bold"},Xt={key:1,class:"f-12 fw-bold"},Qt={class:"py-2 border-bottom-liteAsh"},eo=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),to={key:0,class:"f-12 fw-bold"},oo={key:1,class:"f-12 fw-bold"},so={class:"py-2 border-bottom-liteAsh ml-3"},lo={class:"text-muted f-12 fw-bold"},ao=e("i",{class:"ri-pencil-fill"},null,-1),io=[ao],no={key:0,class:"f-12 fw-bold"},ro={key:1,class:"f-12 fw-bold"},co={class:"py-2 border-bottom-liteAsh"},_o={class:"text-muted f-12 fw-bold"},po=e("i",{class:"ri-pencil-fill"},null,-1),mo=[po],uo={key:0,class:"f-12 fw-bold"},fo={key:1,class:"f-12 fw-bold"},bo=e("div",{class:"text-center profile-bottom-right-content"},null,-1),yo={class:"confirmation-content"},go=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),ho={class:"bg-blue-900 w-100 py-4 px-2 rounded-lg d-flex justify-content-around overflow-x-scroll ... lg:w-100"},vo={class:"card p-3 d-flex justify-items-center align-items-center mr-2 :lg:mx-0 Digital_Id_Card_",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},xo={style:{height:"45px",width:"140px"},class:"mt-2"},$o=["src"],Do={class:"card-body d-flex justify-items-center align-items-center mt-6",style:{"flex-direction":"column"}},wo=["src"],ko={key:1,class:"text-white fs-4"},Po={class:"card-title mt-12 mb-3 f-12 text-blue-900 subpixel-antialiased font-semibold",style:{"text-align":"center"}},Co={key:0,class:"f-12 card-text mb-3 text-gray-600 subpixel-antialiased font-semibold"},So={key:1,class:"f-12 card-text"},Vo={key:2,class:"f-16 mb-2 text-gray-700 subpixel-antialiased font-semibold"},Lo={key:3,class:"f-12 mb-2 text-secondary-emphasis"},Eo={class:"card p-2 d-flex justify-items-center align-items-center ml-2 Digital_Id_Card_ :lg:p-2",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},Mo={class:"w-100 d-flex justify-content-center align-items-center flex-column"},Ao=e("h1",{class:"text-orange-500 fs-14 subpixel-antialiased font-semibold fw-600"},"EMPLOYEE DETAILS",-1),Uo={class:"row w-100 mt-2"},To=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[L(" Blood Group "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),No={class:"col-6 fs-6 text-blue-900"},Yo={class:"text-left pt-1"},Io={class:"row w-100"},Fo=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[L(" Phone "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Bo={class:"col-6 fs-6 text-blue-900"},Ro={class:"text-left pt-1"},jo={class:"row w-100"},Oo=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900 position-relative"},[L(" Email Id "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Ho={class:"col-6 subpixel-antialiased fs-12"},qo={class:"text-left"},Go={class:"row w-100"},Ko={class:"col fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},zo=e("h1",{class:"text-orange-500 fs-12"},"Residential Address :",-1),Wo={class:"ml-2"},Jo={class:"text-blue-900 mt-2 subpixel-antialiased font-semibold fs-11 text-center"},Zo=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-1 w-100 mt-2 :lg:mt-2"},null,-1),Xo=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-3 w-100 mt-1"},null,-1),Qo={class:"row"},es={class:"col-12"},ts={key:0,class:"text-center font-semibold text-orange-500 fs-14 subpixel-antialiased mt-0 :lg:mt-2"},os={class:"col-12"},ss={class:"fs-11 text-center font-semibold text-blue-900"},ls={class:"col-12"},as={class:"fs-12 text-center font-semibold text-blue-900"},is={class:"col-12"},ns={class:"fs-11 text-center font-semibold lining-nums ... text-blue-900"},ds=e("div",{class:"col-12"},null,-1),rs=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),cs={__name:"EmployeeCard",setup(C){const i=de(),o=g(!1),$=g(!1),b=ee({department:"",reporting_manager:""}),D=ee({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),y=g([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),n=g(!1);let l=le();const v=B=>{B.target.files&&B.target.files[0]&&(l.profile=B.target.files[0]);let x=new FormData;x.append("user_code",l.user_code),x.append("file_object",l.profile);let j="/profile-pages/updateProfilePicture";R.post(j,x).then(J=>{}).finally(()=>{console.log("Photo Sent"),l.getProfilePhoto()})},M=g(),I=g(),h=g(!1),c=g(!1),s=g(!1),p=g("None"),m=B=>{console.log(B),R.post("/profile-pages/updateDepartment",{user_code:l.employeeDetails.user_code,department_id:b.department}).then(x=>{let j=ye._.find(M.value,["id",b.department]).name;console.log("Lodash [Selected Dept]: "+j),l.employeeDetails.get_employee_office_details.department_name=j,p.value="Department updated successfully !",console.log(x.data)}).catch(x=>{p.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+x)}).finally(()=>{s.value=!0,h.value=!1})},O=B=>{console.log("editReportingManager : "+B),R.post("/profile-pages/updateReportingManager",{user_code:l.employeeDetails.user_code,manager_user_code:b.reporting_manager}).then(x=>{let j=ye._.find(I.value,["user_code",b.reporting_manager]);l.employeeDetails.get_employee_office_details.l1_manager_name=j.name,l.employeeDetails.get_employee_office_details.l1_manager_code=j.user_code,p.value="Reporting Manager updated successfully !",console.log(x.data)}).catch(x=>{p.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+x)}).finally(()=>{s.value=!0,c.value=!1})},q=()=>{b.department=l.employeeDetails.get_employee_office_details.department_name,b.reporting_manager=l.employeeDetails.get_employee_office_details.l1_manager_name,console.log(b.department)};ae(()=>{i.DepartmentDetails().then(B=>{M.value=B.data,console.log("testing"+l.employeeDetails.get_employee_office_details.l1_manager_name)}),i.ManagerDetails().then(B=>{I.value=B.data}),q(),console.log()});const G=B=>{B.target.files&&B.target.files[0]&&(D.emp_upload_doc=B.target.files[0],console.log(D.emp_upload_doc))},P=se(()=>({emp_name:{required:re},emp_doc_name:{required:re},emp_upload_doc:{required:re}})),k=be(P,D),A=()=>{k.value.$validate(),k.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),W())},W=()=>{o.value=!0,n.value=!1;const x=`/update-EmplpoyeeName-info/${i.current_user_id}`,j=new FormData;j.append("user_code",l.employeeDetails.user_code),j.append("name",D.emp_name),j.append("onboard_document_type",D.emp_doc_name.name),j.append("emp_doc",D.emp_upload_doc),R.post(x,j).finally(()=>{o.value=!1})},ce=se(()=>{if(l.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(l.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(l.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(l.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(l.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(l.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(l.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(l.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"});return(B,x)=>{const j=V("Toast"),J=V("InputText"),ie=V("Dropdown"),H=V("Dialog"),w=V("ProgressBar"),S=V("ProgressSpinner");return r(),_(ue,null,[a(j),e("div",lt,[e("div",at,[e("div",it,[e("div",nt,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:x[0]||(x[0]=d=>$.value=!0)},rt)]),e("div",ct,[e("div",{class:X(["mx-auto rounded-circle img-xl userActive-status profile-img d-flex justify-content-center align-items-center",[t(l).employeeDetails.short_name_Color?t(l).employeeDetails.short_name_Color:"",t(l).employeeDetails.short_name_Color]]),style:{}},[t(l).profile?(r(),_("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${t(l).profile}`,srcset:"",alt:""},null,8,_t)):T("",!0),t(l).profile?T("",!0):(r(),_("h1",pt,f(t(l).employeeDetails.user_short_name),1)),mt,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:x[1]||(x[1]=d=>v(d))},null,32)],2),e("div",ut,[e("div",ft,[bt,e("div",yt,[e("h6",gt,f(t(l).employeeDetails.name),1)]),e("span",ht,[e("a",vt,[e("i",{class:"ri-pencil-fill",onClick:x[2]||(x[2]=d=>n.value=!0)})])]),a(H,{visible:n.value,"onUpdate:visible":x[6]||(x[6]=d=>n.value=d),modal:"",header:" ",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:u(()=>[e("div",null,[e("div",xt,[e("div",$t,[e("div",Dt,[e("div",wt,[kt,a(J,{type:"text",modelValue:D.emp_name,"onUpdate:modelValue":x[3]||(x[3]=d=>D.emp_name=d),style:{"text-transform":"uppercase"},class:X(["form-controls pl-2",[t(k).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),t(k).emp_name.$error?(r(),_("span",Pt,f(t(k).emp_name.required.$message.replace("Value","Employee Name")),1)):T("",!0)])]),e("div",Ct,[e("div",St,[Vt,a(ie,{modelValue:D.emp_doc_name,"onUpdate:modelValue":x[4]||(x[4]=d=>D.emp_doc_name=d),options:y.value,optionLabel:"name",placeholder:"Select a document ",class:X(["form-controls pl-2 w-full h-12",[t(k).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),t(k).emp_doc_name.$error?(r(),_("span",Lt,f(t(k).emp_doc_name.required.$message.replace("Value","Documents")),1)):T("",!0)])]),e("div",Et,[e("div",Mt,[At,e("div",Ut,[a(j),Tt,D.emp_upload_doc?(r(),_("div",Nt,f(D.emp_upload_doc.name),1)):T("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:x[5]||(x[5]=d=>G(d)),class:X([t(k).emp_upload_doc.$error?"p-invalid":""])},null,34)]),t(k).emp_upload_doc.$error?(r(),_("span",Yt,f(t(k).emp_upload_doc.required.$message.replace("Value","document")),1)):T("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:A},"Submit")])])])])]),_:1},8,["visible"]),It,t(l).employeeDetails.profile_completeness<=39?(r(),pe(w,{key:0,value:t(l).employeeDetails.profile_completeness,class:X([t(l).employeeDetails.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):T("",!0),t(l).employeeDetails.profile_completeness>=40&&t(l).employeeDetails.profile_completeness<=59?(r(),pe(w,{key:1,class:X(["progressbar_val2",[t(l).employeeDetails.profile_completeness>=40&&t(l).employeeDetails.profile_completeness<=59]]),value:t(l).employeeDetails.profile_completeness},null,8,["class","value"])):T("",!0),t(l).employeeDetails.profile_completeness>=60?(r(),pe(w,{key:2,class:X(["progressbar_val3",[t(l).employeeDetails.profile_completeness>=60]]),value:t(l).employeeDetails.profile_completeness},null,8,["class","value"])):T("",!0),Ft]),e("div",Bt,[e("div",Rt,[jt,t(l).employeeDetails.active==1?(r(),_("p",Ot," Active ")):(r(),_("p",Ht,"Not Active"))]),e("div",qt,[Gt,t(l).employeeDetails.user_code?(r(),_("p",Kt,f(t(l).employeeDetails.user_code),1)):(r(),_("p",zt,"-"))]),e("div",Wt,[Jt,t(l).employeeDetails.get_employee_office_details.designation?(r(),_("p",Zt,f(t(l).employeeDetails.get_employee_office_details.designation),1)):(r(),_("p",Xt,"-"))]),e("div",Qt,[eo,t(l).employeeDetails.get_employee_office_details.work_location?(r(),_("p",to,f(t(l).employeeDetails.get_employee_office_details.work_location),1)):(r(),_("p",oo,"-"))]),e("div",so,[e("p",lo,[L(" Department "),t(l).employeeDetails.Current_login_user.org_role==1||t(l).employeeDetails.Current_login_user.org_role==2||t(l).employeeDetails.Current_login_user.org_role==3?(r(),_("a",{key:0,href:"#",class:"edit-icon",onClick:x[7]||(x[7]=d=>h.value=!0)},io)):T("",!0)]),t(l).employeeDetails.get_employee_office_details.department_id?(r(),_("p",no,f(t(l).employeeDetails.get_employee_office_details.department_name),1)):(r(),_("p",ro,"-"))]),e("div",co,[e("p",_o,[L(" Reporting To "),t(l).employeeDetails.Current_login_user.org_role==1||t(l).employeeDetails.Current_login_user.org_role==2||t(l).employeeDetails.Current_login_user.org_role==3?(r(),_("a",{key:0,href:"#",class:"edit-icon",onClick:x[8]||(x[8]=d=>c.value=!0)},mo)):T("",!0)]),t(l).employeeDetails.get_employee_office_details.l1_manager_code?(r(),_("p",uo,f(t(l).employeeDetails.get_employee_office_details.l1_manager_name)+"  - "+f(t(l).employeeDetails.get_employee_office_details.l1_manager_code),1)):(r(),_("p",fo,"-"))])]),bo])])])])]),a(H,{header:"Status",visible:s.value,"onUpdate:visible":x[9]||(x[9]=d=>s.value=d),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:u(()=>[e("div",yo,[go,e("span",null,f(p.value),1)])]),_:1},8,["visible"]),a(H,{visible:h.value,"onUpdate:visible":x[11]||(x[11]=d=>h.value=d),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:u(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:m}," Save ")])]),default:u(()=>[a(ie,{options:M.value,optionLabel:"name",modelValue:b.department,"onUpdate:modelValue":x[10]||(x[10]=d=>b.department=d),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),a(H,{visible:c.value,"onUpdate:visible":x[13]||(x[13]=d=>c.value=d),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:u(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:O}," Save ")])]),default:u(()=>[a(ie,{optionLabel:"name",options:I.value,modelValue:b.reporting_manager,"onUpdate:modelValue":x[12]||(x[12]=d=>b.reporting_manager=d),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),a(H,{visible:$.value,"onUpdate:visible":x[14]||(x[14]=d=>$.value=d),modal:"",header:"",style:z([{width:"45vw",borderTop:"5px solid #002f56"},{"@media (min-width":"1024px){background-image:particular_ad_small.png"}])},{header:u(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:u(()=>[e("div",ho,[e("div",vo,[e("div",xo,[e("img",{src:`${t(l).employeeDetails.client_logo}`,alt:"",style:{"object-fit":"cover"}},null,8,$o)]),e("div",Do,[e("div",{class:X(["mx-auto rounded-circle img-xl userActive-status profile-img d-flex justify-content-center align-items-center",[t(l).profile?"":t(l).employeeDetails.short_name_Color,t(l).employeeDetails.short_name_Color]])},[t(l).profile?(r(),_("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border object-cover",src:`data:image/png;base64,${t(l).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"80px",height:"80px"}},null,8,wo)):T("",!0),t(l).profile?T("",!0):(r(),_("h1",ko,f(t(l).employeeDetails.user_short_name),1))],2),e("h1",Po,f(t(l).employeeDetails.name),1),t(l).employeeDetails.get_employee_office_details.department_id?(r(),_("h5",Co,f(t(l).employeeDetails.get_employee_office_details.department_name),1)):(r(),_("h1",So,"-")),t(l).employeeDetails.user_code?(r(),_("h5",Vo,f(t(l).employeeDetails.user_code),1)):(r(),_("p",Lo,"-"))])]),e("div",Eo,[e("div",Mo,[Ao,e("div",Uo,[To,e("div",No,[e("h1",Yo,f(t(ce)),1)])]),e("div",Io,[Fo,e("div",Bo,[e("h1",Ro,f(t(l).employeeDetails.get_employee_details.mobile_number),1)])]),e("div",jo,[Oo,e("div",Ho,[e("h1",qo,f(t(l).employeeDetails.get_employee_office_details.officical_mail),1)])]),e("div",Go,[e("div",Ko,[zo,e("div",Wo,[e("p",Jo,f(t(l).employeeDetails.get_employee_details.current_address_line_1),1)])])]),Zo,Xo,e("div",Qo,[e("div",es,[t(l).employeeDetails.client_details.client_name?(r(),_("h1",ts,f(t(l).employeeDetails.client_details.client_name),1)):T("",!0)]),e("div",os,[e("h1",ss,f(t(l).employeeDetails.client_details.address),1)]),e("div",ls,[e("h1",as,f(t(l).employeeDetails.client_details.authorised_person_contact_email),1)]),e("div",is,[e("h1",ns,f(t(l).employeeDetails.client_details.authorised_person_contact_number),1)]),ds])])])])]),_:1},8,["visible"]),a(H,{header:"Header",visible:o.value,"onUpdate:visible":x[15]||(x[15]=d=>o.value=d),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:u(()=>[a(S,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:u(()=>[rs]),_:1},8,["visible"])],64)}}};var ge;const _s=typeof window<"u";_s&&((ge=window==null?void 0:window.navigator)!=null&&ge.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function he(C){return typeof C=="function"?C():t(C)}const ps=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ms=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,us=(C,i,o,$)=>{let b=C<12?"AM":"PM";return $&&(b=b.split("").reduce((D,y)=>D+=`${y}.`,"")),o?b.toLowerCase():b},fs=(C,i,o={})=>{var $;const b=C.getFullYear(),D=C.getMonth(),y=C.getDate(),n=C.getHours(),l=C.getMinutes(),v=C.getSeconds(),M=C.getMilliseconds(),I=C.getDay(),h=($=o.customMeridiem)!=null?$:us,c={YY:()=>String(b).slice(-2),YYYY:()=>b,M:()=>D+1,MM:()=>`${D+1}`.padStart(2,"0"),MMM:()=>C.toLocaleDateString(o.locales,{month:"short"}),MMMM:()=>C.toLocaleDateString(o.locales,{month:"long"}),D:()=>String(y),DD:()=>`${y}`.padStart(2,"0"),H:()=>String(n),HH:()=>`${n}`.padStart(2,"0"),h:()=>`${n%12||12}`.padStart(1,"0"),hh:()=>`${n%12||12}`.padStart(2,"0"),m:()=>String(l),mm:()=>`${l}`.padStart(2,"0"),s:()=>String(v),ss:()=>`${v}`.padStart(2,"0"),SSS:()=>`${M}`.padStart(3,"0"),d:()=>I,dd:()=>C.toLocaleDateString(o.locales,{weekday:"narrow"}),ddd:()=>C.toLocaleDateString(o.locales,{weekday:"short"}),dddd:()=>C.toLocaleDateString(o.locales,{weekday:"long"}),A:()=>h(n,l),AA:()=>h(n,l,!1,!0),a:()=>h(n,l,!0),aa:()=>h(n,l,!0,!0)};return i.replace(ms,(s,p)=>p||c[s]())},bs=C=>{if(C===null)return new Date(NaN);if(C===void 0)return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){const i=C.match(ps);if(i){const o=i[2]-1||0,$=(i[7]||"0").substring(0,3);return new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,$)}}return new Date(C)};function me(C,i="HH:mm:ss",o={}){return se(()=>fs(bs(he(C)),he(i),o))}const N=C=>(we("data-v-4f1b3639"),C=C(),ke(),C),ys=N(()=>e("h5",{style:{"text-align":"center"}},"Please wait...",-1)),gs={class:"mb-2 card"},hs={class:"card-body"},vs={class:"fw-bold mb-3 fs-15"},xs=N(()=>e("i",{class:"ri-pencil-fill"},null,-1)),$s=[xs],Ds={class:"row"},ws={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},ks={class:"mb-3 form-group"},Ps=N(()=>e("label",{style:{marginLeft:"10px"}},[L("Birth Date"),e("span",{class:"text-danger"},"*")],-1)),Cs={class:"cal-icon"},Ss={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Vs={class:"mb-1 form-group"},Ls=N(()=>e("label",null,[L("Gender"),e("span",{class:"text-danger"},"*")],-1)),Es={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Ms={class:"mb-1 form-group"},As=N(()=>e("label",{style:{marginLeft:"10px",marginRight:"10px"}},[L("Marital status "),e("span",{class:"text-danger"},"*")],-1)),Us={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Ts={class:"mb-2 form-group"},Ns=N(()=>e("label",null,[L("Blood Group"),e("span",{class:"text-danger"},"*")],-1)),Ys={class:"cal-icon"},Is={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Fs={class:"form-group w-full",style:{marginLeft:"10px"}},Bs=N(()=>e("label",{class:"my-1"},"Physically Handicapped",-1)),Rs=N(()=>e("div",{class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},[e("div",{class:"mb-3 form-group"})],-1)),js={class:"text-right col-12"},Os={class:"personal-info"},Hs={class:"pb-1 border-bottom-liteAsh"},qs=N(()=>e("div",{class:"title"},"Birthday",-1)),Gs={class:"text"},Ks={class:"pb-1 border-bottom-liteAsh"},zs=N(()=>e("div",{class:"title"},"Gender ",-1)),Ws={class:"text"},Js={class:"pb-1 border-bottom-liteAsh"},Zs=N(()=>e("div",{class:"title"},"Date Of Joining (DOJ)",-1)),Xs={class:"text"},Qs={class:"pb-1 border-bottom-liteAsh"},el=N(()=>e("div",{class:"title"},"Marital Status ",-1)),tl={class:"text text-capitalize"},ol={class:"pb-1 border-bottom-liteAsh"},sl=N(()=>e("div",{class:"title"}," Blood Group",-1)),ll={class:"text"},al={class:"pb-1"},il=N(()=>e("div",{class:"title"},"Physically Handicapped",-1)),nl={class:"text"},dl={class:"mb-2 card"},rl={class:"card-body"},cl={class:"mb-3 fw-bold fs-15"},_l=N(()=>e("i",{class:"ri-pencil-fill"},null,-1)),pl=[_l],ml={class:"modal-body"},ul={class:"row"},fl={class:"col-md-6"},bl={class:"mb-3 form-group"},yl=N(()=>e("label",null,"Personal Email",-1)),gl={class:"col-md-6"},hl={class:"mb-3 form-group"},vl=N(()=>e("label",null," Office Email",-1)),xl={class:"col-md-6"},$l={class:"mb-3 form-group"},Dl=N(()=>e("label",null,"Mobile Number",-1)),wl={class:"col-md-6"},kl={class:"mb-3 form-group"},Pl=N(()=>e("label",null,"Official Mobile Number",-1)),Cl={class:"personal-info"},Sl={class:"pb-1 border-bottom-liteAsh"},Vl=N(()=>e("div",{class:"title"},"Personal Email",-1)),Ll={class:"text"},El={class:"pb-1 border-bottom-liteAsh"},Ml=N(()=>e("div",{class:"title"},"Official Email",-1)),Al={class:"text"},Ul={class:"pb-1"},Tl=N(()=>e("div",{class:"title"},"Mobile Number",-1)),Nl={class:"text"},Yl={class:"pb-1"},Il=N(()=>e("div",{class:"title"},"Official Mobile Number",-1)),Fl={key:0,class:"text"},Bl={key:1,class:"text"},Rl={class:"mb-2 card"},jl={class:"card-body"},Ol={class:"ml-2 fw-bold fs-15"},Hl=N(()=>e("i",{class:"ri-pencil-fill"},null,-1)),ql=[Hl],Gl={class:"modal-body"},Kl={class:"col-md-12"},zl={class:"mb-3 form-group"},Wl=N(()=>e("label",null,"Current Address",-1)),Jl={class:"mb-3 form-group"},Zl=N(()=>e("label",null,"Permanent Address ",-1)),Xl={class:"col-12"},Ql={class:"d-flex justify-content-between align-items-center"},ea={class:"d-flex justify-content-center align-items-center"},ta=N(()=>e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1)),oa={class:""},sa={class:"row"},la={class:"col-6"},aa={class:"personal-info"},ia={class:"pb-1 border-bottom-liteAsh flex-column"},na=N(()=>e("div",{class:"title"},"Current Address ",-1)),da={key:0,class:"text"},ra={key:1},ca={class:"col-6"},_a={class:"personal-info"},pa={class:"pb-1 border-bottom-liteAsh flex-column"},ma=N(()=>e("div",{class:"title"},"Permanent Address ",-1)),ua={key:0,class:"text d-flex justify-items-center w-100"},fa={key:1,class:"text d-flex justify-items-center w-100"},ba={__name:"EmployeeDetails",setup(C){const i=de(),o=le(),$=g(!1),b=ne(),D=ne(),y=g(!1),n=g(!1),l=g(!1),v=ee({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),M=g([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),I=g(),h=ee({email:"",official_email:"",mobile_number:"",official_mobile_number:""}),c=g(),s=ee({current_address:"",Permanent_Address:""}),p=g(!1);function m(){p.value==1?s.Permanent_Address=s.current_address:p.value=!1}const O=se(()=>o.employeeDetails.get_employee_details.gender=="male"?"Male":o.employeeDetails.get_employee_details.gender=="female"?"Female":o.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),q=se(()=>o.employeeDetails.get_employee_details.marital_status),G=se(()=>{if(o.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(o.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(o.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(o.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(o.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(o.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(o.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(o.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),P=se(()=>{if(o.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(o.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"}),k=g([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),A=g(),W=g();Ke(),ae(()=>{o.fetchEmployeeDetails(),i.getBloodGroups().then(H=>{console.log(H.data),A.value=H.data}),i.getMaritalStatus().then(H=>{console.log(H),W.value=H.data})});function ce(){console.log("Opening General Info Dialog"),v.dob=o.employeeDetails.get_employee_details.dob,v.doj=o.employeeDetails.get_employee_details.doj,v.marital_status_id=parseInt(o.employeeDetails.get_employee_details.marital_status_id),v.gender=o.employeeDetails.get_employee_details.gender,v.blood_group_id=parseInt(o.employeeDetails.get_employee_details.blood_group_id),v.physically_challenged=o.employeeDetails.get_employee_details.physically_challenged,y.value=!0}function B(){console.log(v.dob),$.value=!0;let w=`/profile-pages-update-generalinfo/${i.current_user_id}`;R.post(w,{user_code:o.employeeDetails.user_code,dob:K(v.dob).format("YYYY-MM-DD"),gender:v.gender,marital_status_id:v.marital_status_id,doj:v.doj,blood_group_id:v.blood_group_id,physically_challenged:v.physically_challenged}).then(S=>{S.data.status=="success"?(o.employeeDetails.get_employee_details.dob=me(v.dob,"YYYY-MM-DD"),o.employeeDetails.gender=v.gender,o.employeeDetails.marital_status_id=v.marital_status_id,o.employeeDetails.get_employee_details.doj=v.doj,o.employeeDetails.blood_group_id=v.blood_group_id,o.employeeDetails.physically_challenged=v.physically_challenged):S.data.status=="failure"&&(leave_data.leave_request_error_messege=S.data.message)}).catch(S=>{console.log(S)}).finally(()=>{o.fetchEmployeeDetails(),$.value=!1,b.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})}),y.value=!1}function x(){console.log("Opening General Info Dialog : "),h.email=o.employeeDetails.email,h.official_email=o.employeeDetails.get_employee_office_details.officical_mail,h.mobile_number=parseInt(o.employeeDetails.get_employee_details.mobile_number),o.employeeDetails.get_employee_office_details.official_mobile?h.official_mobile_number=parseInt(o.employeeDetails.get_employee_office_details.official_mobile):h.official_mobile_number=0,console.log("testing"),n.value=!0}function j(){let w=`/profile-pages-update-contactinfo/${i.current_user_id}`;$.value=!0,R.post(w,{user_code:o.employeeDetails.user_code,email:h.email,officical_mail:h.official_email,mobile_number:h.mobile_number,official_mobile_number:parseInt(h.official_mobile_number)}).then(S=>{S.data.status=="success"?(b.add({severity:"success",summary:"Updated",detail:"Contact information updated",life:3e3}),o.employeeDetails.email=h.email,o.employeeDetails.get_employee_office_details.officical_mail=h.official_email,o.employeeDetails.get_employee_details.mobile_number=h.mobile_number,o.employeeDetails.get_employee_office_details.official_mobile=h.official_mobile_number):S.data.status=="failure"&&(I.leave_request_error_messege=S.data.message)}).catch(S=>{console.log(S)}).finally(()=>{o.fetchEmployeeDetails(),$.value=!1}),n.value=!1}function J(){console.log("Opening General Info Dialog"),s.current_address=o.employeeDetails.get_employee_details.current_address_line_1,s.Permanent_Address=o.employeeDetails.get_employee_details.permanent_address_line_1,l.value=!0}const ie=()=>{if($.value=!0,s.current_address==" "||s.Permanent_Address==" ")D.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3});else{let w=`/profile-pages-update-address_info/${i.current_user_id}`;R.post(w,{user_code:o.employeeDetails.user_code,current_address_line_1:s.current_address,permanent_address_line_1:s.Permanent_Address}).then(S=>{data_checking.value=!1,S.data.status=="success"?(b.add({severity:"success",summary:"Updated",detail:"Address information updated",life:3e3}),o.employeeDetails.current_address_line_1=s.current_address,o.employeeDetails.get_employee_office_details.permanent_address_line_1=s.Permanent_Address):S.data.status=="failure"&&(c.leave_request_error_messege=S.data.message)}).catch(S=>{console.log(S)}).finally(()=>{o.fetchEmployeeDetails(),$.value=!1}),l.value=!1}};return(H,w)=>{const S=V("Toast"),d=V("ProgressSpinner"),F=V("Dialog"),te=V("Calendar"),oe=V("Dropdown"),_e=V("InputMask");return r(),_(ue,null,[a(S),a(F,{header:"Header",visible:$.value,"onUpdate:visible":w[0]||(w[0]=U=>$.value=U),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:u(()=>[a(d,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:u(()=>[ys]),_:1},8,["visible"]),e("div",gs,[e("div",hs,[e("h6",vs,[L("General Information "),e("a",{type:"button",class:"edit-icon",onClick:ce},$s),a(F,{visible:y.value,"onUpdate:visible":w[7]||(w[7]=U=>y.value=U),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:u(()=>[e("div",Ds,[e("div",ws,[e("div",ks,[Ps,e("div",Cs,[a(te,{class:"mb-3 form-selects",modelValue:v.dob,"onUpdate:modelValue":w[1]||(w[1]=U=>v.dob=U),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Ss,[e("div",Vs,[Ls,a(oe,{modelValue:v.gender,"onUpdate:modelValue":w[2]||(w[2]=U=>v.gender=U),options:M.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects"},null,8,["modelValue","options"])])]),e("div",Es,[e("div",Ms,[As,a(oe,{modelValue:v.marital_status_id,"onUpdate:modelValue":w[3]||(w[3]=U=>v.marital_status_id=U),options:W.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects",style:{marginLeft:"10px",marginRight:"10px"}},null,8,["modelValue","options"])])]),e("div",Us,[e("div",Ts,[Ns,e("div",Ys,[a(oe,{modelValue:v.blood_group_id,"onUpdate:modelValue":w[4]||(w[4]=U=>v.blood_group_id=U),options:A.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects"},null,8,["modelValue","options"])])])]),e("div",Is,[e("div",Fs,[Bs,a(oe,{modelValue:v.physically_challenged,"onUpdate:modelValue":w[5]||(w[5]=U=>v.physically_challenged=U),options:k.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects"},null,8,["modelValue","options"])])]),Rs]),e("div",js,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:w[6]||(w[6]=U=>B())},"Save")])]),_:1},8,["visible"])]),e("div",null,[e("ul",Os,[e("li",Hs,[qs,e("div",Gs,f(t(K)(t(o).employeeDetails.get_employee_details.dob).format("DD-MMM-YYYY")),1)]),e("li",Ks,[zs,e("div",Ws,f(t(O)),1)]),e("li",Js,[Zs,e("div",Xs,f(t(K)(t(o).employeeDetails.get_employee_details.doj).format("DD-MMM-YYYY")),1)]),e("li",Qs,[el,e("div",tl,f(t(q)),1)]),e("li",ol,[sl,e("div",ll,f(t(G)),1)]),e("li",al,[il,e("div",nl,f(t(P)),1)])])])])]),e("div",dl,[e("div",rl,[e("h6",cl,[L("Contact Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:x},pl)]),a(F,{visible:n.value,"onUpdate:visible":w[12]||(w[12]=U=>n.value=U),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:u(()=>[e("div",ml,[e("div",ul,[e("div",fl,[e("div",bl,[yl,Z(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":w[8]||(w[8]=U=>h.email=U)},null,512),[[Q,h.email]])])]),e("div",gl,[e("div",hl,[vl,Z(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":w[9]||(w[9]=U=>h.official_email=U)},null,512),[[Q,h.official_email]])])]),e("div",xl,[e("div",$l,[Dl,a(_e,{id:"basic",class:"form-control h-10",modelValue:h.mobile_number,"onUpdate:modelValue":w[10]||(w[10]=U=>h.mobile_number=U),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",wl,[e("div",kl,[Pl,a(_e,{id:"basic",class:"form-control h-10",modelValue:h.official_mobile_number,"onUpdate:modelValue":w[11]||(w[11]=U=>h.official_mobile_number=U),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:j},"Save")])])])])]),_:1},8,["visible"])]),e("div",null,[e("ul",Cl,[e("li",Sl,[Vl,e("div",Ll,f(t(o).employeeDetails.email),1)]),e("li",El,[Ml,e("div",Al,f(t(o).employeeDetails.get_employee_office_details.officical_mail),1)]),e("li",Ul,[Tl,e("div",Nl,f(t(o).employeeDetails.get_employee_details.mobile_number),1)]),e("li",Yl,[Il,t(o).employeeDetails.get_employee_office_details.official_mobile?(r(),_("div",Bl,f(t(o).employeeDetails.get_employee_office_details.official_mobile),1)):(r(),_("div",Fl," - "))])])])])]),e("div",Rl,[e("div",jl,[e("h6",Ol,[L("Address "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:J},ql)]),a(F,{visible:l.value,"onUpdate:visible":w[16]||(w[16]=U=>l.value=U),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:u(()=>[e("div",Gl,[e("div",Kl,[e("div",zl,[Wl,Z(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":w[13]||(w[13]=U=>s.current_address=U)},null,512),[[Q,s.current_address]])]),e("div",Jl,[Zl,Z(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":w[14]||(w[14]=U=>s.Permanent_Address=U)},null,512),[[Q,s.Permanent_Address]])])]),e("div",Xl,[e("div",Ql,[e("div",ea,[Z(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":w[15]||(w[15]=U=>p.value=U),style:{width:"20px",height:"20px"},onChange:m,value:1},null,544),[[De,p.value]]),ta]),e("div",oa,[a(S),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:ie,severity:"warn"},"Save")])])])])]),_:1},8,["visible"])]),e("div",null,[e("div",sa,[e("div",la,[e("ul",aa,[e("li",ia,[na,t(o).employeeDetails.get_employee_details.current_address_line_1=="none"?(r(),_("div",da," - ")):(r(),_("div",ra,f(t(o).employeeDetails.get_employee_details.current_address_line_1),1))])])]),e("div",ca,[e("ul",_a,[e("li",pa,[ma,t(o).employeeDetails.get_employee_details.permanent_address_line_1=="none"?(r(),_("div",ua," - ")):(r(),_("div",fa,f(t(o).employeeDetails.get_employee_details.permanent_address_line_1),1))])])])])])])])],64)}}},ya=st(ba,[["__scopeId","data-v-4f1b3639"]]);const ga={class:"mb-2 card"},ha={class:"card-body"},va={class:"fw-bold fs-15"},xa={class:"space-between"},$a={class:"flex-col input_text"},Da=e("span",null,[L("Name "),e("span",{class:"text-danger"},"*")],-1),wa={class:"flex-col input_text"},ka=e("span",null,[L("Relationship"),e("span",{class:"text-danger"},"*")],-1),Pa={class:"space-between M-T mr-4"},Ca={class:"flex-col input_text"},Sa=e("span",null,[L("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Va={class:"flex-col input_text"},La=e("span",null,[L("phone"),e("span",{class:"text-danger"},"*")],-1),Ea={class:"my-6 table-responsive"},Ma={key:0},Aa={key:1},Ua=["onClick"],Ta=["onClick"],Na={class:"space-between"},Ya={class:"flex-col input_text"},Ia=e("span",null,[L("Name "),e("span",{class:"text-danger"},"*")],-1),Fa={class:"flex-col input_text"},Ba=e("span",null,[L("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ra={class:"space-between M-T"},ja={class:"flex-col input_text"},Oa=e("span",null,[L("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Ha={class:"flex-col input_text"},qa=e("span",null,[L("phone"),e("span",{class:"text-danger"},"*")],-1),Ga={__name:"FamilyDetails",setup(C){const i=de(),o=le(),$=ne();g("");const b=g(!1),D=g(!1),y=ee({name:"",relationship:"",dob:"",phone_number:""}),n=ee({name:"",relationship:"",dob:"",phone_number:""}),l=g(),v=()=>{o.loading_screen=!0;let s=`/add-family-info/${i.current_user_id}`;R.post(s,{user_code:o.employeeDetails.user_code,name:y.name,relationship:y.relationship,dob:K(y.dob).format("YYYY-MM-DD"),phone_number:y.phone_number}).then(p=>{p.data.status=="success"?($.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),o.employeeDetails.get_family_details.dob=me(y.dob,"YYYY-MM-DD"),o.employeeDetails.get_family_details.name=y.gender,o.employeeDetails.get_family_details.relationship=y.relationship,o.employeeDetails.get_family_details.phone_number=y.phone_number):p.data.status=="failure"}).catch(p=>{console.log(p)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1}),b.value=!1},M=c=>{D.value=!0,l.value=c.id,n.name=c.name,n.relationship=c.relationship,n.dob=c.dob,n.phone_number=c.phone_number},I=c=>{o.loading_screen=!0,l.value=c.id;let p=` /delete-family-info/${i.current_user_id}`;R.post(p,{current_table_id:l.value}).then(m=>{m.data.status=="success"?($.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),o.employeeDetails.get_family_details.dob=me(y.dob,"YYYY-MM-DD"),o.employeeDetails.get_family_details.name=y.gender,o.employeeDetails.get_family_details.relationship=y.relationship,o.employeeDetails.get_family_details.phone_number=y.phone_number):m.data.status=="failure"&&(leave_data.leave_request_error_messege=m.data.message)}).catch(m=>{console.log(m)}).finally(()=>{o.loading_screen=!1,o.fetchEmployeeDetails()})},h=c=>{o.loading_screen=!0;let p=`/update-family-info/${i.current_user_id}`;R.post(p,{user_code:o.employeeDetails.user_code,current_table_id:l.value,name:n.name,relationship:n.relationship,dob:K(n.dob).format("YYYY-MM-DD"),phone_number:n.phone_number}).then(m=>{m.data.status=="success"?($.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),o.employeeDetails.get_family_details.dob=me(n.dob,"YYYY-MM-DD"),o.employeeDetails.get_family_details.name=n.gender,o.employeeDetails.get_family_details.relationship=y.relationship,o.employeeDetails.get_family_details.phone_number=n.phone_number):m.data.status=="failure"&&(leave_data.leave_request_error_messege=m.data.message)}).catch(m=>{console.log(m)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1}),D.value=!1};return ae(()=>{}),(c,s)=>{const p=V("Calendar"),m=V("Toast"),O=V("Dialog"),q=V("Column"),G=V("DataTable");return r(),_("div",ga,[e("div",ha,[e("h6",va,[L("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",onClick:s[0]||(s[0]=P=>b.value=!0)}," Add New "),a(O,{visible:b.value,"onUpdate:visible":s[5]||(s[5]=P=>b.value=P),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:u(()=>[a(m),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:v},"submit")])]),default:u(()=>[e("div",xa,[e("div",$a,[Da,Z(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":s[1]||(s[1]=P=>y.name=P)},null,512),[[Q,y.name]])]),e("div",wa,[ka,Z(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":s[2]||(s[2]=P=>y.relationship=P),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[Q,y.relationship]])])]),e("div",Pa,[e("div",Ca,[Sa,a(p,{dateFormat:"dd/mm/yy",modelValue:y.dob,"onUpdate:modelValue":s[3]||(s[3]=P=>y.dob=P),class:"h-10 w-full",minDate:c.minDate,maxDate:c.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Va,[La,Z(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=P=>y.phone_number=P)},null,512),[[Q,y.phone_number]])])])]),_:1},8,["visible"])]),e("div",Ea,[a(G,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:t(o).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:u(()=>[a(q,{header:"Name",field:"name",style:{"min-width":"8rem"}}),a(q,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),a(q,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:u(P=>[P.data.dob=="Invalid Date"?(r(),_("div",Ma," - ")):(r(),_("div",Aa,f(t(K)(P.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),a(q,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),a(q,{exportable:!1,header:"Action",style:{"min-width":"20rem"}},{body:u(P=>[e("button",{class:"mr-3 btn btn-success",onClick:k=>M(P.data)},"Edit",8,Ua),e("button",{class:"btn btn-danger",onClick:k=>I(P.data)},"Delete",8,Ta),e("template",null,[a(O,{visible:D.value,"onUpdate:visible":s[10]||(s[10]=k=>D.value=k),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:u(()=>[a(m),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:h},"submit")])]),default:u(()=>[e("div",Na,[e("div",Ya,[Ia,Z(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":s[6]||(s[6]=k=>n.name=k),required:""},null,512),[[Q,n.name]])]),e("div",Fa,[Ba,Z(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":s[7]||(s[7]=k=>n.relationship=k),required:""},null,512),[[Q,n.relationship]])])]),e("div",Ra,[e("div",ja,[Oa,Z(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":s[8]||(s[8]=k=>n.dob=k)},null,512),[[Q,n.dob]])]),e("div",Ha,[qa,Z(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=k=>n.phone_number=k)},null,512),[[Q,n.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}},Ka=Oe("employeePayslipStore",()=>{const C=ve(),i=g(),o=g(),$=g(!1),b=new URLSearchParams(window.location.search);function D(){return b.has("uid")?b.get("uid"):""}async function y(){R.post("/payroll/paycheck/getEmployeeAllPayslipList",{uid:D()}).then(M=>{i.value=M.data.data})}async function n(M,I){let h=parseInt(K(I).month())+1,c=K(I).year();await R.post("/payroll/paycheck/getEmployeePayslipDetailsAsHTML",{uid:D(),user_code:M,month:h,year:c}).then(s=>{o.value=s.data,$.value=!0})}function l(M,I,h){const c=M,s=document.createElement("a"),p=`${I}-${h}.pdf`;s.href=c,s.download=p,s.click()}async function v(M,I){C.loading=!0,console.log("Downloading payslip PDF.....");let h=parseInt(K(I).month())+1,c=K(I).year();await R.post("/payroll/paycheck/getEmployeePayslipDetailsAsPDF",{uid:D(),user_code:M,month:h,year:c}).then(s=>{if(console.log(" Response [downloadPayslipReleaseStatus] : "+JSON.stringify(s.data.data)),s.data.data){let p=s.data.data,m=s.data.emp_name,O=s.data.emp_month;p.startsWith("JVB")?(p="data:application/pdf;base64,"+p,l(p,m,O)):p.startsWith("data:application/pdf;base64")&&l(p)}else console.log("Response Url Not Found")}).finally(()=>{C.loading=!1})}return{array_employeePayslips_list:i,paySlipHTMLView:o,canShowPayslipView:$,getEmployeeAllPayslipList:y,getEmployeePayslipDetailsAsHTML:n,getEmployeePayslipDetailsAsPDF:v}}),za={class:"my-4"},Wa={class:"card flex justify-content-center inline-flex"},Ja=["innerHTML"],Za={__name:"EmployeePayslips",setup(C){const i=Ka();ae(async()=>{console.log("EmployeePayslips,vue loaded"),await i.getEmployeeAllPayslipList()});const o=g({PAYROLL_MONTH:{value:null,matchMode:fe.STARTS_WITH,matchMode:fe.EQUALS,matchMode:fe.CONTAINS}});return($,b)=>{const D=V("Column"),y=V("Button"),n=V("column"),l=V("DataTable"),v=V("Dialog");return r(),_(ue,null,[e("div",za,[a(l,{value:t(i).array_employeePayslips_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],sortField:"PAYROLL_MONTH",sortOrder:-1,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:o.value,"onUpdate:filters":b[0]||(b[0]=M=>o.value=M),filterDisplay:"menu",loading:$.loading2,globalFilterFields:["name"]},{default:u(()=>[a(D,{field:"PAYROLL_MONTH",header:"Month",sortable:!0},{body:u(M=>[L(f(t(K)(M.data.PAYROLL_MONTH).format("DD-MMM-YYYY")),1)]),_:1}),a(D,{field:"TOTAL_EARNED_GROSS",header:"Gross Pay"}),a(D,{field:"Reimbursements",header:"Reimbursements"},{body:u(M=>[L(f(0))]),_:1}),a(D,{field:"TOTAL_DEDUCTIONS",header:"Deductions"}),a(D,{field:"NET_TAKE_HOME",header:"Take Home"}),a(D,{header:"Action"},{body:u(M=>[a(y,{class:"btn-primary z-0",label:"View ",onClick:I=>t(i).getEmployeePayslipDetailsAsHTML("",M.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1}),a(n,{header:"Download"},{body:u(M=>[a(y,{class:"btn-primary z-0",label:"Download ",onClick:I=>t(i).getEmployeePayslipDetailsAsPDF("",M.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])]),e("div",Wa,[a(v,{visible:t(i).canShowPayslipView,"onUpdate:visible":b[1]||(b[1]=M=>t(i).canShowPayslipView=M),modal:"",header:"Payslip",style:{width:"58vw"}},{default:u(()=>[e("div",{innerHTML:t(i).paySlipHTMLView},null,8,Ja)]),_:1},8,["visible"])])],64)}}};const Xa=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),Qa={class:"tab-content",id:"pills-tabContent"},ei={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},ti={class:"mb-2 card"},oi={class:"card-body"},si={action:"",method:"POST",enctype:"multipart/form-data"},li=e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:"mb-2 fs-15 z-0"}," Payroll Summary ")],-1),ai={class:"personal-info"},ii={class:"pb-1 border-bottom-liteAsh"},ni=e("div",{class:"title"},"Last Processed",-1),di={class:"text"},ri={key:0,class:""},ci={key:1},_i={class:"pb-1 border-bottom-liteAsh"},pi=e("div",{class:"title"},"Total Working Days",-1),mi={class:"text"},ui={key:0},fi={key:1},bi={class:"pb-1"},yi=e("div",{class:"title"},"Loss Of Pay(LOP)",-1),gi={class:"text"},hi={key:0},vi={key:1},xi={class:"mb-2 card"},$i={class:"card-body"},Di=e("i",{class:"ri-pencil-fill"},null,-1),wi=[Di],ki={class:"modal-body"},Pi={class:"row"},Ci={class:"col-md-6"},Si={class:"mb-3 form-group"},Vi=e("label",null,"Bank Name",-1),Li={class:"col-md-6"},Ei={class:"mb-3 form-group"},Mi=e("label",null,"Bank Account No",-1),Ai=e("div",{class:"cal-icon"},null,-1),Ui={class:"col-md-6"},Ti={class:"mb-3 form-group"},Ni=e("label",null,"IFSC Code",-1),Yi={class:"col-md-6"},Ii={class:"floating d-block justify-items-start al"},Fi=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),Bi={class:"flex justify-content-start"},Ri=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),ji={class:"d-flex flex-column justify-content-center align-items-center border"},Oi={key:0,class:"text-red-400 fs-6 font-semibold text-center"},Hi={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},qi={class:"personal-info"},Gi=e("div",{class:"title"},"Bank Name",-1),Ki={class:"text"},zi=e("div",{class:"title"},"Bank Account No.",-1),Wi={class:"text"},Ji=e("div",{class:"title"},"IFSC Code",-1),Zi={class:"text"},Xi=e("div",{class:"title"},"PAN No",-1),Qi={class:"text w-20"},en={class:"personal-edit"},tn={href:"#",class:"edit-icon",style:{color:"#e63b1f"}},on={class:"modal-body"},sn={class:"row"},ln={class:"col-md-6"},an={class:"mb-3 form-group"},nn=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),dn={key:0,class:"text-red-400 fs-6 font-semibold"},rn={class:"col-md-6 d-flex flex-column"},cn={class:"d-flex justify-items-center flex-column ml-10"},_n=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),pn={class:"d-flex justify-items-center align-items-center"},mn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),un={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},fn={key:0,class:"text-red-400 fs-6 font-semibold"},bn={class:"mb-2 card"},yn={class:"card-body"},gn={class:"mb-2 fw-bold fs-15"},hn={class:"personal-edit"},vn=e("i",{class:"ri-pencil-fill"},null,-1),xn=[vn],$n={class:"modal-body"},Dn={class:"row"},wn={class:"col"},kn=e("label",{for:"",class:""},[L("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),Pn={class:"col"},Cn=e("label",{class:"ml-2"},"EPF Number",-1),Sn={class:"row"},Vn={class:"col"},Ln=e("label",{class:"ml-1"},"UAN Number",-1),En={class:"col ml-2"},Mn=e("label",{class:"ml-2"},[L("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),An={class:"row"},Un={class:"col-6"},Tn=e("label",{for:"",class:"ml-2"},"ESIC Number",-1),Nn=e("div",{class:"col"},null,-1),Yn={key:0,class:"personal-info"},In=e("div",{class:"title"},"PF Applicable",-1),Fn={class:"text"},Bn=e("div",{class:"title"},"EPF Number",-1),Rn={class:"text"},jn=e("div",{class:"title"},"UAN Number",-1),On={key:0,class:"text"},Hn={key:1,class:"text"},qn=e("div",{class:"title"},"ESIC Applicable",-1),Gn={class:"text"},Kn=e("div",{class:"title"},"ESIC Number",-1),zn={class:"text"},Wn={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Jn={class:"mb-2 card"},Zn={class:"card-body"},Xn=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Qn={__name:"FinanceDetails",setup(C){const i=le(),o=de(),$=ne(),b=g(!1),D=g(!1),y=g();y.value=i.employeeDetails.payroll_summary,console.log("testing payroll summary :",y.value);let n=new FormData;n.append("user_code",de.current_user_code),n.append("file_object",le.value);let l="/profile-pages/updateProfilePicture";R.post(l,n).then(S=>{}).finally(()=>{console.log("Photo Sent")});const v=g([]),M=g();v.value.push(i.employeeDetails.get_statutory_details),ae(()=>{o.getBankList().then(S=>{M.value=S.data}),i.fetchEmployeeDetails()});const I=g(!1),h=g(!1);g(),g();const c=ee({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),s=ee({pan_no:"",Pancard:""}),p=S=>{S.target.files&&S.target.files[0]&&(c.PassBook=S.target.files[0],console.log(c.PassBook))},m=g([{name:"Yes",value:"Yes"},{name:"No",value:"No"}]),O=()=>{b.value=!0;let d=`/update-bank-info/${o.current_user_id}`,F=new FormData;F.append("user_code",i.employeeDetails.user_code),F.append("bank_id",c.bank_id),F.append("account_no",c.bank_ac_no),F.append("bank_ifsc",c.ifsc_code),F.append("PassBook",c.PassBook),F.append("onboard_document_type","Cheque leaf/Bank Passbook"),R.post(d,F).then(te=>{te.data.status=="success"?($.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),i.employeeDetails.get_employee_details.bank_id=c.bank_id,i.employeeDetails.get_employee_details.bank_account_number=c.bank_ac_no,i.employeeDetails.get_employee_details.bank_ifsc_code=c.ifsc_code,i.employeeDetails.get_employee_details.pan_no=c.pan_no):te.data.status=="failure"&&(leave_data.leave_request_error_messege=te.data.message)}).catch(te=>{console.log(te)}).finally(()=>{i.fetchEmployeeDetails(),b.value=!1}),I.value=!1};function q(){c.bank_id=parseInt(i.employeeDetails.get_employee_details.bank_id),c.bank_ac_no=i.employeeDetails.get_employee_details.bank_account_number,c.ifsc_code=i.employeeDetails.get_employee_details.bank_ifsc_code,c.pan_no=i.employeeDetails.get_employee_details.pan_number,I.value=!0}function G(){i.employeeDetails.get_statutory_details?(P.pf_applicable=i.employeeDetails.get_statutory_details.pf_applicable,P.epf_no=i.employeeDetails.get_statutory_details.epf_number,P.uan_no=i.employeeDetails.get_statutory_details.uan_number,P.esic_applicable=i.employeeDetails.get_statutory_details.esic_applicable,P.esic_no=i.employeeDetails.get_statutory_details.esic_number):h.value=!0,h.value=!0}const P=ee({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),k=()=>{b.value=!0;let d=`/update-statutory-info/${o.current_user_id}`;R.post(d,{user_code:i.employeeDetails.user_code,pf_applicable:P.pf_applicable,epf_number:P.epf_no,uan_number:P.uan_no,esic_applicable:P.esic_applicable,esic_number:P.esic_no}).then(F=>{F.data.status=="success"?$.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):F.data.status=="failure"&&(leave_data.leave_request_error_messege=F.data.message)}).catch(F=>{console.log(F)}).finally(()=>{i.fetchEmployeeDetails(),b.value=!1}),h.value=!1},A=S=>{S.target.files&&S.target.files[0]&&(s.Pancard=S.target.files[0],console.log(s.Pancard))},W=()=>{b.value=!0;const d=`/update-Pancard-info/${o.current_user_id}`,F=new FormData;F.append("pan_no",s.pan_no),F.append("pancard",s.Pancard),F.append("user_code",i.employeeDetails.user_code),F.append("onboard_document_type","Pan Card"),D.value=!1,s.Pancard&&R.post(d,F).finally(()=>{b.value=!1})},ce=se(()=>({PassBook:{required:re}})),B=be(ce,c),x=()=>{B.value.$validate(),B.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),O())},j=se(()=>({pan_no:{required:re},Pancard:{required:re}})),J=be(j,s),ie=()=>{J.value.$validate(),J.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),W())},H=S=>{let d=String.fromCharCode(S.keyCode);if(/^[A-Za-z_ ]+$/.test(d))return!0;S.preventDefault()},w=S=>{let d=String.fromCharCode(S.keyCode);if(/^[A-Za-z0-9]+$/.test(d))return!0;S.preventDefault()};return(S,d)=>{const F=V("Dropdown"),te=V("InputNumber"),oe=V("InputText"),_e=V("Toast"),U=V("Dialog"),xe=V("InputMask"),$e=V("ProgressSpinner");return r(),_("div",null,[Xa,e("div",Qa,[e("div",ei,[e("div",ti,[e("div",oi,[e("form",si,[li,e("ul",ai,[e("li",ii,[ni,e("div",di,[t(i).employeeDetails.payroll_summary.payroll_date?(r(),_("h1",ri,f(t(K)(t(i).employeeDetails.payroll_summary.payroll_date).format("DD-MMM-YYYY")),1)):(r(),_("h1",ci," - "))])]),e("li",_i,[pi,e("div",mi,[t(i).employeeDetails.payroll_summary.worked_Days?(r(),_("h1",ui,f(t(i).employeeDetails.payroll_summary.worked_Days),1)):(r(),_("h1",fi," - "))])]),e("li",bi,[yi,e("div",gi,[t(i).employeeDetails.payroll_summary.lop?(r(),_("h1",hi,f(t(i).employeeDetails.payroll_summary.lop),1)):(r(),_("h1",vi," - "))])])])])])]),e("div",xi,[e("div",$i,[e("h6",{class:"mb-2 fw-bold fs-15"},[L("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:q},wi)])]),a(U,{visible:I.value,"onUpdate:visible":d[5]||(d[5]=E=>I.value=E),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:u(()=>[e("div",null,[e("div",ki,[e("div",Pi,[e("div",Ci,[e("div",Si,[Vi,a(F,{editable:"",onKeypress:d[0]||(d[0]=E=>H(E)),options:M.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:c.bank_id,"onUpdate:modelValue":d[1]||(d[1]=E=>c.bank_id=E)},null,8,["options","modelValue"])])]),e("div",Li,[e("div",Ei,[Mi,Ai,a(te,{modelValue:c.bank_ac_no,"onUpdate:modelValue":d[2]||(d[2]=E=>c.bank_ac_no=E),class:"form-controls onboard-form",inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])])]),e("div",Ui,[e("div",Ti,[Ni,a(oe,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:c.ifsc_code,"onUpdate:modelValue":d[3]||(d[3]=E=>c.ifsc_code=E)},null,8,["modelValue"])])]),e("div",Yi,[e("div",Ii,[Fi,e("div",Bi,[a(_e),Ri,e("div",ji,[e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:d[4]||(d[4]=E=>p(E)),style:{"text-transform":"uppercase"},class:X(["form-controls pl-2",[t(B).PassBook.$error?"p-invalid":""]])},null,34),t(B).PassBook.$error?(r(),_("span",Oi,f(t(B).PassBook.required.$message.replace("Value","PassBook or  Cheque Leaf")),1)):T("",!0)]),c.PassBook?(r(),_("div",Hi,f(c.PassBook.name),1)):T("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:x},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",qi,[e("li",null,[Gi,e("div",Ki,f(t(i).employeeDetails.get_employee_details.bank_name),1)]),e("li",null,[zi,e("div",Wi,f(t(i).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[Ji,e("div",Zi,f(t(i).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[Xi,e("div",Qi,[L(f(t(i).employeeDetails.get_employee_details.pan_number)+" ",1),e("span",en,[e("a",tn,[e("i",{class:"ri-pencil-fill",onClick:d[6]||(d[6]=E=>D.value=!0)})])])])])])])])]),a(U,{visible:D.value,"onUpdate:visible":d[9]||(d[9]=E=>D.value=E),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:u(()=>[e("div",null,[e("div",on,[e("div",sn,[e("div",ln,[e("div",an,[nn,a(xe,{onFocusout:S.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:s.pan_no,"onUpdate:modelValue":d[7]||(d[7]=E=>s.pan_no=E),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:X(["form-controls pl-2",[t(J).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),t(J).pan_no.$error?(r(),_("span",dn,f(t(J).pan_no.required.$message.replace("Value","Pancard number")),1)):T("",!0)])]),e("div",rn,[e("div",cn,[_n,e("div",pn,[a(_e),mn,s.Pancard?(r(),_("div",un,f(s.Pancard.name),1)):T("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:d[8]||(d[8]=E=>A(E)),class:X([t(J).Pancard.$error?"p-invalid":""])},null,34)]),t(J).Pancard.$error?(r(),_("span",fn,f(t(J).Pancard.required.$message.replace("Value","Pancard attachment")),1)):T("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:ie},"Submit")])])])])]),_:1},8,["visible"]),e("div",bn,[e("div",yn,[e("h6",gn,[L("Statutory Information "),e("span",hn,[t(i).employeeDetails.Current_login_user.org_role==1||t(i).employeeDetails.Current_login_user.org_role==2||t(i).employeeDetails.Current_login_user.org_role==3?(r(),_("a",{key:0,href:"#",class:"edit-icon",onClick:d[10]||(d[10]=E=>G())},xn)):T("",!0)])]),a(U,{visible:h.value,"onUpdate:visible":d[19]||(d[19]=E=>h.value=E),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:u(()=>[e("div",$n,[e("div",Dn,[e("div",wn,[kn,a(F,{modelValue:P.pf_applicable,"onUpdate:modelValue":d[11]||(d[11]=E=>P.pf_applicable=E),options:m.value,placeholder:"PF Applicable",optionLabel:"name",optionValue:"value",class:"w-100"},null,8,["modelValue","options"])]),e("div",Pn,[Cn,a(oe,{onKeypress:d[12]||(d[12]=E=>w(E)),modelValue:P.epf_no,"onUpdate:modelValue":d[13]||(d[13]=E=>P.epf_no=E),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])])]),e("div",Sn,[e("div",Vn,[Ln,a(oe,{onKeypress:d[14]||(d[14]=E=>w(E)),modelValue:P.uan_no,"onUpdate:modelValue":d[15]||(d[15]=E=>P.uan_no=E),class:"w-100",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),e("div",En,[Mn,a(F,{modelValue:P.esic_applicable,"onUpdate:modelValue":d[16]||(d[16]=E=>P.esic_applicable=E),options:m.value,optionLabel:"name",placeholder:"ESIC Applicable",class:"w-100",optionValue:"value"},null,8,["modelValue","options"])])]),e("div",An,[e("div",Un,[Tn,a(oe,{onKeypress:d[17]||(d[17]=E=>w(E)),modelValue:P.esic_no,"onUpdate:modelValue":d[18]||(d[18]=E=>P.esic_no=E),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),Nn]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:k},"Save")])])])]),_:1},8,["visible"]),t(i).employeeDetails.get_statutory_details?(r(),_("ul",Yn,[e("li",null,[In,e("div",Fn,f(t(i).employeeDetails.get_statutory_details.pf_applicable),1)]),e("li",null,[Bn,e("div",Rn,f(t(i).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[jn,t(i).employeeDetails.get_statutory_details.uan_number=="null"?(r(),_("div",On," - ")):(r(),_("div",Hn,f(t(i).employeeDetails.get_statutory_details.uan_number),1))]),e("li",null,[qn,e("div",Gn,f(t(i).employeeDetails.get_statutory_details.esic_applicable),1)]),e("li",null,[Kn,e("div",zn,f(t(i).employeeDetails.get_statutory_details.esic_number),1)])])):T("",!0)])])]),e("div",Wn,[e("div",Jn,[e("div",Zn,[a(Za)])])])]),a(U,{header:"Header",visible:b.value,"onUpdate:visible":d[20]||(d[20]=E=>b.value=E),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:u(()=>[a($e,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:u(()=>[Xn]),_:1},8,["visible"])])}}};const ed={class:"mb-2 card"},td={class:"card-body"},od={class:"fw-bold fs-15"},sd={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},ld={class:"row"},ad={class:"col",style:{"margin-right":"20px"}},id=e("span",null,[L("Company Name "),e("span",{class:"text-danger"},"*")],-1),nd={class:"col mr-2"},dd=e("span",null,[L(" Location"),e("span",{class:"text-danger"},"*")],-1),rd={class:"row w-100 ml-1 p-0"},cd={class:"col mr-4"},_d=e("span",null,[L("Job Position "),e("span",{class:"text-danger"},"*")],-1),pd={class:"col mr-5 ml-1 mt-2 p-0"},md=e("span",{style:{paddingLeft:"6px"}},[L("Period From"),e("span",{class:"text-danger"},"*")],-1),ud={class:"row"},fd={class:"col mr-3"},bd=e("span",{style:{paddingLeft:"6px"}},[L("Period To "),e("span",{class:"text-danger"},"*")],-1),yd=e("div",{class:"col-6"},null,-1),gd={class:"my-6 table-responsive"},hd=["onClick"],vd=["onClick"],xd={style:{padding:"0.5rem"}},$d={class:"row"},Dd={class:"col-6"},wd=e("span",null,[L("Company Name "),e("span",{class:"text-danger"},"*")],-1),kd={class:"col-6"},Pd=e("span",null,[L(" Location"),e("span",{class:"text-danger"},"*")],-1),Cd={class:"row"},Sd={class:"col-6"},Vd=e("span",null,[L("Job Position "),e("span",{class:"text-danger"},"*")],-1),Ld={class:"col-6 position-relative"},Ed=e("span",{style:{paddingLeft:"6px"}},[L("Period From"),e("span",{class:"text-danger"},"*")],-1),Md={class:"row"},Ad={class:"col mr-2 pr-4"},Ud=e("span",{style:{paddingLeft:"6px"}},[L("Period To "),e("span",{class:"text-danger"},"*")],-1),Td=e("div",{class:"col-6"},null,-1),Nd={__name:"ExperienceDetails",setup(C){const i=de(),o=le(),$=ne();ne(),g("");const b=g(!1),D=g(!1),y=g(),n=ee({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),l=()=>{console.log(n),o.loading_screen=!0;let s=`/add-experience-info/${i.current_user_id}`;R.post(s,{user_code:o.employeeDetails.user_code,company_name:n.company_name,experience_location:n.location,job_position:n.job_position,period_from:K(n.period_from).format("YYYY-MM-DD"),period_to:K(n.period_to).format("YYYY-MM-DD")}).then(p=>{p.data.status=="success"?$.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):p.data.status=="failure"&&(leave_data.leave_request_error_messege=p.data.message)}).catch(p=>{console.log(p)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1}),b.value=!1};ae(()=>{});const v=c=>{D.value=!0,y.value=c.id,console.log(y.value),n.company_name=c.company_name,n.location=c.location,n.job_position=c.job_position,n.period_from=c.period_from,n.period_to=c.period_to},M=c=>{D.value=!1;let p=`/update-experience-info/${i.current_user_id}`;R.post(p,{user_code:o.employeeDetails.user_code,exp_current_table_id:y.value,company_name:n.company_name,experience_location:n.location,job_position:n.job_position,period_from:K(n.period_from).format("YYYY-MM-DD"),period_to:K(n.period_to).format("YYYY-MM-DD")}).then(m=>{m.data.status=="success"?(window.location.reload(),$.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):m.data.status=="failure"&&(leave_data.leave_request_error_messege=m.data.message)}).catch(m=>{console.log(m)})},I=c=>{y.value=c.id;let p=`/delete-experience-info/${i.current_user_id}`;R.post(p,{exp_current_table_id:y.value}).then(m=>{m.data.status=="success"?$.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}):m.data.status=="failure"&&(leave_data.leave_request_error_messege=m.data.message)}).catch(m=>{console.log(m)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1})},h=c=>{let s=String.fromCharCode(c.keyCode);if(/^[A-Za-z_ ]+$/.test(s))return!0;c.preventDefault()};return(c,s)=>{const p=V("InputText"),m=V("Calendar"),O=V("Toast"),q=V("Dialog"),G=V("Column"),P=V("DataTable");return r(),_("div",null,[e("div",ed,[e("div",td,[e("h6",od,[L("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",onClick:s[0]||(s[0]=k=>b.value=!0)}," Add New "),a(q,{visible:b.value,"onUpdate:visible":s[7]||(s[7]=k=>b.value=k),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:u(()=>[e("div",null,[a(O),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:l},"submit")])]),default:u(()=>[e("div",sd,[e("div",ld,[e("div",ad,[id,a(p,{type:"text",modelValue:n.company_name,"onUpdate:modelValue":s[1]||(s[1]=k=>n.company_name=k),name:"ExperienceDetails_company_name[]",class:"",required:""},null,8,["modelValue"])]),e("div",nd,[dd,a(p,{type:"text",modelValue:n.location,"onUpdate:modelValue":s[2]||(s[2]=k=>n.location=k),name:"experienceDet_location[]",required:""},null,8,["modelValue"])]),e("div",rd,[e("div",cd,[_d,a(p,{type:"text",onKeypress:s[3]||(s[3]=k=>h(k)),modelValue:n.job_position,"onUpdate:modelValue":s[4]||(s[4]=k=>n.job_position=k),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",pd,[md,a(m,{class:"w-100",modelValue:n.period_from,"onUpdate:modelValue":s[5]||(s[5]=k=>n.period_from=k)},null,8,["modelValue"])])]),e("div",ud,[e("div",fd,[bd,a(m,{class:"w-100 mr-5",modelValue:n.period_to,"onUpdate:modelValue":s[6]||(s[6]=k=>n.period_to=k),name:"experienceDet_period_to[]"},null,8,["modelValue"])]),yd])])])]),_:1},8,["visible"])]),e("div",gd,[a(P,{ref:"dt",value:t(o).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:u(()=>[a(G,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),a(G,{field:"location",header:"Location",style:{"min-width":"8rem"}}),a(G,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),a(G,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),a(G,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),a(G,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:u(k=>[e("button",{class:"mr-3 btn btn-success",onClick:A=>v(k.data)},"Edit",8,hd),e("button",{class:"btn btn-danger",onClick:A=>I(k.data)},"Delete",8,vd),e("template",null,[a(q,{visible:D.value,"onUpdate:visible":s[15]||(s[15]=A=>D.value=A),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:u(()=>[e("div",null,[e("h5",{style:z({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:u(()=>[e("div",null,[a(O),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:s[14]||(s[14]=A=>M())},"submit")])]),default:u(()=>[e("div",xd,[e("div",null,[e("div",$d,[e("div",Dd,[wd,a(p,{type:"text",modelValue:n.company_name,"onUpdate:modelValue":s[8]||(s[8]=A=>n.company_name=A),required:"",class:"w-100"},null,8,["modelValue"])]),e("div",kd,[Pd,a(p,{type:"text",modelValue:n.location,"onUpdate:modelValue":s[9]||(s[9]=A=>n.location=A),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",Cd,[e("div",Sd,[Vd,a(p,{type:"text",modelValue:n.job_position,"onUpdate:modelValue":s[10]||(s[10]=A=>n.job_position=A),required:"",onKeypress:s[11]||(s[11]=A=>h(A)),class:"w-100"},null,8,["modelValue"])]),e("div",Ld,[Ed,a(m,{style:z([{paddingRight:"15px"},{width:"100%"}]),modelValue:n.period_from,"onUpdate:modelValue":s[12]||(s[12]=A=>n.period_from=A),class:"position-absolute left-0 bottom-2 m"},null,8,["modelValue"])])]),e("div",Md,[e("div",Ad,[Ud,a(m,{modelValue:n.period_to,"onUpdate:modelValue":s[13]||(s[13]=A=>n.period_to=A),class:"w-100 mr-4"},null,8,["modelValue"])]),Td])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},Yd={class:"card"},Id={class:"w-full"},Fd={key:0,class:"w-100 flex justify-center"},Bd=e("p",{class:"px-2 py-1 w-[80px] rounded-md bg-yellow-400 text-white font-semibold text-[12px]"},"Pending",-1),Rd=[Bd],jd={key:1,class:"flex justify-center"},Od=e("p",{class:"px-2 py-1 w-[80px] rounded-md text-white bg-green-500 font-semibold text-[12px]"},"Approved",-1),Hd=[Od],qd={key:2,class:"flex justify-center"},Gd=e("p",{class:"px-2 py-1 w-[80px] rounded-md bg-red-600 text-white p-2 font-semibold text-[12px]"},"Rejected",-1),Kd=[Gd],zd={key:3},Wd=e("p",{class:"text-green-600 font-semibold"},"-",-1),Jd=[Wd],Zd={key:0},Xd={key:0},Qd=["onClick"],er=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),L(" Upload file")],-1),tr=[er],or={key:1},sr={key:1},lr=["onClick"],ar=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),L(" Upload file")],-1),ir=[ar],nr=["disabled"],dr={class:"w-full h-full d-flex justify-content-center"},rr=["src"],cr=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),_r={__name:"documents",setup(C){const i=g([]);ae(()=>{$.fetch_EmployeeDocument(),console.log(" ",D.value),console.log("employeeDetails employee_documents ",o.employeeDetails.employee_documents),i.value=o});let o=le();const $=ve();ne();const b=g(!1),D=g({}),y=g();g();const n=g(),l=g(),v=new FormData,M=g(),I=p=>{b.value=!0,$.loading=!0,R.post("/view-profile-private-file",{user_code:o.user_code,document_name:p.document_name}).then(m=>{y.value=m.data.data,console.log("data sent",y.value)}).finally(()=>{$.loading=!1})};g(["Pending","Approved","Rejected"]);const h=p=>{l.value=p},c=p=>{console.log(l),p.target.files&&p.target.files[0]&&(n.value=p.target.files[0],v.append(`${l.value}`,n.value),v.append("user_code",o.employeeDetails.user_code),console.log(v),Object.keys(v)[0])};async function s(){if(M.value=="Failure")Swal.fire({title:M.value="Failure",text:"Please upload all mandatory documents",icon:"error",showCancelButton:!1}).then(p=>{});else{$.loading=!0;let p="/profile-page/saveEmployeeDocument";R.post(p,v).then(m=>{M.value=m.data.status,console.log(M.value),console.log("Photo not send"),m.data.status=="Success"?Swal.fire({title:m.data.status="Success",text:m.data.message,icon:"success",showCancelButton:!1}).then(O=>{}):m.data.status=="Failure"&&Swal.fire({title:m.data.status="Failure",text:m.data.message,icon:"error",showCancelButton:!1}).then(O=>{})}).finally(()=>{o.fetchEmployeeDetails(),$.fetch_EmployeeDocument(),$.loading=!1})}}return(p,m)=>{const O=V("Column"),q=V("Button"),G=V("DataTable"),P=V("Dialog"),k=V("ProgressSpinner");return r(),_("div",Yd,[e("div",Id,[a(G,{ref:"dt",value:t(o).employeeDetails.employee_documents,dataKey:"id",paginator:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],rows:5,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:u(()=>[a(O,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:u(()=>[L(f(t($).getEmployeeDoc.document_name),1)]),_:1}),a(O,{field:"status",header:"status",style:{"min-width":"12rem"}},{body:u(A=>[A.data.status==="Pending"?(r(),_("div",Fd,Rd)):T("",!0),A.data.status==="Approved"?(r(),_("div",jd,Hd)):T("",!0),A.data.status==="Rejected"?(r(),_("div",qd,Kd)):T("",!0),A.data.status===null?(r(),_("div",zd,Jd)):T("",!0)]),_:1}),a(O,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:u(A=>[A.data.doc_id?(r(),_("div",Zd,[A.data.status=="Rejected"?(r(),_("div",Xd,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:m[0]||(m[0]=W=>c(W))},null,32),e("button",{class:"btn btn-success",onClick:W=>h(A.data.document_name)},tr,8,Qd)])):(r(),_("div",or,[a(q,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:W=>I(A.data),style:{height:"2em"}},null,8,["onClick"])]))])):(r(),_("div",sr,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:m[1]||(m[1]=W=>c(W))},null,32),e("button",{class:"btn btn-success",onClick:W=>h(A.data.document_name)},ir,8,lr)]))]),_:1})]),_:1},8,["value"]),e("button",{severity:"warn",type:"submit",data:"row-6",next:"row-6",name:"submit_form",id:"msform",class:"text-center btn btn-orange processOnboardForm float-end text-light mr-5 my-5",value:"Submit",disabled:p.fileUploadValidation,onClick:s}," Submit ",8,nr),t($).loading==!1?(r(),pe(P,{key:0,visible:b.value,"onUpdate:visible":m[2]||(m[2]=A=>b.value=A),modal:"",header:"Documents",style:{width:"40vw"}},{default:u(()=>[e("div",dr,[e("img",{src:`data:image/png;base64,${y.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,rr)])]),_:1},8,["visible"])):T("",!0),a(P,{header:"Header",visible:t($).loading,"onUpdate:visible":m[3]||(m[3]=A=>t($).loading=A),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:u(()=>[a(k,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:u(()=>[cr]),_:1},8,["visible"])])])}}},pr=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),mr={class:"profile_page-wrapper mt-30 container-fluid"},ur={class:"row"},fr={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},br={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},yr=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),gr={class:"tab-content",id:"pills-tabContent"},hr={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},vr={key:0},xr={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},$r={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Dr={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},wr={key:0},kr={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},Pr={__name:"profilePageNew",setup(C){de();let i=le();return ae(async()=>{console.log("Loading screen start : "+i.loading_screen),i.fetchEmployeeDetails().then(function(o){console.log("Loading screen end : "+i.loading_screen),console.log("Req done")})}),(o,$)=>{const b=V("Toast"),D=V("ProgressSpinner"),y=V("Dialog");return r(),_(ue,null,[a(b),a(y,{header:"Header",visible:t(i).loading_screen,"onUpdate:visible":$[0]||($[0]=n=>t(i).loading_screen=n),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:u(()=>[a(D,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:u(()=>[pr]),_:1},8,["visible"]),e("div",mr,[e("div",ur,[t(i).loading_screen?T("",!0):(r(),_("div",fr,[a(cs)])),e("div",br,[yr,e("div",gr,[e("div",hr,[t(i).loading_screen?T("",!0):(r(),_("div",vr,[a(ya)]))]),e("div",xr,[a(Ga)]),e("div",$r,[a(Nd)]),e("div",Dr,[t(i).loading_screen?T("",!0):(r(),_("div",wr,[a(Qn)]))]),e("div",kr,[a(_r)])])])])])],64)}}},Y=Pe(Pr),Cr=He();Y.use(Ce,{ripple:!0});Y.use(ze);Y.use(Se);Y.use(qe);Y.use(Cr);Y.directive("tooltip",Ve);Y.directive("badge",Le);Y.directive("ripple",Ee);Y.directive("styleclass",Me);Y.directive("focustrap",Ae);Y.component("Button",Ue);Y.component("DataTable",Te);Y.component("Column",Ne);Y.component("ColumnGroup",Ge);Y.component("Row",Je);Y.component("Toast",Ye);Y.component("ConfirmDialog",Ie);Y.component("Dropdown",Fe);Y.component("InputText",Be);Y.component("Dialog",Re);Y.component("ProgressSpinner",We);Y.component("Calendar",Ze);Y.component("Textarea",Xe);Y.component("Chips",Qe);Y.component("MultiSelect",et);Y.component("InputNumber",je);Y.component("ProgressBar",ot);Y.component("InputMask",tt);Y.mount("#profilePage");
