import{H as l,I as j,o as a,c as n,d as e,t as r,a as i,h as p,w as g,F as w,f as x,T as v,k as O,G as z}from"./toastservice.esm-08a9bf8e.js";import{a as y}from"./index-362795f3.js";import{u as M}from"./dashboard_service-82896132.js";const V="/build/assets/setting-7207a137.svg",$="/build/assets/exit-9e7ca153.svg",D={class:"grid grid-cols-4 items-center"},N={class:"text-black rounded focus:outline-none"},A=e("p",{class:"text-md text-gray-600 text-left"},"Your organization",-1),B={key:0,class:"flex justify-between items-center gap-2 py-0.5"},F=["src"],R={class:"font-semibold whitespace-nowrap text-sm"},q={key:0,class:"absolute top-5 left-2 mt-12 w-full bg-white shadow-lg rounded z-20"},E={class:""},I={class:"justify-between flex p-2 hover:bg-gray-200 items-center"},G={class:"cursor-pointer flex mx-2 align-center justify-between rounded-lg p-0.5"},H={class:"mx-2 p-1 flex items-center justify-between rounded border gap-4",style:{height:"40px",width:"40px"}},K=["src"],U={class:"font-medium whitespace-nowrap text-xs"},X=e("div",null,null,-1),Y={class:"relative"},J={key:0,class:"z-40 absolute top-0 left-0 mt-16 w-full bg-white shadow-lg rounded px-3 py-4 overflow-x-scroll"},P={class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},Q={class:"text-gray-900 font-bold text-sm"},W={class:"text-xs text-gray-600"},Z={class:"flex justify-evenly"},ee=e("img",{src:V,alt:"",class:"h-6 w-6"},null,-1),te=[ee],se=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},"Master config",-1),oe=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},"Client onboarding",-1),ae=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},"Document template",-1),ne=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},"Leave setting",-1),le=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},"Attendance setting",-1),re=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},"Investment setting",-1),ie=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},"Loan and salary advance setting",-1),ce=[se,oe,ae,ne,le,re,ie],ue=e("button",{class:"rounded-lg p-2 hover:bg-gray-200"},[e("img",{src:$,alt:"",class:"h-6 w-6"})],-1),de=e("button",{class:"py-2 px-4 bg-blue-500 text-white rounded focus:outline-none"}," SA ",-1),pe={key:0,class:"absolute top-0 right-0 mt-14 w-48 bg-white shadow-lg rounded z-30"},ge=e("p",{class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},[e("a",{href:"pages-profile-new"},"View profile")],-1),ve=e("a",{href:""},"Log out",-1),_e=[ve],be={__name:"Topbar",setup(he){M();const _=l(!1),h=l(!1),c=l(!1),d=l(""),f=l(),m=l(),b=l(!1),u=l(),k=()=>{y.get("/clients-fetchAll").then(o=>{m.value=o.data,u.value=o.data[0]}).finally(()=>{})};function C(o,t){return t.filter(T=>T.name.toLowerCase().includes(o.toLowerCase()))}const L=()=>{y.get("/fetch-org-members").then(o=>{f.value=Object.values(o.data)})};j(()=>{L(),k(),setTimeout(()=>{b.value=!0},2e3)});async function S(){try{const o=document.head.querySelector('meta[name="csrf-token"]').content;await y.post("/logout",null,{headers:{"X-CSRF-TOKEN":o}}).finally(()=>{window.location.reload()})}catch(o){console.error("Logout error:",o)}}return(o,t)=>b.value?(a(),n("div",{key:0,class:"bg-white h-[60px]",onMousedown:t[5]||(t[5]=s=>c.value=!1)},[e("div",D,[e("div",{class:"relative border-1 border-x-gray-300 py-2 mx-2 px-2",onClick:t[0]||(t[0]=s=>h.value=!h.value)},[e("button",N,[A,u.value?(a(),n("div",B,[e("img",{src:u.value.client_logo,alt:"",class:"h-6 w-12"},null,8,F),e("p",R,r(u.value.client_fullname)+" ("+r(u.value.abs_client_code)+") ",1)])):i("",!0)]),p(v,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:g(()=>[h.value?(a(),n("div",q,[(a(!0),n(w,null,x(m.value,s=>(a(),n("div",E,[e("div",I,[e("div",G,[e("div",H,[e("img",{src:s.client_logo,alt:"",class:"mh-100 mw-100"},null,8,K),e("p",U,r(s.client_fullname)+" ("+r(s.abs_client_code)+")",1)])])])]))),256))])):i("",!0)]),_:1})]),X,e("div",Y,[O(e("input",{type:"text",name:"",id:"",class:"border-1 p-2 border-gray-700 rounded-lg","onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),placeholder:"Search...."},null,512),[[z,d.value]]),p(v,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:g(()=>[d.value?(a(),n("div",J,[(a(!0),n(w,null,x(C(d.value,f.value),s=>(a(),n("div",P,[e("div",null,[e("p",Q,r(s.name),1)]),e("div",null,[e("p",W,r(s.designation),1)])]))),256))])):i("",!0)]),_:1})]),e("div",Z,[e("button",{class:"rounded-lg p-2 hover:bg-gray-200",onClick:t[2]||(t[2]=s=>c.value=!0)},te),p(v,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:g(()=>[c.value?(a(),n("div",{key:0,onClick:t[3]||(t[3]=s=>c.value=!c.value),class:"absolute top-0 right-40 mt-16 w-60 bg-white shadow-lg rounded z-40 p-2"},ce)):i("",!0)]),_:1}),ue,e("div",{class:"relative",onClick:t[4]||(t[4]=s=>_.value=!_.value)},[de,p(v,{"enter-active-class":"transition ease-out duration-200 transform","enter-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100 transform","leave-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:g(()=>[_.value?(a(),n("div",pe,[ge,e("p",{onClick:S,class:"p-2 rounded-lg cursor-pointer w-full hover:bg-gray-100"},_e)])):i("",!0)]),_:1})])])])],32)):i("",!0)}};export{be as _};
