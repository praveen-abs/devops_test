import{H as $,a1 as G,I as X,ae as ee,g as D,o as u,c as f,h as t,d as e,af as l,a as F,t as y,w as m,p as j,n as J,j as w,F as ie,ag as te,l as M,E as H,ah as ae,b as ce,J as pe,P as _e,K as me,R as ue,u as fe,v as be,Q as ve,L as ge,N as he,A as ye,M as xe}from"./toastservice.esm-8fb4434b.js";import{c as $e}from"./pinia-e794dd07.js";import{T as De,B as we,S as ke,b as Pe,a as Ce,c as Ve}from"./styleclass.esm-177a019b.js";import"./blockui.esm-28d5b93f.js";import{D as Ee}from"./dialogservice.esm-5a1ef638.js";import{C as Se}from"./confirmationservice.esm-70c98e17.js";import{s as Le}from"./progressspinner.esm-ad93ab56.js";import{s as Ue}from"./row.esm-6ebc942e.js";import{s as Te}from"./columngroup.esm-9dd1458e.js";import{s as Ne}from"./calendar.esm-cb84fdd3.js";import{s as Fe}from"./textarea.esm-993ab114.js";import{s as Ie}from"./chips.esm-0e9e267f.js";import{s as Be}from"./multiselect.esm-045e00e5.js";import{s as Ae}from"./inputmask.esm-6e5e1f57.js";import{s as Re}from"./progressbar.esm-95bde75d.js";import{l as le}from"./lodash-bf1bac5c.js";import{a as I}from"./index-3716a3fc.js";import{S as K}from"./Service-ba15f3bf.js";import{p as W}from"./ProfilePagesStore-fcc947da.js";import{r as Q,u as ne}from"./index.esm-b979c56a.js";import{E as Me}from"./EmployeeDetails-35ed9bcd.js";import{d as je}from"./dayjs.min-e0adaab4.js";import{_ as qe}from"./EmployeePayslips-202cb263.js";import"./_commonjsHelpers-042e6b4d.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";const Ye={class:"mb-0 card top-line"},Oe={class:"card-body"},He={class:"row"},Ge={class:"col-12 text-end"},Ke=e("i",{class:"fa fa-id-card text-success","aria-hidden":"true"},null,-1),We=[Ke],ze={class:"text-center col-12"},Je={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{"box-shadow":"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",border:"1px solid navy"}},Qe=["src"],Xe=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),Ze={class:"mt-4"},et={class:"progress-wrapper border-bottom-liteAsh"},tt=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),ot={class:"mb-1 text-center px-auto d-flex align-items-center justify-content-between pl-5 ml-20"},st={class:"text-center fw-bold"},at={class:"personal-edit"},lt={href:"#",class:"edit-icon"},it={class:"modal-body"},nt={class:"row"},dt={class:"col-md-6"},rt={class:"mb-3 form-group"},ct=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),pt={key:0,class:"text-red-400 fs-6 font-semibold"},_t={class:"col-md-6"},mt={class:"form-group"},ut=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),ft={key:0,class:"text-red-400 fs-6 font-semibold"},bt={class:"col-md-6 d-flex flex-column"},vt={class:"d-flex justify-items-center flex-column"},gt=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),ht={class:"d-flex justify-items-center align-items-center"},yt=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),xt={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},$t={key:0,class:"text-red-400 fs-6 font-semibold"},Dt=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),wt=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),kt={class:"mb-4 text-center profile-mid-right-content"},Pt={class:"py-2 border-bottom-liteAsh"},Ct=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),Vt={key:0,class:"f-12 fw-bold"},Et={key:1,class:"text-danger f-12 fw-bold"},St={class:"py-2 border-bottom-liteAsh"},Lt=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),Ut={key:0,class:"f-12 fw-bold"},Tt={key:1,class:"f-12 fw-bold"},Nt={class:"py-2 border-bottom-liteAsh"},Ft=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),It={key:0,class:"f-12 fw-bold"},Bt={key:1,class:"f-12 fw-bold"},At={class:"py-2 border-bottom-liteAsh"},Rt=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),Mt={key:0,class:"f-12 fw-bold"},jt={key:1,class:"f-12 fw-bold"},qt={class:"py-2 border-bottom-liteAsh ml-3"},Yt={class:"text-muted f-12 fw-bold"},Ot=e("i",{class:"ri-pencil-fill"},null,-1),Ht=[Ot],Gt={key:0,class:"f-12 fw-bold"},Kt={key:1,class:"f-12 fw-bold"},Wt={class:"py-2 border-bottom-liteAsh"},zt={class:"text-muted f-12 fw-bold"},Jt=e("i",{class:"ri-pencil-fill"},null,-1),Qt=[Jt],Xt={key:0,class:"f-12 fw-bold"},Zt={key:1,class:"f-12 fw-bold"},eo=e("div",{class:"text-center profile-bottom-right-content"},[e("button",{class:"btn btn-danger"},[e("i",{class:"fa fa-sign-out me-1"}),w(" Action ")])],-1),to={class:"confirmation-content"},oo=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),so={class:"card p-3 d-flex justify-items-center align-items-center",style:{width:"18rem","margin-left":"150px",height:"300px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},ao=["src"],lo={class:"card-body d-flex justify-items-center align-items-center mt-4",style:{"flex-direction":"column"}},io={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{border:"1px solid navy","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},no=["src"],ro={class:"card-title mt-3 mb-2 f-12",style:{"text-align":"center"}},co={key:0,class:"f-12 card-text mb-2 text-gray-400"},po={key:1,class:"f-12 fw-bold"},_o={key:2,class:"f-12 fw-bold mb-2",style:{color:"grey"}},mo={key:3,class:"f-12 mb-2 text-secondary-emphasis"},uo=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),fo={__name:"EmployeeCard",setup(z){const P=K(),n=$(!1),E=$(!1),x=G({department:"",reporting_manager:""}),g=G({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),s=$([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),o=$(!1);let r=W();const R=U=>{U.target.files&&U.target.files[0]&&(r.profile=U.target.files[0]);let d=new FormData;d.append("user_code",r.user_code),d.append("file_object",r.profile);let T="/profile-pages/updateProfilePicture";I.post(T,d).then(N=>{}).finally(()=>{console.log("Photo Sent"),r.getProfilePhoto()})},B=$(),A=$(),p=$(!1),a=$(!1),i=$(!1),b=$("None"),L=U=>{console.log(U),I.post("/profile-pages/updateDepartment",{user_code:r.employeeDetails.user_code,department_id:x.department}).then(d=>{let T=le._.find(B.value,["id",x.department]).name;console.log("Lodash [Selected Dept]: "+T),r.employeeDetails.get_employee_office_details.department_name=T,b.value="Department updated successfully !",console.log(d.data)}).catch(d=>{b.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+d)}).finally(()=>{i.value=!0,p.value=!1})},q=U=>{console.log("editReportingManager : "+U),I.post("/profile-pages/updateReportingManager",{user_code:r.employeeDetails.user_code,manager_user_code:x.reporting_manager}).then(d=>{let T=le._.find(A.value,["user_code",x.reporting_manager]);r.employeeDetails.get_employee_office_details.l1_manager_name=T.name,r.employeeDetails.get_employee_office_details.l1_manager_code=T.user_code,b.value="Reporting Manager updated successfully !",console.log(d.data)}).catch(d=>{b.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+d)}).finally(()=>{i.value=!0,a.value=!1})},Y=()=>{x.department=r.employeeDetails.get_employee_office_details.department_name,x.reporting_manager=r.employeeDetails.get_employee_office_details.l1_manager_name,console.log(x.department)};X(()=>{P.DepartmentDetails().then(U=>{B.value=U.data,console.log("testing"+r.employeeDetails.get_employee_office_details.l1_manager_name)}),P.ManagerDetails().then(U=>{A.value=U.data}),Y()});const S=U=>{U.target.files&&U.target.files[0]&&(g.emp_upload_doc=U.target.files[0],console.log(g.emp_upload_doc))},c=ee(()=>({emp_name:{required:Q},emp_doc_name:{required:Q},emp_upload_doc:{required:Q}})),C=ne(c,g),oe=()=>{C.value.$validate(),C.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),se())},se=()=>{n.value=!0,o.value=!1;const d=`/update-EmplpoyeeName-info/${P.current_user_id}`,T=new FormData;T.append("user_code",r.employeeDetails.user_code),T.append("name",g.emp_name),T.append("onboard_document_type",g.emp_doc_name.name),T.append("emp_doc",g.emp_upload_doc),I.post(d,T).finally(()=>{n.value=!1})};return(U,d)=>{const T=D("Toast"),N=D("InputText"),_=D("Dropdown"),V=D("Dialog"),O=D("ProgressBar"),Z=D("ProgressSpinner");return u(),f(ie,null,[t(T),e("div",Ye,[e("div",Oe,[e("div",He,[e("div",Ge,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:d[0]||(d[0]=h=>E.value=!0)},We)]),e("div",ze,[e("div",Je,[l(r).profile?(u(),f("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${l(r).profile}`,srcset:"",alt:""},null,8,Qe)):F("",!0),Xe,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:d[1]||(d[1]=h=>R(h))},null,32)]),e("div",Ze,[e("div",et,[tt,e("div",ot,[e("h6",st,y(l(r).employeeDetails.name),1),e("span",at,[e("a",lt,[e("i",{class:"ri-pencil-fill",onClick:d[2]||(d[2]=h=>o.value=!0)})])])]),t(V,{visible:o.value,"onUpdate:visible":d[6]||(d[6]=h=>o.value=h),modal:"",header:" ",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:m(()=>[e("div",null,[e("div",it,[e("div",nt,[e("div",dt,[e("div",rt,[ct,t(N,{type:"text",modelValue:g.emp_name,"onUpdate:modelValue":d[3]||(d[3]=h=>g.emp_name=h),style:{"text-transform":"uppercase"},class:J(["form-controls pl-2",[l(C).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),l(C).emp_name.$error?(u(),f("span",pt,y(l(C).emp_name.required.$message.replace("Value","Employee Name")),1)):F("",!0)])]),e("div",_t,[e("div",mt,[ut,t(_,{modelValue:g.emp_doc_name,"onUpdate:modelValue":d[4]||(d[4]=h=>g.emp_doc_name=h),options:s.value,optionLabel:"name",placeholder:"Select a document ",class:J(["form-controls pl-2 w-full h-12",[l(C).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),l(C).emp_doc_name.$error?(u(),f("span",ft,y(l(C).emp_doc_name.required.$message.replace("Value","Documents")),1)):F("",!0)])]),e("div",bt,[e("div",vt,[gt,e("div",ht,[t(T),yt,g.emp_upload_doc?(u(),f("div",xt,y(g.emp_upload_doc.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:d[5]||(d[5]=h=>S(h)),class:J([l(C).emp_upload_doc.$error?"p-invalid":""])},null,34)]),l(C).emp_upload_doc.$error?(u(),f("span",$t,y(l(C).emp_upload_doc.required.$message.replace("Value","document")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:oe},"Submit")])])])])]),_:1},8,["visible"]),Dt,t(O,{value:l(r).employeeDetails.profile_completeness},null,8,["value"]),wt]),e("div",kt,[e("div",Pt,[Ct,l(r).employeeDetails.active==1?(u(),f("p",Vt," Active ")):(u(),f("p",Et,"Not Active"))]),e("div",St,[Lt,l(r).employeeDetails.user_code?(u(),f("p",Ut,y(l(r).employeeDetails.user_code),1)):(u(),f("p",Tt,"-"))]),e("div",Nt,[Ft,l(r).employeeDetails.get_employee_office_details.designation?(u(),f("p",It,y(l(r).employeeDetails.get_employee_office_details.designation),1)):(u(),f("p",Bt,"-"))]),e("div",At,[Rt,l(r).employeeDetails.get_employee_office_details.work_location?(u(),f("p",Mt,y(l(r).employeeDetails.get_employee_office_details.work_location),1)):(u(),f("p",jt,"-"))]),e("div",qt,[e("p",Yt,[w(" Department "),e("a",{href:"#",class:"edit-icon",onClick:d[7]||(d[7]=h=>p.value=!0)},Ht)]),l(r).employeeDetails.get_employee_office_details.department_id?(u(),f("p",Gt,y(l(r).employeeDetails.get_employee_office_details.department_name),1)):(u(),f("p",Kt,"-"))]),e("div",Wt,[e("p",zt,[w(" Reporting To "),e("a",{href:"#",class:"edit-icon",onClick:d[8]||(d[8]=h=>a.value=!0)},Qt)]),l(r).employeeDetails.get_employee_office_details.l1_manager_code?(u(),f("p",Xt,y(l(r).employeeDetails.get_employee_office_details.l1_manager_name)+" - "+y(l(r).employeeDetails.get_employee_office_details.l1_manager_code),1)):(u(),f("p",Zt,"-"))])]),eo])])])])]),t(V,{header:"Status",visible:i.value,"onUpdate:visible":d[9]||(d[9]=h=>i.value=h),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:m(()=>[e("div",to,[oo,e("span",null,y(b.value),1)])]),_:1},8,["visible"]),t(V,{visible:p.value,"onUpdate:visible":d[11]||(d[11]=h=>p.value=h),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:L}," Save ")])]),default:m(()=>[t(_,{options:B.value,optionLabel:"name",modelValue:x.department,"onUpdate:modelValue":d[10]||(d[10]=h=>x.department=h),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(V,{visible:a.value,"onUpdate:visible":d[13]||(d[13]=h=>a.value=h),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:q}," Save ")])]),default:m(()=>[t(_,{optionLabel:"name",options:A.value,modelValue:x.reporting_manager,"onUpdate:modelValue":d[12]||(d[12]=h=>x.reporting_manager=h),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(V,{visible:E.value,"onUpdate:visible":d[14]||(d[14]=h=>E.value=h),modal:"",header:"",style:{width:"40vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:m(()=>[e("div",so,[e("img",{src:`${l(r).employeeDetails.client_logo}`,alt:"",class:"",style:{height:"40px",width:"140px"}},null,8,ao),e("div",lo,[e("div",io,[l(r).profile?(u(),f("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border",src:`data:image/png;base64,${l(r).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"120px",height:"120px"}},null,8,no)):F("",!0)]),e("h5",ro,y(l(r).employeeDetails.name),1),l(r).employeeDetails.get_employee_office_details.department_id?(u(),f("h5",co,y(l(r).employeeDetails.get_employee_office_details.department_name),1)):(u(),f("h1",po,"-")),l(r).employeeDetails.user_code?(u(),f("h5",_o,y(l(r).employeeDetails.user_code),1)):(u(),f("p",mo,"-"))])])]),_:1},8,["visible"]),t(V,{header:"Header",visible:n.value,"onUpdate:visible":d[15]||(d[15]=h=>n.value=h),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(Z,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[uo]),_:1},8,["visible"])],64)}}};const bo={class:"mb-2 card"},vo={class:"card-body"},go={class:"fw-bold fs-15"},ho={class:"space-between"},yo={class:"flex-col input_text"},xo=e("span",null,[w("Name "),e("span",{class:"text-danger"},"*")],-1),$o={class:"flex-col input_text"},Do=e("span",null,[w("Relationship"),e("span",{class:"text-danger"},"*")],-1),wo={class:"space-between M-T"},ko={class:"flex-col input_text"},Po=e("span",null,[w("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Co={class:"flex-col input_text"},Vo=e("span",null,[w("phone"),e("span",{class:"text-danger"},"*")],-1),Eo={class:"my-6 table-responsive"},So={key:0},Lo={key:1},Uo=["onClick"],To=["onClick"],No={class:"space-between"},Fo={class:"flex-col input_text"},Io=e("span",null,[w("Name "),e("span",{class:"text-danger"},"*")],-1),Bo={class:"flex-col input_text"},Ao=e("span",null,[w("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ro={class:"space-between M-T"},Mo={class:"flex-col input_text"},jo=e("span",null,[w("Date of birth "),e("span",{class:"text-danger"},"*")],-1),qo={class:"flex-col input_text"},Yo=e("span",null,[w("phone"),e("span",{class:"text-danger"},"*")],-1),Oo={__name:"FamilyDetails",setup(z){const P=K(),n=W(),E=te();$("");const x=$(!1),g=$(!1),s=G({name:"",relationship:"",dob:"",phone_number:""}),o=G({name:"",relationship:"",dob:"",phone_number:""}),r=$(),R=()=>{n.loading_screen=!0;let i=`/add-family-info/${P.current_user_id}`;I.post(i,{user_code:n.employeeDetails.user_code,name:s.name,relationship:s.relationship,dob:s.dob,phone_number:s.phone_number}).then(b=>{b.data.status=="success"?(E.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),n.employeeDetails.get_family_details.dob=useDateFormat(s.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=s.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=s.phone_number):b.data.status=="failure"}).catch(b=>{console.log(b)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),x.value=!1},B=a=>{g.value=!0,r.value=a.id,o.name=a.name,o.relationship=a.relationship,o.dob=a.dob,o.phone_number=a.phone_number},A=a=>{n.loading_screen=!0,r.value=a.id;let b=` /delete-family-info/${P.current_user_id}`;I.post(b,{current_table_id:r.value}).then(L=>{L.data.status=="success"?(E.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),n.employeeDetails.get_family_details.dob=useDateFormat(s.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=s.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=s.phone_number):L.data.status=="failure"&&(leave_data.leave_request_error_messege=L.data.message)}).catch(L=>{console.log(L)}).finally(()=>{n.loading_screen=!1,n.fetchEmployeeDetails()})},p=a=>{n.loading_screen=!0;let b=`/update-family-info/${P.current_user_id}`;I.post(b,{user_code:n.employeeDetails.user_code,current_table_id:r.value,name:o.name,relationship:o.relationship,dob:o.dob,phone_number:o.phone_number}).then(L=>{L.data.status=="success"?(E.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),n.employeeDetails.get_family_details.dob=useDateFormat(o.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=o.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=o.phone_number):L.data.status=="failure"&&(leave_data.leave_request_error_messege=L.data.message)}).catch(L=>{console.log(L)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),g.value=!1};return X(()=>{}),(a,i)=>{const b=D("Toast"),L=D("Dialog"),q=D("Column"),Y=D("DataTable");return u(),f("div",bo,[e("div",vo,[e("h6",go,[w("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"79%"},onClick:i[0]||(i[0]=S=>x.value=!0)}," Add New "),t(L,{visible:x.value,"onUpdate:visible":i[5]||(i[5]=S=>x.value=S),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:m(()=>[t(b),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:R},"submit")])]),default:m(()=>[e("div",ho,[e("div",yo,[xo,M(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":i[1]||(i[1]=S=>s.name=S)},null,512),[[H,s.name]])]),e("div",$o,[Do,M(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":i[2]||(i[2]=S=>s.relationship=S),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[H,s.relationship]])])]),e("div",wo,[e("div",ko,[Po,M(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":i[3]||(i[3]=S=>s.dob=S)},null,512),[[H,s.dob]])]),e("div",Co,[Vo,M(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":i[4]||(i[4]=S=>s.phone_number=S)},null,512),[[H,s.phone_number]])])])]),_:1},8,["visible"])]),e("div",Eo,[t(Y,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:l(n).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[t(q,{header:"Name",field:"name",style:{"min-width":"8rem"}}),t(q,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),t(q,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:m(S=>[S.data.dob=="Invalid Date"?(u(),f("div",So," - ")):(u(),f("div",Lo,y(l(je)(S.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),t(q,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),t(q,{exportable:!1,header:"Action",style:{"min-width":"8rem"}},{body:m(S=>[e("button",{class:"mr-3 btn btn-success",onClick:c=>B(S.data)},"Edit",8,Uo),e("button",{class:"btn btn-danger",onClick:c=>A(S.data)},"Delete",8,To),e("template",null,[t(L,{visible:g.value,"onUpdate:visible":i[10]||(i[10]=c=>g.value=c),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:m(()=>[t(b),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:p},"submit")])]),default:m(()=>[e("div",No,[e("div",Fo,[Io,M(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":i[6]||(i[6]=c=>o.name=c),required:""},null,512),[[H,o.name]])]),e("div",Bo,[Ao,M(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":i[7]||(i[7]=c=>o.relationship=c),required:""},null,512),[[H,o.relationship]])])]),e("div",Ro,[e("div",Mo,[jo,M(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":i[8]||(i[8]=c=>o.dob=c)},null,512),[[H,o.dob]])]),e("div",qo,[Yo,M(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":i[9]||(i[9]=c=>o.phone_number=c)},null,512),[[H,o.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}};const Ho=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),Go={class:"tab-content",id:"pills-tabContent"},Ko={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},Wo=e("div",{class:"mb-2 card"},[e("div",{class:"card-body"},[e("form",{action:"",method:"POST",enctype:"multipart/form-data"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:"mb-2 fw-bold fs-15 z-0"}," Payroll Summary ")]),e("ul",{class:"personal-info"},[e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Last Processed"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Total Working Days"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1"},[e("div",{class:"title"},"Loss Of Pay(LOP)"),e("div",{class:"text"}," - ")])])])])],-1),zo={class:"mb-2 card"},Jo={class:"card-body"},Qo=e("i",{class:"ri-pencil-fill"},null,-1),Xo=[Qo],Zo={class:"modal-body"},es={class:"row"},ts={class:"col-md-6"},os={class:"mb-3 form-group"},ss=e("label",null,"Bank Name",-1),as={class:"col-md-6"},ls={class:"mb-3 form-group"},is=e("label",null,"Bank Account No",-1),ns=e("div",{class:"cal-icon"},null,-1),ds={class:"col-md-6"},rs={class:"mb-3 form-group"},cs=e("label",null,"IFSC Code",-1),ps={class:"col-md-6"},_s={class:"mb-3 form-group"},ms=e("label",null,"PAN No",-1),us={class:"col-md-6"},fs={class:"floating"},bs=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),vs={class:"flex justify-content-start"},gs=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),hs={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},ys={class:"personal-info"},xs=e("div",{class:"title"},"Bank Name",-1),$s={class:"text"},Ds=e("div",{class:"title"},"Bank Account No.",-1),ws={class:"text"},ks=e("div",{class:"title"},"IFSC Code",-1),Ps={class:"text"},Cs=e("div",{class:"title"},"PAN No",-1),Vs={class:"text w-20"},Es={class:"personal-edit"},Ss={href:"#",class:"edit-icon",style:{color:"#e63b1f"}},Ls={class:"modal-body"},Us={class:"row"},Ts={class:"col-md-6"},Ns={class:"mb-3 form-group"},Fs=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),Is={key:0,class:"text-red-400 fs-6 font-semibold"},Bs={class:"col-md-6 d-flex flex-column"},As={class:"d-flex justify-items-center flex-column ml-10"},Rs=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),Ms={class:"d-flex justify-items-center align-items-center"},js=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),qs={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},Ys={key:0,class:"text-red-400 fs-6 font-semibold"},Os={class:"mb-2 card"},Hs={class:"card-body"},Gs={class:"mb-2 fw-bold fs-15"},Ks={class:"personal-edit"},Ws=e("i",{class:"ri-pencil-fill"},null,-1),zs=[Ws],Js={class:"modal-body"},Qs={class:"row"},Xs={class:"col-md-6"},Zs={class:"floating"},ea=e("label",{for:"",class:"float-label"},[w("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),ta=e("option",{value:"",hidden:"",selected:"",disabled:""},"PF Applicable",-1),oa=e("option",{value:"yes"},"Yes",-1),sa=e("option",{value:"no"},"No",-1),aa=[ta,oa,sa],la={class:"col-md-6"},ia={class:"mb-3 form-group"},na=e("label",null,"EPF Number",-1),da={class:"col-md-6"},ra={class:"mb-3 form-group"},ca=e("label",null,"UAN Number",-1),pa={class:"col-md-6"},_a={class:"mb-3 form-group"},ma=e("label",{class:"float-label"},[w("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),ua=e("option",{value:"",hidden:"",selected:"",disabled:""},"ESIC Applicable",-1),fa=e("option",{value:"yes"}," Yes ",-1),ba=e("option",{value:"no"}," No ",-1),va=[ua,fa,ba],ga={class:"col-md-6"},ha={class:"floating"},ya=e("label",{for:"",class:"float-label"},"ESIC Number",-1),xa=e("span",{class:"error",id:"error_esic_number"},null,-1),$a=e("div",{class:"col-md-6"},[e("div",{class:"floating"},[e("span",{class:"error",id:"error_esic_number"})])],-1),Da={key:0,class:"personal-info"},wa=e("div",{class:"title"},"PF Applicable",-1),ka={class:"text"},Pa=e("div",{class:"title"},"EPF Number",-1),Ca={class:"text"},Va=e("div",{class:"title"},"UAN Number",-1),Ea={class:"text"},Sa=e("div",{class:"title"},"ESIC Applicable",-1),La={class:"text"},Ua=e("div",{class:"title"},"ESIC Number",-1),Ta={class:"text"},Na={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Fa={class:"mb-2 card"},Ia={class:"card-body"},Ba=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Aa={__name:"FinanceDetails",setup(z){const P=te(),n=$(!1),E=$(!1);let x=new FormData;x.append("user_code",K.current_user_code),x.append("file_object",W.value);let g="/profile-pages/updateProfilePicture";I.post(g,x).then(N=>{}).finally(()=>{console.log("Photo Sent")});const s=W(),o=K(),r=$([]),R=$();r.value.push(s.employeeDetails.get_statutory_details),X(()=>{o.getBankList().then(N=>{R.value=N.data}),s.fetchEmployeeDetails()});const B=$(!1),A=$(!1);$(),$();const p=G({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),a=G({pan_no:"",Pancard:""}),i=N=>{N.target.files&&N.target.files[0]&&(p.PassBook=N.target.files[0],console.log(p.PassBook))},b=ee(()=>{if(s.employeeDetails.get_statutory_details.esic_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.esic_applicable=="yes")return"Yes"}),L=ee(()=>{if(s.employeeDetails.get_statutory_details.pf_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.pf_applicable=="yes")return"Yes"}),q=()=>{n.value=!0;let _=`/update-bank-info/${o.current_user_id}`,V=new FormData;V.append("user_code",s.employeeDetails.user_code),V.append("bank_id",p.bank_id),V.append("account_no",p.bank_ac_no),V.append("bank_ifsc",p.ifsc_code),V.append("PassBook",p.PassBook),V.append("onboard_document_type","Cheque leaf/Bank Passbook"),I.post(_,V).then(O=>{O.data.status=="success"?(P.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),s.employeeDetails.get_employee_details.bank_id=p.bank_id,s.employeeDetails.get_employee_details.bank_account_number=p.bank_ac_no,s.employeeDetails.get_employee_details.bank_ifsc_code=p.ifsc_code,s.employeeDetails.get_employee_details.pan_no=p.pan_no):O.data.status=="failure"&&(leave_data.leave_request_error_messege=O.data.message)}).catch(O=>{console.log(O)}).finally(()=>{s.fetchEmployeeDetails(),n.value=!1}),B.value=!1};function Y(){p.bank_id=parseInt(s.employeeDetails.get_employee_details.bank_id),p.bank_ac_no=s.employeeDetails.get_employee_details.bank_account_number,p.ifsc_code=s.employeeDetails.get_employee_details.bank_ifsc_code,p.pan_no=s.employeeDetails.get_employee_details.pan_number,B.value=!0}function S(){c.pf_applicable=s.employeeDetails.get_statutory_details.pf_applicable,c.epf_no=s.employeeDetails.get_statutory_details.epf_number,c.uan_no=s.employeeDetails.get_statutory_details.uan_number,c.esic_applicable=s.employeeDetails.get_statutory_details.esic_applicable,c.esic_no=s.employeeDetails.get_statutory_details.esic_number,A.value=!0}const c=G({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),C=()=>{n.value=!0;let _=`/update-statutory-info/${o.current_user_id}`;I.post(_,{user_code:s.employeeDetails.user_code,pf_applicable:c.pf_applicable,epf_number:c.epf_no,uan_number:c.uan_no,esic_applicable:c.esic_applicable,esic_number:c.esic_no}).then(V=>{V.data.status=="success"?P.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):V.data.status=="failure"&&(leave_data.leave_request_error_messege=V.data.message)}).catch(V=>{console.log(V)}).finally(()=>{s.fetchEmployeeDetails(),n.value=!1}),A.value=!1},oe=N=>{N.target.files&&N.target.files[0]&&(a.Pancard=N.target.files[0],console.log(a.Pancard))},se=()=>{n.value=!0;const _=`/update-Pancard-info/${o.current_user_id}`,V=new FormData;V.append("pan_no",a.pan_no),V.append("pancard",a.Pancard),V.append("user_code",s.employeeDetails.user_code),V.append("onboard_document_type","Pan Card"),E.value=!1,a.Pancard&&I.post(_,V).finally(()=>{n.value=!1})},U=ee(()=>({pan_no:{required:Q},Pancard:{required:Q}})),d=ne(U,a),T=()=>{d.value.$validate(),d.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),se())};return(N,_)=>{const V=D("Dropdown"),O=D("InputText"),Z=D("Toast"),h=D("Dialog"),de=D("InputMask"),re=D("ProgressSpinner");return u(),f("div",null,[Ho,e("div",Go,[e("div",Ko,[Wo,e("div",zo,[e("div",Jo,[e("h6",{class:"mb-2 fw-bold fs-15"},[w("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:Y},Xo)])]),t(h,{visible:B.value,"onUpdate:visible":_[5]||(_[5]=v=>B.value=v),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:m(()=>[e("div",null,[e("div",Zo,[e("div",es,[e("div",ts,[e("div",os,[ss,t(V,{editable:"",options:R.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:p.bank_id,"onUpdate:modelValue":_[0]||(_[0]=v=>p.bank_id=v)},null,8,["options","modelValue"])])]),e("div",as,[e("div",ls,[is,ns,t(O,{class:"form-controls onboard-form pl-2",inputId:"integeronly",name:"account_no",min:0,max:100,type:"number",modelValue:p.bank_ac_no,"onUpdate:modelValue":_[1]||(_[1]=v=>p.bank_ac_no=v)},null,8,["modelValue"])])]),e("div",ds,[e("div",rs,[cs,t(O,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:p.ifsc_code,"onUpdate:modelValue":_[2]||(_[2]=v=>p.ifsc_code=v)},null,8,["modelValue"])])]),e("div",ps,[e("div",_s,[ms,t(O,{type:"text",name:"pan_nos",class:"form-controls pl-2",modelValue:p.pan_no,"onUpdate:modelValue":_[3]||(_[3]=v=>p.pan_no=v)},null,8,["modelValue"])])]),e("div",us,[e("div",fs,[bs,e("div",vs,[t(Z),gs,e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:_[4]||(_[4]=v=>i(v))},null,32),p.PassBook?(u(),f("div",hs,y(p.PassBook.name),1)):F("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:q},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",ys,[e("li",null,[xs,e("div",$s,y(l(s).employeeDetails.get_employee_details.bank_name),1)]),e("li",null,[Ds,e("div",ws,y(l(s).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[ks,e("div",Ps,y(l(s).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[Cs,e("div",Vs,[w(y(l(s).employeeDetails.get_employee_details.pan_number)+" ",1),e("span",Es,[e("a",Ss,[e("i",{class:"ri-pencil-fill",onClick:_[6]||(_[6]=v=>E.value=!0)})])])])])])])])]),t(h,{visible:E.value,"onUpdate:visible":_[9]||(_[9]=v=>E.value=v),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:m(()=>[e("div",null,[e("div",Ls,[e("div",Us,[e("div",Ts,[e("div",Ns,[Fs,t(de,{onFocusout:N.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:a.pan_no,"onUpdate:modelValue":_[7]||(_[7]=v=>a.pan_no=v),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:J(["form-controls pl-2",[l(d).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),l(d).pan_no.$error?(u(),f("span",Is,y(l(d).pan_no.required.$message.replace("Value","Pancard number")),1)):F("",!0)])]),e("div",Bs,[e("div",As,[Rs,e("div",Ms,[t(Z),js,a.Pancard?(u(),f("div",qs,y(a.Pancard.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:_[8]||(_[8]=v=>oe(v)),class:J([l(d).Pancard.$error?"p-invalid":""])},null,34)]),l(d).Pancard.$error?(u(),f("span",Ys,y(l(d).Pancard.required.$message.replace("Value","Pancard attachment")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:T},"Submit")])])])])]),_:1},8,["visible"]),e("div",Os,[e("div",Hs,[e("h6",Gs,[w("Statutory Information "),e("span",Ks,[e("a",{href:"#",class:"edit-icon",onClick:_[10]||(_[10]=v=>S())},zs)])]),t(h,{visible:A.value,"onUpdate:visible":_[16]||(_[16]=v=>A.value=v),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:m(()=>[e("div",Js,[e("div",Qs,[e("div",Xs,[e("div",Zs,[ea,M(e("select",{placeholder:"PF Applicable",name:"pf_applicable",id:"pf_applicable",class:"onboard-form form-control textbox select2_form_without_search","onUpdate:modelValue":_[11]||(_[11]=v=>c.pf_applicable=v)},aa,512),[[ae,c.pf_applicable]])])]),e("div",la,[e("div",ia,[na,M(e("input",{type:"text",placeholder:"EPF Number",name:"epf_number",id:"epf_number",class:"onboard-form form-control","onUpdate:modelValue":_[12]||(_[12]=v=>c.epf_no=v)},null,512),[[H,c.epf_no]])])]),e("div",da,[e("div",ra,[ca,M(e("input",{name:"uan_number",id:"uan_number",minlength:"12",maxlength:"12",class:"form-control onboard-form",type:"text","pattern-data":"ifsc",required:"","onUpdate:modelValue":_[13]||(_[13]=v=>c.uan_no=v)},null,512),[[H,c.uan_no]])])]),e("div",pa,[e("div",_a,[ma,M(e("select",{placeholder:"ESIC Applicable",name:"esic_applicable",id:"esic_applicable",class:"onboard-form form-control textbox select2_form_without_search",required:"","onUpdate:modelValue":_[14]||(_[14]=v=>c.esic_applicable=v)},va,512),[[ae,c.esic_applicable]])])]),e("div",ga,[e("div",ha,[ya,M(e("input",{type:"text",placeholder:"ESIC Number",name:"esic_number",id:"esic_number",minlength:"10",maxlength:"10",class:"onboard-form form-control textbox","onUpdate:modelValue":_[15]||(_[15]=v=>c.esic_no=v)},null,512),[[H,c.esic_no]]),xa])]),$a]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:C},"Save")])])])]),_:1},8,["visible"]),l(s).employeeDetails.get_statutory_details?(u(),f("ul",Da,[e("li",null,[wa,e("div",ka,y(l(L)),1)]),e("li",null,[Pa,e("div",Ca,y(l(s).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[Va,e("div",Ea,y(l(s).employeeDetails.get_statutory_details.uan_number),1)]),e("li",null,[Sa,e("div",La,y(l(b)),1)]),e("li",null,[Ua,e("div",Ta,y(l(s).employeeDetails.get_employee_details.account_no)+" "+y(l(s).employeeDetails.get_statutory_details.esic_number),1)])])):F("",!0)])])]),e("div",Na,[e("div",Fa,[e("div",Ia,[t(qe)])])])]),t(h,{header:"Header",visible:n.value,"onUpdate:visible":_[17]||(_[17]=v=>n.value=v),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(re,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[Ba]),_:1},8,["visible"])])}}};const Ra={class:"mb-2 card"},Ma={class:"card-body"},ja={class:"fw-bold fs-15"},qa={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},Ya={class:"space-between"},Oa={class:"flex-col input_text"},Ha=e("span",null,[w("Company Name "),e("span",{class:"text-danger"},"*")],-1),Ga={class:"flex-col input_text"},Ka=e("span",null,[w(" Location"),e("span",{class:"text-danger"},"*")],-1),Wa={class:"space-between M-T"},za={class:"flex-col input_text"},Ja=e("span",null,[w("Job Position "),e("span",{class:"text-danger"},"*")],-1),Qa={class:"flex-col input_text",style:{"margin-right":"7px"}},Xa=e("span",{style:{paddingLeft:"6px"}},[w("Period From"),e("span",{class:"text-danger"},"*")],-1),Za={class:"space-between M-T"},el={class:"flex-col input_text",style:{marginLeft:"-6px"}},tl=e("span",{style:{paddingLeft:"6px"}},[w("Period To "),e("span",{class:"text-danger"},"*")],-1),ol={class:"my-6 table-responsive"},sl=["onClick"],al=["onClick"],ll={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},il={class:"space-between"},nl={class:"flex-col input_text"},dl=e("span",null,[w("Company Name "),e("span",{class:"text-danger"},"*")],-1),rl={class:"flex-col input_text"},cl=e("span",null,[w(" Location"),e("span",{class:"text-danger"},"*")],-1),pl={class:"space-between M-T"},_l={class:"flex-col input_text"},ml=e("span",null,[w("Job Position "),e("span",{class:"text-danger"},"*")],-1),ul={class:"flex-col input_text",style:{"margin-right":"7px"}},fl=e("span",{style:{paddingLeft:"6px"}},[w("Period From"),e("span",{class:"text-danger"},"*")],-1),bl={class:"space-between M-T"},vl={class:"flex-col input_text",style:{marginLeft:"-6px"}},gl=e("span",{style:{paddingLeft:"6px"}},[w("Period To "),e("span",{class:"text-danger"},"*")],-1),hl={__name:"ExperienceDetails",setup(z){const P=K(),n=W(),E=te();te(),$("");const x=$(!1),g=$(!1),s=$(),o=G({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),r=()=>{console.log(o),n.loading_screen=!0;let a=`/add-experience-info/${P.current_user_id}`;I.post(a,{user_code:n.employeeDetails.user_code,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:o.period_from,period_to:o.period_to}).then(i=>{i.data.status=="success"?E.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):i.data.status=="failure"&&(leave_data.leave_request_error_messege=i.data.message)}).catch(i=>{console.log(i)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),x.value=!1};X(()=>{});const R=p=>{g.value=!0,s.value=p.id,console.log(s.value),o.company_name=p.company_name,o.location=p.location,o.job_position=p.job_position,o.period_from=p.period_from,o.period_to=p.period_to},B=p=>{g.value=!1;let i=`/update-experience-info/${P.current_user_id}`;I.post(i,{user_code:n.employeeDetails.user_code,exp_current_table_id:s.value,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:o.period_from,period_to:o.period_to}).then(b=>{b.data.status=="success"?(window.location.reload(),E.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)})},A=p=>{s.value=p.id;let i=`/delete-experience-info/${P.current_user_id}`;I.post(i,{exp_current_table_id:s.value}).then(b=>{b.data.status=="success"?E.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1})};return(p,a)=>{const i=D("InputText"),b=D("Calendar"),L=D("Toast"),q=D("Dialog"),Y=D("Column"),S=D("DataTable");return u(),f("div",null,[e("div",Ra,[e("div",Ma,[e("h6",ja,[w("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"76%"},onClick:a[0]||(a[0]=c=>x.value=!0)}," Add New "),t(q,{visible:x.value,"onUpdate:visible":a[6]||(a[6]=c=>x.value=c),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:m(()=>[e("div",null,[t(L),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:r},"submit")])]),default:m(()=>[e("div",qa,[e("div",Ya,[e("div",Oa,[Ha,t(i,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":a[1]||(a[1]=c=>o.company_name=c),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",Ga,[Ka,t(i,{type:"text",modelValue:o.location,"onUpdate:modelValue":a[2]||(a[2]=c=>o.location=c),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",Wa,[e("div",za,[Ja,t(i,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":a[3]||(a[3]=c=>o.job_position=c),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",Qa,[Xa,t(b,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":a[4]||(a[4]=c=>o.period_from=c),style:j({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",Za,[e("div",el,[tl,t(b,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":a[5]||(a[5]=c=>o.period_to=c),class:"",style:j({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])]),e("div",ol,[t(S,{ref:"dt",value:l(n).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[t(Y,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),t(Y,{field:"location",header:"Location",style:{"min-width":"8rem"}}),t(Y,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),t(Y,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),t(Y,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),t(Y,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:m(c=>[e("button",{class:"mr-3 btn btn-success",onClick:C=>R(c.data)},"Edit",8,sl),e("button",{class:"btn btn-danger",onClick:C=>A(c.data)},"Delete",8,al),e("template",null,[t(q,{visible:g.value,"onUpdate:visible":a[13]||(a[13]=C=>g.value=C),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:j({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:m(()=>[e("div",null,[t(L),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:a[12]||(a[12]=C=>B())},"submit")])]),default:m(()=>[e("div",ll,[e("div",il,[e("div",nl,[dl,t(i,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":a[7]||(a[7]=C=>o.company_name=C),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",rl,[cl,t(i,{type:"text",modelValue:o.location,"onUpdate:modelValue":a[8]||(a[8]=C=>o.location=C),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",pl,[e("div",_l,[ml,t(i,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":a[9]||(a[9]=C=>o.job_position=C),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",ul,[fl,t(b,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":a[10]||(a[10]=C=>o.period_from=C),style:j({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",bl,[e("div",vl,[gl,t(b,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":a[11]||(a[11]=C=>o.period_to=C),class:"",style:j({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},yl={class:"table-responsive"},xl={class:"w-full h-full d-flex justify-content-center"},$l=["src"],Dl=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),wl={__name:"documents",setup(z){const P=W();K();const n=$({}),E=$(!1),x=$(),g=$(!1),s=o=>{n.value={...o},console.log(n.value),console.log(n.value.doc_url),E.value=!0,g.value=!0,I.post("/view-profile-private-file",{user_code:P.employeeDetails.user_code,document_name:n.value.document_name}).then(r=>{console.log(r.data.data),x.value=r.data.data,console.log("data sent",x.value)}).finally(()=>{g.value=!1})};return(o,r)=>{const R=D("Column"),B=D("Button"),A=D("DataTable"),p=D("Dialog"),a=D("ProgressSpinner");return u(),f("div",yl,[t(A,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:l(P).employeeDetails.employee_documents,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[t(R,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:m(()=>[w(y(l(P).employeeDetails.employee_documents.document_name),1)]),_:1}),t(R,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:m(()=>[w(y(l(P).employeeDetails.employee_documents.status),1)]),_:1}),t(R,{field:"reason",header:"Reason ",style:{"min-width":"12rem"}}),t(R,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:m(i=>[t(B,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:b=>s(i.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),g.value==!1?(u(),ce(p,{key:0,visible:E.value,"onUpdate:visible":r[0]||(r[0]=i=>E.value=i),modal:"",header:"Documents",style:{width:"40vw"}},{default:m(()=>[e("div",xl,[n.value.doc_url?(u(),f("img",{key:0,src:`data:image/png;base64,${x.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,$l)):F("",!0)])]),_:1},8,["visible"])):F("",!0),t(p,{header:"Header",visible:g.value,"onUpdate:visible":r[1]||(r[1]=i=>g.value=i),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(a,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[Dl]),_:1},8,["visible"])])}}},kl=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Pl={class:"profile_page-wrapper mt-30 container-fluid"},Cl={class:"row"},Vl={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},El={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},Sl=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Ll={class:"tab-content",id:"pills-tabContent"},Ul={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Tl={key:0},Nl={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Fl={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Il={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Bl={key:0},Al={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},Rl={__name:"profilePageNew",setup(z){K();let P=W();return X(async()=>{console.log("Loading screen start : "+P.loading_screen),P.fetchEmployeeDetails().then(function(n){console.log("Loading screen end : "+P.loading_screen),console.log("Req done")})}),(n,E)=>{const x=D("Toast"),g=D("ProgressSpinner"),s=D("Dialog");return u(),f(ie,null,[t(x),t(s,{header:"Header",visible:l(P).loading_screen,"onUpdate:visible":E[0]||(E[0]=o=>l(P).loading_screen=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(g,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[kl]),_:1},8,["visible"]),e("div",Pl,[e("div",Cl,[l(P).loading_screen?F("",!0):(u(),f("div",Vl,[t(fo)])),e("div",El,[Sl,e("div",Ll,[e("div",Ul,[l(P).loading_screen?F("",!0):(u(),f("div",Tl,[t(Me)]))]),e("div",Nl,[t(Oo)]),e("div",Fl,[t(hl)]),e("div",Il,[l(P).loading_screen?F("",!0):(u(),f("div",Bl,[t(Aa)]))]),e("div",Al,[t(wl)])])])])])],64)}}},k=pe(Rl),Ml=$e();k.use(_e,{ripple:!0});k.use(Se);k.use(me);k.use(Ee);k.use(Ml);k.directive("tooltip",De);k.directive("badge",we);k.directive("ripple",ue);k.directive("styleclass",ke);k.directive("focustrap",fe);k.component("Button",be);k.component("DataTable",Pe);k.component("Column",Ce);k.component("ColumnGroup",Te);k.component("Row",Ue);k.component("Toast",ve);k.component("ConfirmDialog",ge);k.component("Dropdown",he);k.component("InputText",ye);k.component("Dialog",xe);k.component("ProgressSpinner",Le);k.component("Calendar",Ne);k.component("Textarea",Fe);k.component("Chips",Ie);k.component("MultiSelect",Be);k.component("InputNumber",Ve);k.component("ProgressBar",Re);k.component("InputMask",Ae);k.mount("#profilePage");
