/* empty css              *//* empty css                     *//* empty css                   *//* empty css                 */import{Q as i,ab as E,o as d,c as h,h as f,w as p,aa as c,d as s,a as P,F as C,f as $,g as y,b as A,t as M,n as S,H as T,P as B,R as V,u as j,x as F,I as N,J as H,K as I,M as O}from"./inputnumber.esm-e362c3ab.js";import{a as R,T as z,B as J,S as K,s as L,b as Q}from"./toastservice.esm-8d63d505.js";import"./blockui.esm-da95937b.js";import{a as U}from"./datatable.esm-5f85e77a.js";import{C as W}from"./confirmationservice.esm-62abe3ae.js";import{s as q}from"./progressspinner.esm-dd1a9f95.js";import{s as G}from"./calendar.esm-871de032.js";import{s as X}from"./checkbox.esm-71be7f27.js";import{s as Y,a as Z}from"./accordiontab.esm-fd1c50c0.js";import{d as ee,c as te}from"./pinia-641035e3.js";import{_ as se}from"./AssignEmployee-776b9704.js";import{a as _}from"./index-362795f3.js";const oe=ee("useModuleSettingsStore",()=>{const k=i(),a=i(!1),u=i(),m=i(),b=i(),n=i(!1);async function r(){n.value=!0,await _.get("/getClient_AllModuleDetails").then(e=>{console.log(e.data),u.value=e.data.data,console.log("mobile settings",u.value)}).finally(()=>{n.value=!1})}const g=async()=>{await _.get("session-sessionselectedclient").then(e=>{console.log(e.data),b.value=e.data,e.data.id&&(m.value=e.data)})},x=()=>{_.get("/getClient_AllModulePermissionDetails").then(e=>{console.log(e.data)})};return{currentlySelectedModule:k,employeeAssignDialog:a,arrayModuleSettingsDetails:u,getSessionClient:g,saveEnableDisableSetting:async(e,o)=>{let w={module_id:e.module_id?e.module_id:e.module_id?"":e.value.module_id,module_status:o,sub_module_id:e.sub_module_id||e.module_id?"":e.value.sub_module_id,sub_module_status:e.sub_module_status||e.module_id?"":e.value.sub_module_status};n.value=!0,await _.post("/update_AllClientModuleStatus",w).then(v=>{console.log("Status received : "+v.data.status),v.data.status=="success"&&(e.status=o)}).finally(()=>{n.value=!1,r(),x()})},canshowloading:n,client_details:m,updateEmployeesPermissionStatus:()=>{_.post("/updateEmployeesPermissionStatus",{app_sub_modules_link_id,selected_employees_user_code}).then(()=>{}).finally(()=>{})},getModuleSettings:r,getClient_AllModulePermissionDetails:x}});const ae=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),le={class:"w-full"},ne=s("h1",{class:"text-[18px] text-[#000] my-2"},"Module Settings",-1),ie={class:"grid items-center w-full grid-cols-2"},re={class:"my-auto"},ce={class:"text-[#000] text-[14px] my-auto"},ue={class:"mx-auto"},de=["onClick"],pe=["onClick"],_e={class:"my-auto"},me={class:"text-[#000] text-[14px]"},be={class:"mx-auto"},ge=["onClick"],xe=["onClick"],ve={__name:"module_settings",setup(k){const a=oe();E(async()=>{await a.getSessionClient(),await a.getModuleSettings()});const u=b=>Object.entries(b).map(r=>({title:r[0],value:r[1]}));i(1);const m=i();return i(!1),(b,n)=>{const r=y("ProgressSpinner"),g=y("Dialog"),x=y("AccordionTab"),D=y("Accordion");return d(),h(C,null,[f(g,{header:"Header",visible:c(a).canshowloading,"onUpdate:visible":n[0]||(n[0]=l=>c(a).canshowloading=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:p(()=>[f(r,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:p(()=>[ae]),_:1},8,["visible"]),s("div",le,[ne,P("",!0)]),f(D,null,{default:p(()=>[(d(!0),h(C,null,$(c(a).arrayModuleSettingsDetails,(l,e)=>(d(),A(x,{key:e},{header:p(()=>[s("div",ie,[s("div",re,[s("h1",ce,M(l.module_name),1)]),s("div",null,[s("div",ue,[s("button",{class:S(["text-[12px] w-[100px] rounded-l-[8px] h-[26px]",[l.module_status==1?" bg-[#000] text-white  ":" bg-white !text-[#000] border-[2px] border-black"]]),onClick:o=>(c(a).saveEnableDisableSetting(l,1),l.module_status=1)},"Enable",10,de),s("button",{class:S(["text-[12px] w-[100px] rounded-r-[8px] h-[26px]",[l.module_status==0?"bg-[#000] text-white ":"bg-white text-black border-[2px] border-black"]]),onClick:o=>(c(a).saveEnableDisableSetting(l,0),l.module_status=0)},"Disable",10,pe)])])])]),default:p(()=>[(d(!0),h(C,null,$(u(l.sub_module_details),(o,w)=>(d(),h("div",{class:"grid grid-cols-2 p-2 rounded-lg border my-2.5 h-[44px]",key:w},[s("div",_e,[s("h1",me,M(o?o.value.sub_module_name:""),1)]),s("div",be,[s("button",{class:S(["text-[12px] w-[100px] rounded-l-[8px] h-[26px]",[o.value.sub_module_status==1?" bg-[#000] text-white  ":" bg-white !text-[#000] border-[2px] border-black"]]),onClick:v=>(c(a).saveEnableDisableSetting(o,1),o.value.sub_module_status=1)},"Enable",10,ge),s("button",{class:S(["text-[12px] w-[100px] rounded-r-[8px] h-[26px]",[o.value.sub_module_status==0?"bg-[#000] text-white ":"bg-white text-black border-[2px] border-black"]]),onClick:v=>(c(a).saveEnableDisableSetting(o,0),o.value.sub_module_status=0)},"Disable",10,xe)])]))),128))]),_:2},1024))),128))]),_:1}),f(se,{type:m.value},null,8,["type"])],64)}}},t=T(ve),he=te();t.use(B,{ripple:!0});t.use(W);t.use(R);t.use(he);t.directive("tooltip",z);t.directive("badge",J);t.directive("ripple",V);t.directive("styleclass",K);t.directive("focustrap",j);t.component("Checkbox",X);t.component("Button",F);t.component("Accordion",Y);t.component("AccordionTab",Z);t.component("DataTable",U);t.component("Column",N);t.component("ConfirmDialog",L);t.component("Toast",Q);t.component("Dialog",H);t.component("Dropdown",I);t.component("ProgressSpinner",q);t.component("InputText",O);t.component("Calendar",G);t.mount("#module_settings");
