import{B as g,V as b,E as M,c as h,e as d,h as s,W as r,w as f,F as D,g as u,o as C,G as S,P as w,H as k,R as T,q as $}from"./toastservice.esm-c4f6de4c.js";import{T as L,B as x,S as E,b as F,a as R}from"./styleclass.esm-ea560a03.js";import"./blockui.esm-85692cd0.js";import{C as V,F as A,a as B,b as H,s as N}from"./inputtext.esm-5faf66bf.js";import{s as j}from"./confirmdialog.esm-51539a4d.js";import{s as U}from"./toast.esm-8d255b70.js";import{s as Y}from"./progressspinner.esm-455f2fd3.js";import{s as O}from"./calendar.esm-7c3ebc21.js";import{d as G,c as q}from"./pinia-0f325ab3.js";import{a as v}from"./index-f7a317fc.js";const I=G("managePayslipStore",()=>{const P=g(),i=g(),o=g(!1);async function m(l,p){v.post("getAllEmployeesPayslipDetails",{month:l,year:p}).then(c=>{P.value=c.data.data})}async function t(l,p,c){v.post("/payroll/paycheck/getEmployeePayslipDetailsAsHTML",{user_code:l,month:p,year:c}).then(a=>{console.log("Response [getEmployeePayslipDetailsAsHTML] : "+JSON.stringify(a.data.data)),i.value=a.data,o.value=!0})}async function _(l,p,c){console.log("sendMail_employeePayslip() : Sending mail to user : "+l),v.post("/payroll/paycheck/sendMail_employeePayslip",{user_code:l,month:p,year:c}).then(a=>{console.log(" Response [sendMail_employeePayslip] : "+a.data.data)}).catch(a=>{console.log(a)})}const n=g(!1);return{array_employees_list:P,paySlipHTMLView:i,canShowPayslipView:o,getAllEmployeesPayslipDetails:m,getEmployeePayslipDetailsAsHTML:t,sendMail_employeePayslip:_,dialog_ManagePayslipssendMail:n}});const J={class:"d-flex justify-content-end"},K=d("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),W={class:"my-4"},z={class:"card flex justify-content-center"},Q=d("h1",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis, odio?",-1),X={class:"d-flex justify-content-end"},Z={__name:"ManagePayslips",setup(P){const i=I(),o=b({selectmonth:"",selectDate:"",selectyear:""});return M(async()=>{}),(m,t)=>{const _=u("Calendar"),n=u("Button"),l=u("Column"),p=u("Dialog"),c=u("DataTable");return C(),h(D,null,[d("div",J,[K,s(_,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:o.selectDate,"onUpdate:modelValue":t[0]||(t[0]=a=>o.selectDate=a),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),s(n,{class:"mb-2 h-10 btn btn-orange",label:"Generate",onClick:t[1]||(t[1]=a=>r(i).getAllEmployeesPayslipDetails(o.selectDate.getMonth()+1,o.selectDate.getFullYear()))})]),d("div",W,[s(c,{value:r(i).array_employees_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],selection:o.selectedProduct,"onUpdate:selection":t[5]||(t[5]=a=>o.selectedProduct=a),currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:m.filters,"onUpdate:filters":t[6]||(t[6]=a=>m.filters=a),filterDisplay:"menu",loading:m.loading2,globalFilterFields:["name","status"]},{default:f(()=>[s(l,{selectionMode:"multiple",headerStyle:"width: 3rem"}),s(l,{field:"user_code",header:"Employee Code",headerStyle:"width: 3rem"}),s(l,{field:"name",header:"Employee Name"}),s(l,{field:"email",header:"Personal Mail"}),s(l,{field:"is_released",header:"Released Payslip?"}),s(l,{field:"is_",header:"Payslip mail sent?"}),s(l,{header:"View Payslip"},{body:f(a=>[s(n,{class:"btn-primary",label:"View ",onClick:y=>r(i).getEmployeePayslipDetailsAsHTML(a.data.user_code,o.selectDate.getMonth()+1,o.selectDate.getFullYear())},null,8,["onClick"])]),_:1}),s(l,{header:"Action"},{body:f(a=>[d("div",z,[s(n,{class:"btn-success",label:"Send Mail",onClick:t[2]||(t[2]=y=>r(i).dialog_ManagePayslipssendMail=!0)}),s(p,{visible:r(i).dialog_ManagePayslipssendMail,"onUpdate:visible":t[4]||(t[4]=y=>r(i).dialog_ManagePayslipssendMail=y),modal:"",header:"Header",style:{width:"25vw"}},{default:f(()=>[Q,d("div",null,[s(n,{class:"btn-success",label:"Send Mail",onClick:y=>r(i).sendMail_employeePayslip(a.data.user_code,o.selectDate.getMonth()+1,o.selectDate.getFullYear())},null,8,["onClick"]),s(n,{label:"Yes",icon:"pi pi-check",class:"",onClick:t[3]||(t[3]=y=>r(i).dialog_ManagePayslipssendMail=!1),autofocus:""})])]),_:2},1032,["visible"])])]),_:1})]),_:1},8,["value","selection","filters","loading"])]),d("div",X,[s(n,{class:"mb-2 btn btn-primary",label:"Submit"})])],64)}}},e=S(Z),ee=q();e.use(w,{ripple:!0});e.use(V);e.use(k);e.use(ee);e.directive("tooltip",L);e.directive("badge",x);e.directive("ripple",T);e.directive("styleclass",E);e.directive("focustrap",A);e.component("Button",$);e.component("DataTable",F);e.component("Column",R);e.component("ConfirmDialog",j);e.component("Toast",U);e.component("Dialog",B);e.component("Dropdown",H);e.component("ProgressSpinner",Y);e.component("InputText",N);e.component("Calendar",O);e.mount("#vjs_manage_payslips");
