import{a as y}from"./index-362795f3.js";import{Q as i,W as ne,ab as P,c as _,d as o,h as b,aa as t,a as k,n as w,b as R,w as U,a7 as j,g as L,o as v,F as z,f as A,ac as H,ad as O,p as F,l as I}from"./inputnumber.esm-e362c3ab.js";import"./lodash-facb8280.js";import{d as ie}from"./pinia-641035e3.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";import{L as N}from"./LoadingSpinner-235e9bb4.js";const B=ie("EmployeeMasterStore",()=>{const f=i(),e=i(),n=i(),x=i(),M=i(),l=i(),C=i(!1),g=i(),r=i(!1),c=i([]),u=i([]),V=i(),T=i(""),W=i(1),m=i(!1),d=ne({date:"",department_id:"",legal_entity:"",active_status:"",type:""}),E=i([]),S=i([]),Y=()=>{let a="/fetch-employee-ctc-report";m.value=!0,y.post(a,{type:""}).then(p=>{console.log(p.data.rows,"get value "),c.value=p.data.rows,console.log(c.value," testings data"),p.data.headers.forEach(s=>{let h={title:s};u.value.push(h),console.log(s)}),console.log(u.value)}).finally(()=>{m.value=!1})};function q(){m.value=!0,y.get("/filter-client-ids").then(a=>{M.value=a.data,console.log(" testing client id",M.value)}).finally(()=>{m.value=!1})}function G(){m.value=!0,y.get("/get-department").then(a=>{V.value=a.data}).finally(()=>{m.value=!1})}function J(){m.value=!0,y.post("/get-filter-months-for-reports").then(a=>{T.value=a.data}).finally(()=>{m.value=!1})}function K(){c.value.splice(0),u.value.splice(0),r.value==!0?(console.log(r),r.value=!1,g.value="",console.log(g.value)):r.value==!1&&(r.value=!0,g.value="detailed",console.log(g.value)),d.type=g.value,y.post("/fetch-employee-ctc-report",d).then(a=>{console.log(a.data.rows,"get value "),c.value=a.data.rows,console.log(c.value," testings data"),a.data.headers.forEach(p=>{let s={title:p};u.value.push(s),console.log(p)}),console.log(u.value)})}const X=()=>{let a="/generate-employee-ctc-report";m.value=!0,y.post(a,d,{responseType:"blob"}).then(p=>{console.log(p.data);var s=document.createElement("a");s.href=window.URL.createObjectURL(p.data),s.download="Employee CTC Report_.xlsx",s.click()}).finally(()=>{C.value=!1,m.value=!1})};function Z(a){if(console.log("active_status: ",a),S.value.splice(0,S.value.length),E.value.splice(0,E.value.length),c.value.splice(0,c.value.length),u.value.splice(0,u.value.length),a==1){m.value=!0;let p="/fetch-master-employee-report";y.post(p,d).then(s=>{console.log(s.data.rows,"get value "),E.value=s.data.rows,console.log(E.value," testings data"),s.data.headers.forEach(h=>{let $={title:h};S.value.push($),console.log(h)}),console.log(S.value),s.data.headers.length===0&&Swal.fire({title:s.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(h=>{})}).finally(()=>{m.value=!1})}else if(a==2){let p="/fetch-employee-ctc-report";m.value=!0,y.post(p,d).then(s=>{console.log(s.data.rows,"get value "),c.value=s.data.rows,console.log(c.value," testings data"),s.data.headers.forEach(h=>{let $={title:h};u.value.push($),console.log(h)}),console.log(u.value),s.data.rows.length===0&&Swal.fire({title:s.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(h=>{})}).finally(()=>{m.value=!1})}}function ee(a,p,s){console.log(a,p,s),a=="department"?d.department_id=p:a=="Category"?(d.active_status=p,console.log(d)):a=="date"?d.date=p:a=="legal_entity"&&(d.legal_entity=p)}function te(){let a="/fetch-master-employee-report";m.value=!0,y.post(a,{type:""}).then(p=>{console.log(p.data.rows,"get value "),E.value=p.data.rows,console.log(E.value," testings data"),p.data.headers.forEach(s=>{let h={title:s};S.value.push(h),console.log(s)}),console.log(S.value)}).finally(()=>{m.value=!1})}function oe(){let a="/generate-master-employee-report-data";m.value=!0,y.post(a,d,{responseType:"blob"}).then(p=>{console.log(p.data);var s=document.createElement("a");s.href=window.URL.createObjectURL(p.data),s.download="Employee Master Report_.xlsx",s.click()}).finally(()=>{C.value=!1,m.value=!1})}function le(a){console.log("testing data :",a),a===2?(c.value.splice(0,c.value.length),u.value.splice(0,u.value.length),d.active_status="",d.date="",d.department_id="",d.legal_entity="",f.value="",e.value="",n.value="",x.value=""):(E.value.splice(0,E.value.length),S.value.splice(0,S.value.length),d.active_status="",d.date="",d.department_id="",d.legal_entity="",f.value="",e.value="",n.value="",x.value="")}function ae(a){console.log(a?"1":"2",a)}function se(a){a===4?T.value.push({date:"custom_date",month:"Custom Date"}):T.value.pop()}return{show:r,client_ids:M,employeeCTCReportSource:c,Employee_CTCReportDynamicHeaders:u,personalDetail:g,selectCategory:l,department:V,PeriodMonth:T,fetchFilterClientIds:q,getEmployeeCTC:Y,personalDetails:K,getALLdepartment:G,getPeriodMonth:J,updateEmployeeApplyFilter:Z,downloadEmployeeCTC:X,btn_download:C,canShowLoading:m,filterbtn:W,legal_Entity:f,Department:e,period_Date:n,select_Category:x,getemployeeMater:te,employeeMaterReportSource:E,Employee_MaterReportDynamicHeaders:S,downloadEmployeeMaster:oe,getSelectoption:ee,clearfilterBtn:le,testings:ae,selectedfilters:d,resetChars:()=>{d.active_status="",d.date="",d.department_id="",d.legal_entity="",f.value="",e.value="",n.value="",x.value=""},filterCustomDate:se}});const D=f=>(H("data-v-8e29533c"),f=f(),O(),f),re={class:"flex justify-between p-2 bg-white"},pe={class:""},de={class:"flex items-center"},ce=D(()=>o("h1",{class:"text-[12px] text-black font-semibold font-['poppins']"},"Personal Details -",-1)),ue={key:0,class:"pi pi-eye"},me={key:1,class:"pi pi-eye-slash"},ve=D(()=>o("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"},null,-1)),fe=D(()=>o("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),ge=D(()=>o("path",{d:"M8,1 L8,11",class:"svg-out"},null,-1)),_e=[ve,fe,ge],he={class:""},xe={__name:"employee_CTC",setup(f){const e=B();P(()=>{}),i([]);const n=i({global:{value:null,matchMode:j.CONTAINS}}),x=i("downloaded");return(M,l)=>{const C=L("InputText"),g=L("loadingSpinner"),r=L("Column"),c=L("DataTable");return v(),_("div",null,[o("div",re,[o("div",pe,[b(C,{placeholder:"Search",modelValue:n.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=u=>n.value.global.value=u),class:"border-color !h-10 my-2"},null,8,["modelValue"])]),o("div",de,[ce,o("button",{class:"bg-[#E6E6E6] px-3 p-2 rounded-md mx-2",onClick:l[1]||(l[1]=u=>t(e).personalDetails())},[t(e).show&&t(e).personalDetail=="detailed"?(v(),_("i",ue)):t(e).show?k("",!0):(v(),_("i",me))]),o("button",{class:w(["p-2 mx-2 rounded-md w-[120px]",[!t(e).employeeCTCReportSource.length==0?"bg-[#000] text-white":" !text-[#000] !bg-[#E6E6E6] "]]),onClick:l[2]||(l[2]=u=>(t(e).btn_download=!t(e).btn_download,t(e).downloadEmployeeCTC()))},[o("p",{class:w(["relative left-2 font-['poppins']",[!t(e).employeeCTCReportSource.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]])},"Download",2),o("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:w([t(e).btn_download==!0?x.value:" "])},[(v(),_("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:w([!t(e).employeeCTCReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},_e,2))],2)],2)])]),o("div",he,[t(e).canShowLoading?(v(),R(g,{key:0,class:"absolute z-50 bg-white"})):k("",!0),b(c,{value:t(e).employeeCTCReportSource,filters:n.value,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],scrollable:"",scrollHeight:"240px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",responsiveLayout:"scroll"},{default:U(()=>[(v(!0),_(z,null,A(t(e).Employee_CTCReportDynamicHeaders,u=>(v(),R(r,{key:u.title,field:u.title,header:u.title,style:{"white-space":"nowrap","text-align":"left",width:"15rem !important"}},null,8,["field","header"]))),128))]),_:1},8,["value","filters"])])])}}},ye=Q(xe,[["__scopeId","data-v-8e29533c"]]);const be=f=>(H("data-v-d0145d58"),f=f(),O(),f),we={class:"flex justify-between bg-white py-1"},Ce={class:"flex items-center"},Ee=be(()=>o("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),Se={class:""},Le={__name:"Employee_Master",setup(f){i(1);const e=B();P(()=>{});const n=i({global:{value:null,matchMode:j.CONTAINS}}),x=i("downloaded");return(M,l)=>{const C=L("InputText"),g=L("Column"),r=L("DataTable");return v(),_("div",null,[o("div",null,[o("div",we,[o("div",null,[b(C,{placeholder:"Search",modelValue:n.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=c=>n.value.global.value=c),class:"border-color !h-10 my-2",style:{height:"3em"}},null,8,["modelValue"])]),o("div",Ce,[o("button",{class:w(["p-2 mx-2 rounded-md w-[120px]",[!t(e).employeeMaterReportSource.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]]),onClick:l[1]||(l[1]=c=>(t(e).btn_download=!t(e).btn_download,t(e).downloadEmployeeMaster()))},[o("p",{class:w(["relative left-2 font-['poppins']",[!t(e).employeeMaterReportSource.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]])},"Download",2),o("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:w([t(e).btn_download==!0?x.value:""])},[(v(),_("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:w([!t(e).employeeMaterReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},[o("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check",style:F([!t(e).employeeMaterReportSource.length===0?"stroke=blue":"!bg-[#E6E6E6] !text-[#000] "])},null,4),Ee,o("path",{d:"M8,1 L8,11",class:"svg-out",stroke:"",style:F([t(e).employeeMaterReportSource.length===0?"red":"fill: red"])},null,4)],2))],2)],2)])]),o("div",Se,[b(r,{value:t(e).employeeMaterReportSource,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",scrollable:"",scrollHeight:"240px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{default:U(()=>[(v(!0),_(z,null,A(t(e).Employee_MaterReportDynamicHeaders,c=>(v(),R(g,{class:"",key:c.title,field:c.title,header:c.title,style:{"text-align":"left",width:"15rem !important","marign-right":"1rem !important"},resizableColumns:"",columnResizeMode:"fit"},null,8,["field","header"]))),128))]),_:1},8,["value"])])])])}}},ke=Q(Le,[["__scopeId","data-v-d0145d58"]]);const Me={class:"px-2"},Re={class:"flex justify-between mb-[10px]"},Te=o("h1",{class:"text-black text-[24px] font-semibold"},"Employee Master Report",-1),De={class:"flex item-center"},$e=o("i",{class:"mr-2 pi pi-times"},null,-1),Pe=o("i",{class:"mr-2 pi pi-filter"},null,-1),Be={style:{position:"relative"}},Ve={class:"flex justify-between"},Fe={class:"flex mb-3 h-[3rem] !border-[0px] divide-x !w-[280px] nav nav-pills divide-solid nav-tabs-dashed max-[1024px]:w-[100%]",id:"pills-tab",role:"tablist"},Ie={class:"flex items-center nav-item !border-[0px]",role:"presentation"},Ne={class:"flex items-center nav-item !border-[0px]",role:"presentation"},Ue={class:"flex justify-between max-[1200px]:w-[60%] max-[1200px]:justify-start flex-wrap max-[1024px]:w-[100%]"},je={class:"flex items-center"},ze=o("h1",{class:"text-[12px] text-black px-1 font-semibold font-['poppins'] whitespace-nowrap"},"Period : ",-1),Ae={class:"flex items-center"},He=o("h1",{class:"text-[12px] text-black px-1 font-semibold font-['poppins'] whitespace-nowrap"}," Department : ",-1),Oe={class:"flex items-center"},Qe=o("h1",{class:"text-[12px] text-black px-1 font-semibold font-['poppins'] whitespace-nowrap"},"Legal Entity : ",-1),We={class:"flex items-center my-1"},Ye=o("h1",{class:"text-[12px] text-black px-1 font-semibold font-['poppins'] whitespace-nowrap"},"Status : ",-1),qe={class:"tab-content",id:""},Ge={class:"card-body"},Je={key:0},Ke={key:1},Xe={key:2},nt={__name:"employee_master_report",setup(f){const e=B();P(()=>{}),i("border-[1px] border-[#F9BE00]"),i("border-[1px] border-[#DCDCDC]");const n=i(1),x=i([{name:"Active",id:1},{name:"Yet To Active",id:0},{name:"Exit",id:-1}]);return(M,l)=>{const C=L("Dropdown"),g=L("MultiSelect");return v(),_("div",Me,[o("div",Re,[Te,o("div",De,[o("button",{onClick:l[0]||(l[0]=r=>t(e).clearfilterBtn(n.value)),class:"my-2 flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[$e,I(" Clear Filter")]),o("button",{onClick:l[1]||(l[1]=r=>t(e).updateEmployeeApplyFilter(n.value)),class:"my-2 flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] !bg-[#E6E6E6] mx-2 rounded-[4px]"},[Pe,I(" Run")])])]),o("div",Be,[o("div",Ve,[o("ul",Fe,[o("li",Ie,[o("a",{class:w(["p-2 position-relative font-['poppins'] !border-r-[0px] text-[14px] text-[#001820] w-[100%] !m-[0px]",[n.value===1?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[2]||(l[2]=r=>(n.value=1,t(e).clearfilterBtn(n.value)))}," Employee Master ",2)]),o("li",Ne,[o("a",{class:w(["p-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[n.value===2?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[3]||(l[3]=r=>(n.value=2,t(e).clearfilterBtn(n.value)))}," Employee CTC ",2)])]),o("ul",Ue,[o("li",je,[ze,b(C,{optionLabel:"month",optionValue:"date",options:t(e).PeriodMonth,modelValue:t(e).period_Date,"onUpdate:modelValue":l[4]||(l[4]=r=>t(e).period_Date=r),onChange:l[5]||(l[5]=r=>t(e).getSelectoption("date",t(e).period_Date,n.value)),placeholder:"   -- Select --",class:"w-[150px] mx-1 !h-10 !font-semibold !font-['poppins'] !text-[#000] !bg-[#E6E6E6]"},null,8,["options","modelValue"])]),o("li",Ae,[He,b(g,{modelValue:t(e).Department,"onUpdate:modelValue":l[6]||(l[6]=r=>t(e).Department=r),options:t(e).department,optionLabel:"name",placeholder:" -- Select --",onChange:l[7]||(l[7]=r=>t(e).getSelectoption("department",t(e).Department,n.value)),optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),o("li",Oe,[Qe,b(g,{onChange:l[8]||(l[8]=r=>t(e).getSelectoption("legal_entity",t(e).legal_Entity,n.value)),modelValue:t(e).legal_Entity,"onUpdate:modelValue":l[9]||(l[9]=r=>t(e).legal_Entity=r),options:t(e).client_ids,optionLabel:"client_fullname",placeholder:" -- Select --",optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),o("li",We,[Ye,b(g,{onChange:l[10]||(l[10]=r=>t(e).getSelectoption("Category",t(e).select_Category,n.value)),modelValue:t(e).select_Category,"onUpdate:modelValue":l[11]||(l[11]=r=>t(e).select_Category=r),optionValue:"id",options:x.value,optionLabel:"name",placeholder:"-- Select --",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6] mx-2"},null,8,["modelValue","options"])])])]),o("div",qe,[o("div",null,[o("div",Ge,[n.value===1?(v(),_("div",Je,[t(e).canShowLoading?(v(),R(N,{key:0,class:"absolute z-50 bg-white"})):k("",!0),b(ke)])):k("",!0),n.value===2?(v(),_("div",Ke,[t(e).canShowLoading?(v(),R(N,{key:0,class:"absolute z-50 bg-white"})):k("",!0),b(ye)])):k("",!0),n.value===3?(v(),_("div",Xe)):k("",!0)])])])])])}}};export{B as E,nt as _,ke as a,ye as e};
