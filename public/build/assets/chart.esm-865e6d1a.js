import{o as u,c as f,d as m,m as p}from"./inputnumber.esm-a7c5b1f0.js";const g="modulepreload",v=function(t){return"/build/"+t},c={},y=function(e,s,r){if(!s||s.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=v(i),i in c)return;c[i]=!0;const a=i.endsWith(".css"),d=a?'[rel="stylesheet"]':"";if(!!r)for(let l=n.length-1;l>=0;l--){const o=n[l];if(o.href===i&&(!a||o.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${d}`))return;const h=document.createElement("link");if(h.rel=a?"stylesheet":g,a||(h.as="script",h.crossOrigin=""),h.href=i,document.head.appendChild(h),a)return new Promise((l,o)=>{h.addEventListener("load",l),h.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var C={name:"Chart",emits:["select","loaded"],props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},chart:null,watch:{data:{handler(){this.reinit()},deep:!0},type(){this.reinit()},options(){this.reinit()}},mounted(){this.initChart()},beforeUnmount(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart(){y(()=>import("./auto-0e6b2b23.js"),[]).then(t=>{this.chart&&(this.chart.destroy(),this.chart=null),t&&t.default&&(this.chart=new t.default(this.$refs.canvas,{type:this.type,data:this.data,options:this.options,plugins:this.plugins})),this.$emit("loaded",this.chart)})},getCanvas(){return this.$canvas},getChart(){return this.chart},getBase64Image(){return this.chart.toBase64Image()},refresh(){this.chart&&this.chart.update()},reinit(){this.initChart()},onCanvasClick(t){if(this.chart){const e=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),s=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);e&&e[0]&&s&&this.$emit("select",{originalEvent:t,element:e[0],dataset:s})}},generateLegend(){if(this.chart)return this.chart.generateLegend()}}};const E={class:"p-chart"},_=["width","height"];function k(t,e,s,r,n,i){return u(),f("div",E,[m("canvas",p({ref:"canvas",width:s.width,height:s.height,onClick:e[0]||(e[0]=a=>i.onCanvasClick(a))},s.canvasProps),null,16,_)])}function B(t,e){e===void 0&&(e={});var s=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}var w=`
.p-chart {
    position: relative;
}
`;B(w);C.render=k;export{y as _,C as s};
