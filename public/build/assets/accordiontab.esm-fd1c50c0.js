import{D as c,U as m,R as y,o,c as l,F as v,f as A,n as T,d as h,m as u,t as x,a as b,b as f,e as g,h as I,w as _,k as C,v as H,T as E,r as P}from"./inputnumber.esm-e362c3ab.js";var k={name:"Accordion",emits:["update:activeIndex","tab-open","tab-close","tab-click"],props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:"pi pi-chevron-right"},collapseIcon:{type:String,default:"pi pi-chevron-down"},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},data(){return{d_activeIndex:this.activeIndex}},watch:{activeIndex(e){this.d_activeIndex=e}},methods:{isAccordionTab(e){return e.type.name==="AccordionTab"},isTabActive(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp(e,t){return e.props?e.props[t]:void 0},getKey(e,t){return this.getTabProp(e,"header")||t},getTabHeaderActionId(e){return`${this.id}_${e}_header_action`},getTabContentId(e){return`${this.id}_${e}_content`},onTabClick(e,t,a){this.changeActiveIndex(e,t,a),this.$emit("tab-click",{originalEvent:e,index:a})},onTabKeyDown(e,t,a){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"Space":this.onTabEnterKey(e,t,a);break}},onTabArrowDownKey(e){const t=this.findNextHeaderAction(e.target.parentElement.parentElement);t?this.changeFocusedTab(e,t):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey(e){const t=this.findPrevHeaderAction(e.target.parentElement.parentElement);t?this.changeFocusedTab(e,t):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey(e){const t=this.findFirstHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEndKey(e){const t=this.findLastHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEnterKey(e,t,a){this.changeActiveIndex(e,t,a),e.preventDefault()},findNextHeaderAction(e,t=!1){const a=t?e:e.nextElementSibling,r=c.findSingle(a,".p-accordion-header");return r?c.hasClass(r,"p-disabled")?this.findNextHeaderAction(r.parentElement):c.findSingle(r,".p-accordion-header-action"):null},findPrevHeaderAction(e,t=!1){const a=t?e:e.previousElementSibling,r=c.findSingle(a,".p-accordion-header");return r?c.hasClass(r,"p-disabled")?this.findPrevHeaderAction(r.parentElement):c.findSingle(r,".p-accordion-header-action"):null},findFirstHeaderAction(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex(e,t,a){if(!this.getTabProp(t,"disabled")){const r=this.isTabActive(a),d=r?"tab-close":"tab-open";this.multiple?r?this.d_activeIndex=this.d_activeIndex.filter(n=>n!==a):this.d_activeIndex?this.d_activeIndex.push(a):this.d_activeIndex=[a]:this.d_activeIndex=this.d_activeIndex===a?null:a,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(d,{originalEvent:e,index:a})}},changeFocusedTab(e,t){if(t&&(c.focus(t),this.selectOnFocus)){const a=parseInt(t.parentElement.parentElement.dataset.index,10),r=this.tabs[a];this.changeActiveIndex(e,r,a)}},getTabClass(e){return["p-accordion-tab",{"p-accordion-tab-active":this.isTabActive(e)}]},getTabHeaderClass(e,t){return["p-accordion-header",this.getTabProp(e,"headerClass"),{"p-highlight":this.isTabActive(t),"p-disabled":this.getTabProp(e,"disabled")}]},getTabHeaderIconClass(e){return["p-accordion-toggle-icon",this.isTabActive(e)?this.collapseIcon:this.expandIcon]},getTabContentClass(e){return["p-toggleable-content",this.getTabProp(e,"contentClass")]}},computed:{tabs(){return this.$slots.default().reduce((e,t)=>(this.isAccordionTab(t)?e.push(t):t.children&&t.children instanceof Array&&t.children.forEach(a=>{this.isAccordionTab(a)&&e.push(a)}),e),[])},id(){return this.$attrs.id||m()}},directives:{ripple:y}};const w={class:"p-accordion p-component"},K=["data-index"],S=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],D={key:0,class:"p-accordion-header-text"},N=["id","aria-labelledby"],F={class:"p-accordion-content"};function B(e,t,a,r,d,n){return o(),l("div",w,[(o(!0),l(v,null,A(n.tabs,(i,s)=>(o(),l("div",{key:n.getKey(i,s),class:T(n.getTabClass(s)),"data-index":s},[h("div",u({style:n.getTabProp(i,"headerStyle"),class:n.getTabHeaderClass(i,s)},n.getTabProp(i,"headerProps")),[h("a",u({id:n.getTabHeaderActionId(s),class:"p-accordion-header-link p-accordion-header-action",tabindex:n.getTabProp(i,"disabled")?-1:a.tabindex,role:"button","aria-disabled":n.getTabProp(i,"disabled"),"aria-expanded":n.isTabActive(s),"aria-controls":n.getTabContentId(s),onClick:p=>n.onTabClick(p,i,s),onKeydown:p=>n.onTabKeyDown(p,i,s)},n.getTabProp(i,"headerActionProps")),[h("span",{class:T(n.getTabHeaderIconClass(s)),"aria-hidden":"true"},null,2),i.props&&i.props.header?(o(),l("span",D,x(i.props.header),1)):b("",!0),i.children&&i.children.header?(o(),f(g(i.children.header),{key:1})):b("",!0)],16,S)],16),I(E,{name:"p-toggleable-content"},{default:_(()=>[!a.lazy||n.isTabActive(s)?C((o(),l("div",u({key:0,id:n.getTabContentId(s),style:n.getTabProp(i,"contentStyle"),class:n.getTabContentClass(i),role:"region","aria-labelledby":n.getTabHeaderActionId(s)},n.getTabProp(i,"contentProps")),[h("div",F,[(o(),f(g(i)))])],16,N)),[[H,a.lazy?!0:n.isTabActive(s)]]):b("",!0)]),_:2},1024)],10,K))),128))])}function z(e,t){t===void 0&&(t={});var a=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",a==="top"&&r.firstChild?r.insertBefore(d,r.firstChild):r.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e))}}var U=`
.p-accordion-header-action {
    cursor: pointer;
    display: flex;
    align-items: center;
    user-select: none;
    position: relative;
    text-decoration: none;
}
.p-accordion-header-action:focus {
    z-index: 1;
}
.p-accordion-header-text {
    line-height: 1;
}
`;z(U);k.render=B;var L={name:"AccordionTab",props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean}};function V(e,t,a,r,d,n){return P(e.$slots,"default")}L.render=V;export{L as a,k as s};
