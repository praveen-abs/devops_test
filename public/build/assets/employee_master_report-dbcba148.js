import{a as x}from"./index-362795f3.js";import{H as i,W as ne,ab as P,c as f,d as t,h as w,aa as o,a as R,n as S,w as A,a7 as H,g as k,o as _,F as O,f as j,ac as z,ad as W,b as Y,p as U,l as ie}from"./inputnumber.esm-3276ace1.js";import"./lodash-facb8280.js";import{d as re}from"./pinia-69eaa219.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                       */const B=re("EmployeeMasterStore",()=>{const u=i(),e=i(),r=i(),b=i(),T=i(),l=i(),C=i(!1),v=i(),p=i(!1),s=i([]),g=i([]),V=i(),I=i(""),N=i(1),m=i(!1),c=ne({date:"",department_id:"",legal_entity:"",active_status:""}),E=i([]),L=i([]),F=()=>{let a="/fetch-employee-ctc-report";m.value=!0,x.post(a,{type:""}).then(n=>{console.log(n.data.rows,"get value "),s.value=n.data.rows,console.log(s.value," testings data"),n.data.headers.forEach(d=>{let h={title:d};g.value.push(h),console.log(d)}),console.log(g.value)}).finally(()=>{m.value=!1})};function J(){m.value=!0,x.get("filter-client-ids").then(a=>{T.value=a.data,console.log(" testing client id",T.value)}).finally(()=>{m.value=!1})}function K(){m.value=!0,x.get("/get-department").then(a=>{V.value=a.data}).finally(()=>{m.value=!1})}function Q(){m.value=!0,x.post("/get-filter-months-for-reports").then(a=>{I.value=a.data}).finally(()=>{m.value=!1})}function X(){s.value.splice(0),g.value.splice(0),p.value==!0?(console.log(p),p.value=!1,v.value="",console.log(v.value)):p.value==!1&&(p.value=!0,v.value="detailed",console.log(v.value));let a=v.value;x.post("/fetch-employee-ctc-report",{type:a}).then(n=>{console.log(n.data.rows,"get value "),s.value=n.data.rows,console.log(s.value," testings data"),n.data.headers.forEach(d=>{let h={title:d};g.value.push(h),console.log(d)}),console.log(g.value)})}const Z=()=>{let a="/generate-employee-ctc-report";m.value=!0,x.post(a,c,{responseType:"blob"}).then(n=>{console.log(n.data);var d=document.createElement("a");d.href=window.URL.createObjectURL(n.data),d.download="Employee CTC Report_.xlsx",d.click()}).finally(()=>{C.value=!1,m.value=!1})};function ee(a){N.value=a,a===2?x.post("/fetch-employee-ctc-report",c).then(n=>{console.log(n.data.rows,"get value "),s.value=n.data.rows,console.log(s.value," testings data"),n.data.headers.forEach(d=>{let h={title:d};g.value.push(h),console.log(d)}),console.log(g.value),n.data.rows.length===0&&Swal.fire({title:n.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(d=>{})}):(c.active_status="",c.date="",c.department_id="",c.legal_entity="",u.value="",e.value="",r.value="",b.value="",F())}function te(a,n,d){if(console.log(a,n,d),L.value.splice(0,L.value.length),E.value.splice(0,E.value.length),s.value.splice(0,s.value.length),g.value.splice(0,g.value.length),a=="department"?c.department_id=n:a=="Category"?(c.active_status=n,console.log(c)):a=="date"?c.date=n:a=="legal_entity"&&(c.legal_entity=n),d==1){let h="/fetch-master-employee-report";x.post(h,c).then(y=>{console.log(y.data.rows,"get value "),E.value=y.data.rows,console.log(E.value," testings data"),y.data.headers.forEach(M=>{let $={title:M};L.value.push($),console.log(M)}),console.log(L.value),y.data.headers.length===0&&Swal.fire({title:y.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(M=>{})})}else{let h="/fetch-employee-ctc-report";x.post(h,c).then(y=>{console.log(y.data.rows,"get value "),s.value=y.data.rows,console.log(s.value," testings data"),y.data.headers.forEach(M=>{let $={title:M};g.value.push($),console.log(M)}),console.log(g.value),y.data.rows.length===0&&Swal.fire({title:y.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(M=>{})})}}function oe(){let a="/fetch-master-employee-report";m.value=!0,x.post(a,{type:""}).then(n=>{console.log(n.data.rows,"get value "),E.value=n.data.rows,console.log(E.value," testings data"),n.data.headers.forEach(d=>{let h={title:d};L.value.push(h),console.log(d)}),console.log(L.value)}).finally(()=>{m.value=!1})}function le(){let a="/generate-master-employee-report-data";m.value=!0,x.post(a,c,{responseType:"blob"}).then(n=>{console.log(n.data);var d=document.createElement("a");d.href=window.URL.createObjectURL(n.data),d.download="Employee Master Report_.xlsx",d.click()}).finally(()=>{C.value=!1,m.value=!1})}function ae(a){console.log("testing data :",a),a===2?(s.value.splice(0,s.value.length),g.value.splice(0,g.value.length),c.active_status="",c.date="",c.department_id="",c.legal_entity="",u.value="",e.value="",r.value="",b.value=""):(E.value.splice(0,E.value.length),L.value.splice(0,L.value.length),c.active_status="",c.date="",c.department_id="",c.legal_entity="",u.value="",e.value="",r.value="",b.value="")}function se(a){console.log(a?"1":"2",a)}return{show:p,client_ids:T,employeeCTCReportSource:s,Employee_CTCReportDynamicHeaders:g,personalDetail:v,selectCategory:l,department:V,PeriodMonth:I,fetchFilterClientIds:J,getEmployeeCTC:F,personalDetails:X,getALLdepartment:K,getPeriodMonth:Q,updateEmployeeApplyFilter:ee,downloadEmployeeCTC:Z,btn_download:C,canShowLoading:m,filterbtn:N,legal_Entity:u,Department:e,period_Date:r,select_Category:b,getemployeeMater:oe,employeeMaterReportSource:E,Employee_MaterReportDynamicHeaders:L,downloadEmployeeMaster:le,getSelectoption:te,clearfilterBtn:ae,testings:se}});const D=u=>(z("data-v-3ac8eed0"),u=u(),W(),u),pe={class:"flex justify-between p-2 bg-white"},de={class:""},ce={class:"flex items-center"},ue=D(()=>t("h1",{class:"text-[12px] text-black font-semibold font-['poppins']"},"Personal Details -",-1)),me={key:0,class:"pi pi-eye"},ve={key:1,class:"pi pi-eye-slash"},ge=D(()=>t("p",{class:"relative left-2 font-['poppins']"},"Download",-1)),_e=D(()=>t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"},null,-1)),fe=D(()=>t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),he=D(()=>t("path",{d:"M8,1 L8,11",class:"svg-out"},null,-1)),ye=[_e,fe,he],xe={__name:"employee_CTC",setup(u){const e=B();P(()=>{}),i([]);const r=i({global:{value:null,matchMode:H.CONTAINS}}),b=i("downloaded");return(T,l)=>{const C=k("InputText"),v=k("Column"),p=k("DataTable");return _(),f("div",null,[t("div",pe,[t("div",de,[w(C,{placeholder:"Search",modelValue:r.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=s=>r.value.global.value=s),class:"border-color !h-10 my-2"},null,8,["modelValue"])]),t("div",ce,[ue,t("button",{class:"bg-[#E6E6E6] px-3 p-2 rounded-md mx-2",onClick:l[1]||(l[1]=s=>o(e).personalDetails())},[o(e).show&&o(e).personalDetail=="detailed"?(_(),f("i",me)):o(e).show?R("",!0):(_(),f("i",ve))]),t("button",{class:S(["p-2 mx-2 rounded-md w-[120px]",[!o(e).employeeCTCReportSource.length==0?"bg-[#000] text-white":" !text-[#000] !bg-[#E6E6E6] "]]),onClick:l[2]||(l[2]=s=>(o(e).btn_download=!o(e).btn_download,o(e).downloadEmployeeCTC()))},[ge,t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:S([o(e).btn_download==!0?b.value:" "])},[(_(),f("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:S([!o(e).employeeCTCReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},ye,2))],2)],2)])]),t("div",null,[w(p,{value:o(e).employeeCTCReportSource,filters:r.value,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],scrollable:"",scrollHeight:"400px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",responsiveLayout:"scroll"},{default:A(()=>[(_(!0),f(O,null,j(o(e).Employee_CTCReportDynamicHeaders,s=>(_(),Y(v,{key:s.title,field:s.title,header:s.title,style:{"white-space":"nowrap","text-align":"left",width:"15rem !important"}},null,8,["field","header"]))),128))]),_:1},8,["value","filters"])])])}}},be=q(xe,[["__scopeId","data-v-3ac8eed0"]]);const G=u=>(z("data-v-11255ba2"),u=u(),W(),u),we={class:"flex justify-between p-2 bg-white"},Ce={class:"flex items-center"},Ee=G(()=>t("p",{class:"relative left-2 font-['poppins']"},"Download",-1)),Le=G(()=>t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),Se={class:"!h-[400px]"},ke={__name:"Employee_Master",setup(u){i(1);const e=B();P(()=>{});const r=i({global:{value:null,matchMode:H.CONTAINS}}),b=i("downloaded");return(T,l)=>{const C=k("InputText"),v=k("Column"),p=k("DataTable");return _(),f("div",null,[t("div",null,[t("div",we,[t("div",null,[w(C,{placeholder:"Search",modelValue:r.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=s=>r.value.global.value=s),class:"border-color !h-10 my-2",style:{height:"3em"}},null,8,["modelValue"])]),t("div",Ce,[t("button",{class:S(["p-2 mx-2 rounded-md w-[120px]",[!o(e).employeeMaterReportSource.length==0?"bg-[#000] text-white":" !text-[#000] !bg-[#E6E6E6] "]]),onClick:l[1]||(l[1]=s=>(o(e).btn_download=!o(e).btn_download,o(e).downloadEmployeeMaster()))},[Ee,t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:S([o(e).btn_download==!0?b.value:""])},[(_(),f("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:S([!o(e).employeeMaterReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},[t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check",style:U([!o(e).employeeMaterReportSource.length===0?"stroke=blue":"!bg-[#E6E6E6] !text-[#000] "])},null,4),Le,t("path",{d:"M8,1 L8,11",class:"svg-out",stroke:"",style:U([o(e).employeeMaterReportSource.length===0?"red":"fill: red"])},null,4)],2))],2)],2)])]),t("div",Se,[w(p,{value:o(e).employeeMaterReportSource,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{default:A(()=>[(_(!0),f(O,null,j(o(e).Employee_MaterReportDynamicHeaders,s=>(_(),Y(v,{class:"",key:s.title,field:s.title,header:s.title,style:{"white-space":"nowrap","text-align":"left !important"}},null,8,["field","header"]))),128))]),_:1},8,["value"])])])])}}},Me=q(ke,[["__scopeId","data-v-11255ba2"]]);const Te={class:"px-2"},De={class:"flex justify-between mb-[10px]"},Re=t("h1",{class:"text-black text-[24px] font-semibold"},"Employee Master Report",-1),$e=t("i",{class:"mr-2 pi pi-times"},null,-1),Pe={style:{position:"relative"}},Be={class:"grid grid-cols-12 w-[100%]"},Ve={class:"grid items-center grid-cols-2 col-span-3 whitespace-nowrap",id:"pills-tab",role:"tablist"},Ie={class:"nav-item text-center font-['poppins'] text-[14px] text-[#001820]",role:"presentation"},Ne={class:"flex items-center nav-item",role:"presentation"},Fe={class:"grid grid-cols-4 col-span-9 gap-4"},Ue={class:"flex items-center"},Ae=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"},"Period : ",-1),He={class:"flex items-center"},Oe=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"}," Department : ",-1),je={class:"flex items-center"},ze=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"},"Legal Entity : ",-1),We={class:"flex items-center my-1"},Ye=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"},"Status : ",-1),qe={class:"tab-content",id:""},Ge={class:"card-body"},Je={key:0},Ke={key:1},Qe={key:2},at={__name:"employee_master_report",setup(u){const e=B();P(()=>{}),i("border-[1px] border-[#F9BE00]"),i("border-[1px] border-[#DCDCDC]");const r=i(1),b=i([{name:"Active",id:1},{name:"Yet To Active",id:0},{name:"Exit",id:-1}]);return(T,l)=>{const C=k("Dropdown"),v=k("MultiSelect");return _(),f("div",Te,[t("div",De,[Re,t("div",null,[t("button",{onClick:l[0]||(l[0]=p=>o(e).clearfilterBtn(r.value)),class:"flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[$e,ie(" Clear Filter")])])]),t("div",Pe,[t("div",Be,[t("ul",Ve,[t("li",Ie,[t("a",{class:S(["p-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[r.value===1?" rounded-l-[2px] font-semibold !border-b-[2px] !border-[#F9BE00]":"font-medium !text-[#8B8B8B] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[1]||(l[1]=p=>(r.value=1,o(e).clearfilterBtn(r.value)))}," Employee Master ",2)]),t("li",Ne,[t("a",{class:S(["p-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[r.value===2?"rounded-r-[2px] font-semibold !border-b-[2px] !border-[#F9BE00]":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[2]||(l[2]=p=>r.value=2)}," Employee CTC ",2)])]),t("ul",Fe,[t("li",Ue,[Ae,w(C,{optionLabel:"month",optionValue:"date",options:o(e).PeriodMonth,modelValue:o(e).period_Date,"onUpdate:modelValue":l[3]||(l[3]=p=>o(e).period_Date=p),onChange:l[4]||(l[4]=p=>o(e).getSelectoption("date",o(e).period_Date,r.value)),placeholder:"Select period",class:"w-[150px] mx-2 !h-10 !font-semibold !font-['poppins'] !text-[#000] !bg-[#E6E6E6]"},null,8,["options","modelValue"])]),t("li",He,[Oe,w(v,{modelValue:o(e).Department,"onUpdate:modelValue":l[5]||(l[5]=p=>o(e).Department=p),options:o(e).department,optionLabel:"name",placeholder:"Department",onChange:l[6]||(l[6]=p=>o(e).getSelectoption("department",o(e).Department,r.value)),optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",je,[ze,w(v,{onChange:l[7]||(l[7]=p=>o(e).getSelectoption("legal_entity",o(e).legal_Entity,r.value)),modelValue:o(e).legal_Entity,"onUpdate:modelValue":l[8]||(l[8]=p=>o(e).legal_Entity=p),options:o(e).client_ids,optionLabel:"client_fullname",placeholder:"Legal Entity",optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",We,[Ye,w(v,{onChange:l[9]||(l[9]=p=>o(e).getSelectoption("Category",o(e).select_Category,r.value)),modelValue:o(e).select_Category,"onUpdate:modelValue":l[10]||(l[10]=p=>o(e).select_Category=p),optionValue:"id",options:b.value,optionLabel:"name",placeholder:"Select Category",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6] mx-2"},null,8,["modelValue","options"])])])]),t("div",qe,[t("div",null,[t("div",Ge,[r.value===1?(_(),f("div",Je,[w(Me)])):R("",!0),r.value===2?(_(),f("div",Ke,[w(be)])):R("",!0),r.value===3?(_(),f("div",Qe)):R("",!0)])])])])])}}};export{B as E,at as _,Me as a,be as e};
