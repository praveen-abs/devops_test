import{N as h,B as p,V as w,c as C,e as r,h as s,w as d,F as D,g as i,o as S,j as $,t as k,G as x,P as T,H as B,R as F,q as V}from"./toastservice.esm-c4f6de4c.js";import{T as L,B as R,S as j,b as E,a as M}from"./styleclass.esm-ea560a03.js";import"./blockui.esm-85692cd0.js";import{C as N,F as U,a as A,b as G,s as H}from"./inputtext.esm-5faf66bf.js";import{s as q}from"./confirmdialog.esm-51539a4d.js";import{s as I}from"./toast.esm-8d255b70.js";import{s as K}from"./progressspinner.esm-455f2fd3.js";import{s as O}from"./calendar.esm-7c3ebc21.js";import{c as Y}from"./pinia-0f325ab3.js";import{a as z}from"./index-f7a317fc.js";const J={class:"d-flex justify-content-end"},Q=r("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),W={class:"my-4"},X={class:"d-flex justify-content-end"},Z={class:"card flex justify-content-center inline-flex"},ee={__name:"ManagePayslips",setup(se){h("$swal");const m=p(!1);let f=p(!0);const u=p(),v=o=>{u.value={emp:o},console.log(o.user_code),m.value=!0};p();const l=w({selectmonth:"",selectDate:"",selectyear:""}),y=o=>{u.value=o,z.post("http://localhost:3000/sendEmail",{user_code:o.user_code}).then(t=>{response.data.status=="Success"&&(Swal.fire({title:response.data.status="Success",text:response.data.message,icon:"success",showCancelButton:!1}).then(g=>{window.location.reload()}),console.log(t.data))}).catch(t=>{console.log(t.data)}).finally(t=>{f.value=!1,console.log(t.data)})};return(o,t)=>{const g=i("Calendar"),c=i("Button"),n=i("Column"),_=i("DataTable"),b=i("Dialog");return S(),C(D,null,[r("div",J,[Q,s(g,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:l.selectDate,"onUpdate:modelValue":t[0]||(t[0]=a=>l.selectDate=a),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),s(c,{class:"mb-2 h-10 btn btn-orange",label:"Generate",onClick:t[1]||(t[1]=a=>o.managePayslipStore.getAllEmployeesPayslipDetails(l.selectDate.getMonth()+1,l.selectDate.getFullYear()))})]),r("div",W,[s(_,{value:o.managePayslipStore.array_employees_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],selection:l.selectedProduct,"onUpdate:selection":t[2]||(t[2]=a=>l.selectedProduct=a),currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:o.filters,"onUpdate:filters":t[3]||(t[3]=a=>o.filters=a),filterDisplay:"menu",loading:o.loading2,globalFilterFields:["name","status"]},{default:d(()=>[s(n,{selectionMode:"multiple",headerStyle:"width: 3rem"}),s(n,{field:"user_code",header:"Employee Code"}),s(n,{field:"name",header:"Employee Name"}),s(n,{field:"email",header:"Personal Mail"}),s(n,{header:"View"},{body:d(a=>[s(c,{class:"btn-primary",label:"view",onClick:P=>v(a.data)},null,8,["onClick"])]),_:1}),s(n,{header:"Action"},{body:d(a=>[s(c,{class:"btn-success",label:"Send",onClick:P=>y(a.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters","loading"])]),r("div",X,[s(c,{class:"mb-2 btn btn-primary",label:"Submit"})]),r("div",Z,[s(b,{visible:m.value,"onUpdate:visible":t[4]||(t[4]=a=>m.value=a),modal:"",header:"Header",style:{width:"50vw"}},{default:d(()=>[$(k(u.value),1)]),_:1},8,["visible"])])],64)}}},e=x(ee),te=Y();e.use(T,{ripple:!0});e.use(N);e.use(B);e.use(te);e.directive("tooltip",L);e.directive("badge",R);e.directive("ripple",F);e.directive("styleclass",j);e.directive("focustrap",U);e.component("Button",V);e.component("DataTable",E);e.component("Column",M);e.component("ConfirmDialog",q);e.component("Toast",I);e.component("Dialog",A);e.component("Dropdown",G);e.component("ProgressSpinner",K);e.component("InputText",H);e.component("Calendar",O);e.mount("#vjs_manage_payslips");
