import{G as g,H as w,a as y,b as f,g as i,j as t,w as l,i as p,o as h,l as d,t as c,n as C,d as R,I as A,P as S,J as D,R as x,v as T}from"./toastservice.esm-a485217a.js";import{C as $,T as k,B,S as E,F as P,c as L,b as V,e as U,a as I,d as N}from"./styleclass.esm-25bc05b3.js";import"./blockui.esm-5c987121.js";import{s as M}from"./confirmdialog.esm-d36c2e71.js";import{D as z}from"./dialogservice.esm-b5383532.js";import{s as F}from"./toast.esm-8dae2159.js";import{s as Y}from"./progressspinner.esm-4410ebc7.js";import{s as j}from"./row.esm-6ebc942e.js";import{s as G}from"./columngroup.esm-9dd1458e.js";import{s as K}from"./calendar.esm-6fc95d76.js";import{h as O}from"./moment-fbc5633a.js";import{s as H}from"./checkbox.esm-41b041ea.js";const J={class:"container-fluid documentReview_wrapper mt-30"},q=i("input",{type:"hidden",name:"hidden_user_code",id:"hidden_user_code",value:"{{ $user_code }}"},null,-1),Q={class:"card shadow profile-box card-top-border p-2"},W={class:"card-body"},X=i("h6",{class:"mb-0 text-start"},"Documents Review",-1),Z=i("div",{class:"header-card-text text-end"},[i("button",{class:"btn btn-orange",onclick:"approveAllDocument()"},"Approve All")],-1),ee={class:"form-card mb-2 mt-2"},oe={key:0},te={class:"orders-subtable"},ae={style:{"white-space":"nowrap"}},se={__name:"review_document",setup(le){const v=g();return w(()=>{let o="BA024";y.get(`/employee-documents/${o}`).then(r=>{v.value=r.data,console.log(r.data)}).catch(r=>{console.log(r)}).finally(()=>{console.log("documents reviewed")})}),(o,r)=>{const s=p("Column"),b=p("InputText"),m=p("Button"),u=p("DataTable");return h(),f("div",J,[q,i("div",Q,[i("div",W,[X,Z,i("div",ee,[t(u,{value:o.data_reimbursements,paginator:!0,rows:10,class:"mt-6",dataKey:"user_id",onRowExpand:o.onRowExpand,onRowCollapse:o.onRowCollapse,expandedRows:o.expandedRows,"onUpdate:expandedRows":r[1]||(r[1]=a=>o.expandedRows=a),selection:o.selectedAllEmployee,"onUpdate:selection":r[2]||(r[2]=a=>o.selectedAllEmployee=a),selectAll:o.selectAll,onSelectAllChange:o.onSelectAllChange,onRowSelect:o.onRowSelect,onRowUnselect:o.onRowUnselect,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{empty:l(()=>[d(" No Reimbursement data for the selected status filter ")]),loading:l(()=>[d(" Loading customers data. Please wait. ")]),expansion:l(a=>[i("div",te,[t(u,{value:a.data.reimbursement_data,responsiveLayout:"scroll",selection:o.selectedAllEmployee,"onUpdate:selection":r[0]||(r[0]=n=>o.selectedAllEmployee=n),selectAll:o.selectAll,onSelectAllChange:o.onSelectAllChange},{default:l(()=>[t(s,{field:"",header:"Date",sortable:""},{body:l(n=>[i("p",ae,c(o.moment(n.data.date).format("DD-MMM-YYYY")),1)]),_:2},1024),t(s,{field:"from",header:"From"}),t(s,{field:"to",header:"To"}),t(s,{field:"user_comments",header:"Comments"}),t(s,{field:"vehicle_type",header:"Mode of transport"}),t(s,{class:"fontSize13px",field:"distance_travelled",header:"Distance Covered"}),t(s,{class:"fontSize13px",field:"total_expenses",header:"Total Expenses"},{body:l(n=>[d(c("₹ "+n.data.total_expenses),1)]),_:2},1024),t(s,{field:"status",header:"Status",sortable:""},{body:l(n=>[i("span",{class:C("order-badge order-"+n.data.status)},c(n.data.status),3)]),_:2},1024)]),_:2},1032,["value","selection","selectAll","onSelectAllChange"])])]),default:l(()=>[t(s,{expander:!0}),t(s,{selectionMode:"multiple",style:{width:"1rem"},exportable:!1}),t(s,{field:"user_code",header:"Employee Id",sortable:""}),t(s,{field:"name",header:"Employee Name"},{body:l(a=>[d(c(a.data.employee_name),1)]),filter:l(({filterModel:a,filterCallback:n})=>[t(b,{modelValue:a.value,"onUpdate:modelValue":_=>a.value=_,onInput:_=>n(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(s,{class:"fontSize13px",field:"total_distance_travelled",header:"Overall Distance Travelled",sortable:!1},{body:l(a=>[d(c(a.data.total_distance_travelled+" KM"),1)]),_:1}),t(s,{class:"fontSize13px",field:"total_expenses",header:"Overall Reimbursements",sortable:!1},{body:l(a=>[d(c("₹ "+a.data.total_expenses),1)]),_:1}),t(s,{field:"",header:"Action"},{body:l(a=>[a.data.has_pending_reimbursements=="true"?(h(),f("span",oe,[t(m,{type:"button",icon:"pi pi-check-circle",class:"p-button-success Button",label:"Approve",onClick:n=>o.showConfirmDialog(a.data,"Approve"),style:{height:"2.5em"}},null,8,["onClick"]),t(m,{type:"button",icon:"pi pi-times-circle",class:"p-button-danger Button",label:"Reject",style:{"margin-left":"8px",height:"2.5em"},onClick:n=>o.showConfirmDialog(a.data,"Reject")},null,8,["onClick"])])):R("",!0)]),_:1})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])])])])])}}},e=A(se);e.use(S,{ripple:!0});e.use($);e.use(D);e.use(z);e.directive("tooltip",k);e.directive("badge",B);e.directive("ripple",x);e.directive("styleclass",E);e.directive("focustrap",P);e.component("Button",T);e.component("DataTable",L);e.component("Column",V);e.component("ColumnGroup",G);e.component("Row",j);e.component("Toast",F);e.component("ConfirmDialog",M);e.component("Dropdown",U);e.component("InputText",I);e.component("Dialog",N);e.component("ProgressSpinner",Y);e.component("Calendar",K);e.component("moment",O);e.component("Checkbox",H);e.mount("#ReviewDocuments");
