import{d as k}from"./dayjs.min-2f06af28.js";import{a as H}from"./index-362795f3.js";import{q as O,r as p,u as F,a as I,o as U,R,c as V,e as s,f as a,h as n,k as C,j as b,g as e,n as T,l as E,i as m,t as l,F as c,m as d,p as g}from"./app-ec55b72e.js";import{S as j}from"./Service-2e2c0221.js";import{p as $}from"./ProfilePagesStore-62565175.js";/* empty css                                                                       */const G=O("EmployeeDocumentManagerService",()=>{const L=j(),o=p(!1),x=p([]);p();const P=p(),y=$();return{EmployeeDocs_upload:p({AadharCardFront:null,AadharCardBack:null,PanCardDoc:null,DrivingLicenseDoc:null,EductionDoc:null,VoterIdDoc:null,RelievingLetterDoc:null,PassportDoc:null,save_draft_messege:null}),getEmployeeDetails:L,getEmployeeDoc:x,getEmpdocPhoto:P,fetch_EmployeeDocument:async()=>{let f=y.employeeDetails.user_code;await L.getCurrentUserCode().then(w=>{f=w.data}),o.value=!0,await H.post("/employee-documents-details",{user_code:f}).then(w=>{x.value=w.data.data,console.log("employee document : ",x.value)}).finally(()=>{o.value=!1,console.log("completed")})},loading:o}}),W=O("employeePayslipStore",()=>{const L=G(),o=p(),x=p(),P=p("");F();const y=I(),D=p(!1);new URLSearchParams(window.location.search);const _=p(!1);function f(){return y.params.user_code?y.params.user_code:"pradessh"}async function w(){_.value=!0,H.post("/payroll/paycheck/getEmployeeAllPayslipList",{uid:f()}).then(S=>{o.value=S.data.data}).finally(()=>{_.value=!1})}async function t(S,v){_.value=!0,P.value=v;let M=parseInt(k(v).month())+1,A=k(v).year();await H.post("/empViewPayslipdetails",{uid:f(),user_code:S,month:M,year:A}).then(h=>{x.value=h.data,D.value=!0}).finally(()=>{_.value=!1})}function i(S,v,M,A){const h=S,u=document.createElement("a"),N=`${v}-${M}-${A}.pdf`;u.href=h,u.download=N,u.click()}async function r(S,v){_.value=!0,L.loading=!0,console.log("Downloading payslip PDF.....");let M=parseInt(k(v).month())+1,A=k(v).year();await H.post("/empGeneratePayslipPdfMail",{uid:f(),user_code:S,month:M,year:A,type:"pdf"}).then(h=>{if(console.log(" Response [downloadPayslipReleaseStatus] : "+JSON.stringify(h.data.data.payslip)),h.data){let u=h.data.data.payslip,N=h.data.data.emp_name,Y=h.data.data.month,B=h.data.data.year;console.log(u),u&&(u.startsWith("JVB")?(u="data:application/pdf;base64,"+u,i(u,N,Y,B)):u.startsWith("data:application/pdf;base64")&&i(u))}else console.log("Response Url Not Found")}).finally(()=>{L.loading=!1,_.value=!1})}return{Payroll_month:P,array_employeePayslips_list:o,paySlipHTMLView:x,canShowPayslipView:D,loading:_,getEmployeeAllPayslipList:w,getEmployeePayslipDetailsAsHTML:t,getEmployeePayslipDetailsAsPDF:r}});const q={class:"w-full"},J=e("h2",{class:"my-2 text-lg font-semibold"},"Salary Details",-1),K=["onClick"],z=e("i",{class:"pi pi-download"},null,-1),Q=[z],X={class:"flex justify-center w-[100%] my-3 rounded-lg"},Z={class:"w-[95%] h-[90%] shadow-lg p-4"},ee={class:"w-[100%] flex justify-between"},te={class:"flex flex-col"},se={class:"text-[25px] flex items-center"},ae={class:"text-gray-500 text-[25px]"},oe=["src"],le={class:"mt-[30px]"},ne=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),ie={class:"col-3"},ce=e("p",{class:""},"Employee Code",-1),de={class:"text-[#000] text-[12px]"},re={class:"col-3"},_e=e("p",null,"Date Joining",-1),pe={class:"text-[#000]"},ue={class:"col-3"},ye=e("p",null,"Department",-1),he={class:"text-[#000]"},me={class:"col-3"},xe=e("p",null,"Designation",-1),be={class:"text-[#000]"},fe={class:"col-3"},ve=e("p",null,"Payment Mode",-1),ge={class:"text-[#000]"},we={class:"col-3"},Se=e("p",null,"Bank Name",-1),Te={class:"text-[#000]"},Le={class:"col-3"},Pe=e("p",null,"Bank Account",-1),ke={class:"text-[#000]"},De={class:"col-3"},Me=e("p",null,"Bank ISFC",-1),Ae={class:"text-[#000]"},Ee={class:"col-3"},Ve=e("p",null,"PAN",-1),He={class:"text-[#000]"},Ne=e("div",{class:"col-3"},[e("p",null,"ESIC"),e("p",{class:"text-[#000]"},l("-"))],-1),Re={class:"col-3"},Ce=e("p",null,"UAN",-1),Oe={class:"text-[#000]"},Ye={class:"col-3"},Be=e("p",null,"EPF Number",-1),Fe={class:"text-[#000]"},Ie=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),Ue={class:""},je=e("h1",{class:"font-semibold text-[16px] my-[16px]"},"LEAVE DETAILS",-1),$e=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),Ge={class:"py-2 mx-2 row"},We={class:"col-3"},qe=e("p",null,"Leave Type",-1),Je={class:"col-3"},Ke=e("p",null,"Opening Balance",-1),ze={class:"col-3"},Qe=e("p",null,"Availed",-1),Xe={class:"col-3"},Ze=e("p",null,"Closing Balance",-1),et={class:""},tt=e("h1",{class:"font-semibold text-[16px] my-[16px]"},"SALARY DETAILS",-1),st=e("div",{class:"border-[1.5px] border-[#000] my-[12px]"},null,-1),at={class:"col-3"},ot=e("p",null,"ACTUAL PAYABLE DAYS",-1),lt={class:"text-[#000]"},nt={class:"col-3"},it=e("p",null,"TOTAL WORKING DAYS",-1),ct={class:"text-[#000]"},dt={class:"col-3"},rt=e("p",null,"LOSS OF PAY DAYS",-1),_t={class:"text-[#000]"},pt={class:"col-3"},ut=e("p",null,"ARREAR DAYS PAYABLE",-1),yt={class:"text-[#000]"},ht={class:"row mt-2 py-2 border-y-[1px] border-[gray] mx-2"},mt={class:"col-7 border-r-[1.4px] border-[gray]"},xt={class:"row"},bt={class:"col-6"},ft=e("h1",{class:"font-semibold"},"Earnings",-1),vt={key:0,class:"font-semibold text-black"},gt={class:"col-2"},wt={key:0,class:"font-semibold text-right"},St={class:"col-2"},Tt={key:0,class:"font-semibold text-right"},Lt={class:"col-2"},Pt=e("h1",{class:"font-semibold text-right"},"Earned",-1),kt={class:"col"},Dt={border:"2",class:"w-[100%]"},Mt={class:"w-[100%]"},At=e("h1",{class:"font-semibold"},"CONTRIBUTIONS",-1),Et={key:0,class:"text-black font-semibold text-[14px]"},Vt=e("h1",{class:"font-semibold"}," ",-1),Ht={class:"w-[100%]"},Nt=e("h1",{class:"font-semibold"},"Tax Deduction",-1),Rt={key:0,class:"text-[14px] text-[#000] font-semibold"},Ct=e("h1",{class:"font-semibold"}," ",-1),Ot={class:"my-2 col-6"},Yt={key:0,class:"font-semibold text-black"},Bt={class:"my-2 col-6"},Ft={class:"text-[16px] text-[#000]"},It=e("div",null,[e("p",{class:"mt-2 font-semibold flex text-[#000]"},[m("*** Note:All "),e("span",{class:"text-[16px] text-[#000]"},"amounts displayed in this payslips are in"),m(" INR")]),e("p",{class:"mt-[50px] font-semibold text-[#000]"},"**This is computer generated statement,does not require signature.")],-1),Ut={class:""},jt={class:"flex items-center float-right"},$t=e("p",{class:"mx-2"},"Powered by ",-1),Gt=["src"],Xt={__name:"EmployeePayslips",setup(L){const o=W();p(!0),p(),U(()=>{console.log("EmployeePayslips,vue loaded"),o.getEmployeeAllPayslipList()});const x=p({PAYROLL_MONTH:{value:null,matchMode:R.STARTS_WITH,matchMode:R.EQUALS,matchMode:R.CONTAINS}});return(P,y)=>{const D=V("LoadingSpinner"),_=V("Column"),f=V("DataTable"),w=V("Sidebar");return s(),a(c,null,[n(o).loading?(s(),C(D,{key:0,class:"absolute z-50 bg-white"})):b("",!0),e("div",q,[J,T(f,{value:n(o).array_employeePayslips_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],sortField:"PAYROLL_MONTH",sortOrder:-1,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:x.value,"onUpdate:filters":y[0]||(y[0]=t=>x.value=t),filterDisplay:"menu",loading:P.loading2,globalFilterFields:["name"]},{default:E(()=>[T(_,{field:"PAYROLL_MONTH",header:"Month",sortable:!0},{body:E(t=>[m(l(n(k)(t.data.PAYROLL_MONTH).format("DD-MMM-YYYY")),1)]),_:1}),T(_,{field:"TOTAL_EARNED_GROSS",header:"Gross Pay"}),T(_,{field:"Reimbursements",header:"Reimbursements"},{body:E(t=>[m(l(0))]),_:1}),T(_,{field:"TOTAL_DEDUCTIONS",header:"Deductions"}),T(_,{field:"NET_TAKE_HOME",header:"Take Home"}),T(_,{header:"Action"},{body:E(t=>[e("button",{class:"border-[2px] border-[#000] py-2 px-3 rounded-md",onClick:i=>n(o).getEmployeePayslipDetailsAsHTML("",t.data.PAYROLL_MONTH)},"View",8,K)]),_:1})]),_:1},8,["value","filters","loading"])]),n(o).canShowPayslipView?(s(),C(w,{key:1,position:"right",visible:n(o).canShowPayslipView,"onUpdate:visible":y[2]||(y[2]=t=>n(o).canShowPayslipView=t),modal:"",header:"Payslip",style:{width:"70vw"}},{default:E(()=>[e("button",{class:"flex items-center p-2 absolute top-5 border-[1px] mx-2 text-[#000] rounded-md h-[33px]",onClick:y[1]||(y[1]=t=>n(o).getEmployeePayslipDetailsAsPDF("",n(o).Payroll_month))},Q),e("div",X,[e("div",Z,[e("div",ee,[e("div",te,[e("h1",se,[m("PAYSLIP "),e("span",ae,l(n(o).paySlipHTMLView.data.date_month.Month)+" "+l(n(o).paySlipHTMLView.data.date_month.Year),1)]),(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.client_details,t=>(s(),a("h2",{class:"text-[16px] mt-[10px] text-[#000] font-semibold",key:t},l(t.client_fullname),1))),128)),(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.client_details,t=>(s(),a("p",{class:"w-[300px] mt-[10px]",key:t},l(t.address),1))),128))]),(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.client_details,t=>(s(),a("div",{key:t},[e("img",{src:`${t.client_logo}`,alt:"testing",class:"w-[200px]"},null,8,oe)]))),128))]),e("div",le,[(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.personal_details,t=>(s(),a("h1",{class:"font-semibold text-[16px] my-[16px]",key:t}," Employee Name : "+l(t.name),1))),128)),ne,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.personal_details,t=>(s(),a("div",{class:"mx-2 row border-b-[1px] border-[gray] py-2",key:t},[e("div",ie,[ce,e("p",de,l(t.user_code?t.user_code:"-"),1)]),e("div",re,[_e,e("p",pe,l(t.doj?n(k)(t.doj).format("DD-MMM-YYYY"):"-"),1)]),e("div",ue,[ye,e("p",he,l(t.department_name?t.department_name:"-"),1)]),e("div",me,[xe,e("p",be,l(t.designation?t.designation:"-"),1)])]))),128)),(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.personal_details,t=>(s(),a("div",{class:"mx-2 row border-b-[1px] border-[gray] py-2",key:t},[e("div",fe,[ve,e("p",ge,l(t.bank_account_number?"Bank":"cheque"),1)]),e("div",we,[Se,e("p",Te,l(t.bank_name?t.bank_name:"-"),1)]),e("div",Le,[Pe,e("p",ke,l(t.bank_account_number?t.bank_account_number:"-"),1)]),e("div",De,[Me,e("p",Ae,l(t.bank_ifsc_code?t.bank_ifsc_code:"-"),1)])]))),128)),(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.personal_details,t=>(s(),a("div",{class:"py-2 mx-2 row",key:t},[e("div",Ee,[Ve,e("p",He,l(t.pan_number?t.pan_number:"-"),1)]),Ne,e("div",Re,[Ce,e("p",Oe,l(t.uan_number?t.uan_number:"-"),1)]),e("div",Ye,[Be,e("p",Fe,l(t.epf_number?t.epf_number:"-"),1)])]))),128)),Ie]),e("div",Ue,[je,$e,e("div",Ge,[e("div",We,[qe,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},l(t.leave_type?t.leave_type:"-"),1))),128))]),e("div",Je,[Ke,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},l(t.opening_balance?t.opening_balance:"-"),1))),128))]),e("div",ze,[Qe,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},l(t.availed?t.availed:"-"),1))),128))]),e("div",Xe,[Ze,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.leave_data,t=>(s(),a("p",{class:"text-[#000]",key:t},l(t.closing_balance?t.closing_balance:"-"),1))),128))])])]),e("div",et,[tt,st,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.salary_details,t=>(s(),a("div",{class:"py-2 mx-2 row",key:t},[e("div",at,[ot,e("p",lt,l(t.month_days?t.month_days:"-"),1)]),e("div",nt,[it,e("p",ct,l(t.worked_Days?t.worked_Days:"-"),1)]),e("div",dt,[rt,e("p",_t,l(t.lop?t.lop:"-"),1)]),e("div",pt,[ut,e("p",yt,l(t.arrears_Days?t.arrears_Days:"-"),1)])]))),128))]),e("div",ht,[e("div",mt,[e("div",xt,[e("div",bt,[ft,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.earnings[0],(t,i,r)=>(s(),a("h1",{class:g(["flex items-center my-3",[i=="Total Earnings"?"text-black font-semibold":"text-black"]]),key:r},[m(l(i)+" ",1),i=="Total Earnings"?(s(),a("span",vt,"(A)")):b("",!0)],2))),128))]),e("div",gt,[n(o).paySlipHTMLView.data.compensatory_data[0]?(s(),a("h1",wt,"Fixed")):b("",!0),(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.compensatory_data[0],(t,i,r)=>(s(),a("h1",{key:r,class:"mt-[12px] text-black text-right"},l(t),1))),128))]),e("div",St,[n(o).paySlipHTMLView.data.arrears[0]!=""?(s(),a("h1",Tt,"Arrears")):b("",!0),(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.arrears[0],(t,i,r)=>(s(),a("h1",{key:r,class:"mt-[12px]"},l(t),1))),128))]),e("div",Lt,[Pt,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.earnings[0],(t,i,r)=>(s(),a("h1",{key:r,class:g(["my-3 text-right",[i=="Total Earnings"?"text-black text-[14px] font-semibold":""]])},l(t),3))),128))])])]),e("div",kt,[e("table",Dt,[e("tr",Mt,[e("td",null,[At,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.contribution[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] flex",[i=="Total Contribution"?"text-[14px] text-[#000] font-semibold":" text-black"]]),key:r},[m(l(i)+" ",1),i=="Total Contribution"?(s(),a("span",Et," (B)")):b("",!0)],2))),128))]),e("td",null,[Vt,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.contribution[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] text-right",[i=="Total Contribution"?"text-[13px] text-[#000] font-semibold":" text-black"]]),key:r},l(t),3))),128))])]),e("tr",Ht,[e("td",null,[Nt,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.Tax_Deduction[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] flex items-center",[i=="Total Deduction"?"text-[14px] text-[#000] font-semibold":" text-black"]]),key:r},[m(l(i)+" ",1),i=="Total Deduction"?(s(),a("span",Rt," (C)")):b("",!0)],2))),128))]),e("td",null,[Ct,(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.Tax_Deduction[0],(t,i,r)=>(s(),a("p",{class:g(["my-2 text-[#000] text-right",[i=="Total Deduction"?"text-[14px] text-[#000] font-semibold":" text-black"]]),key:r},l(t),3))),128))])])])])]),(s(!0),a(c,null,d(n(o).paySlipHTMLView.data.over_all[0],(t,i,r)=>(s(),a("div",{class:"my-2 row w-[100%]",key:r},[e("div",Ot,[e("p",{class:g(["text-[#000]",[i=="Net Salary Payable"||i=="Net Salary in words"?"text-black text-[14px] font-semibold":""]])},[m(l(i)+" ",1),i=="Net Salary Payable"?(s(),a("span",Yt,"(A-B-C)")):b("",!0)],2)]),e("div",Bt,[e("p",Ft,[i=="Net Salary Payable"?(s(),a("span",{key:0,class:g(["text-[16px] font-semibold text-right",[i=="Net Salary Payable"?"text-black text-[14px] font-semibold":""]]),style:{"font-family":"sans-serif !important"}},"₹ ",2)):b("",!0),m(l(t),1)])])]))),128)),It,e("div",Ut,[e("div",jt,[$t,e("img",{src:`${n(o).paySlipHTMLView.data.date_month.abs_logo}`,alt:"",class:"w-[140px] h-[50px]"},null,8,Gt)])])])])]),_:1},8,["visible"])):b("",!0)],64)}}};export{G as U,Xt as _};
