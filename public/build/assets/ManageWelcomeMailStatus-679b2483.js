import{Q as g,af as k,o as r,c,h as o,w as d,d as m,a as p,k as S,l as h,ae as u,F as C,g as f,j as D,G as N,P,H as x,R as T,u as $,v as B,I as L,L as R,J as A,K as F,A as V}from"./toastservice.esm-c06f2f8b.js";import{T as E,B as U,S as j,b as I,a as K}from"./styleclass.esm-f13b5ad8.js";import"./blockui.esm-b5c5eeb1.js";import{C as O}from"./confirmationservice.esm-5e8ac686.js";import{s as z}from"./progressspinner.esm-7742d82c.js";import{s as G}from"./calendar.esm-b2adcb28.js";import{d as H,c as J}from"./pinia-c421e60d.js";import{a as b}from"./index-362795f3.js";const Q=H("ManageWelcomeMailStatusStore",()=>{const _=g(!1),n=g(!1),s=g();async function v(){await b.get("/getAllEmployees_WelcomeMailStatus_Details").then(t=>{s.value=t.data,console.log("testing",s)}).finally(()=>{})}function l(t){console.log("sendMail_employeePayslip() : Sending mail to user : "+t),_.value=!0,n.value=!1,b.post("/send_WelcomeMailNotification",{user_code:t}).then(i=>{console.log(" Response [send_WelcomeMail] : "+i.data)}).catch(i=>{console.log(i)}).finally(()=>{_.value=!1})}return{array_employees_list:s,loading:_,sendWelcomeMail_Status_diaconfirmation:n,getManageWelcomeMailStatus:v,send_WelcomeMail:l}});const Y=m("br",null,null,-1),q={key:0},X={key:0},Z={key:1},ee={key:0},ae={key:1},te=m("div",{class:"confirmation-content"},[m("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}}),m("span",null,"Are you sure you want to send Welcome Mail?")],-1),oe={class:"d-flex mt-11",style:{position:"relative",right:"-180px",width:"140px"}},ie={__name:"ManageWelcomeMailStatus",setup(_){const n=Q(),s=g();k(()=>{n.getManageWelcomeMailStatus()});function v(l){s.value=l,console.log(l),n.sendWelcomeMail_Status_diaconfirmation=!0}return(l,t)=>{const i=f("Column"),y=f("Button"),w=f("DataTable"),W=f("Dialog"),M=D("tooltip");return r(),c(C,null,[o(w,{value:u(n).array_employees_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:l.filters,"onUpdate:filters":t[0]||(t[0]=a=>l.filters=a),filterDisplay:"menu",loading:l.loading2,globalFilterFields:["name","status"]},{default:d(()=>[o(i,{headerStyle:"width: 3rem"}),o(i,{field:"empcode",header:"Employee code",headerStyle:"width: 3rem"}),o(i,{field:"empname",header:"Employee Name"}),o(i,{field:"personal mail",header:"Personal Mail"}),o(i,{field:"welcome_mail_status",header:"Welcome Mail Status"},{body:d(a=>[m("div",null,[o(y,{onClick:le=>v(a.data.empcode),label:"Send mail",class:"btn btn-primary"},null,8,["onClick"]),Y,a.data.value==null?(r(),c("h4",q,"Mail Not Sent")):p("",!0)])]),_:1}),o(i,{field:"onboard_docs_approval_mail_status",header:"Onboard Document Approval Mail Status"},{body:d(a=>[a.data.value==null||a.data==0?S((r(),c("h1",X,[h("Mail Not Sent")])),[[M,"Normally, mail is sent when docs are reviewed"]]):p("",!0),a.data.value==1?(r(),c("h1",Z,"Mail Sent")):p("",!0)]),_:1}),o(i,{field:"acc_activation_mail_status",header:"Activation Mail Status"},{body:d(a=>[a.data.value==null||a.data==0?S((r(),c("h1",ee,[h("Mail Not Sent")])),[[M,"Normally, mail is sent once onboarding is done"]]):p("",!0),a.data.value==1?(r(),c("h1",ae,"Mail Sent")):p("",!0)]),_:1})]),_:1},8,["value","filters","loading"]),o(W,{header:"Confirmation",visible:u(n).sendWelcomeMail_Status_diaconfirmation,"onUpdate:visible":t[3]||(t[3]=a=>u(n).sendWelcomeMail_Status_diaconfirmation=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:d(()=>[te,m("div",oe,[o(y,{class:"btn-primary py-2 mr-3",label:"Yes",icon:"pi pi-check",onClick:t[1]||(t[1]=a=>u(n).send_WelcomeMail(s.value)),autofocus:""}),o(y,{label:"No",icon:"pi pi-times",onClick:t[2]||(t[2]=a=>u(n).sendWelcomeMail_Status_diaconfirmation=!1),class:"p-button-text py-2",autofocus:""})])]),_:1},8,["visible"])],64)}}},e=N(ie),ne=J();e.use(P,{ripple:!0});e.use(O);e.use(x);e.use(ne);e.directive("tooltip",E);e.directive("badge",U);e.directive("ripple",T);e.directive("styleclass",j);e.directive("focustrap",$);e.component("Button",B);e.component("DataTable",I);e.component("Column",K);e.component("ConfirmDialog",L);e.component("Toast",R);e.component("Dialog",A);e.component("Dropdown",F);e.component("ProgressSpinner",z);e.component("InputText",V);e.component("Calendar",G);e.mount("#vjs_ManageWelcomeMailStatus");
