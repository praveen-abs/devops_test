import{d as j}from"./pinia-ef13c18a.js";import{ai as I,a0 as t,a3 as d}from"./toastservice.esm-484a3f44.js";import{a as i}from"./index-362795f3.js";import"./moment-fbc5633a.js";const E=j("useHolidayStore",()=>{I();const n=t(!1),r=t(!1),p=t(),_=t(),u=t(),L=t(1),g=t(),m=t(!1),y=t(!1),f=t(),e=d({FestivalTitle:"",Description:"",date:"",Holiday_Photo:""}),v=d({List_Name:"",ChooseTheHolidays:""}),c=d({location:"",ChooseTheHolidays:""}),D=d([]),l=t(),h=d([]);let H=new FormData;const w=t(),N=a=>{a.target.files&&a.target.files[0]&&(e.Holiday_Photo=a.target.files[0],w.value=window.URL.createObjectURL(a.target.files[0]),console.log(e.Holiday_Photo),H.append("file",e.Holiday_Photo),console.log(H))},s=async()=>{n.value=!0,await i.get("/holiday/master-page").then(a=>{console.log(a.data),p.value=a.data}).finally(()=>{n.value=!1})},T=()=>{r.value=!1;let a="holiday/create_holiday",o=new FormData;o.append("holiday_name",e.FestivalTitle),o.append("holiday_description",e.Description),o.append("holiday_date",e.date),o.append("holiday_image",e.Holiday_Photo),i.post(a,o).then(()=>{}).finally(()=>{s()})},C=async()=>{await i.get("http://localhost:3000/HolidayMaster").then(a=>{console.log(a.data),_.value=a.data})},P=async()=>{await i.get("/holidays/add_holidayslist").then(a=>{g.value=a.data})},F=async()=>{await i.get("/holidays/show_holidaysListDetails").then(a=>{console.log(a.data),u.value=a.data})},S=()=>{for(var a in l.value){let o={id:l.value[a].id,holiday:l.value[a].holiday_name};h.push(o)}console.log(h),i.post("holiday/create_holidaylist",{name:v.List_Name,holiday_list_id:h}).then(o=>{o.data}).finally(()=>{s(),m.value=!1})},b=()=>{i.post("holiday/create_holidaylocation",{name:c.location,vmt_holidays_list_id:c.ChooseTheHolidays.id}).finally(()=>{})},A=()=>{console.log(l.value)};async function x(a){let o={id:a.id,image_url:a.holiday_name};console.log(o.id);let U="holidays/delete_holiday";i.post(U,o).then(()=>{}).finally(()=>{s()})}function M(a){y.value=!0,console.log(a),console.log("testing data ",y.value),f.value=a.id,e.FestivalTitle=a.holiday_name,e.Description=a.holiday_description,e.date=a.holiday_date,e.Holiday_Photo=a.image}function R(){let a="holidays/update_holiday",o=new FormData;o.append("id",f.value),o.append("holiday_name",e.FestivalTitle),o.append("holiday_description",e.Description),o.append("holiday_date",e.date),o.append("holiday_image",e.Holiday_Photo),i.post(a,o).then(()=>{}).finally(()=>{s()})}return{holidayData:p,activeHolidaysPage:L,CreateNewList:v,AssignToLocation:c,arrayholidayMaster:_,canShowLoading:n,addNewHoliday:e,chooseHolidaylist:D,arrayCreateNewList:u,arrayHolidaysList:g,CreateNewListDialog:m,DialogAddNewHoliday:r,getHolidays:s,SubmitCreateNewList:S,SubmitAddNewLocation:b,getHolidaysMaster:C,getHolidaylist:P,getHolidayName:A,ChooseTheHolidays:l,FestivalPhoto:N,sumbitAddNewHoliday:T,avatar:w,getCreateNewList:F,editHolidaylist:M,updateHolidays:y,sumbiteditHoliday:R,RemoveHolidayList:x}});export{E as u};
