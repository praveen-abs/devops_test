import{d as P}from"./dayjs.min-2f06af28.js";import{p as W,r as g,Q as s,o as B,b as m,d,e as x,f as n,m as e,k as o,h as f,n as k,g as b,t as v,j as T,i as L,H as Y,x as F,K as Q,F as z}from"./app-1d702269.js";import{p as K}from"./ProfilePagesStore-3d1f6cb3.js";import{a as E}from"./index-362795f3.js";import{S as J}from"./Service-2e0fbc76.js";/* empty css                                                                       */import{L as X}from"./LoadingSpinner-4e2a0991.js";const O=W("manageEmployees",()=>{const R=g(),A=g(),c=g(),u=g(!0);async function N(){let r=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+r),await E.get(r).then(p=>{R.value=p.data})}async function I(){let r=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+r),await E.get(r).then(p=>{console.log("Axios : "+p.data),A.value=p.data})}async function w(){let r=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+r),await E.get(r).then(p=>{console.log("Axios : "+p.data),c.value=p.data})}return{array_active_employees:R,yet_to_active_employees_data:A,exit_employees_data:c,getActiveEmployees:N,ajax_yet_to_active_employees_data:I,ajax_exit_employees_data:w,canShowLoadingScreen:u}});const G={class:"w-full"},q={class:"flex items-center justify-center"},Z=["src"],ee={class:"pl-2 font-semibold text-left fs-6"},ae=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),te={__name:"active_employees",setup(R){const A=J(),c=O();K(),g();const u=g({global:{value:null,matchMode:s.CONTAINS},emp_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_code:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_designation:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},reporting_manager_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS}});return B(async()=>{await c.getActiveEmployees(),c.canShowLoadingScreen=!1}),(N,I)=>{const w=m("InputText"),r=m("Column"),p=m("ProgressBar"),C=m("RouterLink"),h=m("DataTable");return d(),x("div",G,[n("div",null,[e(h,{value:b(c).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:u.value,"onUpdate:filters":I[0]||(I[0]=t=>u.value=t),filterDisplay:"menu",loading:N.canShowLoadingScreen,globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{empty:o(()=>[f(" No customers found.")]),loading:o(()=>[f(" Loading customers data. Please wait. ")]),default:o(()=>[e(r,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem !important","text-align":"center:  !important"}},{body:o(t=>[n("div",q,[JSON.parse(t.data.emp_avatar).type=="shortname"?(d(),x("p",{key:0,class:k(["p-2 font-semibold text-white rounded-full w-11 fs-6",b(A).getBackgroundColor(t.index)])},v(JSON.parse(t.data.emp_avatar).data),3)):(d(),x("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(t.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Z)),n("p",ee,v(t.data.emp_name),1)])]),filter:o(({filterModel:t,filterCallback:S})=>[e(w,{modelValue:t.value,"onUpdate:modelValue":i=>t.value=i,onInput:i=>S(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(r,{field:"emp_code",header:"Employee Code",class:"",style:{}},{filter:o(({filterModel:t,filterCallback:S})=>[e(w,{modelValue:t.value,"onUpdate:modelValue":i=>t.value=i,onInput:i=>S(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(r,{field:"emp_designation",header:"Designation",class:""},{filter:o(({filterModel:t,filterCallback:S})=>[e(w,{modelValue:t.value,"onUpdate:modelValue":i=>t.value=i,onInput:i=>S(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(r,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:o(({filterModel:t,filterCallback:S})=>[e(w,{modelValue:t.value,"onUpdate:modelValue":i=>t.value=i,onInput:i=>S(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(r,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(t=>[f(v(b(P)(t.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(r,{field:"profile_completeness",header:"Profile Completeness"},{body:o(t=>[t.data.profile_completeness<=39?(d(),T(p,{key:0,value:t.data.profile_completeness,class:k([t.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),t.data.profile_completeness>=40&&t.data.profile_completeness<=59?(d(),T(p,{key:1,class:k(["progressbar_val2",[t.data.profile_completeness>=40&&t.data.profile_completeness<=59]]),value:t.data.profile_completeness},null,8,["class","value"])):L("",!0),t.data.profile_completeness>=60?(d(),T(p,{key:2,class:k(["progressbar_val3",[t.data.profile_completeness>=60]]),value:t.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),e(r,{field:"enc_user_id",header:"View Profile"},{body:o(t=>[e(C,{to:`/profile-page/${t.data.user_id}`,click:"openProfilePage(slotProps.data)",class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},{default:o(()=>[ae,f("View")]),_:2},1032,["to"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}},oe={class:"confirmation-content"},le=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),ne={class:"flex items-center justify-center"},se=["src"],ie={class:"pl-2 font-semibold text-left fs-6"},re=["onClick"],de=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),ce={key:0},pe={key:1},me={__name:"yet_to_active_employees",setup(R){const A=J(),c=O();B(()=>{c.ajax_yet_to_active_employees_data()}),g();let u=g(!1);g(!1),Y();const N=F();function I(i){window.location.href="/pages-profile-new?uid="+i}const w=g({global:{value:null,matchMode:s.CONTAINS},emp_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_code:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS}});g(["Pending","Approved","Rejected"]);let r=null,p=null;function C(i,y){i.emp_code,i.emp_status,console.log(O.emp_status),console.log(i.emp_status),u.value=!0,r=y,p=i,console.log("Selected Row Data : "+JSON.stringify(i))}function h(i){c.canShowLoadingScreen=!1,u.value=!1,i&&t()}function t(){r="",p=null}function S(){h(!1),c.canShowLoadingScreen=!0,console.log("Processing Rowdata : "+JSON.stringify(p)),E.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:p.emp_code,active_status:1}).then(i=>{console.log("Response : "+i),N.add({severity:"success",summary:"Activated",detail:`${p.emp_name} Activated Successfully`,life:3e3}),t()}).catch(i=>{c.canShowLoadingScreen=!1,t()}).finally(()=>{c.ajax_yet_to_active_employees_data(),c.getActiveEmployees(),c.canShowLoadingScreen=!1,u.value=!1})}return(i,y)=>{const V=m("Toast"),M=m("Button"),j=m("Dialog"),l=m("InputText"),_=m("Column"),$=m("ProgressBar"),H=m("DataTable");return d(),x("div",null,[e(V),e(j,{header:"Confirmation",visible:b(u),"onUpdate:visible":y[2]||(y[2]=a=>Q(u)?u.value=a:u=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[e(M,{label:"Yes",icon:"pi pi-check",onClick:y[0]||(y[0]=a=>S()),class:"p-button-text",autofocus:""}),e(M,{label:"No",icon:"pi pi-times",onClick:y[1]||(y[1]=a=>h(!0)),class:"p-button-text"})]),default:o(()=>[n("div",oe,[le,n("span",null,"Are you sure you want to "+v(b(r))+"?",1)])]),_:1},8,["visible"]),n("div",null,[e(H,{value:b(c).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:w.value,"onUpdate:filters":y[3]||(y[3]=a=>w.value=a),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[f(" No customers found. ")]),loading:o(()=>[f(" Loading customers data. Please wait. ")]),default:o(()=>[e(_,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:o(a=>[n("div",ne,[JSON.parse(a.data.emp_avatar).type=="shortname"?(d(),x("p",{key:0,class:k(["p-2 font-semibold text-white rounded-full w-11 fs-6",b(A).getBackgroundColor(a.index)])},v(JSON.parse(a.data.emp_avatar).data),3)):(d(),x("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(a.data.emp_avatar).data}`,srcset:"",alt:""},null,8,se)),n("p",ie,v(a.data.emp_name),1)])]),filter:o(({filterModel:a,filterCallback:D})=>[e(l,{modelValue:a.value,"onUpdate:modelValue":U=>a.value=U,onInput:U=>D(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(_,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem !important"}},{body:o(a=>[f(v(a.data.emp_code),1)]),filter:o(({filterModel:a,filterCallback:D})=>[e(l,{modelValue:a.value,"onUpdate:modelValue":U=>a.value=U,onInput:U=>D(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(_,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(_,{field:"reporting_manager_name",header:"Reporting Manager"}),e(_,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(a=>[f(v(b(P)(a.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(_,{field:"profile_completeness",header:"Profile Completeness"},{body:o(a=>[a.data.profile_completeness<=39?(d(),T($,{key:0,value:a.data.profile_completeness,class:k([a.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),a.data.profile_completeness>=40&&a.data.profile_completeness<=59?(d(),T($,{key:1,class:k(["progressbar_val2",[a.data.profile_completeness>=40&&a.data.profile_completeness<=59]]),value:a.data.profile_completeness},null,8,["class","value"])):L("",!0),a.data.profile_completeness>=60?(d(),T($,{key:2,class:k(["progressbar_val3",[a.data.profile_completeness>=60]]),value:a.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),e(_,{field:"is_onboarded",header:"Onboarding Status"},{body:o(a=>[f(v(a.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),e(_,{field:"doc_status",header:"Docs Approval Status"},{body:o(a=>[f(v(a.data.is_onboarded&&a.data.doc_status?"Approved":"Pending"),1)]),_:1}),e(_,{field:"enc_user_id",header:"View Profile"},{body:o(a=>[n("button",{onClick:D=>I(a.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[de,f("View")],8,re)]),_:1}),e(_,{style:{width:"300px"},field:"",header:"Action"},{body:o(a=>[a.data.is_onboarded&&a.data.doc_status?(d(),x("div",ce,[e(M,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:D=>C(a.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(d(),x("div",pe))]),_:1})]),_:1},8,["value","filters"])])])}}},ue={class:"confirmation-content"},_e=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),fe={class:"flex items-center justify-center"},ge=["src"],ve={class:"pl-2 font-semibold text-left fs-6"},he=["onClick"],ye=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),be={__name:"exit_employees",setup(R){const A=J(),c=O();B(()=>{c.ajax_exit_employees_data()}),g();let u=g(!1),N=g(!1);Y();const I=F(),w=g({global:{value:null,matchMode:s.CONTAINS},employee_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS},status:{value:null,matchMode:s.EQUALS}});function r(C){window.location.href="/pages-profile-new?uid="+C}function p(){hideConfirmDialog(!1),N.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),E.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(C=>{console.log("Response : "+C),N.value=!1,I.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(C=>{N.value=!1,resetVars()})}return(C,h)=>{const t=m("Toast"),S=m("Button"),i=m("Dialog"),y=m("InputText"),V=m("Column"),M=m("ProgressBar"),j=m("DataTable");return d(),x("div",null,[e(t),e(i,{header:"Confirmation",visible:b(u),"onUpdate:visible":h[2]||(h[2]=l=>Q(u)?u.value=l:u=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[e(S,{label:"Yes",icon:"pi pi-check",onClick:h[0]||(h[0]=l=>p()),class:"p-button-text",autofocus:""}),e(S,{label:"No",icon:"pi pi-times",onClick:h[1]||(h[1]=l=>C.hideConfirmDialog(!0)),class:"p-button-text"})]),default:o(()=>[n("div",ue,[_e,n("span",null,"Are you sure you want to "+v(C.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),n("div",null,[e(j,{value:b(c).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:w.value,"onUpdate:filters":h[3]||(h[3]=l=>w.value=l),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[f(" No customers found.")]),loading:o(()=>[f(" Loading customers data. Please wait. ")]),default:o(()=>[e(V,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:o(l=>[n("div",fe,[JSON.parse(l.data.emp_avatar).type=="shortname"?(d(),x("p",{key:0,class:k(["p-2 font-semibold text-white rounded-full w-11 fs-6",b(A).getBackgroundColor(l.index)])},v(JSON.parse(l.data.emp_avatar).data),3)):(d(),x("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(l.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ge)),n("p",ve,v(l.data.emp_name),1)])]),filter:o(({filterModel:l,filterCallback:_})=>[e(y,{modelValue:l.value,"onUpdate:modelValue":$=>l.value=$,onInput:$=>_(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(V,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem"}},{filter:o(({filterModel:l,filterCallback:_})=>[e(y,{modelValue:l.value,"onUpdate:modelValue":$=>l.value=$,onInput:$=>_(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(V,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(V,{field:"reporting_manager_name",header:"Reporting Manager"}),e(V,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(l=>[f(v(b(P)(l.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(V,{field:"profile_completeness",header:"Profile Completeness"},{body:o(l=>[l.data.profile_completeness<=39?(d(),T(M,{key:0,value:l.data.profile_completeness,class:k([l.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),l.data.profile_completeness>=40&&l.data.profile_completeness<=59?(d(),T(M,{key:1,class:k(["progressbar_val2",[l.data.profile_completeness>=40&&l.data.profile_completeness<=59]]),value:l.data.profile_completeness},null,8,["class","value"])):L("",!0),l.data.profile_completeness>=60?(d(),T(M,{key:2,class:k(["progressbar_val3",[l.data.profile_completeness>=60]]),value:l.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),e(V,{field:"enc_user_id",header:"View Profile"},{body:o(l=>[n("button",{onClick:_=>r(l.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[ye,f("View")],8,he)]),_:1})]),_:1},8,["value","filters"])])])}}};const we={class:""},Se=n("div",{class:"mb-2 card left-line"},[n("div",{class:"pt-1 pb-0 card-body"},[n("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),n("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),xe={class:"card"},ke={class:"card-body"},Ce={class:"tab-content",id:"pills-tabContent"},Ae={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Te={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Le={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ue={__name:"ManageEmployee",setup(R){const A=O();return(c,u)=>(d(),x(z,null,[b(A).canShowLoadingScreen?(d(),T(X,{key:0,class:"absolute z-50 bg-white w-[100%] h-[100%]"})):L("",!0),n("div",we,[Se,n("div",xe,[n("div",ke,[n("div",Ce,[n("div",Ae,[e(te)]),n("div",Te,[e(me)]),n("div",Le,[e(be)])])])])])],64))}};export{Ue as default};
