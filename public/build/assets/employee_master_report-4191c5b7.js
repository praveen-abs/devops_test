import{a as b}from"./index-362795f3.js";import{H as p,W as ne,ab as P,c as f,d as t,h as w,aa as o,a as R,n as S,w as A,a7 as H,g as k,o as g,F as O,f as j,ac as z,ad as W,b as Y,p as U,l as ie}from"./inputnumber.esm-3276ace1.js";import"./lodash-facb8280.js";import{d as re}from"./pinia-69eaa219.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                       */const B=re("EmployeeMasterStore",()=>{const v=p(),e=p(),i=p(),h=p(),T=p(),l=p(),C=p(!1),m=p(),d=p(!1),s=p([]),_=p([]),V=p(),I=p(""),N=p(1),u=p(!1),r=ne({date:"",department_id:"",legal_entity:"",active_status:""}),E=p([]),L=p([]),F=()=>{let a="/fetch-employee-ctc-report";u.value=!0,b.post(a,{type:""}).then(n=>{console.log(n.data.rows,"get value "),s.value=n.data.rows,console.log(s.value," testings data"),n.data.headers.forEach(c=>{let y={title:c};_.value.push(y),console.log(c)}),console.log(_.value)}).finally(()=>{u.value=!1})};function J(){u.value=!0,b.get("/filter-client-ids").then(a=>{T.value=a.data,console.log(" testing client id",T.value)}).finally(()=>{u.value=!1})}function K(){u.value=!0,b.get("/get-department").then(a=>{V.value=a.data}).finally(()=>{u.value=!1})}function Q(){u.value=!0,b.post("/get-filter-months-for-reports").then(a=>{I.value=a.data}).finally(()=>{u.value=!1})}function X(){s.value.splice(0),_.value.splice(0),d.value==!0?(console.log(d),d.value=!1,m.value="",console.log(m.value)):d.value==!1&&(d.value=!0,m.value="detailed",console.log(m.value));let a=m.value;b.post("/fetch-employee-ctc-report",{type:a}).then(n=>{console.log(n.data.rows,"get value "),s.value=n.data.rows,console.log(s.value," testings data"),n.data.headers.forEach(c=>{let y={title:c};_.value.push(y),console.log(c)}),console.log(_.value)})}const Z=()=>{let a="/generate-employee-ctc-report";u.value=!0,b.post(a,r,{responseType:"blob"}).then(n=>{console.log(n.data);var c=document.createElement("a");c.href=window.URL.createObjectURL(n.data),c.download="Employee CTC Report_.xlsx",c.click()}).finally(()=>{C.value=!1,u.value=!1})};function ee(a){N.value=a,a===2?b.post("/fetch-employee-ctc-report",r).then(n=>{console.log(n.data.rows,"get value "),s.value=n.data.rows,console.log(s.value," testings data"),n.data.headers.forEach(c=>{let y={title:c};_.value.push(y),console.log(c)}),console.log(_.value),n.data.rows.length===0&&Swal.fire({title:n.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(c=>{})}):(r.active_status="",r.date="",r.department_id="",r.legal_entity="",v.value="",e.value="",i.value="",h.value="",F())}function te(a,n,c){if(console.log(a,n,c),L.value.splice(0,L.value.length),E.value.splice(0,E.value.length),s.value.splice(0,s.value.length),_.value.splice(0,_.value.length),u.value=!0,a=="department"?r.department_id=n:a=="Category"?(r.active_status=n,console.log(r)):a=="date"?r.date=n:a=="legal_entity"&&(r.legal_entity=n),c==1){let y="/fetch-master-employee-report";b.post(y,r).then(x=>{console.log(x.data.rows,"get value "),E.value=x.data.rows,console.log(E.value," testings data"),x.data.headers.forEach(M=>{let $={title:M};L.value.push($),console.log(M)}),console.log(L.value),x.data.headers.length===0&&Swal.fire({title:x.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(M=>{})}).finally(()=>{u.value=!1})}else{let y="/fetch-employee-ctc-report";u.value=!0,b.post(y,r).then(x=>{console.log(x.data.rows,"get value "),s.value=x.data.rows,console.log(s.value," testings data"),x.data.headers.forEach(M=>{let $={title:M};_.value.push($),console.log(M)}),console.log(_.value),x.data.rows.length===0&&Swal.fire({title:x.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(M=>{})}).finally(()=>{u.value=!1})}}function oe(){let a="/fetch-master-employee-report";u.value=!0,b.post(a,{type:""}).then(n=>{console.log(n.data.rows,"get value "),E.value=n.data.rows,console.log(E.value," testings data"),n.data.headers.forEach(c=>{let y={title:c};L.value.push(y),console.log(c)}),console.log(L.value)}).finally(()=>{u.value=!1})}function le(){let a="/generate-master-employee-report-data";u.value=!0,b.post(a,r,{responseType:"blob"}).then(n=>{console.log(n.data);var c=document.createElement("a");c.href=window.URL.createObjectURL(n.data),c.download="Employee Master Report_.xlsx",c.click()}).finally(()=>{C.value=!1,u.value=!1})}function ae(a){console.log("testing data :",a),a===2?(s.value.splice(0,s.value.length),_.value.splice(0,_.value.length),r.active_status="",r.date="",r.department_id="",r.legal_entity="",v.value="",e.value="",i.value="",h.value=""):(E.value.splice(0,E.value.length),L.value.splice(0,L.value.length),r.active_status="",r.date="",r.department_id="",r.legal_entity="",v.value="",e.value="",i.value="",h.value="")}function se(a){console.log(a?"1":"2",a)}return{show:d,client_ids:T,employeeCTCReportSource:s,Employee_CTCReportDynamicHeaders:_,personalDetail:m,selectCategory:l,department:V,PeriodMonth:I,fetchFilterClientIds:J,getEmployeeCTC:F,personalDetails:X,getALLdepartment:K,getPeriodMonth:Q,updateEmployeeApplyFilter:ee,downloadEmployeeCTC:Z,btn_download:C,canShowLoading:u,filterbtn:N,legal_Entity:v,Department:e,period_Date:i,select_Category:h,getemployeeMater:oe,employeeMaterReportSource:E,Employee_MaterReportDynamicHeaders:L,downloadEmployeeMaster:le,getSelectoption:te,clearfilterBtn:ae,testings:se,selectedfilters:r,resetChars:()=>{r.active_status="",r.date="",r.department_id="",r.legal_entity="",v.value="",e.value="",i.value="",h.value=""}}});const D=v=>(z("data-v-3ac8eed0"),v=v(),W(),v),pe={class:"flex justify-between p-2 bg-white"},de={class:""},ce={class:"flex items-center"},ue=D(()=>t("h1",{class:"text-[12px] text-black font-semibold font-['poppins']"},"Personal Details -",-1)),ve={key:0,class:"pi pi-eye"},me={key:1,class:"pi pi-eye-slash"},_e=D(()=>t("p",{class:"relative left-2 font-['poppins']"},"Download",-1)),ge=D(()=>t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"},null,-1)),fe=D(()=>t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),he=D(()=>t("path",{d:"M8,1 L8,11",class:"svg-out"},null,-1)),ye=[ge,fe,he],xe={__name:"employee_CTC",setup(v){const e=B();P(()=>{}),p([]);const i=p({global:{value:null,matchMode:H.CONTAINS}}),h=p("downloaded");return(T,l)=>{const C=k("InputText"),m=k("Column"),d=k("DataTable");return g(),f("div",null,[t("div",pe,[t("div",de,[w(C,{placeholder:"Search",modelValue:i.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=s=>i.value.global.value=s),class:"border-color !h-10 my-2"},null,8,["modelValue"])]),t("div",ce,[ue,t("button",{class:"bg-[#E6E6E6] px-3 p-2 rounded-md mx-2",onClick:l[1]||(l[1]=s=>o(e).personalDetails())},[o(e).show&&o(e).personalDetail=="detailed"?(g(),f("i",ve)):o(e).show?R("",!0):(g(),f("i",me))]),t("button",{class:S(["p-2 mx-2 rounded-md w-[120px]",[!o(e).employeeCTCReportSource.length==0?"bg-[#000] text-white":" !text-[#000] !bg-[#E6E6E6] "]]),onClick:l[2]||(l[2]=s=>(o(e).btn_download=!o(e).btn_download,o(e).downloadEmployeeCTC()))},[_e,t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:S([o(e).btn_download==!0?h.value:" "])},[(g(),f("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:S([!o(e).employeeCTCReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},ye,2))],2)],2)])]),t("div",null,[w(d,{value:o(e).employeeCTCReportSource,filters:i.value,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],scrollable:"",scrollHeight:"400px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",responsiveLayout:"scroll"},{default:A(()=>[(g(!0),f(O,null,j(o(e).Employee_CTCReportDynamicHeaders,s=>(g(),Y(m,{key:s.title,field:s.title,header:s.title,style:{"white-space":"nowrap","text-align":"left",width:"15rem !important"}},null,8,["field","header"]))),128))]),_:1},8,["value","filters"])])])}}},be=q(xe,[["__scopeId","data-v-3ac8eed0"]]);const G=v=>(z("data-v-11255ba2"),v=v(),W(),v),we={class:"flex justify-between p-2 bg-white"},Ce={class:"flex items-center"},Ee=G(()=>t("p",{class:"relative left-2 font-['poppins']"},"Download",-1)),Le=G(()=>t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),Se={class:"!h-[400px]"},ke={__name:"Employee_Master",setup(v){p(1);const e=B();P(()=>{});const i=p({global:{value:null,matchMode:H.CONTAINS}}),h=p("downloaded");return(T,l)=>{const C=k("InputText"),m=k("Column"),d=k("DataTable");return g(),f("div",null,[t("div",null,[t("div",we,[t("div",null,[w(C,{placeholder:"Search",modelValue:i.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=s=>i.value.global.value=s),class:"border-color !h-10 my-2",style:{height:"3em"}},null,8,["modelValue"])]),t("div",Ce,[t("button",{class:S(["p-2 mx-2 rounded-md w-[120px]",[!o(e).employeeMaterReportSource.length==0?"bg-[#000] text-white":" !text-[#000] !bg-[#E6E6E6] "]]),onClick:l[1]||(l[1]=s=>(o(e).btn_download=!o(e).btn_download,o(e).downloadEmployeeMaster()))},[Ee,t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:S([o(e).btn_download==!0?h.value:""])},[(g(),f("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:S([!o(e).employeeMaterReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},[t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check",style:U([!o(e).employeeMaterReportSource.length===0?"stroke=blue":"!bg-[#E6E6E6] !text-[#000] "])},null,4),Le,t("path",{d:"M8,1 L8,11",class:"svg-out",stroke:"",style:U([o(e).employeeMaterReportSource.length===0?"red":"fill: red"])},null,4)],2))],2)],2)])]),t("div",Se,[w(d,{value:o(e).employeeMaterReportSource,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{default:A(()=>[(g(!0),f(O,null,j(o(e).Employee_MaterReportDynamicHeaders,s=>(g(),Y(m,{class:"",key:s.title,field:s.title,header:s.title,style:{"white-space":"nowrap","text-align":"left !important"}},null,8,["field","header"]))),128))]),_:1},8,["value"])])])])}}},Me=q(ke,[["__scopeId","data-v-11255ba2"]]);const Te={class:"px-2"},De={class:"flex justify-between mb-[10px]"},Re=t("h1",{class:"text-black text-[24px] font-semibold"},"Employee Master Report",-1),$e=t("i",{class:"mr-2 pi pi-times"},null,-1),Pe={style:{position:"relative"}},Be={class:"grid grid-cols-12 w-[100%]"},Ve={class:"grid items-center grid-cols-2 col-span-3 whitespace-nowrap",id:"pills-tab",role:"tablist"},Ie={class:"nav-item text-center font-['poppins'] text-[14px] text-[#001820]",role:"presentation"},Ne={class:"flex items-center nav-item",role:"presentation"},Fe={class:"grid grid-cols-4 col-span-9 gap-4"},Ue={class:"flex items-center"},Ae=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"},"Period : ",-1),He={class:"flex items-center"},Oe=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"}," Department : ",-1),je={class:"flex items-center"},ze=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"},"Legal Entity : ",-1),We={class:"flex items-center my-1"},Ye=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"},"Status : ",-1),qe={class:"tab-content",id:""},Ge={class:"card-body"},Je={key:0},Ke={key:1},Qe={key:2},st={__name:"employee_master_report",setup(v){const e=B();P(()=>{}),p("border-[1px] border-[#F9BE00]"),p("border-[1px] border-[#DCDCDC]");const i=p(1),h=p([{name:"Active",id:1},{name:"Yet To Active",id:0},{name:"Exit",id:-1}]);return(T,l)=>{const C=k("Dropdown"),m=k("MultiSelect");return g(),f("div",Te,[t("div",De,[Re,t("div",null,[t("button",{onClick:l[0]||(l[0]=d=>o(e).clearfilterBtn(i.value)),class:"flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[$e,ie(" Clear Filter")])])]),t("div",Pe,[t("div",Be,[t("ul",Ve,[t("li",Ie,[t("a",{class:S(["p-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[i.value===1?" rounded-l-[2px] font-semibold !border-b-[2px] !border-[#F9BE00]":"font-medium !text-[#8B8B8B] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[1]||(l[1]=d=>(i.value=1,o(e).clearfilterBtn(i.value)))}," Employee Master ",2)]),t("li",Ne,[t("a",{class:S(["p-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[i.value===2?"rounded-r-[2px] font-semibold !border-b-[2px] !border-[#F9BE00]":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[2]||(l[2]=d=>(i.value=2,o(e).clearfilterBtn(i.value)))}," Employee CTC ",2)])]),t("ul",Fe,[t("li",Ue,[Ae,w(C,{optionLabel:"month",optionValue:"date",options:o(e).PeriodMonth,modelValue:o(e).period_Date,"onUpdate:modelValue":l[3]||(l[3]=d=>o(e).period_Date=d),onChange:l[4]||(l[4]=d=>o(e).getSelectoption("date",o(e).period_Date,i.value)),placeholder:"Select period",class:"w-[150px] mx-2 !h-10 !font-semibold !font-['poppins'] !text-[#000] !bg-[#E6E6E6]"},null,8,["options","modelValue"])]),t("li",He,[Oe,w(m,{modelValue:o(e).Department,"onUpdate:modelValue":l[5]||(l[5]=d=>o(e).Department=d),options:o(e).department,optionLabel:"name",placeholder:"Department",onChange:l[6]||(l[6]=d=>o(e).getSelectoption("department",o(e).Department,i.value)),optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",je,[ze,w(m,{onChange:l[7]||(l[7]=d=>o(e).getSelectoption("legal_entity",o(e).legal_Entity,i.value)),modelValue:o(e).legal_Entity,"onUpdate:modelValue":l[8]||(l[8]=d=>o(e).legal_Entity=d),options:o(e).client_ids,optionLabel:"client_fullname",placeholder:"Legal Entity",optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",We,[Ye,w(m,{onChange:l[9]||(l[9]=d=>o(e).getSelectoption("Category",o(e).select_Category,i.value)),modelValue:o(e).select_Category,"onUpdate:modelValue":l[10]||(l[10]=d=>o(e).select_Category=d),optionValue:"id",options:h.value,optionLabel:"name",placeholder:"Select Category",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6] mx-2"},null,8,["modelValue","options"])])])]),t("div",qe,[t("div",null,[t("div",Ge,[i.value===1?(g(),f("div",Je,[w(Me)])):R("",!0),i.value===2?(g(),f("div",Ke,[w(be)])):R("",!0),i.value===3?(g(),f("div",Qe)):R("",!0)])])])])])}}};export{B as E,st as _,Me as a,be as e};
