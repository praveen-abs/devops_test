/* empty css              *//* empty css                     *//* empty css                   *//* empty css                 */import{Y as $,V as i,ad as S,o as r,c as u,b as x,a as B,d as e,h as d,w as b,F as D,f as T,g as p,J as Y,P as A,R as M,u as U,x as j,K as E,M as F,Q as I,L as N}from"./inputnumber.esm-73df9aee.js";import{a as O,T as G,B as H,S as z,b as J,s as K}from"./toastservice.esm-e531ed3d.js";import"./blockui.esm-10f5dbc9.js";import{a as Q}from"./datatable.esm-0b74867b.js";import{D as q,s as W}from"./dialogservice.esm-52bcb6fc.js";import{C as X}from"./confirmationservice.esm-2dc1d679.js";import{s as Z}from"./progressspinner.esm-66af5c33.js";import{s as ee}from"./row.esm-6ebc942e.js";import{s as te}from"./calendar.esm-736cfc55.js";import{_ as oe}from"./printer-e0530634.js";import{_ as se}from"./download-5ba6c221.js";import{_ as ae}from"./no-data-d6f55554.js";import{a as C}from"./index-362795f3.js";import{d as R}from"./dayjs.min-2f06af28.js";import{S as le}from"./Service-80d25ec3.js";import{L as ne}from"./LoadingSpinner-badf5592.js";import"./pinia-86197d42.js";/* empty css                                                                       */import"./_plugin-vue_export-helper-c27b6911.js";const ie={class:"w-full"},re=e("div",null,[e("p",{class:"font-semibold text-lg"},"Attendance Basic Reports")],-1),de={class:"grid grid-cols-12"},ce=e("div",{class:"col-span-6"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"mx-2 nav-item ember-view",role:"presentation"},[e("a",{class:"nav-link active ember-view",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#investment_dec",role:"tab","aria-controls":"pills-home","aria-selected":"true"},[e("p",{class:"text-sm font-semibold"},"Detailed Report")])]),e("li",{class:"nav-item ember-view",role:"presentation"},[e("a",{class:"mx-2 nav-link ember-view",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#exemptions",role:"tab","aria-controls":"pills-home","aria-selected":"true"},[e("p",{class:"text-sm font-semibold"},"Muster Roll")])]),e("li",{class:"nav-item ember-view",role:"presentation"},[e("a",{class:"mx-2 nav-link ember-view",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#investmentComputation",role:"tab","aria-controls":"pills-home","aria-selected":"true"},[e("p",{class:"text-sm font-semibold"}," Consolidate")])])])],-1),pe={class:"col-span-6 grid grid-cols-12 place-content-end"},me={class:"flex gap-3 col-span-2 justify-end items-center"},ue=e("div",null,[e("p",{class:"text-sm font-semibold"},"Period:")],-1),ve={class:"flex gap-3 col-span-5 justify-end items-center"},_e=e("div",null,[e("p",{class:"text-sm font-semibold"},"Legal Entity : ")],-1),ge={class:"flex gap-3 col-span-5 justify-end items-center"},fe=e("div",null,[e("p",{class:"text-sm font-semibold"},"Department:")],-1),be=e("div",{class:"grid grid-cols-12 gap-6 col-span-6"},null,-1),he=e("button",null,[e("img",{src:oe,alt:"",srcset:"",class:"w-9 h-9 p-2 bg-gray-50 rounded-lg"})],-1),we={key:0,class:"my-4 w-full overflow-hidden"},ye={key:1,class:"w-2/5 h-1/4 mx-auto"},xe=e("img",{src:ae,alt:"",class:"h-full w-full"},null,-1),De=[xe],Ce=e("p",{class:"font-semibold text-lg"},"Select period",-1),Re={class:"w-full"},ke={class:"grid grid-cols-12 gap-6 col-span-6 place-items-center"},Ve={class:"col-span-4"},Le=e("p",{class:"font-semibold text-sm my-1"},"Start date",-1),Pe={class:"col-span-4"},$e=e("p",{class:"font-semibold text-sm my-1"},"End date",-1),Se={class:"col-span-4 mt-4"},Be={__name:"attendanceBasicReports",setup(Te){const a=$({start_date:"",end_date:"",department:""}),k=le(),m=i(!1),v=i([]),_=i([]),c=i(!1),h=async()=>{let l="/fetch-attendance-data";c.value=!0,await C.post(l,{start_date:a.start_date,end_date:a.end_date,department:g.value}).then(o=>{console.log(o.data.rows),_.value=o.data.rows,o.data.headers.forEach(n=>{let f={title:n};v.value.push(f),console.log(n)}),console.log(v.value)}).finally(()=>{c.value=!1})},V=()=>{let l="/reports/generate-basic-attendance";c.value=!0,C.post(l,{start_date:a.start_date,end_date:a.end_date,department:a.department},{responseType:"blob"}).then(o=>{console.log(o.data);var n=document.createElement("a");n.href=window.URL.createObjectURL(o.data),n.download=`Attendance Basic Report_${R(a.start_date).format("DD-MM-YYYY")}_${R(a.end_date).format("DD-MM-YYYY")}.xlsx`,n.click()}).finally(()=>{c.value=!1})},g=i(),w=i();return S(()=>{k.DepartmentDetails().then(l=>{w.value=l.data})}),(l,o)=>{const n=p("Dropdown"),f=p("Column"),L=p("DataTable"),y=p("Calendar"),P=p("Dialog");return r(),u(D,null,[c.value?(r(),x(ne,{key:0,class:"absolute z-50 bg-white"})):B("",!0),e("div",ie,[re,e("div",de,[ce,e("div",pe,[e("div",me,[ue,e("div",null,[e("button",{onClick:o[0]||(o[0]=s=>m.value=!0),class:"bg-white hover:bg-gray-100 text-gray-800 font-semibold fs-6 px-2 border border-gray-400 rounded shadow"}," select ")])]),e("div",ve,[_e,e("div",null,[d(n,{modelValue:l.selectedCity,"onUpdate:modelValue":o[1]||(o[1]=s=>l.selectedCity=s),options:l.cities,optionLabel:"name"},null,8,["modelValue","options"])])]),e("div",ge,[fe,e("div",null,[d(n,{modelValue:g.value,"onUpdate:modelValue":o[2]||(o[2]=s=>g.value=s),onChange:h,options:w.value,optionLabel:"name",optionValue:"id"},null,8,["modelValue","options"])])])])]),e("div",{class:"bg-white p-2 my-2 rounded-lg grid grid-cols-12"},[be,e("div",{class:"col-span-6 flex justify-end gap-4"},[he,e("button",null,[e("img",{src:se,alt:"",srcset:"",onClick:V,class:"w-9 h-9 p-2 bg-gray-50 rounded-lg"})])])]),_.value.length>0?(r(),u("div",we,[d(L,{value:_.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:b(()=>[(r(!0),u(D,null,T(v.value,s=>(r(),x(f,{key:s.title,field:s.title,header:s.title,style:{"white-space":"nowrap","text-align":"left"}},null,8,["field","header"]))),128))]),_:1},8,["value"])])):(r(),u("div",ye,De)),d(P,{visible:m.value,"onUpdate:visible":o[6]||(o[6]=s=>m.value=s),modal:"",header:"Header",style:{width:"40vw"}},{header:b(()=>[Ce]),default:b(()=>[e("div",Re,[e("div",ke,[e("div",Ve,[Le,d(y,{inputId:"icon",dateFormat:"dd-mm-yy",showIcon:!0,class:"h-8",modelValue:a.start_date,"onUpdate:modelValue":o[3]||(o[3]=s=>a.start_date=s)},null,8,["modelValue"])]),e("div",Pe,[$e,d(y,{inputId:"icon",dateFormat:"dd-mm-yy",showIcon:!0,class:"h-8",modelValue:a.end_date,"onUpdate:modelValue":o[4]||(o[4]=s=>a.end_date=s)},null,8,["modelValue"])]),e("div",Se,[e("button",{onClick:o[5]||(o[5]=s=>(m.value=!1,h())),class:"bg-yellow-500 hover:bg-yellow-700 text-white font-semibold fs-6 px-2 py-1.5 border border-gray-400 rounded shadow"}," Generate ")])])])]),_:1},8,["visible"])])],64)}}},t=Y(Be);t.use(A,{ripple:!0});t.use(X);t.use(O);t.use(q);t.directive("tooltip",G);t.directive("badge",H);t.directive("ripple",M);t.directive("styleclass",z);t.directive("focustrap",U);t.component("Button",j);t.component("DataTable",Q);t.component("Column",E);t.component("ColumnGroup",W);t.component("Row",ee);t.component("Toast",J);t.component("ConfirmDialog",K);t.component("Dropdown",F);t.component("InputText",I);t.component("Dialog",N);t.component("ProgressSpinner",Z);t.component("Calendar",te);t.mount("#AttendanceBasicReports");
