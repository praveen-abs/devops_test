/* empty css              *//* empty css                     *//* empty css                   *//* empty css                 */import{Q as h,W as X,ab as de,a5 as se,g as S,o as g,c as v,h as l,aa as t,d as e,n as Z,t as f,b as me,a as B,w as D,p as ee,F as _e,l as k,k as Q,B as oe,al as be,f as $e,H as De,P as we,R as ke,u as Ve,x as Ce,I as Pe,K as Se,M as Me,J as Ue,L as Ee}from"./inputnumber.esm-e362c3ab.js";import{c as Ye}from"./pinia-641035e3.js";import{u as ie,a as Ie,T as je,B as Le,S as Ae,b as Be,s as Fe}from"./toastservice.esm-8d63d505.js";import"./blockui.esm-da95937b.js";import{a as Ne}from"./datatable.esm-5f85e77a.js";import{D as Te,s as Re}from"./dialogservice.esm-acafdb8a.js";import{u as Oe,C as Ge}from"./confirmationservice.esm-62abe3ae.js";import{s as qe}from"./progressspinner.esm-dd1a9f95.js";import{s as He}from"./row.esm-6ebc942e.js";import{s as ze}from"./calendar.esm-871de032.js";import{s as Ke}from"./textarea.esm-36dc9b1f.js";import{s as Je}from"./chips.esm-94e18b40.js";import{s as We}from"./multiselect.esm-774f4ea4.js";import{s as Ze}from"./inputmask.esm-1fbc333c.js";import{s as Xe}from"./progressbar.esm-681333bb.js";import{s as Qe}from"./sidebar.esm-24c26f31.js";import{s as et}from"./overlaypanel.esm-e07df2f8.js";import{l as ge}from"./lodash-facb8280.js";import{a as z}from"./index-362795f3.js";import{S as ne}from"./Service-4ef425c0.js";import{p as ae}from"./ProfilePagesStore-775c8cd8.js";import{r as ce,u as fe}from"./index.esm-016f75ea.js";import{d as J}from"./dayjs.min-2f06af28.js";import"./moment-fbc5633a.js";import{_ as tt}from"./EmployeePayslips-e2e7ffdc.js";import{U as st}from"./EmployeeDocumentsManagerService-bcb31e26.js";import{L as ot}from"./LoadingSpinner-235e9bb4.js";/* empty css                                                                       */import"./_plugin-vue_export-helper-c27b6911.js";const le="/build/assets/edit-fdffc648.svg";const lt={key:0,class:"bg-white border rounded-lg grid grid-cols-12 p-3 content-center"},at={class:"col-span-4 h-full grid grid-cols-12 gap-6"},it={class:"col-span-4"},nt={class:"profile-pic"},dt=["src"],rt=e("label",{class:"-label",for:"file"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})])],-1),ct={class:"col-span-8"},_t={class:"flex justify-between pr-4"},mt={class:"font-semibold text-md"},pt={class:"font-semibold text-xs text-gray-500"},ut={class:"py-2"},ft=e("p",{class:"font-semibold text-xs"},"Profile completeness",-1),bt={class:"w-11/12 my-1"},gt=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),yt={class:"col-span-5 grid grid-cols-3 gap-4 h-full"},ht={class:""},vt=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Status",-1),xt={key:0,class:"font-semibold text-sm"},$t={key:1,class:"font-semibold text-sm"},Dt={class:""},wt=e("p",{class:"font-semibold text-xs text-gray-500"},"Designation",-1),kt={class:"font-semibold text-sm"},Vt={class:"flex justify-between items-center"},Ct=e("p",{class:"font-semibold text-xs text-gray-500"},"Department",-1),Pt={class:"font-semibold text-sm"},St={class:""},Mt=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Code",-1),Ut={class:"font-semibold text-sm"},Et={class:""},Yt=e("p",{class:"font-semibold text-xs text-gray-500"},"Location",-1),It={class:"font-semibold text-sm"},jt={class:"flex justify-between items-center"},Lt={class:""},At=e("p",{class:"font-semibold text-xs text-gray-500"},"Reporting to",-1),Bt={key:0,class:"font-semibold text-sm whitespace-nowrap"},Ft={class:"col-span-3 h-full"},Nt={class:"flex justify-end"},Tt=e("div",null,null,-1),Rt={class:"mx-2"},Ot={class:"p-0 m-0 bg-transparent border-0 outline-none btn"},Gt={class:"confirmation-content"},qt=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),Ht={class:"bg-blue-900 w-100 py-4 px-2 rounded-lg d-flex justify-content-around overflow-x-scroll ... lg:w-100"},zt={class:"card p-3 d-flex justify-items-center align-items-center mr-2 :lg:mx-0 Digital_Id_Card_",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},Kt={style:{height:"45px",width:"140px"},class:"mt-2"},Jt=["src"],Wt={class:"card-body d-flex justify-items-center align-items-center mt-6",style:{"flex-direction":"column"}},Zt=["src"],Xt={key:1,class:"text-white fs-4"},Qt={class:"card-title mt-12 mb-3 f-12 text-blue-900 subpixel-antialiased font-semibold",style:{"text-align":"center"}},es={key:0,class:"f-12 card-text mb-3 text-gray-600 subpixel-antialiased font-semibold"},ts={key:1,class:"f-12 card-text"},ss={key:2,class:"f-16 mb-2 text-gray-700 subpixel-antialiased font-semibold"},os={key:3,class:"f-12 mb-2 text-secondary-emphasis"},ls={class:"card p-2 d-flex justify-items-center align-items-center ml-2 Digital_Id_Card_ :lg:p-2",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},as={class:"w-100 d-flex justify-content-center align-items-center flex-column"},is=e("h1",{class:"text-orange-500 fs-14 subpixel-antialiased font-semibold fw-600"},"EMPLOYEE DETAILS",-1),ns={class:"row w-100 mt-3"},ds=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[k(" Blood Group "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),rs={class:"col-6 fs-6 text-blue-900"},cs={class:"text-left pt-1"},_s={class:"row w-100 mt-3"},ms=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[k(" Phone "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),ps={class:"col-6 fs-6 text-blue-900"},us={class:"text-left pt-1"},fs={class:"row w-100 mt-3"},bs=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900 position-relative"},[k(" Email Id "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),gs={class:"col-6 subpixel-antialiased fs-12"},ys={class:"text-left"},hs={class:"row w-100 mt-3"},vs={class:"col fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},xs=e("h1",{class:"text-orange-500 fs-12"},"Residential Address :",-1),$s={class:"ml-2"},Ds={class:"text-blue-900 mt-2 subpixel-antialiased font-semibold fs-11 text-center"},ws=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-1 w-100 mt-2 :lg:mt-2"},null,-1),ks=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-3 w-100 mt-1"},null,-1),Vs={class:"row"},Cs={class:"col-12"},Ps={key:0,class:"text-center font-semibold text-orange-500 fs-14 subpixel-antialiased mt-2 :lg:mt-2"},Ss={class:"col-12"},Ms={class:"fs-11 text-center font-semibold text-blue-900 mt-2"},Us={class:"col-12"},Es={class:"fs-12 text-center font-semibold text-blue-900 mt-2"},Ys={class:"col-12"},Is={class:"fs-11 text-center font-semibold lining-nums ... text-blue-900 mt-2"},js=e("div",{class:"col-12"},null,-1),Ls=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),As={class:"modal-body"},Bs={class:"row"},Fs={class:"col-md-6"},Ns={class:"mb-3 form-group"},Ts=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),Rs={key:0,class:"text-red-400 fs-6 font-semibold"},Os={class:"col-md-6"},Gs={class:"form-group"},qs=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),Hs={key:0,class:"text-red-400 fs-6 font-semibold"},zs={class:"col-md-6 d-flex flex-column"},Ks={class:"d-flex justify-items-center flex-column"},Js=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),Ws={class:"d-flex justify-items-center align-items-center"},Zs=e("label",{class:"cursor-pointer text-primary bg-[black] px-2 py-2 rounded-md d-flex align-items-center fs-5",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up text-[white] mr-2 text-[18px]"}),e("h1",{class:"text-light"},"Upload")],-1),Xs={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},Qs={key:0,class:"text-red-400 fs-6 font-semibold"},eo={__name:"EmployeeCard",setup(C){const a=ne(),s=h(!1),V=h(!1),x=X({department:"",reporting_manager:""}),j=X({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),O=h([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),U=h(!1);let o=ae();const r=L=>{L.target.files&&L.target.files[0]&&(o.profile=L.target.files[0]);let i=new FormData;i.append("user_code",o.user_code),i.append("file_object",o.profile);let G="/profile-pages/updateProfilePicture";z.post(G,i).then(K=>{}).finally(()=>{console.log("Photo Sent"),o.getProfilePhoto()})},F=h(),q=h(),u=h(!1),w=h(!1),T=h(!1),c=h("None"),b=L=>{console.log(L),z.post("/profile-pages/updateDepartment",{user_code:o.employeeDetails.user_code,department_id:x.department}).then(i=>{let G=ge._.find(F.value,["id",x.department]).name;console.log("Lodash [Selected Dept]: "+G),o.employeeDetails.get_employee_office_details.department_name=G,c.value="Department updated successfully !",console.log(i.data)}).catch(i=>{c.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+i)}).finally(()=>{T.value=!0,u.value=!1})},m=L=>{console.log("editReportingManager : "+L),z.post("/profile-pages/updateReportingManager",{user_code:o.employeeDetails.user_code,manager_user_code:x.reporting_manager}).then(i=>{let G=ge._.find(q.value,["user_code",x.reporting_manager]);o.employeeDetails.get_employee_office_details.l1_manager_name=G.name,o.employeeDetails.get_employee_office_details.l1_manager_code=G.user_code,c.value="Reporting Manager updated successfully !",console.log(i.data)}).catch(i=>{c.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+i)}).finally(()=>{T.value=!0,w.value=!1})},_=()=>{x.department=o.employeeDetails.get_employee_office_details.department_name,x.reporting_manager=o.employeeDetails.get_employee_office_details.l1_manager_name,console.log(x.department)};de(()=>{a.DepartmentDetails().then(L=>{F.value=L.data,console.log("testing"+o.employeeDetails.get_employee_office_details.l1_manager_name)}),a.ManagerDetails().then(L=>{q.value=L.data}),_(),console.log()});const Y=L=>{L.target.files&&L.target.files[0]&&(j.emp_upload_doc=L.target.files[0],console.log(j.emp_upload_doc))},$=se(()=>({emp_name:{required:ce},emp_doc_name:{required:ce},emp_upload_doc:{required:ce}})),M=fe($,j),R=()=>{M.value.$validate(),M.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),y())},y=()=>{s.value=!0,U.value=!1;const i=`/update-EmplpoyeeName-info/${a.current_user_id}`,G=new FormData;G.append("user_code",o.employeeDetails.user_code),G.append("name",j.emp_name),G.append("onboard_document_type",j.emp_doc_name.name),G.append("emp_doc",j.emp_upload_doc),z.post(i,G).finally(()=>{s.value=!1})},W=se(()=>{if(o.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(o.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(o.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(o.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(o.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(o.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(o.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(o.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"});return(L,i)=>{const G=S("Toast"),K=S("ProgressBar"),H=S("Dialog"),n=S("Dropdown"),N=S("ProgressSpinner"),E=S("InputText");return g(),v(_e,null,[l(G),t(o).employeeDetails.get_employee_office_details?(g(),v("div",lt,[e("div",at,[e("div",it,[e("div",nt,[t(o).profile?(g(),v("img",{key:0,class:"forRounded",src:`data:image/png;base64,${t(o).profile}`,srcset:"",alt:"",id:"output",width:"200"},null,8,dt)):(g(),v("p",{key:1,class:Z(["font-semibold text-5xl text-center flex items-center justify-center text-white forRounded",[t(o).employeeDetails.short_name_Color?t(o).employeeDetails.short_name_Color:"",t(o).employeeDetails.short_name_Color]])},f(t(o).employeeDetails.user_short_name),3)),rt,e("input",{id:"file",type:"file",onChange:i[0]||(i[0]=d=>r(d))},null,32)])]),e("div",ct,[e("div",_t,[e("div",null,[e("p",mt,f(t(o).employeeDetails?t(o).employeeDetails.name:"-"),1),e("p",pt,f(t(o).employeeDetails?t(o).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("img",{src:le,class:"h-4 w-4 cursor-pointer my-auto",alt:"",onClick:i[1]||(i[1]=d=>U.value=!0)})]),e("div",ut,[ft,e("div",bt,[t(o).employeeDetails.profile_completeness<=39?(g(),me(K,{key:0,value:t(o).employeeDetails.profile_completeness,class:Z([t(o).employeeDetails.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):B("",!0),t(o).employeeDetails.profile_completeness>=40&&t(o).employeeDetails.profile_completeness<=59?(g(),me(K,{key:1,class:Z(["progressbar_val2",[t(o).employeeDetails.profile_completeness>=40&&t(o).employeeDetails.profile_completeness<=59]]),value:t(o).employeeDetails.profile_completeness},null,8,["class","value"])):B("",!0),t(o).employeeDetails.profile_completeness>=60?(g(),me(K,{key:2,class:Z(["progressbar_val3",[t(o).employeeDetails.profile_completeness>=60]]),value:t(o).employeeDetails.profile_completeness},null,8,["class","value"])):B("",!0)]),gt])])]),e("div",yt,[e("div",ht,[vt,t(o).employeeDetails.active==1?(g(),v("p",xt,"Active ")):(g(),v("p",$t,"Not active"))]),e("div",Dt,[wt,e("p",kt,f(t(o).employeeDetails.get_employee_office_details.designation?t(o).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("div",Vt,[e("div",null,[Ct,e("p",Pt,f(t(o).employeeDetails.get_employee_office_details.department_name?t(o).employeeDetails.get_employee_office_details.department_name:"-"),1)]),t(o).employeeDetails.Current_login_user.org_role==1||t(o).employeeDetails.Current_login_user.org_role==2||t(o).employeeDetails.Current_login_user.org_role==3?(g(),v("img",{key:0,src:le,class:"h-4 w-4 cursor-pointer my-auto",onClick:i[2]||(i[2]=d=>u.value=!0),alt:""})):B("",!0)]),e("div",St,[Mt,e("p",Ut,f(t(o).employeeDetails?t(o).employeeDetails.user_code:"-"),1)]),e("div",Et,[Yt,e("p",It,f(t(o).employeeDetails.get_employee_office_details.work_location?t(o).employeeDetails.get_employee_office_details.work_location:"-"),1)]),e("div",jt,[e("div",Lt,[At,t(o).employeeDetails?(g(),v("p",Bt,f(`${t(o).employeeDetails.get_employee_office_details.l1_manager_name}(${t(o).employeeDetails.get_employee_office_details.l1_manager_code})`),1)):B("",!0)]),t(o).employeeDetails.Current_login_user.org_role==1||t(o).employeeDetails.Current_login_user.org_role==2||t(o).employeeDetails.Current_login_user.org_role==3?(g(),v("img",{key:0,src:le,onClick:i[3]||(i[3]=d=>w.value=!0),class:"h-4 w-4 cursor-pointer my-auto",alt:""})):B("",!0)])]),e("div",Ft,[e("div",Nt,[Tt,e("div",Rt,[e("button",Ot,[e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true",onClick:i[4]||(i[4]=d=>V.value=!0)})])])])])])):B("",!0),l(H,{header:"Status",visible:T.value,"onUpdate:visible":i[5]||(i[5]=d=>T.value=d),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:D(()=>[e("div",Gt,[qt,e("span",null,f(c.value),1)])]),_:1},8,["visible"]),l(H,{visible:u.value,"onUpdate:visible":i[7]||(i[7]=d=>u.value=d),modal:"",header:"Edit Department",style:{width:"30vw"}},{footer:D(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:b}," Save ")])]),default:D(()=>[l(n,{options:F.value,optionLabel:"name",modelValue:x.department,"onUpdate:modelValue":i[6]||(i[6]=d=>x.department=d),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),l(H,{visible:w.value,"onUpdate:visible":i[9]||(i[9]=d=>w.value=d),modal:"",header:"Edit Reporting Manager",style:{width:"30vw"}},{footer:D(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:m}," Save ")])]),default:D(()=>[l(n,{optionLabel:"name",options:q.value,modelValue:x.reporting_manager,"onUpdate:modelValue":i[8]||(i[8]=d=>x.reporting_manager=d),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),l(H,{visible:V.value,"onUpdate:visible":i[10]||(i[10]=d=>V.value=d),modal:"",header:"",style:ee([{width:"45vw"},{"@media (min-width":"1024px){background-image:particular_ad_small.png"}])},{header:D(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:D(()=>[e("div",Ht,[e("div",zt,[e("div",Kt,[e("img",{src:`${t(o).employeeDetails.client_logo}`,alt:"",style:{"object-fit":"cover"}},null,8,Jt)]),e("div",Wt,[e("div",{class:Z(["mx-auto rounded-circle img-xl userActive-status profile-img d-flex justify-content-center align-items-center",[t(o).profile?"":t(o).employeeDetails.short_name_Color,t(o).employeeDetails.short_name_Color]])},[t(o).profile?(g(),v("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border object-cover",src:`data:image/png;base64,${t(o).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"80px",height:"80px"}},null,8,Zt)):B("",!0),t(o).profile?B("",!0):(g(),v("h1",Xt,f(t(o).employeeDetails.user_short_name),1))],2),e("h1",Qt,f(t(o).employeeDetails.name),1),t(o).employeeDetails.get_employee_office_details.department_id?(g(),v("h5",es,f(t(o).employeeDetails.get_employee_office_details.department_name),1)):(g(),v("h1",ts,"-")),t(o).employeeDetails.user_code?(g(),v("h5",ss,f(t(o).employeeDetails.user_code),1)):(g(),v("p",os,"-"))])]),e("div",ls,[e("div",as,[is,e("div",ns,[ds,e("div",rs,[e("h1",cs,f(t(W)),1)])]),e("div",_s,[ms,e("div",ps,[e("h1",us,f(t(o).employeeDetails.get_employee_details.mobile_number),1)])]),e("div",fs,[bs,e("div",gs,[e("h1",ys,f(t(o).employeeDetails.get_employee_office_details.officical_mail),1)])]),e("div",hs,[e("div",vs,[xs,e("div",$s,[e("p",Ds,f(t(o).employeeDetails.get_employee_details.current_address_line_1),1)])])]),ws,ks,e("div",Vs,[e("div",Cs,[t(o).employeeDetails.client_details.client_name?(g(),v("h1",Ps,f(t(o).employeeDetails.client_details.client_name),1)):B("",!0)]),e("div",Ss,[e("h1",Ms,f(t(o).employeeDetails.client_details.address),1)]),e("div",Us,[e("h1",Es,f(t(o).employeeDetails.client_details.authorised_person_contact_email),1)]),e("div",Ys,[e("h1",Is,f(t(o).employeeDetails.client_details.authorised_person_contact_number),1)]),js])])])])]),_:1},8,["visible"]),l(H,{header:"Header",visible:s.value,"onUpdate:visible":i[11]||(i[11]=d=>s.value=d),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:D(()=>[l(N,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:D(()=>[Ls]),_:1},8,["visible"]),l(H,{visible:U.value,"onUpdate:visible":i[15]||(i[15]=d=>U.value=d),modal:"",header:" ",style:{width:"50vw"}},{header:D(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:D(()=>[e("div",null,[e("div",As,[e("div",Bs,[e("div",Fs,[e("div",Ns,[Ts,l(E,{type:"text",modelValue:j.emp_name,"onUpdate:modelValue":i[12]||(i[12]=d=>j.emp_name=d),style:{"text-transform":"uppercase"},class:Z(["form-controls pl-2",[t(M).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),t(M).emp_name.$error?(g(),v("span",Rs,f(t(M).emp_name.required.$message.replace("Value","Employee Name")),1)):B("",!0)])]),e("div",Os,[e("div",Gs,[qs,l(n,{modelValue:j.emp_doc_name,"onUpdate:modelValue":i[13]||(i[13]=d=>j.emp_doc_name=d),options:O.value,optionLabel:"name",placeholder:"Select a document ",class:Z(["form-controls pl-2 w-full h-12",[t(M).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),t(M).emp_doc_name.$error?(g(),v("span",Hs,f(t(M).emp_doc_name.required.$message.replace("Value","Documents")),1)):B("",!0)])]),e("div",zs,[e("div",Ks,[Js,e("div",Ws,[l(G),Zs,j.emp_upload_doc?(g(),v("div",Xs,f(j.emp_upload_doc.name),1)):B("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:i[14]||(i[14]=d=>Y(d)),class:Z([t(M).emp_upload_doc.$error?"p-invalid":""])},null,34)]),t(M).emp_upload_doc.$error?(g(),v("span",Qs,f(t(M).emp_upload_doc.required.$message.replace("Value","document")),1)):B("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:R},"Submit")])])])])]),_:1},8,["visible"])],64)}}};var ye;const to=typeof window<"u";to&&((ye=window==null?void 0:window.navigator)!=null&&ye.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function he(C){return typeof C=="function"?C():t(C)}const so=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,oo=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,lo=(C,a,s,V)=>{let x=C<12?"AM":"PM";return V&&(x=x.split("").reduce((j,O)=>j+=`${O}.`,"")),s?x.toLowerCase():x},ao=(C,a,s={})=>{var V;const x=C.getFullYear(),j=C.getMonth(),O=C.getDate(),U=C.getHours(),o=C.getMinutes(),r=C.getSeconds(),F=C.getMilliseconds(),q=C.getDay(),u=(V=s.customMeridiem)!=null?V:lo,w={YY:()=>String(x).slice(-2),YYYY:()=>x,M:()=>j+1,MM:()=>`${j+1}`.padStart(2,"0"),MMM:()=>C.toLocaleDateString(s.locales,{month:"short"}),MMMM:()=>C.toLocaleDateString(s.locales,{month:"long"}),D:()=>String(O),DD:()=>`${O}`.padStart(2,"0"),H:()=>String(U),HH:()=>`${U}`.padStart(2,"0"),h:()=>`${U%12||12}`.padStart(1,"0"),hh:()=>`${U%12||12}`.padStart(2,"0"),m:()=>String(o),mm:()=>`${o}`.padStart(2,"0"),s:()=>String(r),ss:()=>`${r}`.padStart(2,"0"),SSS:()=>`${F}`.padStart(3,"0"),d:()=>q,dd:()=>C.toLocaleDateString(s.locales,{weekday:"narrow"}),ddd:()=>C.toLocaleDateString(s.locales,{weekday:"short"}),dddd:()=>C.toLocaleDateString(s.locales,{weekday:"long"}),A:()=>u(U,o),AA:()=>u(U,o,!1,!0),a:()=>u(U,o,!0),aa:()=>u(U,o,!0,!0)};return a.replace(oo,(T,c)=>c||w[T]())},io=C=>{if(C===null)return new Date(NaN);if(C===void 0)return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){const a=C.match(so);if(a){const s=a[2]-1||0,V=(a[7]||"0").substring(0,3);return new Date(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,V)}}return new Date(C)};function ue(C,a="HH:mm:ss",s={}){return se(()=>ao(io(he(C)),he(a),s))}const no={key:0,class:"w-full"},ro={class:"w-full bg-white rounded-lg p-2 border"},co={class:"flex justify-around"},_o=e("p",{class:"font-semibold text-sm"},"General Information",-1),mo={class:"flex justify-end"},po={class:"grid grid-cols-12 gap-2 h-full py-2"},uo={class:"col-span-2"},fo=e("p",{class:"font-semibold text-xs text-gray-500"},"Birthday",-1),bo={class:"font-semibold text-sm"},go={class:"col-span-2"},yo=e("p",{class:"font-semibold text-xs text-gray-500"},"Gender",-1),ho={class:"font-semibold text-sm"},vo={class:"col-span-2"},xo=e("p",{class:"font-semibold text-xs text-gray-500"},"Date Of Joining (DOJ)",-1),$o={class:"font-semibold text-sm"},Do={class:"col-span-2"},wo=e("p",{class:"font-semibold text-xs text-gray-500"},"Marital Status",-1),ko={class:"font-semibold text-sm"},Vo={class:"col-span-2"},Co=e("p",{class:"font-semibold text-xs text-gray-500"},"Blood Group",-1),Po={class:"font-semibold text-sm"},So={class:"col-span-2"},Mo=e("p",{class:"font-semibold text-xs text-gray-500"},"Physically Handicapped",-1),Uo={class:"font-semibold text-sm"},Eo={class:"w-full bg-white rounded-lg p-2 border my-3"},Yo={class:"flex justify-around"},Io=e("p",{class:"font-semibold text-sm"},"Contact Information",-1),jo={class:"flex justify-end"},Lo={class:"grid grid-cols-12 gap-4 h-full py-2"},Ao={class:"col-span-3"},Bo=e("p",{class:"font-semibold text-xs text-gray-500"},"Personal Email",-1),Fo={class:"font-semibold text-sm"},No={class:"col-span-3"},To=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Email",-1),Ro={class:"font-semibold text-sm"},Oo={class:"col-span-3"},Go=e("p",{class:"font-semibold text-xs text-gray-500"},"Mobile Number",-1),qo={class:"font-semibold text-sm"},Ho={class:"col-span-3"},zo=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Mobile Number",-1),Ko={class:"font-semibold text-sm"},Jo={class:"w-full bg-white rounded-lg p-2 border"},Wo={class:"flex justify-around"},Zo=e("p",{class:"font-semibold text-sm"},"Address",-1),Xo={class:"flex justify-end"},Qo={class:"grid grid-cols-12 gap-4 h-full py-2"},el={class:"col-span-6"},tl=e("p",{class:"font-semibold text-xs text-gray-500"},"Current Address",-1),sl={class:"font-semibold text-sm"},ol={class:"col-span-6"},ll=e("p",{class:"font-semibold text-xs text-gray-500"},"Permanent Address ",-1),al={class:"font-semibold text-sm"},il={class:"grid grid-cols-2"},nl={class:""},dl={class:"mb-1 form-group"},rl=e("label",{class:"ml-[5px]"},[k("Birth Date"),e("span",{class:"text-danger"},"*")],-1),cl={class:"cal-icon"},_l={class:""},ml={class:"mb-1 form-group"},pl=e("label",null,[k("Gender"),e("span",{class:"text-danger"},"*")],-1),ul={class:""},fl={class:"mb-1 form-group"},bl=e("label",{style:{marginLeft:"10px",marginRight:"10px"}},[k("Marital status "),e("span",{class:"text-danger"},"*")],-1),gl={class:""},yl={class:"mb-2 form-group"},hl=e("label",null,[k("Blood Group"),e("span",{class:"text-danger"},"*")],-1),vl={class:"cal-icon"},xl={class:""},$l={class:"form-group w-full",style:{marginLeft:"10px"}},Dl=e("label",{class:"my-1"},"Physically Handicapped",-1),wl=e("div",{class:""},[e("div",{class:"mb-3 form-group"})],-1),kl={class:"text-right col-12"},Vl={class:"modal-body"},Cl={class:"row"},Pl={class:"col-md-6"},Sl={class:"mb-3 form-group"},Ml=e("label",null,"Personal Email",-1),Ul={class:"col-md-6"},El={class:"mb-3 form-group"},Yl=e("label",null," Office Email",-1),Il={class:"col-md-6"},jl={class:"mb-3 form-group"},Ll=e("label",null,"Mobile Number",-1),Al={class:"col-md-6"},Bl={class:"mb-3 form-group"},Fl=e("label",null,"Official Mobile Number",-1),Nl={key:0,class:""},Tl=e("h1",{class:"font-semibold absolute top-6"},"General Information",-1),Rl={class:"p-2"},Ol={class:"my-2"},Gl=e("label",{class:"mb-1"},[k("Birth Date"),e("span",{class:"text-danger"},"*")],-1),ql={class:"my-2"},Hl=e("label",null,[k("Gender"),e("span",{class:"text-danger"},"*")],-1),zl={class:"my-2"},Kl=e("label",null,[k("Marital status "),e("span",{class:"text-danger"},"*")],-1),Jl={class:"my-2"},Wl=e("label",null,[k("Blood Group"),e("span",{class:"text-danger"},"*")],-1),Zl={class:"my-2"},Xl=e("label",{class:"my-1"},"Physically Handicapped",-1),Ql={class:"flex justify-center"},ea={key:1},ta=e("h1",{class:"font-semibold absolute top-6"},"Contact Information",-1),sa={class:"p-2"},oa={class:"my-2"},la=e("label",{class:"mb-1"},"Personal Email",-1),aa={class:"my-2"},ia=e("label",{class:"mb-1"},"Office Email",-1),na={class:"my-1"},da=e("label",{class:"mb-2"},"Mobile Number",-1),ra={class:"my-2"},ca=e("label",{class:"mb-1"},"Official Mobile Number",-1),_a={key:2,class:""},ma=e("h1",{class:"font-semibold absolute top-6"},"Address",-1),pa={class:"col-md-12"},ua={class:"mb-3 form-group"},fa=e("label",null,"Current Address",-1),ba={class:"mb-3 form-group"},ga=e("label",null,"Permanent Address ",-1),ya={class:"mb-3 form-group"},ha={class:"d-flex justify-content-center align-items-center"},va=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),xa={class:"modal-body"},$a={class:"col-md-12"},Da={class:"mb-3 form-group"},wa=e("label",null,"Current Address",-1),ka={class:"mb-3 form-group"},Va=e("label",null,"Permanent Address ",-1),Ca={class:"col-12"},Pa={class:"d-flex justify-content-between align-items-center"},Sa={class:"d-flex justify-content-center align-items-center"},Ma=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),Ua={class:""},Ea={__name:"EmployeeDetails",setup(C){const a=ne(),s=ae(),V=h(!1),x=ie(),j=ie(),O=h(!1),U=h(!1),o=h(!1),r=h(),F=h(!1);function q(H,n){F.value=H,r.value=n,n=="General Information"?y():n=="Contact Information"?L():n=="Address Information"&&G()}const u=X({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),w=h([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),T=h(),c=X({email:"",official_email:"",mobile_number:"",official_mobile_number:""}),b=h(),m=X({current_address:"",Permanent_Address:""}),_=h(!1);function Y(){_.value==1?m.Permanent_Address=m.current_address:_.value=!1}se(()=>s.employeeDetails.get_employee_details.gender=="male"?"Male":s.employeeDetails.get_employee_details.gender=="female"?"Female":s.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),se(()=>s.employeeDetails.get_employee_details.marital_status),se(()=>{if(s.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(s.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(s.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(s.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(s.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(s.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(s.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(s.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),se(()=>{if(s.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(s.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"});const $=h([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),M=h(),R=h();Oe(),de(()=>{s.fetchEmployeeDetails(),a.getBloodGroups().then(H=>{console.log(H.data),M.value=H.data}),a.getMaritalStatus().then(H=>{console.log(H),R.value=H.data})});function y(){console.log("Opening General Info Dialog"),u.dob=s.employeeDetails.get_employee_details.dob,u.doj=s.employeeDetails.get_employee_details.doj,u.marital_status_id=parseInt(s.employeeDetails.get_employee_details.marital_status_id),u.gender=s.employeeDetails.get_employee_details.gender,u.blood_group_id=parseInt(s.employeeDetails.get_employee_details.blood_group_id),u.physically_challenged=s.employeeDetails.get_employee_details.physically_challenged}function W(){console.log(u.dob),V.value=!0;let n=`/profile-pages-update-generalinfo/${a.current_user_id}`;z.post(n,{user_code:s.employeeDetails.user_code,dob:J(u.dob).format("YYYY-MM-DD"),gender:u.gender,marital_status_id:u.marital_status_id,doj:u.doj,blood_group_id:u.blood_group_id,physically_challenged:u.physically_challenged}).then(N=>{N.data.status=="success"?(s.employeeDetails.get_employee_details.dob=ue(u.dob,"YYYY-MM-DD"),s.employeeDetails.gender=u.gender,s.employeeDetails.marital_status_id=u.marital_status_id,s.employeeDetails.get_employee_details.doj=u.doj,s.employeeDetails.blood_group_id=u.blood_group_id,s.employeeDetails.physically_challenged=u.physically_challenged):N.data.status=="failure"&&(leave_data.leave_request_error_messege=N.data.message)}).catch(N=>{console.log(N)}).finally(()=>{s.fetchEmployeeDetails(),V.value=!1,F.value=!1,x.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})})}function L(){console.log("Opening General Info Dialog : "),c.email=s.employeeDetails.email,c.official_email=s.employeeDetails.get_employee_office_details.officical_mail,c.mobile_number=parseInt(s.employeeDetails.get_employee_details.mobile_number),s.employeeDetails.get_employee_office_details.official_mobile?c.official_mobile_number=parseInt(s.employeeDetails.get_employee_office_details.official_mobile):c.official_mobile_number=0}function i(){let n=`/profile-pages-update-contactinfo/${a.current_user_id}`;V.value=!0,z.post(n,{user_code:s.employeeDetails.user_code,email:c.email,officical_mail:c.official_email,mobile_number:c.mobile_number,official_mobile_number:c.official_mobile_number}).then(N=>{N.data.status=="success"?(x.add({severity:"success",summary:"Updated",detail:"Contact information updated",life:3e3}),s.employeeDetails.email=c.email,s.employeeDetails.get_employee_office_details.officical_mail=c.official_email,s.employeeDetails.get_employee_details.mobile_number=c.mobile_number,s.employeeDetails.get_employee_office_details.official_mobile=c.official_mobile_number):N.data.status=="failure"&&(T.leave_request_error_messege=N.data.message)}).catch(N=>{console.log(N)}).finally(()=>{s.fetchEmployeeDetails(),V.value=!1,F.value=!1})}function G(){console.log("Opening General Info Dialog"),m.current_address=s.employeeDetails.get_employee_details.current_address_line_1,m.Permanent_Address=s.employeeDetails.get_employee_details.permanent_address_line_1}const K=()=>{if(V.value=!0,m.current_address==" "||m.Permanent_Address==" ")j.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3});else{let n=`/profile-pages-update-address_info/${a.current_user_id}`;z.post(n,{user_code:s.employeeDetails.user_code,current_address_line_1:m.current_address,permanent_address_line_1:m.Permanent_Address}).then(N=>{data_checking.value=!1,N.data.status=="success"?(x.add({severity:"success",summary:"Updated",detail:"Address information updated",life:3e3}),s.employeeDetails.current_address_line_1=m.current_address,s.employeeDetails.get_employee_office_details.permanent_address_line_1=m.Permanent_Address):N.data.status=="failure"&&(b.leave_request_error_messege=N.data.message)}).catch(N=>{console.log(N)}).finally(()=>{s.fetchEmployeeDetails(),V.value=!1,F.value=!1})}};return(H,n)=>{const N=S("Calendar"),E=S("Dropdown"),d=S("Dialog"),A=S("InputMask"),te=S("Sidebar"),re=S("Toast");return g(),v(_e,null,[t(s).employeeDetails.get_employee_details?(g(),v("div",no,[e("div",ro,[e("div",co,[_o,e("div",mo,[e("img",{src:le,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:n[0]||(n[0]=p=>q(!0,"General Information"))})])]),e("div",po,[e("div",uo,[fo,e("p",bo,f(t(J)(t(s).employeeDetails.get_employee_details.dob).format("DD-MMM-YYYY")),1)]),e("div",go,[yo,e("p",ho,f(t(a).capitalizeFLetter(t(s).employeeDetails.get_employee_details.gender)),1)]),e("div",vo,[xo,e("p",$o,f(t(J)(t(s).employeeDetails.get_employee_details.doj).format("DD-MMM-YYYY")),1)]),e("div",Do,[wo,e("p",ko,f(t(s).employeeDetails.get_employee_details.marital_status),1)]),e("div",Vo,[Co,e("p",Po,f(t(s).employeeDetails.get_employee_details.blood_group_name),1)]),e("div",So,[Mo,e("p",Uo,f(t(a).capitalizeFLetter(t(s).employeeDetails.get_employee_details.physically_challenged)),1)])])]),e("div",Eo,[e("div",Yo,[Io,e("div",jo,[e("img",{src:le,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:n[1]||(n[1]=p=>q(!0,"Contact Information"))})])]),e("div",Lo,[e("div",Ao,[Bo,e("p",Fo,f(t(s).employeeDetails.email?t(s).employeeDetails.email:"-"),1)]),e("div",No,[To,e("p",Ro,f(t(s).employeeDetails.get_employee_office_details.officical_mail?t(s).employeeDetails.get_employee_office_details.officical_mail:"-"),1)]),e("div",Oo,[Go,e("p",qo,f(t(s).employeeDetails.get_employee_details.mobile_number?t(s).employeeDetails.get_employee_details.mobile_number:"-"),1)]),e("div",Ho,[zo,e("p",Ko,f(t(s).employeeDetails.get_employee_office_details.official_mobile?t(s).employeeDetails.get_employee_office_details.official_mobile:"-"),1)])])]),e("div",Jo,[e("div",Wo,[Zo,e("div",Xo,[e("img",{src:le,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:n[2]||(n[2]=p=>q(!0,"Address Information"))})])]),e("div",Qo,[e("div",el,[tl,e("p",sl,f(t(s).employeeDetails.get_employee_details.current_address_line_1?t(s).employeeDetails.get_employee_details.current_address_line_1:"-"),1)]),e("div",ol,[ll,e("p",al,f(t(s).employeeDetails.get_employee_details.permanent_address_line_1?t(s).employeeDetails.get_employee_details.permanent_address_line_1:"-"),1)])])])])):B("",!0),l(d,{visible:O.value,"onUpdate:visible":n[9]||(n[9]=p=>O.value=p),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:D(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:D(()=>[e("div",il,[e("div",nl,[e("div",dl,[rl,e("div",cl,[l(N,{class:"mb-3 form-selects w-[94%]",modelValue:u.dob,"onUpdate:modelValue":n[3]||(n[3]=p=>u.dob=p),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",_l,[e("div",ml,[pl,l(E,{modelValue:u.gender,"onUpdate:modelValue":n[4]||(n[4]=p=>u.gender=p),options:w.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),e("div",ul,[e("div",fl,[bl,l(E,{modelValue:u.marital_status_id,"onUpdate:modelValue":n[5]||(n[5]=p=>u.marital_status_id=p),options:R.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects w-[94%]",style:{marginLeft:"10px",marginRight:"10px"}},null,8,["modelValue","options"])])]),e("div",gl,[e("div",yl,[hl,e("div",vl,[l(E,{modelValue:u.blood_group_id,"onUpdate:modelValue":n[6]||(n[6]=p=>u.blood_group_id=p),options:M.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])])]),e("div",xl,[e("div",$l,[Dl,l(E,{modelValue:u.physically_challenged,"onUpdate:modelValue":n[7]||(n[7]=p=>u.physically_challenged=p),options:$.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),wl]),e("div",kl,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:n[8]||(n[8]=p=>W())},"Save")])]),_:1},8,["visible"]),l(d,{visible:U.value,"onUpdate:visible":n[14]||(n[14]=p=>U.value=p),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:D(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:D(()=>[e("div",Vl,[e("div",Cl,[e("div",Pl,[e("div",Sl,[Ml,Q(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":n[10]||(n[10]=p=>c.email=p)},null,512),[[oe,c.email]])])]),e("div",Ul,[e("div",El,[Yl,Q(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":n[11]||(n[11]=p=>c.official_email=p)},null,512),[[oe,c.official_email]])])]),e("div",Il,[e("div",jl,[Ll,l(A,{id:"basic",class:"form-control h-10",modelValue:c.mobile_number,"onUpdate:modelValue":n[12]||(n[12]=p=>c.mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",Al,[e("div",Bl,[Fl,l(A,{id:"basic",class:"form-control h-10",modelValue:c.official_mobile_number,"onUpdate:modelValue":n[13]||(n[13]=p=>c.official_mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:i},"Save")])])])])]),_:1},8,["visible"]),l(te,{visible:F.value,"onUpdate:visible":n[28]||(n[28]=p=>F.value=p),position:"right",class:"w-[500px]"},{default:D(()=>[r.value=="General Information"?(g(),v("div",Nl,[Tl,e("div",Rl,[e("div",Ol,[Gl,l(N,{class:"relative right-2 w-[100%] h-10",modelValue:u.dob,"onUpdate:modelValue":n[15]||(n[15]=p=>u.dob=p),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])]),e("div",ql,[Hl,l(E,{modelValue:u.gender,"onUpdate:modelValue":n[16]||(n[16]=p=>u.gender=p),options:w.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",zl,[Kl,l(E,{modelValue:u.marital_status_id,"onUpdate:modelValue":n[17]||(n[17]=p=>u.marital_status_id=p),options:R.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",Jl,[Wl,l(E,{modelValue:u.blood_group_id,"onUpdate:modelValue":n[18]||(n[18]=p=>u.blood_group_id=p),options:M.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",Zl,[Xl,l(E,{modelValue:u.physically_challenged,"onUpdate:modelValue":n[19]||(n[19]=p=>u.physically_challenged=p),options:$.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",Ql,[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:n[20]||(n[20]=p=>W())},"Save")])])])):B("",!0),r.value=="Contact Information"?(g(),v("div",ea,[ta,e("div",sa,[e("div",oa,[la,Q(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":n[21]||(n[21]=p=>c.email=p)},null,512),[[oe,c.email]])]),e("div",aa,[ia,Q(e("input",{type:"email",class:"h-10 form-control",name:"officical_mail","onUpdate:modelValue":n[22]||(n[22]=p=>c.official_email=p)},null,512),[[oe,c.official_email]])]),e("div",na,[da,l(A,{id:"basic",class:"form-control h-10",modelValue:c.mobile_number,"onUpdate:modelValue":n[23]||(n[23]=p=>c.mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",ra,[ca,l(A,{id:"basic",class:"form-control h-10",modelValue:c.official_mobile_number,"onUpdate:modelValue":n[24]||(n[24]=p=>c.official_mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:i},"Save")])])])):B("",!0),r.value=="Address Information"?(g(),v("div",_a,[ma,e("div",pa,[e("div",ua,[fa,Q(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[25]||(n[25]=p=>m.current_address=p)},null,512),[[oe,m.current_address]])]),e("div",ba,[ga,Q(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[26]||(n[26]=p=>m.Permanent_Address=p)},null,512),[[oe,m.Permanent_Address]])]),e("div",ya,[e("div",ha,[Q(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":n[27]||(n[27]=p=>_.value=p),style:{width:"20px",height:"20px"},onChange:Y,value:1},null,544),[[be,_.value]]),va])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:K},"Save")])])])):B("",!0)]),_:1},8,["visible"]),l(d,{visible:o.value,"onUpdate:visible":n[32]||(n[32]=p=>o.value=p),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:D(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:D(()=>[e("div",xa,[e("div",$a,[e("div",Da,[wa,Q(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[29]||(n[29]=p=>m.current_address=p)},null,512),[[oe,m.current_address]])]),e("div",ka,[Va,Q(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":n[30]||(n[30]=p=>m.Permanent_Address=p)},null,512),[[oe,m.Permanent_Address]])])]),e("div",Ca,[e("div",Pa,[e("div",Sa,[Q(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":n[31]||(n[31]=p=>_.value=p),style:{width:"20px",height:"20px"},onChange:Y,value:1},null,544),[[be,_.value]]),Ma]),e("div",Ua,[l(re),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:K,severity:"warn"},"Save")])])])])]),_:1},8,["visible"])],64)}}};const Ya={class:"mb-2 card"},Ia={class:"card-body"},ja={class:"font-semibold text-lg"},La={class:"grid grid-cols-2"},Aa={class:"mr-[10px] ml-[8px]"},Ba=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),Fa={class:""},Na=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ta={class:"grid grid-cols-2"},Ra={class:"mr-2"},Oa=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Ga={class:"ml-1"},qa=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),Ha={class:"my-6 table-responsive"},za={key:0},Ka={key:1},Ja={class:"relative flex justify-center"},Wa=e("i",{class:"pi pi-ellipsis-v"},null,-1),Za=[Wa],Xa={class:"flex flex-col bg-white shadow-2xl w-40 py-1 rounded-lg"},Qa={class:"p-0 m-0 d-flex flex-column"},ei=["onClick"],ti=["onClick"],si=e("h5",{class:"absolute top-6 font-semibold"},"Family Information",-1),oi={class:"p-2"},li={class:"my-2"},ai=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),ii={class:"my-2"},ni=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),di={class:"my-2"},ri=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),ci={class:"my-2"},_i=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),mi={class:"flex justify-center my-4"},pi=e("h5",{class:"absolute top-6 font-semibold"},"Family Information",-1),ui={class:"p-2"},fi={class:"my-2"},bi=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),gi={class:"my-2"},yi=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),hi={class:"my-2"},vi=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),xi={class:"my-2"},$i=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),Di={class:"flex justify-center my-4"},wi={__name:"FamilyDetails",setup(C){const a=ne(),s=ae(),V=ie();h("");const x=h(!1),j=h(),O=c=>{j.value.toggle(c)},U=h(!1),o=X({name:"",relationship:"",dob:"",phone_number:""}),r=X({name:"",relationship:"",dob:"",phone_number:""}),F=h(),q=()=>{s.loading_screen=!0;let b=`/add-family-info/${a.current_user_id}`;z.post(b,{user_code:s.employeeDetails.user_code,name:o.name,relationship:o.relationship,dob:J(o.dob).format("YYYY-MM-DD"),phone_number:o.phone_number}).then(m=>{m.data.status=="success"?(V.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),s.employeeDetails.get_family_details.dob=ue(o.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=o.gender,s.employeeDetails.get_family_details.relationship=o.relationship,s.employeeDetails.get_family_details.phone_number=o.phone_number):m.data.status=="failure"}).catch(m=>{console.log(m)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),x.value=!1},u=c=>{U.value=!0,F.value=c.id,r.name=c.name,r.relationship=c.relationship,r.dob=c.dob,r.phone_number=c.phone_number},w=c=>{s.loading_screen=!0,F.value=c.id;let m=` /delete-family-info/${a.current_user_id}`;z.post(m,{current_table_id:F.value}).then(_=>{_.data.status=="success"?(V.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),s.employeeDetails.get_family_details.dob=ue(o.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=o.gender,s.employeeDetails.get_family_details.relationship=o.relationship,s.employeeDetails.get_family_details.phone_number=o.phone_number):_.data.status=="failure"&&(leave_data.leave_request_error_messege=_.data.message)}).catch(_=>{console.log(_)}).finally(()=>{s.loading_screen=!1,s.fetchEmployeeDetails()})},T=c=>{s.loading_screen=!0;let m=`/update-family-info/${a.current_user_id}`;z.post(m,{user_code:s.employeeDetails.user_code,current_table_id:F.value,name:r.name,relationship:r.relationship,dob:J(r.dob).format("YYYY-MM-DD"),phone_number:r.phone_number}).then(_=>{_.data.status=="success"?(V.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),s.employeeDetails.get_family_details.dob=ue(r.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=r.gender,s.employeeDetails.get_family_details.relationship=o.relationship,s.employeeDetails.get_family_details.phone_number=r.phone_number):_.data.status=="failure"&&(leave_data.leave_request_error_messege=_.data.message)}).catch(_=>{console.log(_)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),U.value=!1};return de(()=>{}),(c,b)=>{const m=S("InputText"),_=S("Calendar"),Y=S("InputMask"),$=S("Toast"),M=S("Dialog"),R=S("Column"),y=S("OverlayPanel"),W=S("DataTable"),L=S("Sidebar");return g(),v(_e,null,[e("div",Ya,[e("div",Ia,[e("h6",ja,[k("Family Information "),e("button",{type:"button",class:"float-right bg-[#000] text-[#fff] px-4 p-2 rounded-md",onClick:b[0]||(b[0]=i=>x.value=!0)}," Add New "),l(M,{modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:D(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:D(()=>[l($),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:q},"submit")])]),default:D(()=>[e("div",La,[e("div",Aa,[Ba,l(m,{type:"text",modelValue:o.name,"onUpdate:modelValue":b[1]||(b[1]=i=>o.name=i),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",Fa,[Na,l(m,{type:"text",modelValue:o.relationship,"onUpdate:modelValue":b[2]||(b[2]=i=>o.relationship=i),class:"w-[90%] h-10"},null,8,["modelValue"])])]),e("div",Ta,[e("div",Ra,[Oa,l(_,{dateFormat:"dd/mm/yy",modelValue:o.dob,"onUpdate:modelValue":b[3]||(b[3]=i=>o.dob=i),class:"h-10 w-[98%]",minDate:c.minDate,maxDate:c.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Ga,[qa,l(Y,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:o.phone_number,"onUpdate:modelValue":b[4]||(b[4]=i=>o.phone_number=i)},null,8,["modelValue"])])])]),_:1})]),e("div",Ha,[l(W,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:t(s).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",class:"z-0"},{default:D(()=>[l(R,{header:"Name",field:"name",style:{"min-width":"8rem"}}),l(R,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),l(R,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:D(i=>[i.data.dob=="Invalid Date"?(g(),v("div",za," - ")):(g(),v("div",Ka,f(t(J)(i.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),l(R,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),l(R,{header:"Action"},{body:D(i=>[e("div",Ja,[e("button",{class:"",type:"button",onClick:O},Za),l(y,{ref_key:"op",ref:j},{default:D(()=>[e("div",Xa,[e("div",Qa,[e("button",{class:"p-2 text-lg text-black font-semibold hover:bg-gray-200 divide-x",onClick:G=>w(i.data)},"delete",8,ei),e("button",{class:"p-2 text-black text-lg font-semibold hover:bg-gray-200",onClick:G=>u(i.data)},"View",8,ti)])])]),_:2},1536)])]),_:1})]),_:1},8,["value"])])])]),l(L,{visible:x.value,"onUpdate:visible":b[9]||(b[9]=i=>x.value=i),position:"right",class:"relative w-[500px]"},{default:D(()=>[si,e("div",oi,[e("div",li,[ai,l(m,{type:"text",modelValue:o.name,"onUpdate:modelValue":b[5]||(b[5]=i=>o.name=i),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",ii,[ni,l(m,{type:"text",modelValue:o.relationship,"onUpdate:modelValue":b[6]||(b[6]=i=>o.relationship=i),class:"w-[90%] h-10"},null,8,["modelValue"])]),e("div",di,[ri,l(_,{dateFormat:"dd/mm/yy",modelValue:o.dob,"onUpdate:modelValue":b[7]||(b[7]=i=>o.dob=i),class:"h-10 w-[100%] relative right-2",minDate:c.minDate,maxDate:c.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",ci,[_i,l(Y,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:o.phone_number,"onUpdate:modelValue":b[8]||(b[8]=i=>o.phone_number=i)},null,8,["modelValue"])])]),e("div",mi,[l($),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:q},"submit")])])]),_:1},8,["visible"]),l(L,{visible:U.value,"onUpdate:visible":b[14]||(b[14]=i=>U.value=i),position:"right",class:"relative w-[500px]"},{default:D(()=>[pi,e("div",ui,[e("div",fi,[bi,l(m,{type:"text",modelValue:r.name,"onUpdate:modelValue":b[10]||(b[10]=i=>r.name=i),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",gi,[yi,l(m,{type:"text",modelValue:r.relationship,"onUpdate:modelValue":b[11]||(b[11]=i=>r.relationship=i),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",hi,[vi,l(_,{modelValue:r.dob,"onUpdate:modelValue":b[12]||(b[12]=i=>r.dob=i),min:"2000-01-02",class:"w-[100%] h-10 relative right-2"},null,8,["modelValue"])]),e("div",xi,[$i,l(Y,{id:"basic",modelValue:r.phone_number,"onUpdate:modelValue":b[13]||(b[13]=i=>r.phone_number=i),mask:"9999999999",placeholder:"999999999",class:"h-10 w-[100%]"},null,8,["modelValue"])])]),e("div",Di,[l($),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:T},"submit")])])]),_:1},8,["visible"])],64)}}};const ki=e("div",{class:""},[e("div",{class:""},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),Vi={class:"tab-content",id:"pills-tabContent"},Ci={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},Pi={key:0,class:"my-2"},Si={class:"w-full bg-white rounded-lg p-2 border"},Mi=e("div",{class:"flex justify-around"},[e("p",{class:"font-semibold text-sm"},"Payroll Summary"),e("div",{class:"flex justify-end"})],-1),Ui={class:"grid grid-cols-12 gap-2 h-full py-2"},Ei={class:"col-span-2"},Yi=e("p",{class:"font-semibold text-xs text-gray-500"},"Last Processed",-1),Ii={class:"font-semibold text-sm"},ji={class:"col-span-2"},Li=e("p",{class:"font-semibold text-xs text-gray-500"},"Total Working Days",-1),Ai={class:"font-semibold text-sm"},Bi={class:"col-span-2"},Fi=e("p",{class:"font-semibold text-xs text-gray-500"},"Loss Of Pay(LOP)",-1),Ni={class:"font-semibold text-sm"},Ti={class:"w-full bg-white rounded-lg p-2 border my-3"},Ri=e("p",{class:"font-semibold text-sm"},"Bank Information",-1),Oi={class:"grid grid-cols-12 gap-2 h-full py-2"},Gi={class:"col-span-2"},qi=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Name",-1),Hi={class:"font-semibold text-sm"},zi={class:"col-span-2"},Ki=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Account No",-1),Ji={class:"font-semibold text-sm"},Wi={class:"col-span-2"},Zi=e("p",{class:"font-semibold text-xs text-gray-500"},"IFSC Code",-1),Xi={class:"font-semibold text-sm"},Qi={class:"col-span-2"},en=e("p",{class:"font-semibold text-xs text-gray-500"},"PAN No",-1),tn={class:"font-semibold text-sm"},sn={class:"w-full bg-white rounded-lg p-2 border"},on=e("p",{class:"font-semibold text-sm"},"Statutory Information",-1),ln={class:"grid grid-cols-12 gap-2 h-full py-2"},an={class:"col-span-2"},nn=e("p",{class:"font-semibold text-xs text-gray-500"},"PF Applicable",-1),dn={class:"font-semibold text-sm"},rn={class:"col-span-2"},cn=e("p",{class:"font-semibold text-xs text-gray-500"},"EPF Number",-1),_n={class:"font-semibold text-sm"},mn={class:"col-span-2"},pn=e("p",{class:"font-semibold text-xs text-gray-500"},"UAN Number",-1),un={class:"font-semibold text-sm"},fn={class:"col-span-2"},bn=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Applicable",-1),gn={class:"font-semibold text-sm"},yn={class:"col-span-2"},hn=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Number",-1),vn={class:"font-semibold text-sm"},xn={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},$n={class:"mb-2 card"},Dn={class:"card-body"},wn={class:"modal-body"},kn={class:"row"},Vn={class:"col-md-6"},Cn={class:"mb-3 form-group"},Pn=e("label",null,"Bank Name",-1),Sn={class:"col-md-6"},Mn={class:"mb-3 form-group"},Un=e("label",null,"Bank Account No",-1),En=e("div",{class:"cal-icon"},null,-1),Yn={class:"col-md-6"},In={class:"mb-3 form-group"},jn=e("label",null,"IFSC Code",-1),Ln={class:"col-md-6"},An={class:"floating d-block justify-items-start al"},Bn=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),Fn={class:"flex justify-content-start"},Nn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),Tn={class:"d-flex flex-column justify-content-center align-items-center border"},Rn={key:0,class:"text-red-400 fs-6 font-semibold text-center"},On={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},Gn={class:"modal-body"},qn={class:"row"},Hn={class:"col-md-6"},zn={class:"mb-3 form-group"},Kn=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),Jn={key:0,class:"text-red-400 fs-6 font-semibold"},Wn={class:"col-md-6 d-flex flex-column"},Zn={class:"d-flex justify-items-center flex-column ml-10"},Xn=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),Qn={class:"d-flex justify-items-center align-items-center"},ed=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),td={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},sd={key:0,class:"text-red-400 fs-6 font-semibold"},od={class:"modal-body"},ld={class:"row"},ad={class:"col"},id=e("label",{for:"",class:""},[k("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),nd={class:"col"},dd=e("label",{class:"ml-2"},"EPF Number",-1),rd={class:"row"},cd={class:"col"},_d=e("label",{class:"ml-1"},"UAN Number",-1),md={class:"col ml-2"},pd=e("label",{class:"ml-2"},[k("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),ud={class:"row"},fd={class:"col-6"},bd=e("label",{for:"",class:"ml-2"},"ESIC Number",-1),gd=e("div",{class:"col"},null,-1),yd=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),hd={__name:"FinanceDetails",setup(C){const a=ae(),s=ne(),V=ie(),x=h(!1),j=h(!1),O=h();O.value=a.employeeDetails.payroll_summary,console.log("testing payroll summary :",O.value);let U=new FormData;U.append("user_code",ne.current_user_code),U.append("file_object",ae.value);let o="/profile-pages/updateProfilePicture";z.post(o,U).then(E=>{}).finally(()=>{console.log("Photo Sent")});const r=h([]),F=h();r.value.push(a.employeeDetails.get_statutory_details),de(()=>{s.getBankList().then(E=>{F.value=E.data}),a.fetchEmployeeDetails()});const q=h(!1),u=h(!1);h(),h();const w=X({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),T=X({pan_no:"",Pancard:""}),c=E=>{E.target.files&&E.target.files[0]&&(w.PassBook=E.target.files[0],console.log(w.PassBook))},b=h([{name:"Yes",value:"Yes"},{name:"No",value:"No"}]),m=()=>{x.value=!0;let d=`/update-bank-info/${s.current_user_id}`,A=new FormData;A.append("user_code",a.employeeDetails.user_code),A.append("bank_id",w.bank_id),A.append("account_no",w.bank_ac_no),A.append("bank_ifsc",w.ifsc_code),A.append("PassBook",w.PassBook),A.append("onboard_document_type","Cheque leaf/Bank Passbook"),z.post(d,A).then(te=>{te.data.status=="success"?(V.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),a.employeeDetails.get_employee_details.bank_id=w.bank_id,a.employeeDetails.get_employee_details.bank_account_number=w.bank_ac_no,a.employeeDetails.get_employee_details.bank_ifsc_code=w.ifsc_code,a.employeeDetails.get_employee_details.pan_no=w.pan_no):te.data.status=="failure"&&(leave_data.leave_request_error_messege=te.data.message)}).catch(te=>{console.log(te)}).finally(()=>{a.fetchEmployeeDetails(),x.value=!1}),q.value=!1};function _(){w.bank_id=parseInt(a.employeeDetails.get_employee_details.bank_id),w.bank_ac_no=a.employeeDetails.get_employee_details.bank_account_number,w.ifsc_code=a.employeeDetails.get_employee_details.bank_ifsc_code,w.pan_no=a.employeeDetails.get_employee_details.pan_number,q.value=!0}function Y(){a.employeeDetails.get_statutory_details?($.pf_applicable=a.employeeDetails.get_statutory_details.pf_applicable,$.epf_no=a.employeeDetails.get_statutory_details.epf_number,$.uan_no=a.employeeDetails.get_statutory_details.uan_number,$.esic_applicable=a.employeeDetails.get_statutory_details.esic_applicable,$.esic_no=a.employeeDetails.get_statutory_details.esic_number):u.value=!0,u.value=!0}const $=X({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),M=()=>{x.value=!0;let d=`/update-statutory-info/${s.current_user_id}`;z.post(d,{user_code:a.employeeDetails.user_code,pf_applicable:$.pf_applicable,epf_number:$.epf_no,uan_number:$.uan_no,esic_applicable:$.esic_applicable,esic_number:$.esic_no}).then(A=>{A.data.status=="success"?V.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):A.data.status=="failure"&&(leave_data.leave_request_error_messege=A.data.message)}).catch(A=>{console.log(A)}).finally(()=>{a.fetchEmployeeDetails(),x.value=!1}),u.value=!1},R=E=>{E.target.files&&E.target.files[0]&&(T.Pancard=E.target.files[0],console.log(T.Pancard))},y=()=>{x.value=!0;const d=`/update-Pancard-info/${s.current_user_id}`,A=new FormData;A.append("pan_no",T.pan_no),A.append("pancard",T.Pancard),A.append("user_code",a.employeeDetails.user_code),A.append("onboard_document_type","Pan Card"),j.value=!1,T.Pancard&&z.post(d,A).finally(()=>{x.value=!1})},W=se(()=>({PassBook:{required:ce}})),L=fe(W,w),i=()=>{L.value.$validate(),L.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),m())},G=se(()=>({pan_no:{required:ce},Pancard:{required:ce}})),K=fe(G,T),H=()=>{K.value.$validate(),K.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),y())},n=E=>{let d=String.fromCharCode(E.keyCode);if(/^[A-Za-z_ ]+$/.test(d))return!0;E.preventDefault()},N=E=>{let d=String.fromCharCode(E.keyCode);if(/^[A-Za-z0-9]+$/.test(d))return!0;E.preventDefault()};return(E,d)=>{const A=S("Dropdown"),te=S("InputNumber"),re=S("InputText"),p=S("Toast"),pe=S("Dialog"),ve=S("InputMask"),xe=S("ProgressSpinner");return g(),v("div",null,[ki,e("div",Vi,[e("div",Ci,[t(a).employeeDetails.get_employee_details?(g(),v("div",Pi,[e("div",Si,[Mi,e("div",Ui,[e("div",Ei,[Yi,e("p",Ii,f(t(a).employeeDetails.payroll_summary.payroll_date?t(J)(t(a).employeeDetails.payroll_summary.payroll_date).format("DD-MMM-YYYY"):"-"),1)]),e("div",ji,[Li,e("p",Ai,f(t(a).employeeDetails.payroll_summary.worked_Days?t(a).employeeDetails.payroll_summary.worked_Days:"-"),1)]),e("div",Bi,[Fi,e("p",Ni,f(t(a).employeeDetails.payroll_summary.lop?t(a).employeeDetails.payroll_summary.lop:"-"),1)])])]),e("div",Ti,[e("div",{class:"flex justify-around"},[Ri,e("div",{class:"flex justify-end"},[e("img",{src:le,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:_,alt:""})])]),e("div",Oi,[e("div",Gi,[qi,e("p",Hi,f(t(a).employeeDetails.get_employee_details.bank_name?t(a).employeeDetails.get_employee_details.bank_name:"-"),1)]),e("div",zi,[Ki,e("p",Ji,f(t(a).employeeDetails.get_employee_details.bank_account_number?t(a).employeeDetails.get_employee_details.bank_account_number:"-"),1)]),e("div",Wi,[Zi,e("p",Xi,f(t(a).employeeDetails.get_employee_details.bank_ifsc_code?t(a).employeeDetails.get_employee_details.bank_ifsc_code:"-"),1)]),e("div",Qi,[en,e("p",tn,f(t(a).employeeDetails.get_employee_details.pan_number?t(a).employeeDetails.get_employee_details.pan_number:"-"),1)])])]),e("div",sn,[e("div",{class:"flex justify-around"},[on,e("div",{class:"flex justify-end"},[e("img",{src:le,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:Y,alt:""})])]),e("div",ln,[e("div",an,[nn,e("p",dn,f(t(a).employeeDetails.get_statutory_details.pf_applicable?t(a).employeeDetails.get_statutory_details.pf_applicable:"-"),1)]),e("div",rn,[cn,e("p",_n,f(t(a).employeeDetails.get_statutory_details.epf_number?t(a).employeeDetails.get_statutory_details.epf_number:"-"),1)]),e("div",mn,[pn,e("p",un,f(t(a).employeeDetails.get_statutory_details.uan_number?t(a).employeeDetails.get_statutory_details.uan_number:"-"),1)]),e("div",fn,[bn,e("p",gn,f(t(a).employeeDetails.get_statutory_details.esic_applicable?t(a).employeeDetails.get_statutory_details.esic_applicable:"-"),1)]),e("div",yn,[hn,e("p",vn,f(t(a).employeeDetails.get_statutory_details.esic_number?t(a).employeeDetails.get_statutory_details.esic_number:"-"),1)])])])])):B("",!0)]),e("div",xn,[e("div",$n,[e("div",Dn,[l(tt)])])])]),l(pe,{visible:q.value,"onUpdate:visible":d[5]||(d[5]=P=>q.value=P),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:D(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:D(()=>[e("div",null,[e("div",wn,[e("div",kn,[e("div",Vn,[e("div",Cn,[Pn,l(A,{editable:"",onKeypress:d[0]||(d[0]=P=>n(P)),options:F.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:w.bank_id,"onUpdate:modelValue":d[1]||(d[1]=P=>w.bank_id=P)},null,8,["options","modelValue"])])]),e("div",Sn,[e("div",Mn,[Un,En,l(te,{modelValue:w.bank_ac_no,"onUpdate:modelValue":d[2]||(d[2]=P=>w.bank_ac_no=P),class:"form-controls onboard-form",inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])])]),e("div",Yn,[e("div",In,[jn,l(re,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:w.ifsc_code,"onUpdate:modelValue":d[3]||(d[3]=P=>w.ifsc_code=P)},null,8,["modelValue"])])]),e("div",Ln,[e("div",An,[Bn,e("div",Fn,[l(p),Nn,e("div",Tn,[e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:d[4]||(d[4]=P=>c(P)),style:{"text-transform":"uppercase"},class:Z(["form-controls pl-2",[t(L).PassBook.$error?"p-invalid":""]])},null,34),t(L).PassBook.$error?(g(),v("span",Rn,f(t(L).PassBook.required.$message.replace("Value","PassBook or Cheque Leaf")),1)):B("",!0)]),w.PassBook?(g(),v("div",On,f(w.PassBook.name),1)):B("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:i},"Submit")])])])])]),_:1},8,["visible"]),l(pe,{visible:j.value,"onUpdate:visible":d[8]||(d[8]=P=>j.value=P),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:D(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:D(()=>[e("div",null,[e("div",Gn,[e("div",qn,[e("div",Hn,[e("div",zn,[Kn,l(ve,{onFocusout:E.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:T.pan_no,"onUpdate:modelValue":d[6]||(d[6]=P=>T.pan_no=P),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:Z(["form-controls pl-2",[t(K).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),t(K).pan_no.$error?(g(),v("span",Jn,f(t(K).pan_no.required.$message.replace("Value","Pancard number")),1)):B("",!0)])]),e("div",Wn,[e("div",Zn,[Xn,e("div",Qn,[l(p),ed,T.Pancard?(g(),v("div",td,f(T.Pancard.name),1)):B("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:d[7]||(d[7]=P=>R(P)),class:Z([t(K).Pancard.$error?"p-invalid":""])},null,34)]),t(K).Pancard.$error?(g(),v("span",sd,f(t(K).Pancard.required.$message.replace("Value","Pancard attachment")),1)):B("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:H},"Submit")])])])])]),_:1},8,["visible"]),l(pe,{visible:u.value,"onUpdate:visible":d[17]||(d[17]=P=>u.value=P),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:D(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:D(()=>[e("div",od,[e("div",ld,[e("div",ad,[id,l(A,{modelValue:$.pf_applicable,"onUpdate:modelValue":d[9]||(d[9]=P=>$.pf_applicable=P),options:b.value,placeholder:"PF Applicable",optionLabel:"name",optionValue:"value",class:"w-100"},null,8,["modelValue","options"])]),e("div",nd,[dd,l(re,{onKeypress:d[10]||(d[10]=P=>N(P)),modelValue:$.epf_no,"onUpdate:modelValue":d[11]||(d[11]=P=>$.epf_no=P),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])])]),e("div",rd,[e("div",cd,[_d,l(re,{onKeypress:d[12]||(d[12]=P=>N(P)),modelValue:$.uan_no,"onUpdate:modelValue":d[13]||(d[13]=P=>$.uan_no=P),class:"w-100",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),e("div",md,[pd,l(A,{modelValue:$.esic_applicable,"onUpdate:modelValue":d[14]||(d[14]=P=>$.esic_applicable=P),options:b.value,optionLabel:"name",placeholder:"ESIC Applicable",class:"w-100",optionValue:"value"},null,8,["modelValue","options"])])]),e("div",ud,[e("div",fd,[bd,l(re,{onKeypress:d[15]||(d[15]=P=>N(P)),modelValue:$.esic_no,"onUpdate:modelValue":d[16]||(d[16]=P=>$.esic_no=P),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),gd]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:M},"Save")])])])]),_:1},8,["visible"]),l(pe,{header:"Header",visible:x.value,"onUpdate:visible":d[18]||(d[18]=P=>x.value=P),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:D(()=>[l(xe,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:D(()=>[yd]),_:1},8,["visible"])])}}};const vd=e("h6",{class:"text-lg font-semibold"},"Experience Information",-1),xd={class:"flex items-center gap-6"},$d={class:"flex justify-center mx-4"},Dd={class:"relative flex items-center justify-center w-1 h-full bg-green-300"},wd={class:"absolute z-10 flex flex-col justify-center w-12 h-12 font-thin leading-none text-center bg-white border-2 border-green-300 rounded-full"},kd={key:0,class:"w-full p-2 my-2 bg-white border rounded-lg"},Vd={class:"grid h-full grid-cols-12 gap-2 py-2"},Cd={class:"col-span-2"},Pd=e("p",{class:"text-xs font-semibold text-gray-500"},"Company Name",-1),Sd={class:"text-sm font-semibold"},Md={class:"col-span-2"},Ud=e("p",{class:"text-xs font-semibold text-gray-500"},"Location",-1),Ed={class:"text-sm font-semibold"},Yd={class:"col-span-2"},Id=e("p",{class:"text-xs font-semibold text-gray-500"},"JOb Position",-1),jd={class:"text-sm font-semibold"},Ld={class:"col-span-2"},Ad=e("p",{class:"text-xs font-semibold text-gray-500"},"Period From",-1),Bd={class:"text-sm font-semibold"},Fd={class:"col-span-2"},Nd=e("p",{class:"text-xs font-semibold text-gray-500"},"Period To",-1),Td={class:"text-sm font-semibold"},Rd={class:"relative flex justify-end col-span-2"},Od=["onClick"],Gd=e("i",{class:"pi pi-ellipsis-v"},null,-1),qd=[Gd],Hd={key:0,class:"absolute flex flex-col bg-white shadow-2xl top-4",style:{width:"160px","margin-top":"12px !important","margin-right":"20px !important"}},zd=["onClick"],Kd=["onClick"],Jd=e("div",null,null,-1),Wd=e("h1",{class:"absolute top-6 font-semibold"},"Experience Information",-1),Zd={class:"my-2"},Xd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),Qd={class:"my-2"},er=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Location"),e("span",{class:"text-danger"},"*")],-1),tr={class:"my-2"},sr=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Job Position"),e("span",{class:"text-danger"},"*")],-1),or={class:"my-2"},lr=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),ar={class:"my-2"},ir=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period To"),e("span",{class:"text-danger"},"*")],-1),nr={class:"flex justify-center my-4 !mt-[200px]"},dr=e("h1",{class:"absolute font-semibold top-4"}," Experience Information",-1),rr={class:"my-2"},cr=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),_r={class:"my-2"},mr=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Location"),e("span",{class:"text-danger"},"*")],-1),pr={class:"my-2"},ur=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Job Position"),e("span",{class:"text-danger"},"*")],-1),fr={class:"my-2"},br=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),gr={class:"my-2"},yr=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period To"),e("span",{class:"text-danger"},"*")],-1),hr={class:"flex justify-center my-4"},vr={__name:"ExperienceDetails",setup(C){const a=ne(),s=ae(),V=ie();ie();const x=h();h(!0);const j=m=>{console.log(m),m&&(x.value=m)};h("");const O=h(!1),U=h(!1),o=h(),r=X({company_name:"",location:"",job_position:"",period_from:"",period_to:""});function F(){O.value=!0,r.company_name="",r.job_position="",r.location="",r.period_from="",r.period_to=""}const q=()=>{console.log(r),s.loading_screen=!0;let _=`/add-experience-info/${a.current_user_id}`;z.post(_,{user_code:s.employeeDetails.user_code,company_name:r.company_name,experience_location:r.location,job_position:r.job_position,period_from:J(r.period_from).format("YYYY-MM-DD"),period_to:J(r.period_to).format("YYYY-MM-DD")}).then(Y=>{Y.data.status=="success"?V.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):Y.data.status=="failure"&&(leave_data.leave_request_error_messege=Y.data.message)}).catch(Y=>{console.log(Y)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),O.value=!1};de(()=>{});const u=m=>{U.value=!0,U.value==!0&&(console.log(U),x.value=""),o.value=m.id,console.log(o.value),r.company_name=m.company_name,r.location=m.location,r.job_position=m.job_position,r.period_from=m.period_from,r.period_to=m.period_to},w=m=>{U.value=!1,x.value="";let Y=`/update-experience-info/${a.current_user_id}`;z.post(Y,{user_code:s.employeeDetails.user_code,exp_current_table_id:o.value,company_name:r.company_name,experience_location:r.location,job_position:r.job_position,period_from:J(r.period_from).format("YYYY-MM-DD"),period_to:J(r.period_to).format("YYYY-MM-DD")}).then($=>{$.data.status=="success"?(s.fetchEmployeeDetails(),V.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):$.data.status=="failure"&&(leave_data.leave_request_error_messege=$.data.message)}).catch($=>{console.log($)})},T=m=>{o.value=m.id;let Y=`/delete-experience-info/${a.current_user_id}`;z.post(Y,{exp_current_table_id:o.value}).then($=>{$.data.status=="success"?(s.fetchEmployeeDetails(),V.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3})):$.data.status=="failure"&&(leave_data.leave_request_error_messege=$.data.message)}).catch($=>{console.log($)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1})},c=m=>{let _=String.fromCharCode(m.keyCode);if(/^[A-Za-z_ ]+$/.test(_))return!0;m.preventDefault()};function b(m,_){const Y=new Date(m),M=new Date(_)-Y,R=365.25*24*60*60*1e3,y=M/R;return y?y.toFixed(1):null}return(m,_)=>{const Y=S("InputText"),$=S("Calendar"),M=S("Toast"),R=S("Sidebar");return g(),v(_e,null,[e("div",{class:"flex items-center justify-between"},[vd,e("button",{type:"",class:"float-right text-[#fff] bg-[#000] px-4 py-2 rounded-lg",onClick:F}," Add New ")]),(g(!0),v(_e,null,$e(t(s).employeeDetails.get_experience_details,y=>(g(),v("div",xd,[e("div",$d,[e("div",Dd,[e("div",wd,[e("div",null,f(y.period_from&&y.period_to?b(y.period_from,y.period_to):0),1)])])]),t(s).employeeDetails.get_experience_details?(g(),v("div",kd,[e("div",Vd,[e("div",Cd,[Pd,e("p",Sd,f(y.company_name),1)]),e("div",Md,[Ud,e("p",Ed,f(y.location),1)]),e("div",Yd,[Id,e("p",jd,f(y.job_position),1)]),e("div",Ld,[Ad,e("p",Bd,f(t(J)(y.period_from).format("DD-MMM-YYYY")),1)]),e("div",Fd,[Nd,e("p",Td,f(t(J)(y.period_to).format("DD-MMM-YYYY")),1)]),e("div",Rd,[e("button",{class:"",type:"button",onClick:W=>j(y.id)},qd,8,Od),x.value===y.id?(g(),v("div",Hd,[e("div",{class:"p-0 m-0 d-flex flex-column",onMouseleave:_[0]||(_[0]=W=>x.value="")},[e("button",{class:"h-[30px] p-2 text-black fw-semibold hover:bg-gray-200 border-bottom-1",onClick:W=>T(y)},"delete",8,zd),e("button",{onClick:W=>u(y),class:"!h-[33px] border-[1px] text-black fw-semibold hover:bg-gray-200 ho"},"View",8,Kd)],32)])):B("",!0)])])])):B("",!0)]))),256)),Jd,l(R,{visible:O.value,"onUpdate:visible":_[7]||(_[7]=y=>O.value=y),position:"right",class:"!w-[500px]"},{default:D(()=>[Wd,e("div",Zd,[Xd,l(Y,{type:"text",modelValue:r.company_name,"onUpdate:modelValue":_[1]||(_[1]=y=>r.company_name=y),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",Qd,[er,l(Y,{type:"text",modelValue:r.location,"onUpdate:modelValue":_[2]||(_[2]=y=>r.location=y),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",tr,[sr,l(Y,{type:"text",onKeypress:_[3]||(_[3]=y=>c(y)),modelValue:r.job_position,"onUpdate:modelValue":_[4]||(_[4]=y=>r.job_position=y),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",or,[lr,l($,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:r.period_from,"onUpdate:modelValue":_[5]||(_[5]=y=>r.period_from=y)},null,8,["modelValue"])]),e("div",ar,[ir,l($,{modelValue:r.period_to,"onUpdate:modelValue":_[6]||(_[6]=y=>r.period_to=y),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",nr,[l(M),e("button",{class:"bg-[#000] text-[#ffff] p-2 px-4 rounded-md",severity:"success",id:"",onClick:q},"submit")])]),_:1},8,["visible"]),l(R,{visible:U.value,"onUpdate:visible":_[15]||(_[15]=y=>U.value=y),position:"right",class:"!w-[500px]"},{default:D(()=>[dr,e("div",rr,[cr,l(Y,{type:"text",modelValue:r.company_name,"onUpdate:modelValue":_[8]||(_[8]=y=>r.company_name=y),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",_r,[mr,l(Y,{type:"text",modelValue:r.location,"onUpdate:modelValue":_[9]||(_[9]=y=>r.location=y),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",pr,[ur,l(Y,{type:"text",onKeypress:_[10]||(_[10]=y=>c(y)),modelValue:r.job_position,"onUpdate:modelValue":_[11]||(_[11]=y=>r.job_position=y),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",fr,[br,l($,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:r.period_from,"onUpdate:modelValue":_[12]||(_[12]=y=>r.period_from=y)},null,8,["modelValue"])]),e("div",gr,[yr,l($,{modelValue:r.period_to,"onUpdate:modelValue":_[13]||(_[13]=y=>r.period_to=y),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",hr,[l(M),e("button",{type:"button",class:"bg-[#000] w-[144px] py-2 rounded-lg text-[white] success warning",severity:"success",id:"",onClick:_[14]||(_[14]=y=>w())},"submit")])]),_:1},8,["visible"])],64)}}},xr={class:"card"},$r={class:"w-full"},Dr={key:0},wr=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},"Approved",-1),kr=[wr],Vr={key:1},Cr=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-yellow-800 rounded-md bg-yellow-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),Pr=[Cr],Sr={key:2},Mr=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-red-800 rounded-md bg-red-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),Ur=[Mr],Er={key:3},Yr={key:0},Ir={key:0},jr=["onClick"],Lr=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),k(" Upload file")],-1),Ar=[Lr],Br={key:1},Fr={key:1},Nr=["onClick"],Tr=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),k(" Upload file")],-1),Rr=[Tr],Or=["disabled"],Gr={class:"w-full h-full d-flex justify-content-center"},qr=["src"],Hr={__name:"documents",setup(C){const a=h([]);de(()=>{V.fetch_EmployeeDocument(),console.log(" ",j.value),console.log("employeeDetails employee_documents ",s.employeeDetails.employee_documents),a.value=s});let s=ae();const V=st();ie();const x=h(!1),j=h({}),O=h();h();const U=h(),o=h(),r=new FormData,F=h(),q=c=>{x.value=!0,V.loading=!0,z.post("/view-profile-private-file",{user_code:s.user_code,document_name:c.document_name}).then(b=>{O.value=b.data.data,console.log("data sent",O.value)}).finally(()=>{V.loading=!1})};h(["Pending","Approved","Rejected"]);const u=c=>{o.value=c},w=c=>{console.log(o),c.target.files&&c.target.files[0]&&(U.value=c.target.files[0],r.append(`${o.value}`,U.value),r.append("user_code",s.employeeDetails.user_code),console.log(r),Object.keys(r)[0])};async function T(){if(F.value=="Failure")Swal.fire({title:F.value="Failure",text:"Please upload all mandatory documents",icon:"error",showCancelButton:!1}).then(c=>{});else{V.loading=!0;let c="/profile-page/saveEmployeeDocument";z.post(c,r).then(b=>{F.value=b.data.status,console.log(F.value),console.log("Photo not send"),b.data.status=="Success"?Swal.fire({title:b.data.status="Success",text:b.data.message,icon:"success",showCancelButton:!1}).then(m=>{}):b.data.status=="Failure"&&Swal.fire({title:b.data.status="Failure",text:b.data.message,icon:"error",showCancelButton:!1}).then(m=>{})}).finally(()=>{s.fetchEmployeeDetails(),V.fetch_EmployeeDocument(),V.loading=!1})}}return(c,b)=>{const m=S("Column"),_=S("Button"),Y=S("DataTable"),$=S("Dialog");return g(),v("div",xr,[e("div",$r,[l(Y,{ref:"dt",value:t(s).employeeDetails.employee_documents,dataKey:"id",paginator:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],rows:5,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:D(()=>[l(m,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:D(()=>[k(f(t(V).getEmployeeDoc.document_name),1)]),_:1}),l(m,{field:"status",header:"status",style:{"min-width":"12rem"}},{body:D(M=>[M.data.status=="Approved"?(g(),v("div",Dr,kr)):M.data.status==="Pending"?(g(),v("div",Vr,Pr)):M.data.status==="Rejected"?(g(),v("div",Sr,Ur)):(g(),v("div",Er))]),_:1}),l(m,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:D(M=>[M.data.doc_id?(g(),v("div",Yr,[M.data.status=="Rejected"?(g(),v("div",Ir,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:b[0]||(b[0]=R=>w(R))},null,32),e("button",{class:"btn btn-success",onClick:R=>u(M.data.document_name)},Ar,8,jr)])):(g(),v("div",Br,[l(_,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:R=>q(M.data),style:{height:"1.5em"}},null,8,["onClick"])]))])):(g(),v("div",Fr,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:b[1]||(b[1]=R=>w(R))},null,32),e("button",{class:"btn btn-success",onClick:R=>u(M.data.document_name)},Rr,8,Nr)]))]),_:1})]),_:1},8,["value"]),e("button",{severity:"warn",type:"submit",data:"row-6",next:"row-6",name:"submit_form",id:"msform",class:"text-center btn btn-orange processOnboardForm float-end text-light mr-5 my-5",value:"Submit",disabled:c.fileUploadValidation,onClick:T}," Submit ",8,Or),t(V).loading==!1?(g(),me($,{key:0,visible:x.value,"onUpdate:visible":b[2]||(b[2]=M=>x.value=M),modal:"",header:"Documents",style:{width:"40vw"}},{default:D(()=>[e("div",Gr,[e("img",{src:`data:image/png;base64,${O.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,qr)])]),_:1},8,["visible"])):B("",!0)])])}}},zr={key:1},Kr={key:0,class:"w-full h-screen bg-gray-50 p-3"},Jr={class:"w-full my-2"},Wr={class:"col-12 col-sm-12 col-md-12 col-lg-12 col-xxl-12 col-xl-12"},Zr=e("div",{class:"mb-2"},[e("div",{class:"pt-1 pb-0"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Xr={class:"tab-content",id:"pills-tabContent"},Qr={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},ec={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},tc={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},sc={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},oc={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},lc={__name:"ProfilePageNew",setup(C){ne();let a=ae();return de(async()=>{console.log("Loading screen start : "+a.loading_screen),a.fetchEmployeeDetails().then(function(s){console.log("Loading screen end : "+a.loading_screen),console.log("Req done")})}),(s,V)=>{const x=S("Toast");return g(),v(_e,null,[l(x),t(a).loading_screen?(g(),me(ot,{key:0})):(g(),v("div",zr,[t(a).employeeDetails.get_employee_office_details?(g(),v("div",Kr,[l(eo),e("div",Jr,[e("div",Wr,[Zr,e("div",Xr,[e("div",Qr,[e("div",null,[l(Ea)])]),e("div",ec,[l(wi)]),e("div",tc,[l(vr)]),e("div",sc,[e("div",null,[l(hd)])]),e("div",oc,[l(Hr)])])])])])):B("",!0)]))],64)}}},I=De(lc),ac=Ye();I.use(we,{ripple:!0});I.use(Ge);I.use(Ie);I.use(Te);I.use(ac);I.directive("tooltip",je);I.directive("badge",Le);I.directive("ripple",ke);I.directive("styleclass",Ae);I.directive("focustrap",Ve);I.component("Button",Ce);I.component("DataTable",Ne);I.component("Column",Pe);I.component("ColumnGroup",Re);I.component("Row",He);I.component("Toast",Be);I.component("ConfirmDialog",Fe);I.component("Dropdown",Se);I.component("InputText",Me);I.component("Dialog",Ue);I.component("ProgressSpinner",qe);I.component("Calendar",ze);I.component("Textarea",Ke);I.component("Chips",Je);I.component("MultiSelect",We);I.component("InputNumber",Ee);I.component("ProgressBar",Xe);I.component("InputMask",Ze);I.component("Sidebar",Qe);I.component("OverlayPanel",et);I.mount("#profilePage");
