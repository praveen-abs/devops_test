import{l as fe}from"./lodash-facb8280.js";import{a as q}from"./index-362795f3.js";import{S as ae}from"./Service-449375c0.js";import{p as le}from"./ProfilePagesStore-424f17a7.js";import{r as re,u as ue}from"./index.esm-6d09ab0d.js";import{r as v,z as W,o as ne,s as te,c as M,e as h,f as $,n as l,h as s,g as e,p as Z,t as b,k as _e,j as B,l as C,H as Q,i as k,F as ce,y as ie,I as xe,w as X,v as se,A as be,m as $e,a as De}from"./app-acc461cd.js";import{d as H}from"./dayjs.min-2f06af28.js";import"./moment-fbc5633a.js";import{_ as we,U as ke}from"./EmployeePayslips-e5309234.js";import{L as Ve}from"./LoadingSpinner-6a3d20d0.js";/* empty css                                                                       */const oe="/build/assets/edit-fdffc648.svg";const Ce={key:0,class:"bg-white border rounded-lg grid grid-cols-12 p-3 content-center"},Pe={class:"col-span-4 h-full grid grid-cols-12 gap-6"},Se={class:"col-span-4"},Ue={class:"profile-pic"},Me=["src"],Ee=e("label",{class:"-label",for:"file"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})])],-1),Ye={class:"col-span-8"},Ie={class:"flex justify-between pr-4"},je={class:"font-semibold text-md"},Le={class:"font-semibold text-xs text-gray-500"},Ae={class:"py-2"},Be=e("p",{class:"font-semibold text-xs"},"Profile completeness",-1),Fe={class:"w-11/12 my-1"},Ne=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Te={class:"col-span-5 grid grid-cols-3 gap-4 h-full"},Re={class:""},Oe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Status",-1),Ge={key:0,class:"font-semibold text-sm"},qe={key:1,class:"font-semibold text-sm"},ze={class:""},He=e("p",{class:"font-semibold text-xs text-gray-500"},"Designation",-1),Ke={class:"font-semibold text-sm"},Je={class:"flex justify-between items-center"},Ze=e("p",{class:"font-semibold text-xs text-gray-500"},"Department",-1),We={class:"font-semibold text-sm"},Xe={class:""},Qe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Code",-1),et={class:"font-semibold text-sm"},tt={class:""},st=e("p",{class:"font-semibold text-xs text-gray-500"},"Location",-1),ot={class:"font-semibold text-sm"},lt={class:"flex justify-between items-center"},at={class:""},it=e("p",{class:"font-semibold text-xs text-gray-500"},"Reporting to",-1),nt={key:0,class:"font-semibold text-sm whitespace-nowrap"},dt={class:"col-span-3 h-full"},rt={class:"flex justify-end"},ct=e("div",null,null,-1),_t={class:"mx-2"},mt={class:"p-0 m-0 bg-transparent border-0 outline-none btn"},pt={class:"confirmation-content"},ut=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),ft={class:"w-100 py-4 px-2 rounded-lg d-flex justify-content-around overflow-x-scroll ... lg:w-100"},bt={class:"card p-3 d-flex justify-items-center align-items-center mr-2 :lg:mx-0 Digital_Id_Card_",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},gt={style:{height:"45px",width:"140px"},class:"mt-2"},yt=["src"],ht={class:"card-body d-flex justify-items-center align-items-center mt-6",style:{"flex-direction":"column"}},vt=["src"],xt={key:1,class:"text-white font-semibold text-5xl"},$t={class:"card-title mt-12 mb-3 f-12 text-blue-900 subpixel-antialiased font-semibold",style:{"text-align":"center"}},Dt={key:0,class:"f-12 card-text mb-3 text-gray-600 subpixel-antialiased font-semibold"},wt={key:1,class:"f-12 card-text"},kt={key:2,class:"f-16 mb-2 text-gray-700 subpixel-antialiased font-semibold"},Vt={key:3,class:"f-12 mb-2 text-secondary-emphasis"},Ct={class:"card p-2 d-flex justify-items-center align-items-center ml-2 Digital_Id_Card_ :lg:p-2",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},Pt={class:"w-100 d-flex justify-content-center align-items-center flex-column"},St=e("h1",{class:"text-orange-500 fs-14 subpixel-antialiased font-semibold fw-600"},"EMPLOYEE DETAILS",-1),Ut={class:"row w-100 mt-3"},Mt=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[k(" Blood Group "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Et={class:"col-6 fs-6 text-blue-900"},Yt={class:"text-left pt-1"},It={class:"row w-100 mt-3"},jt=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[k(" Phone "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Lt={class:"col-6 fs-6 text-blue-900"},At={class:"text-left pt-1"},Bt={class:"row w-100 mt-3"},Ft=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900 position-relative"},[k(" Email Id "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Nt={class:"col-6 subpixel-antialiased fs-12"},Tt={class:"text-left"},Rt={class:"row w-100 mt-3"},Ot={class:"col fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},Gt=e("h1",{class:"text-orange-500 fs-12"},"Residential Address :",-1),qt={class:"ml-2"},zt={class:"text-blue-900 mt-2 subpixel-antialiased font-semibold fs-11 text-center"},Ht=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-1 w-100 mt-2 :lg:mt-2"},null,-1),Kt=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-3 w-100 mt-1"},null,-1),Jt={class:"row"},Zt={class:"col-12"},Wt={key:0,class:"text-center font-semibold text-orange-500 fs-14 subpixel-antialiased mt-2 :lg:mt-2"},Xt={class:"col-12"},Qt={class:"fs-11 text-center font-semibold text-blue-900 mt-2"},es={class:"col-12"},ts={class:"fs-12 text-center font-semibold text-blue-900 mt-2"},ss={class:"col-12"},os={class:"fs-11 text-center font-semibold lining-nums ... text-blue-900 mt-2"},ls=e("div",{class:"col-12"},null,-1),as={class:"modal-body"},is={class:"row"},ns={class:"col-md-6"},ds={class:"mb-3 form-group"},rs=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),cs={key:0,class:"text-red-400 fs-6 font-semibold"},_s={class:"col-md-6"},ms={class:"form-group"},ps=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),us={key:0,class:"text-red-400 fs-6 font-semibold"},fs={class:"col-md-6 d-flex flex-column"},bs={class:"d-flex justify-items-center flex-column"},gs=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),ys={class:"d-flex justify-items-center align-items-center"},hs=e("label",{class:"cursor-pointer text-primary bg-[black] px-2 py-2 rounded-md d-flex align-items-center fs-5",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up text-[white] mr-2 text-[18px]"}),e("h1",{class:"text-light"},"Upload")],-1),vs={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},xs={key:0,class:"text-red-400 fs-6 font-semibold"},$s={class:"col-12"},Ds={class:"text-right"},ws=e("h1",{class:"bg-cyan-800 p-4 text-white text-xl"},"Profile",-1),ks={class:"py-4"},Vs=e("h4",{class:"font-semibold text-2xl"},"Personal Information",-1),Cs={class:"leading-8"},Ps=e("h6",{class:"py-2 font-semibold text-xl"},"Name",-1),Ss=e("h6",{class:"py-2 font-semibold text-xl"},"Designation",-1),Us=e("h6",{class:"py-2 font-semibold text-xl"},"Location",-1),Ms={class:"py-2 leading-8 font-semibold text-2xl"},Es={class:"flex"},Ys={class:""},Is={class:"w-80 font-semibold text-xl leading-10"},js={class:"w-80 font-semibold text-xl leading-10"},Ls={class:"w-80 font-semibold text-xl leading-10"},As={class:"ml-20"},Bs={class:"w-80 font-semibold leading-10 text-xl"},Fs={class:"w-80 font-semibold leading-10 text-xl"},Ns={class:"w-80 font-semibold leading-10 text-xl"},Ts={__name:"EmployeeCard",setup(S){const a=ae(),o=v(!1),w=v(!1),P=v(!1),A=W({department:"",reporting_manager:""}),E=W({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),j=v([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),y=v(!1);let t=le();const O=r=>{r.target.files&&r.target.files[0]&&(t.profile=r.target.files[0]);let d=new FormData;d.append("user_code",a.current_user_code),d.append("file_object",t.profile);let F="/profile-pages/updateProfilePicture";q.post(F,d).then(z=>{}).finally(()=>{console.log("Photo Sent"),t.getProfilePhoto()})},G=v(),g=v(),V=v(!1),T=v(!1),c=v(!1),p=v("None"),m=r=>{console.log(r),q.post("/profile-pages/updateDepartment",{user_code:t.employeeDetails.user_code,department_id:A.department}).then(d=>{let F=fe._.find(G.value,["id",A.department]).name;console.log("Lodash [Selected Dept]: "+F),t.employeeDetails.get_employee_office_details.department_name=F,p.value="Department updated successfully !",console.log(d.data)}).catch(d=>{p.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+d)}).finally(()=>{c.value=!0,V.value=!1})},_=r=>{console.log("editReportingManager : "+r),q.post("/profile-pages/updateReportingManager",{user_code:t.employeeDetails.user_code,manager_user_code:A.reporting_manager}).then(d=>{let F=fe._.find(g.value,["user_code",A.reporting_manager]);t.employeeDetails.get_employee_office_details.l1_manager_name=F.name,t.employeeDetails.get_employee_office_details.l1_manager_code=F.user_code,p.value="Reporting Manager updated successfully !",console.log(d.data)}).catch(d=>{p.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+d)}).finally(()=>{c.value=!0,T.value=!1})},L=()=>{A.department=t.employeeDetails.get_employee_office_details.department_name,A.reporting_manager=t.employeeDetails.get_employee_office_details.l1_manager_name,console.log(A.department)};ne(()=>{a.DepartmentDetails().then(r=>{G.value=r.data,console.log("testing"+t.employeeDetails.get_employee_office_details.l1_manager_name)}),a.ManagerDetails().then(r=>{g.value=r.data}),L(),console.log()});const D=r=>{r.target.files&&r.target.files[0]&&(E.emp_upload_doc=r.target.files[0],console.log(E.emp_upload_doc))},R=te(()=>({emp_name:{required:re},emp_doc_name:{required:re},emp_upload_doc:{required:re}})),Y=ue(R,E),x=()=>{Y.value.$validate(),Y.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),K())},K=()=>{w.value=!0,y.value=!1;const d=`/update-EmplpoyeeName-info/${a.current_user_id}`,F=new FormData;F.append("user_code",t.employeeDetails.user_code),F.append("name",E.emp_name),F.append("onboard_document_type",E.emp_doc_name.name),F.append("emp_doc",E.emp_upload_doc),q.post(d,F).finally(()=>{w.value=!1})},J=te(()=>{if(t.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(t.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(t.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(t.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(t.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(t.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(t.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(t.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"});return(r,d)=>{const F=M("Toast"),z=M("ProgressBar"),i=M("Dialog"),N=M("Dropdown"),I=M("Sidebar"),u=M("InputText");return h(),$(ce,null,[l(F),s(t).employeeDetails.get_employee_office_details?(h(),$("div",Ce,[e("div",Pe,[e("div",Se,[e("div",Ue,[s(t).profile?(h(),$("img",{key:0,class:"forRounded",src:`data:image/png;base64,${s(t).profile}`,srcset:"",alt:"",id:"output",width:"200"},null,8,Me)):(h(),$("p",{key:1,class:Z(["font-semibold text-5xl text-center flex items-center justify-center text-white forRounded",[s(t).employeeDetails.short_name_Color?s(t).employeeDetails.short_name_Color:"",s(t).employeeDetails.short_name_Color]])},b(s(t).employeeDetails.user_short_name),3)),Ee,e("input",{id:"file",type:"file",onChange:d[0]||(d[0]=n=>O(n))},null,32)])]),e("div",Ye,[e("div",Ie,[e("div",null,[e("p",je,b(s(t).employeeDetails?s(t).employeeDetails.name:"-"),1),e("p",Le,b(s(t).employeeDetails?s(t).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("img",{src:oe,class:"h-4 w-4 cursor-pointer my-auto",alt:"",onClick:d[1]||(d[1]=n=>y.value=!0)})]),e("div",Ae,[Be,e("div",Fe,[s(t).employeeDetails.profile_completeness<=39?(h(),_e(z,{key:0,value:s(t).employeeDetails.profile_completeness,class:Z([s(t).employeeDetails.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):B("",!0),s(t).employeeDetails.profile_completeness>=40&&s(t).employeeDetails.profile_completeness<=59?(h(),_e(z,{key:1,class:Z(["progressbar_val2",[s(t).employeeDetails.profile_completeness>=40&&s(t).employeeDetails.profile_completeness<=59]]),value:s(t).employeeDetails.profile_completeness},null,8,["class","value"])):B("",!0),s(t).employeeDetails.profile_completeness>=60?(h(),_e(z,{key:2,class:Z(["progressbar_val3",[s(t).employeeDetails.profile_completeness>=60]]),value:s(t).employeeDetails.profile_completeness},null,8,["class","value"])):B("",!0)]),Ne])])]),e("div",Te,[e("div",Re,[Oe,s(t).employeeDetails.active==1?(h(),$("p",Ge,"Active ")):(h(),$("p",qe,"Not active"))]),e("div",ze,[He,e("p",Ke,b(s(t).employeeDetails.get_employee_office_details.designation?s(t).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("div",Je,[e("div",null,[Ze,e("p",We,b(s(t).employeeDetails.get_employee_office_details.department_name?s(t).employeeDetails.get_employee_office_details.department_name:"-"),1)]),s(t).employeeDetails.Current_login_user.org_role==1||s(t).employeeDetails.Current_login_user.org_role==2||s(t).employeeDetails.Current_login_user.org_role==3?(h(),$("img",{key:0,src:oe,class:"h-4 w-4 cursor-pointer my-auto",onClick:d[2]||(d[2]=n=>V.value=!0),alt:""})):B("",!0)]),e("div",Xe,[Qe,e("p",et,b(s(t).employeeDetails?s(t).employeeDetails.user_code:"-"),1)]),e("div",tt,[st,e("p",ot,b(s(t).employeeDetails.get_employee_office_details.work_location?s(t).employeeDetails.get_employee_office_details.work_location:"-"),1)]),e("div",lt,[e("div",at,[it,s(t).employeeDetails?(h(),$("p",nt,b(`${s(t).employeeDetails.get_employee_office_details.l1_manager_name}(${s(t).employeeDetails.get_employee_office_details.l1_manager_code})`),1)):B("",!0)]),s(t).employeeDetails.Current_login_user.org_role==1||s(t).employeeDetails.Current_login_user.org_role==2||s(t).employeeDetails.Current_login_user.org_role==3?(h(),$("img",{key:0,src:oe,onClick:d[3]||(d[3]=n=>T.value=!0),class:"h-4 w-4 cursor-pointer my-auto",alt:""})):B("",!0)])]),e("div",dt,[e("div",rt,[ct,e("div",_t,[e("button",mt,[e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true",onClick:d[4]||(d[4]=n=>P.value=!0)})])])])])])):B("",!0),l(i,{header:"Status",visible:c.value,"onUpdate:visible":d[5]||(d[5]=n=>c.value=n),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"}},{default:C(()=>[e("div",pt,[ut,e("span",null,b(p.value),1)])]),_:1},8,["visible"]),l(i,{visible:V.value,"onUpdate:visible":d[8]||(d[8]=n=>V.value=n),header:"Edit Department",style:{width:"30vw"}},{footer:C(()=>[e("div",null,[e("button",{type:"button",class:"btn btn-outline-orange",onClick:d[7]||(d[7]=n=>V.value=!1)}," cancel "),e("button",{type:"button",class:"btn btn-orange",onClick:m}," Save ")])]),default:C(()=>[l(N,{options:G.value,optionLabel:"name",modelValue:A.department,"onUpdate:modelValue":d[6]||(d[6]=n=>A.department=n),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),l(i,{visible:T.value,"onUpdate:visible":d[11]||(d[11]=n=>T.value=n),modal:"",header:"Edit Reporting Manager",style:{width:"30vw"}},{footer:C(()=>[e("div",null,[e("button",{type:"button",class:"btn btn-outline-orange",onClick:d[10]||(d[10]=n=>T.value=!1)}," cancel "),e("button",{type:"button",class:"btn btn-orange",onClick:_}," Save ")])]),default:C(()=>[l(N,{optionLabel:"name",options:g.value,modelValue:A.reporting_manager,"onUpdate:modelValue":d[9]||(d[9]=n=>A.reporting_manager=n),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),l(I,{position:"right",visible:P.value,"onUpdate:visible":d[12]||(d[12]=n=>P.value=n),modal:"",header:"",style:Q([{width:"45vw !important"},{"@media (min-width":"1024px){background-image:particular_ad_small.png"}])},{header:C(()=>[e("div",null,[e("h5",{class:"absolute left-0 mx-4 font-semibold fs-5",style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:C(()=>[e("div",ft,[e("div",bt,[e("div",gt,[e("img",{src:`${s(t).employeeDetails.client_logo}`,alt:"",style:{"object-fit":"cover"}},null,8,yt)]),e("div",ht,[e("div",{class:Z(["mx-auto rounded-circle img-xl userActive-status profile-img d-flex justify-content-center align-items-center",[s(t).profile?"":s(t).employeeDetails.short_name_Color,s(t).employeeDetails.short_name_Color]])},[s(t).profile?(h(),$("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border object-cover",src:`data:image/png;base64,${s(t).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"80px",height:"80px"}},null,8,vt)):B("",!0),s(t).profile?B("",!0):(h(),$("h1",xt,b(s(t).employeeDetails.user_short_name),1))],2),e("h1",$t,b(s(t).employeeDetails.name),1),s(t).employeeDetails.get_employee_office_details.department_id?(h(),$("h5",Dt,b(s(t).employeeDetails.get_employee_office_details.department_name),1)):(h(),$("h1",wt,"-")),s(t).employeeDetails.user_code?(h(),$("h5",kt,b(s(t).employeeDetails.user_code),1)):(h(),$("p",Vt,"-"))])]),e("div",Ct,[e("div",Pt,[St,e("div",Ut,[Mt,e("div",Et,[e("h1",Yt,b(s(J)),1)])]),e("div",It,[jt,e("div",Lt,[e("h1",At,b(s(t).employeeDetails.get_employee_details.mobile_number),1)])]),e("div",Bt,[Ft,e("div",Nt,[e("h1",Tt,b(s(t).employeeDetails.get_employee_office_details.officical_mail),1)])]),e("div",Rt,[e("div",Ot,[Gt,e("div",qt,[e("p",zt,b(s(t).employeeDetails.get_employee_details.current_address_line_1),1)])])]),Ht,Kt,e("div",Jt,[e("div",Zt,[s(t).employeeDetails.client_details.client_name?(h(),$("h1",Wt,b(s(t).employeeDetails.client_details.client_name),1)):B("",!0)]),e("div",Xt,[e("h1",Qt,b(s(t).employeeDetails.client_details.address),1)]),e("div",es,[e("h1",ts,b(s(t).employeeDetails.client_details.authorised_person_contact_email),1)]),e("div",ss,[e("h1",os,b(s(t).employeeDetails.client_details.authorised_person_contact_number),1)]),ls])])])])]),_:1},8,["visible"]),l(i,{visible:y.value,"onUpdate:visible":d[17]||(d[17]=n=>y.value=n),modal:"",header:" ",style:{width:"50vw"}},{header:C(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:C(()=>[e("div",null,[e("div",as,[e("div",is,[e("div",ns,[e("div",ds,[rs,l(u,{type:"text",modelValue:E.emp_name,"onUpdate:modelValue":d[13]||(d[13]=n=>E.emp_name=n),style:{"text-transform":"uppercase"},class:Z(["form-controls pl-2",[s(Y).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),s(Y).emp_name.$error?(h(),$("span",cs,b(s(Y).emp_name.required.$message.replace("Value","Employee Name")),1)):B("",!0)])]),e("div",_s,[e("div",ms,[ps,l(N,{modelValue:E.emp_doc_name,"onUpdate:modelValue":d[14]||(d[14]=n=>E.emp_doc_name=n),options:j.value,optionLabel:"name",placeholder:"Select a document ",class:Z(["form-controls pl-2 w-full h-12",[s(Y).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),s(Y).emp_doc_name.$error?(h(),$("span",us,b(s(Y).emp_doc_name.required.$message.replace("Value","Documents")),1)):B("",!0)])]),e("div",fs,[e("div",bs,[gs,e("div",ys,[l(F),hs,E.emp_upload_doc?(h(),$("div",vs,b(E.emp_upload_doc.name),1)):B("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:d[15]||(d[15]=n=>D(n)),class:Z([s(Y).emp_upload_doc.$error?"p-invalid":""])},null,34)]),s(Y).emp_upload_doc.$error?(h(),$("span",xs,b(s(Y).emp_upload_doc.required.$message.replace("Value","document")),1)):B("",!0)])])]),e("div",$s,[e("div",Ds,[e("button",{type:"button",class:"btn btn-outline-orange",onClick:d[16]||(d[16]=n=>y.value=!1)}," cancel "),e("button",{id:"btn btn-orange mx-2",class:"btn btn-orange submit-btn",onClick:x},"Submit")])])])])]),_:1},8,["visible"]),l(I,{visible:o.value,"onUpdate:visible":d[27]||(d[27]=n=>o.value=n),position:"right",class:"!w-[400px]"},{default:C(()=>[ws,e("div",ks,[Vs,e("div",Cs,[Ps,l(u,{modelValue:r.value,"onUpdate:modelValue":d[18]||(d[18]=n=>r.value=n),class:"bg-gray-200",disabled:"",placeholder:"Name"},null,8,["modelValue"]),Ss,l(u,{modelValue:r.value,"onUpdate:modelValue":d[19]||(d[19]=n=>r.value=n),class:"bg-gray-200",disabled:"",placeholder:"Designation"},null,8,["modelValue"]),Us,l(u,{modelValue:r.value,"onUpdate:modelValue":d[20]||(d[20]=n=>r.value=n),class:"bg-gray-200",disabled:"",placeholder:"Location"},null,8,["modelValue"])]),e("div",Ms,[k("General Information "),e("div",Es,[e("div",Ys,[e("div",Is,[k("DOB "),l(u,{modelValue:r.value,"onUpdate:modelValue":d[21]||(d[21]=n=>r.value=n),class:"bg-gray-200 h-12",disabled:"",placeholder:"DOB"},null,8,["modelValue"])]),e("div",js,[k("Gender "),l(u,{modelValue:r.value,"onUpdate:modelValue":d[22]||(d[22]=n=>r.value=n),class:"bg-gray-200 h-12",disabled:"",placeholder:"Gender"},null,8,["modelValue"])]),e("div",Ls,[k("Blood Group "),l(u,{modelValue:r.value,"onUpdate:modelValue":d[23]||(d[23]=n=>r.value=n),class:"bg-gray-200 h-12",disabled:"",placeholder:"Blood Group"},null,8,["modelValue"])])]),e("div",As,[e("div",Bs,[k("DOJ "),l(u,{modelValue:r.value,"onUpdate:modelValue":d[24]||(d[24]=n=>r.value=n),class:"bg-gray-200 h-12",disabled:"",placeholder:"DOJ"},null,8,["modelValue"])]),e("div",Fs,[k("Martial Status "),l(u,{modelValue:r.value,"onUpdate:modelValue":d[25]||(d[25]=n=>r.value=n),class:"bg-gray-200 h-12",disabled:"",placeholder:"Martial Status"},null,8,["modelValue"])]),e("div",Ns,[k("Physically Challenged "),l(u,{modelValue:r.value,"onUpdate:modelValue":d[26]||(d[26]=n=>r.value=n),class:"bg-gray-200 h-12",disabled:"",placeholder:"Physically Challenged"},null,8,["modelValue"])])])])])])]),_:1},8,["visible"])],64)}}};var ge;const Rs=typeof window<"u";Rs&&((ge=window==null?void 0:window.navigator)!=null&&ge.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ye(S){return typeof S=="function"?S():s(S)}const Os=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Gs=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,qs=(S,a,o,w)=>{let P=S<12?"AM":"PM";return w&&(P=P.split("").reduce((A,E)=>A+=`${E}.`,"")),o?P.toLowerCase():P},zs=(S,a,o={})=>{var w;const P=S.getFullYear(),A=S.getMonth(),E=S.getDate(),j=S.getHours(),y=S.getMinutes(),t=S.getSeconds(),O=S.getMilliseconds(),G=S.getDay(),g=(w=o.customMeridiem)!=null?w:qs,V={YY:()=>String(P).slice(-2),YYYY:()=>P,M:()=>A+1,MM:()=>`${A+1}`.padStart(2,"0"),MMM:()=>S.toLocaleDateString(o.locales,{month:"short"}),MMMM:()=>S.toLocaleDateString(o.locales,{month:"long"}),D:()=>String(E),DD:()=>`${E}`.padStart(2,"0"),H:()=>String(j),HH:()=>`${j}`.padStart(2,"0"),h:()=>`${j%12||12}`.padStart(1,"0"),hh:()=>`${j%12||12}`.padStart(2,"0"),m:()=>String(y),mm:()=>`${y}`.padStart(2,"0"),s:()=>String(t),ss:()=>`${t}`.padStart(2,"0"),SSS:()=>`${O}`.padStart(3,"0"),d:()=>G,dd:()=>S.toLocaleDateString(o.locales,{weekday:"narrow"}),ddd:()=>S.toLocaleDateString(o.locales,{weekday:"short"}),dddd:()=>S.toLocaleDateString(o.locales,{weekday:"long"}),A:()=>g(j,y),AA:()=>g(j,y,!1,!0),a:()=>g(j,y,!0),aa:()=>g(j,y,!0,!0)};return a.replace(Gs,(T,c)=>c||V[T]())},Hs=S=>{if(S===null)return new Date(NaN);if(S===void 0)return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){const a=S.match(Os);if(a){const o=a[2]-1||0,w=(a[7]||"0").substring(0,3);return new Date(a[1],o,a[3]||1,a[4]||0,a[5]||0,a[6]||0,w)}}return new Date(S)};function pe(S,a="HH:mm:ss",o={}){return te(()=>zs(Hs(ye(S)),ye(a),o))}const Ks={key:0,class:"w-full"},Js={class:"w-full bg-white rounded-lg p-2 border"},Zs={class:"flex justify-around"},Ws=e("p",{class:"font-semibold text-sm"},"General Information",-1),Xs={class:"flex justify-end"},Qs={class:"grid grid-cols-12 gap-2 h-full py-2"},eo={class:"col-span-2"},to=e("p",{class:"font-semibold text-xs text-gray-500"},"Birthday",-1),so={class:"font-semibold text-sm"},oo={class:"col-span-2"},lo=e("p",{class:"font-semibold text-xs text-gray-500"},"Gender",-1),ao={class:"font-semibold text-sm"},io={class:"col-span-2"},no=e("p",{class:"font-semibold text-xs text-gray-500"},"Date Of Joining (DOJ)",-1),ro={class:"font-semibold text-sm"},co={class:"col-span-2"},_o=e("p",{class:"font-semibold text-xs text-gray-500"},"Marital Status",-1),mo={class:"font-semibold text-sm"},po={class:"col-span-2"},uo=e("p",{class:"font-semibold text-xs text-gray-500"},"Blood Group",-1),fo={class:"font-semibold text-sm"},bo={class:"col-span-2"},go=e("p",{class:"font-semibold text-xs text-gray-500"},"Physically Handicapped",-1),yo={class:"font-semibold text-sm"},ho={class:"w-full bg-white rounded-lg p-2 border my-3"},vo={class:"flex justify-around"},xo=e("p",{class:"font-semibold text-sm"},"Contact Information",-1),$o={class:"flex justify-end"},Do={class:"grid grid-cols-12 gap-4 h-full py-2"},wo={class:"col-span-3"},ko=e("p",{class:"font-semibold text-xs text-gray-500"},"Personal Email",-1),Vo={class:"font-semibold text-sm"},Co={class:"col-span-3"},Po=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Email",-1),So={class:"font-semibold text-sm"},Uo={class:"col-span-3"},Mo=e("p",{class:"font-semibold text-xs text-gray-500"},"Mobile Number",-1),Eo={class:"font-semibold text-sm"},Yo={class:"col-span-3"},Io=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Mobile Number",-1),jo={class:"font-semibold text-sm"},Lo={class:"w-full bg-white rounded-lg p-2 border"},Ao={class:"flex justify-around"},Bo=e("p",{class:"font-semibold text-sm"},"Address",-1),Fo={class:"flex justify-end"},No={class:"grid grid-cols-12 gap-4 h-full py-2"},To={class:"col-span-6"},Ro=e("p",{class:"font-semibold text-xs text-gray-500"},"Current Address",-1),Oo={class:"font-semibold text-sm"},Go={class:"col-span-6"},qo=e("p",{class:"font-semibold text-xs text-gray-500"},"Permanent Address ",-1),zo={class:"font-semibold text-sm"},Ho={class:"grid grid-cols-2"},Ko={class:""},Jo={class:"mb-1 form-group"},Zo=e("label",{class:"ml-[5px]"},[k("Birth Date"),e("span",{class:"text-danger"},"*")],-1),Wo={class:"cal-icon"},Xo={class:""},Qo={class:"mb-1 form-group"},el=e("label",null,[k("Gender"),e("span",{class:"text-danger"},"*")],-1),tl={class:""},sl={class:"mb-1 form-group"},ol=e("label",{style:{marginLeft:"10px",marginRight:"10px"}},[k("Marital status "),e("span",{class:"text-danger"},"*")],-1),ll={class:""},al={class:"mb-2 form-group"},il=e("label",null,[k("Blood Group"),e("span",{class:"text-danger"},"*")],-1),nl={class:"cal-icon"},dl={class:""},rl={class:"form-group w-full",style:{marginLeft:"10px"}},cl=e("label",{class:"my-1"},"Physically Handicapped",-1),_l=e("div",{class:""},[e("div",{class:"mb-3 form-group"})],-1),ml={class:"text-right col-12"},pl={class:"modal-body"},ul={class:"row"},fl={class:"col-md-6"},bl={class:"mb-3 form-group"},gl=e("label",null,"Personal Email",-1),yl={class:"col-md-6"},hl={class:"mb-3 form-group"},vl=e("label",null," Office Email",-1),xl={class:"col-md-6"},$l={class:"mb-3 form-group"},Dl=e("label",null,"Mobile Number",-1),wl={class:"col-md-6"},kl={class:"mb-3 form-group"},Vl=e("label",null,"Official Mobile Number",-1),Cl={key:0,class:""},Pl=e("h1",{class:"font-semibold absolute top-6"},"General Information",-1),Sl={class:"p-2"},Ul={class:"my-2"},Ml=e("label",{class:"mb-1"},[k("Birth Date"),e("span",{class:"text-danger"},"*")],-1),El={class:"my-2"},Yl=e("label",null,[k("Gender"),e("span",{class:"text-danger"},"*")],-1),Il={class:"my-2"},jl=e("label",null,[k("Marital status "),e("span",{class:"text-danger"},"*")],-1),Ll={class:"my-2"},Al=e("label",null,[k("Blood Group"),e("span",{class:"text-danger"},"*")],-1),Bl={class:"my-2"},Fl=e("label",{class:"my-1"},"Physically Handicapped",-1),Nl={class:"flex justify-center"},Tl={key:1},Rl=e("h1",{class:"font-semibold absolute top-6"},"Contact Information",-1),Ol={class:"p-2"},Gl={class:"my-2"},ql=e("label",{class:"mb-1"},"Personal Email",-1),zl={class:"my-2"},Hl=e("label",{class:"mb-1"},"Office Email",-1),Kl={class:"my-1"},Jl=e("label",{class:"mb-2"},"Mobile Number",-1),Zl={class:"my-2"},Wl=e("label",{class:"mb-1"},"Official Mobile Number",-1),Xl={key:2,class:""},Ql=e("h1",{class:"font-semibold absolute top-6"},"Address",-1),ea={class:"col-md-12"},ta={class:"mb-3 form-group"},sa=e("label",null,"Current Address",-1),oa={class:"mb-3 form-group"},la=e("label",null,"Permanent Address ",-1),aa={class:"mb-3 form-group"},ia={class:"d-flex justify-content-center align-items-center"},na=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),da={class:"modal-body"},ra={class:"col-md-12"},ca={class:"mb-3 form-group"},_a=e("label",null,"Current Address",-1),ma={class:"mb-3 form-group"},pa=e("label",null,"Permanent Address ",-1),ua={class:"col-12"},fa={class:"d-flex justify-content-between align-items-center"},ba={class:"d-flex justify-content-center align-items-center"},ga=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),ya={class:""},ha={__name:"EmployeeDetails",setup(S){const a=ae(),o=le(),w=v(!1),P=ie(),A=ie(),E=v(!1),j=v(!1),y=v(!1),t=v(),O=v(!1);function G(z,i){O.value=z,t.value=i,i=="General Information"?x():i=="Contact Information"?J():i=="Address Information"&&d()}const g=W({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),V=v([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),T=v(),c=W({email:"",official_email:"",mobile_number:"",official_mobile_number:""}),p=v(),m=W({current_address:"",Permanent_Address:""}),_=v(!1);function L(){_.value==1?m.Permanent_Address=m.current_address:_.value=!1}te(()=>o.employeeDetails.get_employee_details.gender=="male"?"Male":o.employeeDetails.get_employee_details.gender=="female"?"Female":o.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),te(()=>o.employeeDetails.get_employee_details.marital_status),te(()=>{if(o.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(o.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(o.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(o.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(o.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(o.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(o.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(o.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),te(()=>{if(o.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(o.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"});const D=v([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),R=v(),Y=v();xe(),ne(()=>{o.fetchEmployeeDetails(),a.getBloodGroups().then(z=>{console.log(z.data),R.value=z.data}),a.getMaritalStatus().then(z=>{console.log(z),Y.value=z.data})});function x(){console.log("Opening General Info Dialog"),g.dob=o.employeeDetails.get_employee_details.dob,g.doj=o.employeeDetails.get_employee_details.doj,g.marital_status_id=parseInt(o.employeeDetails.get_employee_details.marital_status_id),g.gender=o.employeeDetails.get_employee_details.gender,g.blood_group_id=parseInt(o.employeeDetails.get_employee_details.blood_group_id),g.physically_challenged=o.employeeDetails.get_employee_details.physically_challenged}function K(){console.log(g),w.value=!0;let i=`/profile-pages-update-generalinfo/${a.current_user_id}`;q.post(i,{user_code:o.employeeDetails.user_code,dob:H(g.dob).format("YYYY-MM-DD"),gender:g.gender,marital_status_id:g.marital_status_id,doj:g.doj,blood_group_id:g.blood_group_id,physically_challenged:g.physically_challenged}).then(N=>{N.data.status=="success"?(o.employeeDetails.get_employee_details.dob=pe(g.dob,"YYYY-MM-DD"),o.employeeDetails.gender=g.gender,o.employeeDetails.marital_status_id=g.marital_status_id,o.employeeDetails.get_employee_details.doj=g.doj,o.employeeDetails.blood_group_id=g.blood_group_id,o.employeeDetails.physically_challenged=g.physically_challenged):N.data.status=="failure"&&(leave_data.leave_request_error_messege=N.data.message)}).catch(N=>{console.log(N)}).finally(()=>{o.fetchEmployeeDetails(a.current_user_id),w.value=!1,O.value=!1,P.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})})}function J(){console.log("Opening General Info Dialog : "),c.email=o.employeeDetails.email,c.official_email=o.employeeDetails.get_employee_office_details.officical_mail,c.mobile_number=parseInt(o.employeeDetails.get_employee_details.mobile_number),o.employeeDetails.get_employee_office_details.official_mobile?c.official_mobile_number=parseInt(o.employeeDetails.get_employee_office_details.official_mobile):c.official_mobile_number=0}function r(){let i=`/profile-pages-update-contactinfo/${a.current_user_id}`;w.value=!0,q.post(i,{user_code:o.employeeDetails.user_code,email:c.email,officical_mail:c.official_email,mobile_number:c.mobile_number,official_mobile_number:c.official_mobile_number}).then(N=>{N.data.status=="success"?(P.add({severity:"success",summary:"Updated",detail:"Contact information updated",life:3e3}),o.employeeDetails.email=c.email,o.employeeDetails.get_employee_office_details.officical_mail=c.official_email,o.employeeDetails.get_employee_details.mobile_number=c.mobile_number,o.employeeDetails.get_employee_office_details.official_mobile=c.official_mobile_number):N.data.status=="failure"&&(T.leave_request_error_messege=N.data.message)}).catch(N=>{console.log(N)}).finally(()=>{o.fetchEmployeeDetails(),w.value=!1,O.value=!1})}function d(){console.log("Opening General Info Dialog"),m.current_address=o.employeeDetails.get_employee_details.current_address_line_1,m.Permanent_Address=o.employeeDetails.get_employee_details.permanent_address_line_1}const F=()=>{if(w.value=!0,m.current_address==" "||m.Permanent_Address==" ")A.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3});else{let i=`/profile-pages-update-address_info/${a.current_user_id}`;q.post(i,{user_code:o.employeeDetails.user_code,current_address_line_1:m.current_address,permanent_address_line_1:m.Permanent_Address}).then(N=>{data_checking.value=!1,N.data.status=="success"?(P.add({severity:"success",summary:"Updated",detail:"Address information updated",life:3e3}),o.employeeDetails.current_address_line_1=m.current_address,o.employeeDetails.get_employee_office_details.permanent_address_line_1=m.Permanent_Address):N.data.status=="failure"&&(p.leave_request_error_messege=N.data.message)}).catch(N=>{console.log(N)}).finally(()=>{o.fetchEmployeeDetails(),w.value=!1,O.value=!1})}};return(z,i)=>{const N=M("Calendar"),I=M("Dropdown"),u=M("Dialog"),n=M("InputMask"),ee=M("Sidebar"),de=M("Toast");return h(),$(ce,null,[s(o).employeeDetails.get_employee_details?(h(),$("div",Ks,[e("div",Js,[e("div",Zs,[Ws,e("div",Xs,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:i[0]||(i[0]=f=>G(!0,"General Information"))})])]),e("div",Qs,[e("div",eo,[to,e("p",so,b(s(H)(s(o).employeeDetails.get_employee_details.dob).format("DD-MMM-YYYY")),1)]),e("div",oo,[lo,e("p",ao,b(s(a).capitalizeFLetter(s(o).employeeDetails.get_employee_details.gender)),1)]),e("div",io,[no,e("p",ro,b(s(H)(s(o).employeeDetails.get_employee_details.doj).format("DD-MMM-YYYY")),1)]),e("div",co,[_o,e("p",mo,b(s(o).employeeDetails.get_employee_details.marital_status),1)]),e("div",po,[uo,e("p",fo,b(s(o).employeeDetails.get_employee_details.blood_group_name),1)]),e("div",bo,[go,e("p",yo,b(s(a).capitalizeFLetter(s(o).employeeDetails.get_employee_details.physically_challenged)),1)])])]),e("div",ho,[e("div",vo,[xo,e("div",$o,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:i[1]||(i[1]=f=>G(!0,"Contact Information"))})])]),e("div",Do,[e("div",wo,[ko,e("p",Vo,b(s(o).employeeDetails.email?s(o).employeeDetails.email:"-"),1)]),e("div",Co,[Po,e("p",So,b(s(o).employeeDetails.get_employee_office_details.officical_mail?s(o).employeeDetails.get_employee_office_details.officical_mail:"-"),1)]),e("div",Uo,[Mo,e("p",Eo,b(s(o).employeeDetails.get_employee_details.mobile_number?s(o).employeeDetails.get_employee_details.mobile_number:"-"),1)]),e("div",Yo,[Io,e("p",jo,b(s(o).employeeDetails.get_employee_office_details.official_mobile?s(o).employeeDetails.get_employee_office_details.official_mobile:"-"),1)])])]),e("div",Lo,[e("div",Ao,[Bo,e("div",Fo,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:i[2]||(i[2]=f=>G(!0,"Address Information"))})])]),e("div",No,[e("div",To,[Ro,e("p",Oo,b(s(o).employeeDetails.get_employee_details.current_address_line_1?s(o).employeeDetails.get_employee_details.current_address_line_1:"-"),1)]),e("div",Go,[qo,e("p",zo,b(s(o).employeeDetails.get_employee_details.permanent_address_line_1?s(o).employeeDetails.get_employee_details.permanent_address_line_1:"-"),1)])])])])):B("",!0),l(u,{visible:E.value,"onUpdate:visible":i[9]||(i[9]=f=>E.value=f),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:C(()=>[e("div",Ho,[e("div",Ko,[e("div",Jo,[Zo,e("div",Wo,[l(N,{class:"mb-3 form-selects w-[94%]",modelValue:g.dob,"onUpdate:modelValue":i[3]||(i[3]=f=>g.dob=f),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Xo,[e("div",Qo,[el,l(I,{modelValue:g.gender,"onUpdate:modelValue":i[4]||(i[4]=f=>g.gender=f),options:V.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),e("div",tl,[e("div",sl,[ol,l(I,{modelValue:g.marital_status_id,"onUpdate:modelValue":i[5]||(i[5]=f=>g.marital_status_id=f),options:Y.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects w-[94%]",style:{marginLeft:"10px",marginRight:"10px"}},null,8,["modelValue","options"])])]),e("div",ll,[e("div",al,[il,e("div",nl,[l(I,{modelValue:g.blood_group_id,"onUpdate:modelValue":i[6]||(i[6]=f=>g.blood_group_id=f),options:R.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])])]),e("div",dl,[e("div",rl,[cl,l(I,{modelValue:g.physically_challenged,"onUpdate:modelValue":i[7]||(i[7]=f=>g.physically_challenged=f),options:D.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),_l]),e("div",ml,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:i[8]||(i[8]=f=>K())},"Save")])]),_:1},8,["visible"]),l(u,{visible:j.value,"onUpdate:visible":i[14]||(i[14]=f=>j.value=f),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:C(()=>[e("div",pl,[e("div",ul,[e("div",fl,[e("div",bl,[gl,X(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":i[10]||(i[10]=f=>c.email=f)},null,512),[[se,c.email]])])]),e("div",yl,[e("div",hl,[vl,X(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":i[11]||(i[11]=f=>c.official_email=f)},null,512),[[se,c.official_email]])])]),e("div",xl,[e("div",$l,[Dl,l(n,{id:"basic",class:"form-control h-10",modelValue:c.mobile_number,"onUpdate:modelValue":i[12]||(i[12]=f=>c.mobile_number=f),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",wl,[e("div",kl,[Vl,l(n,{id:"basic",class:"form-control h-10",modelValue:c.official_mobile_number,"onUpdate:modelValue":i[13]||(i[13]=f=>c.official_mobile_number=f),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:r},"Save")])])])])]),_:1},8,["visible"]),l(ee,{visible:O.value,"onUpdate:visible":i[28]||(i[28]=f=>O.value=f),position:"right",class:"w-[500px]"},{default:C(()=>[t.value=="General Information"?(h(),$("div",Cl,[Pl,e("div",Sl,[e("div",Ul,[Ml,l(N,{class:"relative right-2 w-[100%] h-10",modelValue:g.dob,"onUpdate:modelValue":i[15]||(i[15]=f=>g.dob=f),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])]),e("div",El,[Yl,l(I,{modelValue:g.gender,"onUpdate:modelValue":i[16]||(i[16]=f=>g.gender=f),options:V.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",Il,[jl,l(I,{modelValue:g.marital_status_id,"onUpdate:modelValue":i[17]||(i[17]=f=>g.marital_status_id=f),options:Y.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",Ll,[Al,l(I,{modelValue:g.blood_group_id,"onUpdate:modelValue":i[18]||(i[18]=f=>g.blood_group_id=f),options:R.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",Bl,[Fl,l(I,{modelValue:g.physically_challenged,"onUpdate:modelValue":i[19]||(i[19]=f=>g.physically_challenged=f),options:D.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",Nl,[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:i[20]||(i[20]=f=>K())},"Save")])])])):B("",!0),t.value=="Contact Information"?(h(),$("div",Tl,[Rl,e("div",Ol,[e("div",Gl,[ql,X(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":i[21]||(i[21]=f=>c.email=f)},null,512),[[se,c.email]])]),e("div",zl,[Hl,X(e("input",{type:"email",class:"h-10 form-control",name:"officical_mail","onUpdate:modelValue":i[22]||(i[22]=f=>c.official_email=f)},null,512),[[se,c.official_email]])]),e("div",Kl,[Jl,l(n,{id:"basic",class:"form-control h-10",modelValue:c.mobile_number,"onUpdate:modelValue":i[23]||(i[23]=f=>c.mobile_number=f),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",Zl,[Wl,l(n,{id:"basic",class:"form-control h-10",modelValue:c.official_mobile_number,"onUpdate:modelValue":i[24]||(i[24]=f=>c.official_mobile_number=f),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:r},"Save")])])])):B("",!0),t.value=="Address Information"?(h(),$("div",Xl,[Ql,e("div",ea,[e("div",ta,[sa,X(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":i[25]||(i[25]=f=>m.current_address=f)},null,512),[[se,m.current_address]])]),e("div",oa,[la,X(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":i[26]||(i[26]=f=>m.Permanent_Address=f)},null,512),[[se,m.Permanent_Address]])]),e("div",aa,[e("div",ia,[X(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":i[27]||(i[27]=f=>_.value=f),style:{width:"20px",height:"20px"},onChange:L,value:1},null,544),[[be,_.value]]),na])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:F},"Save")])])])):B("",!0)]),_:1},8,["visible"]),l(u,{visible:y.value,"onUpdate:visible":i[32]||(i[32]=f=>y.value=f),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:C(()=>[e("div",da,[e("div",ra,[e("div",ca,[_a,X(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":i[29]||(i[29]=f=>m.current_address=f)},null,512),[[se,m.current_address]])]),e("div",ma,[pa,X(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":i[30]||(i[30]=f=>m.Permanent_Address=f)},null,512),[[se,m.Permanent_Address]])])]),e("div",ua,[e("div",fa,[e("div",ba,[X(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":i[31]||(i[31]=f=>_.value=f),style:{width:"20px",height:"20px"},onChange:L,value:1},null,544),[[be,_.value]]),ga]),e("div",ya,[l(de),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:F,severity:"warn"},"Save")])])])])]),_:1},8,["visible"])],64)}}};const va={class:"mb-2 card"},xa={class:"card-body"},$a={class:"font-semibold text-lg"},Da={class:"grid grid-cols-2"},wa={class:"mr-[10px] ml-[8px]"},ka=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),Va={class:""},Ca=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),Pa={class:"grid grid-cols-2"},Sa={class:"mr-2"},Ua=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Ma={class:"ml-1"},Ea=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),Ya={class:"my-6 table-responsive"},Ia={key:0},ja={key:1},La={class:"relative flex justify-center"},Aa=e("i",{class:"pi pi-ellipsis-v"},null,-1),Ba=[Aa],Fa={class:"flex flex-col bg-white shadow-2xl w-40 py-1 rounded-lg"},Na={class:"p-0 m-0 d-flex flex-column"},Ta=["onClick"],Ra=["onClick"],Oa=e("h5",{class:"absolute top-6 font-semibold"},"Family Information",-1),Ga={class:"p-2"},qa={class:"my-2"},za=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),Ha={class:"my-2"},Ka=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ja={class:"my-2"},Za=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Wa={class:"my-2"},Xa=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),Qa={class:"flex justify-center my-4"},ei=e("h5",{class:"absolute top-6 font-semibold"},"Family Information",-1),ti={class:"p-2"},si={class:"my-2"},oi=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),li={class:"my-2"},ai=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),ii={class:"my-2"},ni=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),di={class:"my-2"},ri=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),ci={class:"flex justify-center my-4"},_i={__name:"FamilyDetails",setup(S){const a=ae(),o=le(),w=ie();v("");const P=v(!1),A=v(),E=c=>{A.value.toggle(c)},j=v(!1),y=W({name:"",relationship:"",dob:"",phone_number:""}),t=W({name:"",relationship:"",dob:"",phone_number:""}),O=v(),G=()=>{o.loading_screen=!0;let p=`/add-family-info/${a.current_user_id}`;q.post(p,{user_code:o.employeeDetails.user_code,name:y.name,relationship:y.relationship,dob:H(y.dob).format("YYYY-MM-DD"),phone_number:y.phone_number}).then(m=>{m.data.status=="success"?(w.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),o.employeeDetails.get_family_details.dob=pe(y.dob,"YYYY-MM-DD"),o.employeeDetails.get_family_details.name=y.gender,o.employeeDetails.get_family_details.relationship=y.relationship,o.employeeDetails.get_family_details.phone_number=y.phone_number):m.data.status=="failure"}).catch(m=>{console.log(m)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1}),P.value=!1},g=c=>{j.value=!0,O.value=c.id,t.name=c.name,t.relationship=c.relationship,t.dob=c.dob,t.phone_number=c.phone_number},V=c=>{o.loading_screen=!0,O.value=c.id;let m=` /delete-family-info/${a.current_user_id}`;q.post(m,{current_table_id:O.value}).then(_=>{_.data.status=="success"?(w.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),o.employeeDetails.get_family_details.dob=pe(y.dob,"YYYY-MM-DD"),o.employeeDetails.get_family_details.name=y.gender,o.employeeDetails.get_family_details.relationship=y.relationship,o.employeeDetails.get_family_details.phone_number=y.phone_number):_.data.status=="failure"&&(leave_data.leave_request_error_messege=_.data.message)}).catch(_=>{console.log(_)}).finally(()=>{o.loading_screen=!1,o.fetchEmployeeDetails()})},T=c=>{o.loading_screen=!0;let m=`/update-family-info/${a.current_user_id}`;q.post(m,{user_code:o.employeeDetails.user_code,current_table_id:O.value,name:t.name,relationship:t.relationship,dob:H(t.dob).format("YYYY-MM-DD"),phone_number:t.phone_number}).then(_=>{_.data.status=="success"?(w.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),o.employeeDetails.get_family_details.dob=pe(t.dob,"YYYY-MM-DD"),o.employeeDetails.get_family_details.name=t.gender,o.employeeDetails.get_family_details.relationship=y.relationship,o.employeeDetails.get_family_details.phone_number=t.phone_number):_.data.status=="failure"&&(leave_data.leave_request_error_messege=_.data.message)}).catch(_=>{console.log(_)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1}),j.value=!1};return ne(()=>{}),(c,p)=>{const m=M("InputText"),_=M("Calendar"),L=M("InputMask"),D=M("Toast"),R=M("Dialog"),Y=M("Column"),x=M("OverlayPanel"),K=M("DataTable"),J=M("Sidebar");return h(),$(ce,null,[e("div",va,[e("div",xa,[e("h6",$a,[k("Family Information "),e("button",{type:"button",class:"float-right bg-[#000] text-[#fff] px-4 p-2 rounded-md",onClick:p[0]||(p[0]=r=>P.value=!0)}," Add New "),l(R,{modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:C(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:C(()=>[l(D),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:G},"submit")])]),default:C(()=>[e("div",Da,[e("div",wa,[ka,l(m,{type:"text",modelValue:y.name,"onUpdate:modelValue":p[1]||(p[1]=r=>y.name=r),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",Va,[Ca,l(m,{type:"text",modelValue:y.relationship,"onUpdate:modelValue":p[2]||(p[2]=r=>y.relationship=r),class:"w-[90%] h-10"},null,8,["modelValue"])])]),e("div",Pa,[e("div",Sa,[Ua,l(_,{dateFormat:"dd/mm/yy",modelValue:y.dob,"onUpdate:modelValue":p[3]||(p[3]=r=>y.dob=r),class:"h-10 w-[98%]",minDate:c.minDate,maxDate:c.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Ma,[Ea,l(L,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:y.phone_number,"onUpdate:modelValue":p[4]||(p[4]=r=>y.phone_number=r)},null,8,["modelValue"])])])]),_:1})]),e("div",Ya,[l(K,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:s(o).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",class:"z-0"},{default:C(()=>[l(Y,{header:"Name",field:"name",style:{"min-width":"8rem"}}),l(Y,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),l(Y,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:C(r=>[r.data.dob=="Invalid Date"?(h(),$("div",Ia," - ")):(h(),$("div",ja,b(s(H)(r.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),l(Y,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),l(Y,{header:"Action"},{body:C(r=>[e("div",La,[e("button",{class:"",type:"button",onClick:E},Ba),l(x,{ref_key:"op",ref:A},{default:C(()=>[e("div",Fa,[e("div",Na,[e("button",{class:"p-2 text-lg text-black font-semibold hover:bg-gray-200 divide-x",onClick:d=>V(r.data)},"delete",8,Ta),e("button",{class:"p-2 text-black text-lg font-semibold hover:bg-gray-200",onClick:d=>g(r.data)},"View",8,Ra)])])]),_:2},1536)])]),_:1})]),_:1},8,["value"])])])]),l(J,{visible:P.value,"onUpdate:visible":p[9]||(p[9]=r=>P.value=r),position:"right",class:"relative w-[500px]"},{default:C(()=>[Oa,e("div",Ga,[e("div",qa,[za,l(m,{type:"text",modelValue:y.name,"onUpdate:modelValue":p[5]||(p[5]=r=>y.name=r),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",Ha,[Ka,l(m,{type:"text",modelValue:y.relationship,"onUpdate:modelValue":p[6]||(p[6]=r=>y.relationship=r),class:"w-[90%] h-10"},null,8,["modelValue"])]),e("div",Ja,[Za,l(_,{dateFormat:"dd/mm/yy",modelValue:y.dob,"onUpdate:modelValue":p[7]||(p[7]=r=>y.dob=r),class:"h-10 w-[100%] relative right-2",minDate:c.minDate,maxDate:c.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Wa,[Xa,l(L,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:y.phone_number,"onUpdate:modelValue":p[8]||(p[8]=r=>y.phone_number=r)},null,8,["modelValue"])])]),e("div",Qa,[l(D),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:G},"submit")])])]),_:1},8,["visible"]),l(J,{visible:j.value,"onUpdate:visible":p[14]||(p[14]=r=>j.value=r),position:"right",class:"relative w-[500px]"},{default:C(()=>[ei,e("div",ti,[e("div",si,[oi,l(m,{type:"text",modelValue:t.name,"onUpdate:modelValue":p[10]||(p[10]=r=>t.name=r),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",li,[ai,l(m,{type:"text",modelValue:t.relationship,"onUpdate:modelValue":p[11]||(p[11]=r=>t.relationship=r),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",ii,[ni,l(_,{modelValue:t.dob,"onUpdate:modelValue":p[12]||(p[12]=r=>t.dob=r),min:"2000-01-02",class:"w-[100%] h-10 relative right-2"},null,8,["modelValue"])]),e("div",di,[ri,l(L,{id:"basic",modelValue:t.phone_number,"onUpdate:modelValue":p[13]||(p[13]=r=>t.phone_number=r),mask:"9999999999",placeholder:"999999999",class:"h-10 w-[100%]"},null,8,["modelValue"])])]),e("div",ci,[l(D),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:T},"submit")])])]),_:1},8,["visible"])],64)}}};const mi={key:0},pi=e("div",{class:""},[e("div",{class:""},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),ui={class:"tab-content",id:"pills-tabContent"},fi={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},bi={key:0,class:"my-2"},gi={class:"w-full bg-white rounded-lg p-2 border"},yi=e("div",{class:"flex justify-around"},[e("p",{class:"font-semibold text-sm"},"Payroll Summary"),e("div",{class:"flex justify-end"})],-1),hi={class:"grid grid-cols-12 gap-2 h-full py-2"},vi={class:"col-span-2"},xi=e("p",{class:"font-semibold text-xs text-gray-500"},"Last Processed",-1),$i={class:"font-semibold text-sm"},Di={class:"col-span-2"},wi=e("p",{class:"font-semibold text-xs text-gray-500"},"Total Working Days",-1),ki={class:"font-semibold text-sm"},Vi={class:"col-span-2"},Ci=e("p",{class:"font-semibold text-xs text-gray-500"},"Loss Of Pay(LOP)",-1),Pi={class:"font-semibold text-sm"},Si={class:"w-full bg-white rounded-lg p-2 border my-3"},Ui=e("p",{class:"font-semibold text-sm"},"Bank Information",-1),Mi={class:"grid grid-cols-12 gap-2 h-full py-2"},Ei={class:"col-span-2"},Yi=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Name",-1),Ii={class:"font-semibold text-sm"},ji={class:"col-span-2"},Li=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Account No",-1),Ai={class:"font-semibold text-sm"},Bi={class:"col-span-2"},Fi=e("p",{class:"font-semibold text-xs text-gray-500"},"IFSC Code",-1),Ni={class:"font-semibold text-sm"},Ti={class:"col-span-2"},Ri=e("p",{class:"font-semibold text-xs text-gray-500"},"PAN No",-1),Oi={class:"font-semibold text-sm"},Gi={class:"w-full bg-white rounded-lg p-2 border"},qi=e("p",{class:"font-semibold text-sm"},"Statutory Information",-1),zi={class:"grid grid-cols-12 gap-2 h-full py-2"},Hi={class:"col-span-2"},Ki=e("p",{class:"font-semibold text-xs text-gray-500"},"PF Applicable",-1),Ji={class:"font-semibold text-sm"},Zi={class:"col-span-2"},Wi=e("p",{class:"font-semibold text-xs text-gray-500"},"EPF Number",-1),Xi={class:"font-semibold text-sm"},Qi={class:"col-span-2"},en=e("p",{class:"font-semibold text-xs text-gray-500"},"UAN Number",-1),tn={class:"font-semibold text-sm"},sn={class:"col-span-2"},on=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Applicable",-1),ln={class:"font-semibold text-sm"},an={class:"col-span-2"},nn=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Number",-1),dn={class:"font-semibold text-sm"},rn={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},cn={class:"mb-2 card"},_n={class:"card-body"},mn={class:"modal-body"},pn={class:"row"},un={class:"col-md-6"},fn={class:"mb-3 form-group"},bn=e("label",null,"Bank Name",-1),gn={class:"col-md-6"},yn={class:"mb-3 form-group"},hn=e("label",null,"Bank Account No",-1),vn=e("div",{class:"cal-icon"},null,-1),xn={class:"col-md-6"},$n={class:"mb-3 form-group"},Dn=e("label",null,"IFSC Code",-1),wn={class:"col-md-6"},kn={class:"floating d-block justify-items-start al"},Vn=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),Cn={class:"flex justify-content-start"},Pn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),Sn={class:"d-flex flex-column justify-content-center align-items-center border"},Un={key:0,class:"text-red-400 fs-6 font-semibold text-center"},Mn={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},En={class:"modal-body"},Yn={class:"row"},In={class:"col-md-6"},jn={class:"mb-3 form-group"},Ln=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),An={key:0,class:"text-red-400 fs-6 font-semibold"},Bn={class:"col-md-6 d-flex flex-column"},Fn={class:"d-flex justify-items-center flex-column ml-10"},Nn=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),Tn={class:"d-flex justify-items-center align-items-center"},Rn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),On={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},Gn={key:0,class:"text-red-400 fs-6 font-semibold"},qn={class:"modal-body"},zn={class:"row"},Hn={class:"col"},Kn=e("label",{for:"",class:""},[k("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),Jn={class:"col"},Zn=e("label",{class:"ml-2"},"EPF Number",-1),Wn={class:"row"},Xn={class:"col"},Qn=e("label",{class:"ml-1"},"UAN Number",-1),ed={class:"col ml-2"},td=e("label",{class:"ml-2"},[k("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),sd={class:"row"},od={class:"col-6"},ld=e("label",{for:"",class:"ml-2"},"ESIC Number",-1),ad=e("div",{class:"col"},null,-1),id=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),nd={__name:"FinanceDetails",setup(S){const a=le(),o=ae(),w=ie(),P=v(!1),A=v(!1),E=v();E.value=a.employeeDetails.payroll_summary,console.log("testing payroll summary :",E.value);let j=new FormData;j.append("user_code",ae.current_user_code),j.append("file_object",le.value);let y="/profile-pages/updateProfilePicture";q.post(y,j).then(I=>{}).finally(()=>{console.log("Photo Sent")});const t=v([]),O=v();t.value.push(a.employeeDetails.get_statutory_details),ne(()=>{o.getBankList().then(I=>{O.value=I.data}),a.fetchEmployeeDetails()});const G=v(!1),g=v(!1);v(),v();const V=W({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),T=W({pan_no:"",Pancard:""}),c=I=>{I.target.files&&I.target.files[0]&&(V.PassBook=I.target.files[0],console.log(V.PassBook))},p=v([{name:"Yes",value:"Yes"},{name:"No",value:"No"}]),m=()=>{P.value=!0;let u=`/update-bank-info/${o.current_user_id}`,n=new FormData;n.append("user_code",a.employeeDetails.user_code),n.append("bank_id",V.bank_id),n.append("account_no",V.bank_ac_no),n.append("bank_ifsc",V.ifsc_code),n.append("PassBook",V.PassBook),n.append("onboard_document_type","Cheque leaf/Bank Passbook"),q.post(u,n).then(ee=>{ee.data.status=="success"?(w.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),a.employeeDetails.get_employee_details.bank_id=V.bank_id,a.employeeDetails.get_employee_details.bank_account_number=V.bank_ac_no,a.employeeDetails.get_employee_details.bank_ifsc_code=V.ifsc_code,a.employeeDetails.get_employee_details.pan_no=V.pan_no):ee.data.status=="failure"&&(leave_data.leave_request_error_messege=ee.data.message)}).catch(ee=>{console.log(ee)}).finally(()=>{a.fetchEmployeeDetails(),P.value=!1}),G.value=!1};function _(){V.bank_id=parseInt(a.employeeDetails.get_employee_details.bank_id),V.bank_ac_no=a.employeeDetails.get_employee_details.bank_account_number,V.ifsc_code=a.employeeDetails.get_employee_details.bank_ifsc_code,V.pan_no=a.employeeDetails.get_employee_details.pan_number,G.value=!0}function L(){a.employeeDetails.get_statutory_details?(D.pf_applicable=a.employeeDetails.get_statutory_details.pf_applicable,D.epf_no=a.employeeDetails.get_statutory_details.epf_number,D.uan_no=a.employeeDetails.get_statutory_details.uan_number,D.esic_applicable=a.employeeDetails.get_statutory_details.esic_applicable,D.esic_no=a.employeeDetails.get_statutory_details.esic_number):g.value=!0,g.value=!0}const D=W({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),R=()=>{P.value=!0;let u=`/update-statutory-info/${o.current_user_id}`;q.post(u,{user_code:a.employeeDetails.user_code,pf_applicable:D.pf_applicable,epf_number:D.epf_no,uan_number:D.uan_no,esic_applicable:D.esic_applicable,esic_number:D.esic_no}).then(n=>{n.data.status=="success"?w.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):n.data.status=="failure"&&(leave_data.leave_request_error_messege=n.data.message)}).catch(n=>{console.log(n)}).finally(()=>{a.fetchEmployeeDetails(),P.value=!1}),g.value=!1},Y=I=>{I.target.files&&I.target.files[0]&&(T.Pancard=I.target.files[0],console.log(T.Pancard))},x=()=>{P.value=!0;const u=`/update-Pancard-info/${o.current_user_id}`,n=new FormData;n.append("pan_no",T.pan_no),n.append("pancard",T.Pancard),n.append("user_code",a.employeeDetails.user_code),n.append("onboard_document_type","Pan Card"),A.value=!1,T.Pancard&&q.post(u,n).finally(()=>{P.value=!1})},K=te(()=>({PassBook:{required:re}})),J=ue(K,V),r=()=>{J.value.$validate(),J.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),m())},d=te(()=>({pan_no:{required:re},Pancard:{required:re}})),F=ue(d,T),z=()=>{F.value.$validate(),F.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),x())},i=I=>{let u=String.fromCharCode(I.keyCode);if(/^[A-Za-z_ ]+$/.test(u))return!0;I.preventDefault()},N=I=>{let u=String.fromCharCode(I.keyCode);if(/^[A-Za-z0-9]+$/.test(u))return!0;I.preventDefault()};return(I,u)=>{const n=M("Dropdown"),ee=M("InputNumber"),de=M("InputText"),f=M("Toast"),me=M("Dialog"),he=M("InputMask"),ve=M("ProgressSpinner");return s(a).employeeDetails.get_statutory_details?(h(),$("div",mi,[pi,e("div",ui,[e("div",fi,[s(a).employeeDetails.get_employee_details?(h(),$("div",bi,[e("div",gi,[yi,e("div",hi,[e("div",vi,[xi,e("p",$i,b(s(a).employeeDetails.payroll_summary.payroll_date?s(H)(s(a).employeeDetails.payroll_summary.payroll_date).format("DD-MMM-YYYY"):"-"),1)]),e("div",Di,[wi,e("p",ki,b(s(a).employeeDetails.payroll_summary.worked_Days?s(a).employeeDetails.payroll_summary.worked_Days:"-"),1)]),e("div",Vi,[Ci,e("p",Pi,b(s(a).employeeDetails.payroll_summary.lop?s(a).employeeDetails.payroll_summary.lop:"-"),1)])])]),e("div",Si,[e("div",{class:"flex justify-around"},[Ui,e("div",{class:"flex justify-end"},[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:_,alt:""})])]),e("div",Mi,[e("div",Ei,[Yi,e("p",Ii,b(s(a).employeeDetails.get_employee_details.bank_name?s(a).employeeDetails.get_employee_details.bank_name:"-"),1)]),e("div",ji,[Li,e("p",Ai,b(s(a).employeeDetails.get_employee_details.bank_account_number?s(a).employeeDetails.get_employee_details.bank_account_number:"-"),1)]),e("div",Bi,[Fi,e("p",Ni,b(s(a).employeeDetails.get_employee_details.bank_ifsc_code?s(a).employeeDetails.get_employee_details.bank_ifsc_code:"-"),1)]),e("div",Ti,[Ri,e("p",Oi,b(s(a).employeeDetails.get_employee_details.pan_number?s(a).employeeDetails.get_employee_details.pan_number:"-"),1)])])]),e("div",Gi,[e("div",{class:"flex justify-around"},[qi,e("div",{class:"flex justify-end"},[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:L,alt:""})])]),e("div",zi,[e("div",Hi,[Ki,e("p",Ji,b(s(a).employeeDetails.get_statutory_details.pf_applicable?s(a).employeeDetails.get_statutory_details.pf_applicable:"-"),1)]),e("div",Zi,[Wi,e("p",Xi,b(s(a).employeeDetails.get_statutory_details.epf_number?s(a).employeeDetails.get_statutory_details.epf_number:"-"),1)]),e("div",Qi,[en,e("p",tn,b(s(a).employeeDetails.get_statutory_details.uan_number?s(a).employeeDetails.get_statutory_details.uan_number:"-"),1)]),e("div",sn,[on,e("p",ln,b(s(a).employeeDetails.get_statutory_details.esic_applicable?s(a).employeeDetails.get_statutory_details.esic_applicable:"-"),1)]),e("div",an,[nn,e("p",dn,b(s(a).employeeDetails.get_statutory_details.esic_number?s(a).employeeDetails.get_statutory_details.esic_number:"-"),1)])])])])):B("",!0)]),e("div",rn,[e("div",cn,[e("div",_n,[l(we)])])])]),l(me,{visible:G.value,"onUpdate:visible":u[5]||(u[5]=U=>G.value=U),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:C(()=>[e("div",null,[e("div",mn,[e("div",pn,[e("div",un,[e("div",fn,[bn,l(n,{editable:"",onKeypress:u[0]||(u[0]=U=>i(U)),options:O.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:V.bank_id,"onUpdate:modelValue":u[1]||(u[1]=U=>V.bank_id=U)},null,8,["options","modelValue"])])]),e("div",gn,[e("div",yn,[hn,vn,l(ee,{modelValue:V.bank_ac_no,"onUpdate:modelValue":u[2]||(u[2]=U=>V.bank_ac_no=U),class:"form-controls onboard-form",inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])])]),e("div",xn,[e("div",$n,[Dn,l(de,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:V.ifsc_code,"onUpdate:modelValue":u[3]||(u[3]=U=>V.ifsc_code=U)},null,8,["modelValue"])])]),e("div",wn,[e("div",kn,[Vn,e("div",Cn,[l(f),Pn,e("div",Sn,[e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:u[4]||(u[4]=U=>c(U)),style:{"text-transform":"uppercase"},class:Z(["form-controls pl-2",[s(J).PassBook.$error?"p-invalid":""]])},null,34),s(J).PassBook.$error?(h(),$("span",Un,b(s(J).PassBook.required.$message.replace("Value","PassBook or Cheque Leaf")),1)):B("",!0)]),V.PassBook?(h(),$("div",Mn,b(V.PassBook.name),1)):B("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:r},"Submit")])])])])]),_:1},8,["visible"]),l(me,{visible:A.value,"onUpdate:visible":u[8]||(u[8]=U=>A.value=U),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:C(()=>[e("div",null,[e("div",En,[e("div",Yn,[e("div",In,[e("div",jn,[Ln,l(he,{onFocusout:I.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:T.pan_no,"onUpdate:modelValue":u[6]||(u[6]=U=>T.pan_no=U),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:Z(["form-controls pl-2",[s(F).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),s(F).pan_no.$error?(h(),$("span",An,b(s(F).pan_no.required.$message.replace("Value","Pancard number")),1)):B("",!0)])]),e("div",Bn,[e("div",Fn,[Nn,e("div",Tn,[l(f),Rn,T.Pancard?(h(),$("div",On,b(T.Pancard.name),1)):B("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:u[7]||(u[7]=U=>Y(U)),class:Z([s(F).Pancard.$error?"p-invalid":""])},null,34)]),s(F).Pancard.$error?(h(),$("span",Gn,b(s(F).Pancard.required.$message.replace("Value","Pancard attachment")),1)):B("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:z},"Submit")])])])])]),_:1},8,["visible"]),l(me,{visible:g.value,"onUpdate:visible":u[17]||(u[17]=U=>g.value=U),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:C(()=>[e("div",null,[e("h5",{style:Q({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:C(()=>[e("div",qn,[e("div",zn,[e("div",Hn,[Kn,l(n,{modelValue:D.pf_applicable,"onUpdate:modelValue":u[9]||(u[9]=U=>D.pf_applicable=U),options:p.value,placeholder:"PF Applicable",optionLabel:"name",optionValue:"value",class:"w-100"},null,8,["modelValue","options"])]),e("div",Jn,[Zn,l(de,{onKeypress:u[10]||(u[10]=U=>N(U)),modelValue:D.epf_no,"onUpdate:modelValue":u[11]||(u[11]=U=>D.epf_no=U),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])])]),e("div",Wn,[e("div",Xn,[Qn,l(de,{onKeypress:u[12]||(u[12]=U=>N(U)),modelValue:D.uan_no,"onUpdate:modelValue":u[13]||(u[13]=U=>D.uan_no=U),class:"w-100",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),e("div",ed,[td,l(n,{modelValue:D.esic_applicable,"onUpdate:modelValue":u[14]||(u[14]=U=>D.esic_applicable=U),options:p.value,optionLabel:"name",placeholder:"ESIC Applicable",class:"w-100",optionValue:"value"},null,8,["modelValue","options"])])]),e("div",sd,[e("div",od,[ld,l(de,{onKeypress:u[15]||(u[15]=U=>N(U)),modelValue:D.esic_no,"onUpdate:modelValue":u[16]||(u[16]=U=>D.esic_no=U),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),ad]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:R},"Save")])])])]),_:1},8,["visible"]),l(me,{header:"Header",visible:P.value,"onUpdate:visible":u[18]||(u[18]=U=>P.value=U),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:C(()=>[l(ve,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:C(()=>[id]),_:1},8,["visible"])])):B("",!0)}}};const dd=e("h6",{class:"text-lg font-semibold"},"Experience Information",-1),rd={class:"flex items-center gap-6"},cd={class:"flex justify-center mx-4"},_d={class:"relative flex items-center justify-center w-1 h-full bg-green-300"},md={class:"absolute z-10 flex flex-col justify-center w-12 h-12 font-thin leading-none text-center bg-white border-2 border-green-300 rounded-full"},pd={key:0,class:"w-full p-2 my-2 bg-white border rounded-lg"},ud={class:"grid h-full grid-cols-12 gap-2 py-2"},fd={class:"col-span-2"},bd=e("p",{class:"text-xs font-semibold text-gray-500"},"Company Name",-1),gd={class:"text-sm font-semibold"},yd={class:"col-span-2"},hd=e("p",{class:"text-xs font-semibold text-gray-500"},"Location",-1),vd={class:"text-sm font-semibold"},xd={class:"col-span-2"},$d=e("p",{class:"text-xs font-semibold text-gray-500"},"JOb Position",-1),Dd={class:"text-sm font-semibold"},wd={class:"col-span-2"},kd=e("p",{class:"text-xs font-semibold text-gray-500"},"Period From",-1),Vd={class:"text-sm font-semibold"},Cd={class:"col-span-2"},Pd=e("p",{class:"text-xs font-semibold text-gray-500"},"Period To",-1),Sd={class:"text-sm font-semibold"},Ud={class:"relative flex justify-end col-span-2"},Md=["onClick"],Ed=e("i",{class:"pi pi-ellipsis-v"},null,-1),Yd=[Ed],Id={key:0,class:"absolute flex flex-col bg-white shadow-2xl top-4",style:{width:"160px","margin-top":"12px !important","margin-right":"20px !important"}},jd=["onClick"],Ld=["onClick"],Ad=e("div",null,null,-1),Bd=e("h1",{class:"absolute top-6 font-semibold"},"Experience Information",-1),Fd={class:"my-2"},Nd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),Td={class:"my-2"},Rd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Location"),e("span",{class:"text-danger"},"*")],-1),Od={class:"my-2"},Gd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Job Position"),e("span",{class:"text-danger"},"*")],-1),qd={class:"my-2"},zd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),Hd={class:"my-2"},Kd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period To"),e("span",{class:"text-danger"},"*")],-1),Jd={class:"flex justify-center my-4 !mt-[200px]"},Zd=e("h1",{class:"absolute font-semibold top-4"}," Experience Information",-1),Wd={class:"my-2"},Xd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),Qd={class:"my-2"},er=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Location"),e("span",{class:"text-danger"},"*")],-1),tr={class:"my-2"},sr=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Job Position"),e("span",{class:"text-danger"},"*")],-1),or={class:"my-2"},lr=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),ar={class:"my-2"},ir=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period To"),e("span",{class:"text-danger"},"*")],-1),nr={class:"flex justify-center my-4"},dr={__name:"ExperienceDetails",setup(S){const a=ae(),o=le(),w=ie();ie();const P=v();v(!0);const A=m=>{console.log(m),m&&(P.value=m)};v("");const E=v(!1),j=v(!1),y=v(),t=W({company_name:"",location:"",job_position:"",period_from:"",period_to:""});function O(){E.value=!0,t.company_name="",t.job_position="",t.location="",t.period_from="",t.period_to=""}const G=()=>{console.log(t),o.loading_screen=!0;let _=`/add-experience-info/${a.current_user_id}`;q.post(_,{user_code:o.employeeDetails.user_code,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:H(t.period_from).format("YYYY-MM-DD"),period_to:H(t.period_to).format("YYYY-MM-DD")}).then(L=>{L.data.status=="success"?w.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):L.data.status=="failure"&&(leave_data.leave_request_error_messege=L.data.message)}).catch(L=>{console.log(L)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1}),E.value=!1};ne(()=>{});const g=m=>{j.value=!0,j.value==!0&&(console.log(j),P.value=""),y.value=m.id,console.log(y.value),t.company_name=m.company_name,t.location=m.location,t.job_position=m.job_position,t.period_from=m.period_from,t.period_to=m.period_to},V=m=>{j.value=!1,P.value="";let L=`/update-experience-info/${a.current_user_id}`;q.post(L,{user_code:o.employeeDetails.user_code,exp_current_table_id:y.value,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:H(t.period_from).format("YYYY-MM-DD"),period_to:H(t.period_to).format("YYYY-MM-DD")}).then(D=>{D.data.status=="success"?(o.fetchEmployeeDetails(),w.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):D.data.status=="failure"&&(leave_data.leave_request_error_messege=D.data.message)}).catch(D=>{console.log(D)})},T=m=>{y.value=m.id;let L=`/delete-experience-info/${a.current_user_id}`;q.post(L,{exp_current_table_id:y.value}).then(D=>{D.data.status=="success"?(o.fetchEmployeeDetails(),w.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3})):D.data.status=="failure"&&(leave_data.leave_request_error_messege=D.data.message)}).catch(D=>{console.log(D)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1})},c=m=>{let _=String.fromCharCode(m.keyCode);if(/^[A-Za-z_ ]+$/.test(_))return!0;m.preventDefault()};function p(m,_){const L=new Date(m),R=new Date(_)-L,Y=365.25*24*60*60*1e3,x=R/Y;return x?x.toFixed(1):null}return(m,_)=>{const L=M("InputText"),D=M("Calendar"),R=M("Toast"),Y=M("Sidebar");return h(),$(ce,null,[e("div",{class:"flex items-center justify-between"},[dd,e("button",{type:"",class:"float-right text-[#fff] bg-[#000] px-4 py-2 rounded-lg",onClick:O}," Add New ")]),(h(!0),$(ce,null,$e(s(o).employeeDetails.get_experience_details,x=>(h(),$("div",rd,[e("div",cd,[e("div",_d,[e("div",md,[e("div",null,b(x.period_from&&x.period_to?p(x.period_from,x.period_to):0),1)])])]),s(o).employeeDetails.get_experience_details?(h(),$("div",pd,[e("div",ud,[e("div",fd,[bd,e("p",gd,b(x.company_name),1)]),e("div",yd,[hd,e("p",vd,b(x.location),1)]),e("div",xd,[$d,e("p",Dd,b(x.job_position),1)]),e("div",wd,[kd,e("p",Vd,b(s(H)(x.period_from).format("DD-MMM-YYYY")),1)]),e("div",Cd,[Pd,e("p",Sd,b(s(H)(x.period_to).format("DD-MMM-YYYY")),1)]),e("div",Ud,[e("button",{class:"",type:"button",onClick:K=>A(x.id)},Yd,8,Md),P.value===x.id?(h(),$("div",Id,[e("div",{class:"p-0 m-0 d-flex flex-column",onMouseleave:_[0]||(_[0]=K=>P.value="")},[e("button",{class:"h-[30px] p-2 text-black fw-semibold hover:bg-gray-200 border-bottom-1",onClick:K=>T(x)},"delete",8,jd),e("button",{onClick:K=>g(x),class:"!h-[33px] border-[1px] text-black fw-semibold hover:bg-gray-200 ho"},"View",8,Ld)],32)])):B("",!0)])])])):B("",!0)]))),256)),Ad,l(Y,{visible:E.value,"onUpdate:visible":_[7]||(_[7]=x=>E.value=x),position:"right",class:"!w-[500px]"},{default:C(()=>[Bd,e("div",Fd,[Nd,l(L,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":_[1]||(_[1]=x=>t.company_name=x),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",Td,[Rd,l(L,{type:"text",modelValue:t.location,"onUpdate:modelValue":_[2]||(_[2]=x=>t.location=x),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",Od,[Gd,l(L,{type:"text",onKeypress:_[3]||(_[3]=x=>c(x)),modelValue:t.job_position,"onUpdate:modelValue":_[4]||(_[4]=x=>t.job_position=x),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",qd,[zd,l(D,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:t.period_from,"onUpdate:modelValue":_[5]||(_[5]=x=>t.period_from=x)},null,8,["modelValue"])]),e("div",Hd,[Kd,l(D,{modelValue:t.period_to,"onUpdate:modelValue":_[6]||(_[6]=x=>t.period_to=x),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",Jd,[l(R),e("button",{class:"bg-[#000] text-[#ffff] p-2 px-4 rounded-md",severity:"success",id:"",onClick:G},"submit")])]),_:1},8,["visible"]),l(Y,{visible:j.value,"onUpdate:visible":_[15]||(_[15]=x=>j.value=x),position:"right",class:"!w-[500px]"},{default:C(()=>[Zd,e("div",Wd,[Xd,l(L,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":_[8]||(_[8]=x=>t.company_name=x),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",Qd,[er,l(L,{type:"text",modelValue:t.location,"onUpdate:modelValue":_[9]||(_[9]=x=>t.location=x),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",tr,[sr,l(L,{type:"text",onKeypress:_[10]||(_[10]=x=>c(x)),modelValue:t.job_position,"onUpdate:modelValue":_[11]||(_[11]=x=>t.job_position=x),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",or,[lr,l(D,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:t.period_from,"onUpdate:modelValue":_[12]||(_[12]=x=>t.period_from=x)},null,8,["modelValue"])]),e("div",ar,[ir,l(D,{modelValue:t.period_to,"onUpdate:modelValue":_[13]||(_[13]=x=>t.period_to=x),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",nr,[l(R),e("button",{type:"button",class:"bg-[#000] w-[144px] py-2 rounded-lg text-[white] success warning",severity:"success",id:"",onClick:_[14]||(_[14]=x=>V())},"submit")])]),_:1},8,["visible"])],64)}}};const rr={class:"card"},cr={class:"w-full"},_r={key:0},mr=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},"Approved",-1),pr=[mr],ur={key:1},fr=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-yellow-800 rounded-md bg-yellow-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),br=[fr],gr={key:2},yr=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-red-800 rounded-md bg-red-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),hr=[yr],vr={key:3},xr={key:0},$r={key:0},Dr=["onClick"],wr=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),k(" Upload file")],-1),kr=[wr],Vr={key:1},Cr={key:1},Pr=["onClick"],Sr=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),k(" Upload file")],-1),Ur=[Sr],Mr=["disabled"],Er={class:"w-full h-full d-flex justify-content-center"},Yr=["src"],Ir={__name:"documents",setup(S){const a=v([]);ne(()=>{w.fetch_EmployeeDocument(),console.log(" ",A.value),console.log("employeeDetails employee_documents ",o.employeeDetails.employee_documents),a.value=o});let o=le();const w=ke();ie();const P=v(!1),A=v({}),E=v();v();const j=v(),y=v(),t=new FormData,O=v(),G=c=>{P.value=!0,w.loading=!0,q.post("/view-profile-private-file",{user_code:o.user_code,document_name:c.document_name}).then(p=>{E.value=p.data.data,console.log("data sent",E.value)}).finally(()=>{w.loading=!1})};v(["Pending","Approved","Rejected"]);const g=c=>{y.value=c},V=c=>{console.log(y),c.target.files&&c.target.files[0]&&(j.value=c.target.files[0],t.append(`${y.value}`,j.value),t.append("user_code",o.employeeDetails.user_code),console.log(t),Object.keys(t)[0])};async function T(){if(O.value=="Failure")Swal.fire({title:O.value="Failure",text:"Please upload all mandatory documents",icon:"error",showCancelButton:!1}).then(c=>{});else{w.loading=!0;let c="/profile-page/saveEmployeeDocument";q.post(c,t).then(p=>{O.value=p.data.status,console.log(O.value),console.log("Photo not send"),p.data.status=="Success"?Swal.fire({title:p.data.status="Success",text:p.data.message,icon:"success",showCancelButton:!1}).then(m=>{}):p.data.status=="Failure"&&Swal.fire({title:p.data.status="Failure",text:p.data.message,icon:"error",showCancelButton:!1}).then(m=>{})}).finally(()=>{o.fetchEmployeeDetails(),w.fetch_EmployeeDocument(),w.loading=!1})}}return(c,p)=>{const m=M("Column"),_=M("Button"),L=M("DataTable"),D=M("Sidebar");return h(),$("div",rr,[e("div",cr,[l(L,{ref:"dt",value:s(o).employeeDetails.employee_documents,dataKey:"id",paginator:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],rows:5,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:C(()=>[l(m,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:C(()=>[k(b(s(w).getEmployeeDoc.document_name),1)]),_:1}),l(m,{field:"status",header:"status",style:{"min-width":"12rem"}},{body:C(R=>[R.data.status=="Approved"?(h(),$("div",_r,pr)):R.data.status==="Pending"?(h(),$("div",ur,br)):R.data.status==="Rejected"?(h(),$("div",gr,hr)):(h(),$("div",vr))]),_:1}),l(m,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:C(R=>[R.data.doc_id?(h(),$("div",xr,[R.data.status=="Rejected"?(h(),$("div",$r,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:p[0]||(p[0]=Y=>V(Y))},null,32),e("button",{class:"btn btn-success",onClick:Y=>g(R.data.document_name)},kr,8,Dr)])):(h(),$("div",Vr,[l(_,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:Y=>G(R.data),style:{height:"1.5em"}},null,8,["onClick"])]))])):(h(),$("div",Cr,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:p[1]||(p[1]=Y=>V(Y))},null,32),e("button",{class:"btn btn-success",onClick:Y=>g(R.data.document_name)},Ur,8,Pr)]))]),_:1})]),_:1},8,["value"]),e("button",{severity:"warn",type:"submit",data:"row-6",next:"row-6",name:"submit_form",id:"msform",class:"text-center btn btn-orange processOnboardForm float-end text-light mr-5 my-5",value:"Submit",disabled:c.fileUploadValidation,onClick:T}," Submit ",8,Mr),s(w).loading==!1?(h(),_e(D,{key:0,position:"right",visible:P.value,"onUpdate:visible":p[2]||(p[2]=R=>P.value=R),modal:"",header:"Documents",style:{width:"40vw"}},{default:C(()=>[e("div",Er,[e("img",{src:`data:image/png;base64,${E.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,Yr)])]),_:1},8,["visible"])):B("",!0)])])}}},jr={key:1,class:"w-full h-screen bg-gray-50 p-3"},Lr={class:"w-full my-2"},Ar={class:"col-12 col-sm-12 col-md-12 col-lg-12 col-xxl-12 col-xl-12"},Br=e("div",{class:"mb-2"},[e("div",{class:"pt-1 pb-0"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Fr={class:"tab-content",id:"pills-tabContent"},Nr={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Tr={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Rr={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Or={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Gr={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},sc={__name:"ProfilePageNew",setup(S){const a=ae(),o=De();let w=le();return ne(async()=>{o.params.user_code?(w.user_code=o.params.user_code,console.log(w.user_code),w.loading_screen=!0,await w.fetchEmployeeDetails().finally(()=>{w.loading_screen=!1})):(w.user_code=a.current_user_id,console.log(w.user_code),await w.fetchEmployeeDetails())}),(P,A)=>{const E=M("Toast");return h(),$(ce,null,[l(E),s(w).loading_screen?(h(),_e(Ve,{key:0,class:"absolute z-50 bg-white"})):B("",!0),s(w).employeeDetails.get_employee_office_details?(h(),$("div",jr,[l(Ts),e("div",Lr,[e("div",Ar,[Br,e("div",Fr,[e("div",Nr,[e("div",null,[l(ha)])]),e("div",Tr,[l(_i)]),e("div",Rr,[l(dr)]),e("div",Or,[e("div",null,[l(nd)])]),e("div",Gr,[l(Ir)])])])])])):B("",!0)],64)}}};export{sc as default};
