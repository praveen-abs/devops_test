/* empty css              *//* empty css                     *//* empty css                   *//* empty css                 */import{H as m,W as G,a7 as W,g as k,o as i,c as r,d as t,aa as e,l as Y,n as h,h as $,a as y,w as J,F as A,f as K,b as M,ac as q,ad as Q,ab as X,I as Z,P as ee,R as te,u as oe,x as ae,J as se,L as ne,N as le,K as ie,M as re}from"./inputnumber.esm-3276ace1.js";import{d as de,c as pe}from"./pinia-69eaa219.js";import{a as ce,T as me,B as ue,S as fe,b as be,s as ve}from"./toastservice.esm-fd7fc957.js";import{s as xe}from"./sidebar.esm-91a38ecf.js";import{a as _e}from"./datatable.esm-aaa10fcd.js";import{D as he,s as ge}from"./dialogservice.esm-d79ebc81.js";import{C as ye}from"./confirmationservice.esm-8b92365c.js";import{s as we}from"./progressspinner.esm-3aaf2487.js";import{s as Ee}from"./row.esm-6ebc942e.js";import{s as $e}from"./calendar.esm-5bf60357.js";import{s as Be}from"./textarea.esm-6856fedb.js";import{s as Ce}from"./chips.esm-0f79d3f0.js";import{s as De}from"./multiselect.esm-449ab35c.js";import{s as ke}from"./inputmask.esm-adfad161.js";import{s as Le}from"./overlaypanel.esm-7ff80356.js";import{s as Te}from"./tag.esm-290811e4.js";import{s as Re}from"./accordion.esm-24de0775.js";import{s as Se}from"./accordiontab.esm-ed4692e6.js";import{s as Ae}from"./selectbutton.esm-216e8f42.js";import{E as R,_ as P,a as S,e as Me}from"./employee_master_report-4191c5b7.js";import{L as Pe}from"./LoadingSpinner-04b36c70.js";import{a as D}from"./index-362795f3.js";import"./lodash-facb8280.js";import{_ as Ve}from"./_plugin-vue_export-helper-c27b6911.js";import{c as Fe,b as Ie}from"./vue-router-cdf0eac1.js";import{_ as Ne}from"./attendanceBasicReports-508a6a9b.js";/* empty css                                                                       */import"./printer-e0530634.js";import"./download-5ba6c221.js";import"./no-data-d6f55554.js";import"./dayjs.min-2f06af28.js";import"./Service-8807663f.js";const Oe=de("UseReports_store",()=>{const d=R(),s=m(),o=m(),B=m(),w=m(),x=m(),n=m(),f=m(),v=m(!1),L=m(1),T=m(),_=G({date:"",department_id:"",client_id:"",active_status:""}),l=m([]),C=m([]);function V(){v.value=!0,D.get("/clients-fetchAll").then(c=>{s.value=c.data,console.log("legal_entity ::",s.value)}).finally(()=>{v.value=!1})}function F(){v.value=!0,D.get("/get-department").then(c=>{o.value=c.data}).finally(()=>{v.value=!1})}function I(){v.value=!0,D.post("/get-filter-months-for-reports").then(c=>{B.value=c.data}).finally(()=>{v.value=!1})}function N(c,p,u){console.log(c,p,u),console.log(_);let b;u==2?b="/fetch-attendance-data":u==4?b="/fetch-overtime-report-data":u==5&&(f.value?f.value==1?b="/fetch-LC-report-data":f.value==2?b="/fetch-EG-report-data":f.value==3?b="/fetch-absent-report-data":f.value==4&&(b="/fetch-half-day-report"):(Swal.fire({title:"error",text:"selected report type",icon:"error",showCancelButton:!1}),d.period_Date=null,d.Department=null,d.legal_Entity=null)),c=="department"?_.department_id=p:c=="Category"?(_.active_status=p,console.log(_)):c=="date"?_.date=p:c=="legal_entity"&&(_.client_id=p),b&&(d.canShowLoading=!0,D.post(b,_).then(E=>{l.value=E.data.rows,E.data.headers.forEach(j=>{let z={title:j};C.value.push(z),E.data.rows.length===0&&Swal.fire({title:E.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(Yt=>{})})}).finally(()=>{d.canShowLoading=!1,d.selectedfilters.active_status="",d.selectedfilters.date="",d.selectedfilters.department_id="",d.selectedfilters.legal_entity="",d.legal_Entity="",d.Department="",d.period_Date="",d.select_Category=""}))}const O=c=>{d.canShowLoading=!0;let p,u;c==1?(p="/reports/generate-detailed-attendance-report",u="Attendance Detailed Report"):c==2?(p="/reports/generate-basic-attendance",u="Attendance Basic Report"):c==4?(p="/report/download-over-time-report",u="Attendance Overtime Report"):c==5&&(f.value==1?(p="/report/download-late-coming-report",u="Attendance Late-coming Report"):f.value==2?(p="/report/download-early-going-report",u="Attendance Early-coming Report"):f.value==3?(p="/report/download-absent-report",u="Attendance Absent Report"):f.value==4&&(p="/report/download-half-day-report",u="Attendance Half-day Report")),p&&D.post(p,_,{responseType:"blob"}).then(b=>{console.log(b.data);var E=document.createElement("a");E.href=window.URL.createObjectURL(b.data),E.download=`${u}.xlsx`,E.click()}).finally(()=>{d.canShowLoading=!1})},U=async()=>{let c="/fetch-attendance-data";v.value=!0,await D.post(c).then(p=>{console.log(p.data.rows),l.value=p.data.rows,p.data.headers.forEach(u=>{let b={title:u};C.value.push(b),console.log(u)}),console.log(C.value)}).finally(()=>{v.value=!1})};function H(){l.value.splice(0,l.value.length),C.value.splice(0,C.value.length),f.value=null}return{canShowLoading:v,Legal_Entity:w,Department:x,PeriodMonth:n,btn_download:T,getPeriodMonth:B,getDepartment:o,get_Legal_Entity:s,activetab:L,fetchFilterClientId:V,get_All_Department:F,fetchPeriodMonth:I,getSelectoption:N,AttendanceReportSource:l,AttendanceReportDynamicHeaders:C,getEmployeeAttendanceReports:U,attendance_Type:f,downloadAttendanceReports:O,clearDataTable:H}});const g=d=>(q("data-v-3b0be311"),d=d(),Q(),d),Ue={class:"px-2"},He={class:"flex justify-between mb-[10px]"},je=g(()=>t("h1",{class:"text-black text-[24px] font-semibold"},"Attendance Reports",-1)),ze=g(()=>t("i",{class:"mr-2 pi pi-times"},null,-1)),Ge={style:{position:"relative"}},We={class:"flex justify-between"},Ye={class:"flex mb-3 divide-x max-[1200px]:!w-[50%] nav nav-pills divide-solid nav-tabs-dashed max-[1024px]:w-[100%]",id:"pills-tab",role:"tablist"},Je={class:"nav-item !border-0 text-center font-['poppins'] text-[14px] text-[#001820]",role:"presentation"},Ke={key:0,class:"h-1 rounded-l-3xl relative top-[0px] !z-[10]",style:{border:"2.2px solid #F9BE00 !important"}},qe={key:1,class:"h-1 border-gray-300 border-3 rounded-l-3xl",style:{border:"2.2px solid #dcdcdc !important"}},Qe={class:"nav-item !border-0 flex items-center",role:"presentation"},Xe={key:0,class:"w-[100%] h-1 relative top-[0px] !z-[10]",style:{border:"2.2px solid #F9BE00 !important"}},Ze={key:1,class:"h-1 border-gray-300 border-3 rounded-l-3xl",style:{border:"2.2px solid #dcdcdc !important"}},et={class:"nav-item !border-0 flex items-center",role:"presentation"},tt={key:0,class:"w-[100%] h-1 relative top-[0px] !z-[10]",style:{border:"2.2px solid #F9BE00 !important"}},ot={key:1,class:"h-1 border-gray-300 border-3 rounded-l-3xl",style:{border:"2.2px solid #dcdcdc !important"}},at={class:"nav-item !border-0 flex items-center",role:"presentation"},st={key:0,class:"w-[100%] h-1 relative top-[0px] !z-[10]",style:{border:"2.2px solid #F9BE00 !important"}},nt={key:1,class:"h-1 border-gray-300 border-3 rounded-l-3xl",style:{border:"2.2px solid #dcdcdc !important"}},lt={class:"nav-item !border-0 flex items-center",role:"presentation"},it={key:0,class:"w-[100%] h-1 relative top-[0px] !z-[10]",style:{border:"2.2px solid #F9BE00 !important"}},rt={key:1,class:"h-1 border-gray-300 border-3 rounded-l-3xl",style:{border:"2.2px solid #dcdcdc !important"}},dt={class:"flex justify-between max-[1200px]:w-[50%] max-[1200px]:justify-start flex-wrap max-[1024px]:w-[100%]"},pt={class:"flex items-center"},ct=g(()=>t("h1",{class:"text-[12px] text-black mx-1 font-semibold font-['poppins']"},"Period : ",-1)),mt={class:"flex items-center"},ut=g(()=>t("h1",{class:"text-[12px] text-black mx-2 font-semibold font-['poppins']"},"Department : ",-1)),ft={class:"flex items-center"},bt=g(()=>t("h1",{class:"text-[12px] text-black mx-1 font-semibold font-['poppins']"},"Legal Entity : ",-1)),vt={class:"tab-content",id:""},xt={class:"card-body"},_t={class:"bg-white p-2 flex justify-between items-center"},ht={class:"flex !items-center"},gt={key:0,class:"flex items-center ml-2 pt-2"},yt=g(()=>t("h1",{class:"text-[12px] text-black mx-1 font-semibold font-['poppins']"},"Period : ",-1)),wt={class:"flex items-center"},Et=g(()=>t("p",{class:"relative left-2 font-['poppins']"},"Download",-1)),$t=g(()=>t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"},null,-1)),Bt=g(()=>t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),Ct=g(()=>t("path",{d:"M8,1 L8,11",class:"svg-out"},null,-1)),Dt=[$t,Bt,Ct],kt={__name:"AttendanceMaster",setup(d){const s=R(),o=Oe(),B=m({global:{value:null,matchMode:W.CONTAINS}});m(),m([{name:"Active",id:1},{name:"Yet To Active",id:0},{name:"Exit",id:-1}]);const w=m([{type:"Late Coming",id:1},{type:"Early Going",id:2},{type:"Absent",id:3},{type:"Half-Day Absent",id:4}]);return(x,n)=>{const f=k("Dropdown"),v=k("MultiSelect"),L=k("InputText"),T=k("Column"),_=k("DataTable");return i(),r("div",Ue,[t("div",He,[je,t("div",null,[t("button",{onClick:n[0]||(n[0]=l=>(e(s).clearfilterBtn(x.activetab),e(o).clearDataTable())),class:"flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[ze,Y(" Clear Filter")])])]),t("div",Ge,[t("div",We,[t("ul",Ye,[t("li",Je,[t("a",{class:h(["px-2 position-relative border-0 font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(o).activetab===1?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:n[1]||(n[1]=l=>(e(o).activetab=1,e(s).clearfilterBtn(x.activetab),e(o).clearDataTable()))}," DETAILED REPORT ",2),e(o).activetab===1?(i(),r("div",Ke)):(i(),r("div",qe))]),t("li",Qe,[t("a",{class:h(["px-2 position-relative border-0 font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(o).activetab===2?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:n[2]||(n[2]=l=>(e(o).activetab=2,e(s).clearfilterBtn(x.activetab),e(o).clearDataTable()))}," MUSTER ROLL ",2),e(o).activetab===2?(i(),r("div",Xe)):(i(),r("div",Ze))]),t("li",et,[t("a",{class:h(["px-2 position-relative border-0 font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(o).activetab===3?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:n[3]||(n[3]=l=>(e(o).activetab=3,e(s).clearfilterBtn(x.activetab),e(o).clearDataTable()))}," CONSOLIDATE ",2),e(o).activetab===3?(i(),r("div",tt)):(i(),r("div",ot))]),t("li",at,[t("a",{class:h(["px-4 position-relative border-0 font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(o).activetab===4?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:n[4]||(n[4]=l=>(e(o).activetab=4,e(s).clearfilterBtn(x.activetab),e(o).clearDataTable()))}," OVERTIME ",2),e(o).activetab===4?(i(),r("div",st)):(i(),r("div",nt))]),t("li",lt,[t("a",{class:h(["px-2 position-relative border-0 font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(o).activetab===5?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:n[5]||(n[5]=l=>(e(o).activetab=5,e(s).clearfilterBtn(x.activetab),e(o).clearDataTable()))}," OTHERS ",2),e(o).activetab===5?(i(),r("div",it)):(i(),r("div",rt))])]),t("ul",dt,[t("li",pt,[ct,$(f,{optionLabel:"month",optionValue:"date",options:e(s).PeriodMonth,modelValue:e(s).period_Date,"onUpdate:modelValue":n[6]||(n[6]=l=>e(s).period_Date=l),onChange:n[7]||(n[7]=l=>e(o).getSelectoption("date",e(s).period_Date,e(o).activetab)),placeholder:"Select period",class:"w-[120px] mx-1 !h-10 my-1 !font-semibold !font-['poppins'] !text-[#000] !bg-[#E6E6E6]"},null,8,["options","modelValue"])]),t("li",mt,[ut,$(v,{modelValue:e(s).Department,"onUpdate:modelValue":n[8]||(n[8]=l=>e(s).Department=l),options:e(s).department,optionLabel:"name",placeholder:"Department",onChange:n[9]||(n[9]=l=>e(o).getSelectoption("department",e(s).Department,e(o).activetab)),optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[140px] my-1 !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",ft,[bt,$(v,{onChange:n[10]||(n[10]=l=>e(o).getSelectoption("legal_entity",e(s).legal_Entity,e(o).activetab)),modelValue:e(s).legal_Entity,"onUpdate:modelValue":n[11]||(n[11]=l=>e(s).legal_Entity=l),options:e(s).client_ids,optionLabel:"client_fullname",placeholder:"Legal Entity",optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[140px] my-1 !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])])])]),t("div",vt,[t("div",xt,[t("div",null,[t("div",_t,[t("div",ht,[t("div",null,[$(L,{placeholder:"Search",modelValue:B.value.global.value,"onUpdate:modelValue":n[12]||(n[12]=l=>B.value.global.value=l),class:"border-color !h-10 my-1"},null,8,["modelValue"])]),e(o).activetab==5?(i(),r("div",gt,[yt,$(f,{optionLabel:"type",optionValue:"id",options:w.value,modelValue:e(o).attendance_Type,"onUpdate:modelValue":n[13]||(n[13]=l=>e(o).attendance_Type=l),placeholder:"Select Type",class:"w-[120px] text-[10px] mx-1 !h-10 my-1 !font-semibold !font-['poppins'] !text-[#000] !bg-[#E6E6E6]"},null,8,["options","modelValue"])])):y("",!0)]),t("div",wt,[t("button",{class:h(["p-2 mx-2 rounded-md w-[120px]",[!e(o).AttendanceReportDynamicHeaders.length==0?"bg-[#000] text-white":" !text-[#000] !bg-[#E6E6E6] "]]),onClick:n[14]||(n[14]=l=>(e(o).btn_download=!e(o).btn_download,e(o).downloadAttendanceReports(e(o).activetab)))},[Et,t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:h([e(o).btn_download==!0?x.toggleClass:" "])},[(i(),r("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:h([!e(o).AttendanceReportDynamicHeaders.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},Dt,2))],2)],2)])]),t("div",null,[$(_,{value:e(o).AttendanceReportSource,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",responsiveLayout:"scroll"},{default:J(()=>[(i(!0),r(A,null,K(e(o).AttendanceReportDynamicHeaders,l=>(i(),M(T,{key:l.title,field:l.title,header:l.title,style:{"white-space":"nowrap","text-align":"left"}},null,8,["field","header"]))),128))]),_:1},8,["value"])])])])])])])}}},Lt=Ve(kt,[["__scopeId","data-v-3b0be311"]]),Tt={style:{position:"relative"}},Rt={class:"mb-3 divide-x nav nav-pills divide-solid nav-tabs-dashed w-[50%]",id:"pills-tab",role:"tablist"},St={class:"nav-item",role:"presentation"},At={key:0,class:"h-1 rounded-l-3xl",style:{border:"2px solid #F9BE00 !important"}},Mt={key:1,class:"h-1 border-2 border-gray-300 rounded-l-3xl",style:{border:"2px solid #dcdcdc !important"}},Pt={class:"border-0 nav-item position-relative",role:"presentation"},Vt={key:0,class:"h-1 rounded-r-3xl position-absolute bottom-[1px] w-[100%] left-0",style:{border:"2px solid #F9BE00 !important"}},Ft={key:1,class:"h-1 border-2 border-gray-300 rounded-l-3xl"},It=t("div",{class:"border-gray-300 border-b-[4px] w-100 mt-[-7px]"},null,-1),Nt={class:"tab-content",id:""},Ot={class:"card-body"},Ut={key:0},Ht={key:1},jt={key:2},zt={__name:"ReportsMaster",setup(d){const s=m(1),o=R();return X(()=>{o.fetchFilterClientIds(),o.getALLdepartment(),o.getPeriodMonth()}),(B,w)=>(i(),r(A,null,[e(o).canShowLoading?(i(),M(Pe,{key:0,class:"absolute z-50 bg-white"})):y("",!0),t("div",null,[t("div",Tt,[t("ul",Rt,[t("li",St,[t("a",{class:h(["px-4 position-relative border-0 font-['poppins'] text-[14px] text-[#001820]",[s.value===1?"active font-semibold border: 2px solid #F9BE00 !important;":"font-medium !text-[#8B8B8B] border: 2px solid #dcdcdc !important;"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:w[0]||(w[0]=x=>(s.value=1,e(o).clearfilterBtn(s.value)))}," EMPLOYEE REPORTS ",2),s.value===1?(i(),r("div",At)):(i(),r("div",Mt))]),y("",!0),y("",!0),t("li",Pt,[t("a",{class:h(["text-center px-4 border-0 font-['poppins'] text-[14px] text-[#001820]",[s.value===4?"active font-semibold ":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",onClick:w[3]||(w[3]=x=>(s.value=4,e(o).clearfilterBtn(s.value))),role:"tab","aria-controls":"","aria-selected":"true"}," ATTENDANCE ",2),s.value===4?(i(),r("div",Vt)):(i(),r("div",Ft))]),y("",!0),y("",!0),It]),t("div",Nt,[t("div",null,[t("div",Ot,[s.value===1?(i(),r("div",Ut,[$(P)])):y("",!0),s.value===4?(i(),r("div",Ht,[$(Lt)])):y("",!0),s.value===3?(i(),r("div",jt)):y("",!0)])])])])])],64))}},Gt=Fe({history:Ie("/build/"),routes:[{path:"/testing_pradeesh",name:"home",component:P,children:[{path:"/",name:"user",component:S},{path:"/employee_CTC",name:"user",component:Me}]},{path:"/attenndance",name:"basicReport",component:Ne},{path:"/employeeMaster",name:"employeeMaster",component:S}]}),a=Z(zt),Wt=pe();a.use(ee,{ripple:!0});a.use(ye);a.use(ce);a.use(he);a.use(Wt);a.use(Gt);a.directive("tooltip",me);a.directive("badge",ue);a.directive("ripple",te);a.directive("styleclass",fe);a.directive("focustrap",oe);a.component("Button",ae);a.component("DataTable",_e);a.component("Column",se);a.component("ColumnGroup",ge);a.component("Row",Ee);a.component("Toast",be);a.component("ConfirmDialog",ve);a.component("Dropdown",ne);a.component("InputText",le);a.component("Dialog",ie);a.component("ProgressSpinner",we);a.component("Calendar",$e);a.component("Textarea",Be);a.component("Chips",Ce);a.component("MultiSelect",De);a.component("InputNumber",re);a.component("InputMask",ke);a.component("OverlayPanel",Le);a.component("Tag",Te);a.component("Sidebar",xe);a.component("Accordion",Re);a.component("AccordionTab",Se);a.component("SelectButton",Ae);a.mount("#ReportsMaster");
