import{Q as m,$ as he,W as j,af as O,a5 as G,g as h,o as r,c as i,d as e,l as P,t as c,ae as o,a as b,h as a,w as L,k as N,E as U,n as T,F as H,aq as be,G as ge,P as ve,H as xe,R as fe,u as ye,v as $e,L as we,I as Ie,K as Le,A as Me,J as De}from"./toastservice.esm-c06f2f8b.js";/* empty css                 */import{d as Te,c as Ee}from"./pinia-c421e60d.js";import{T as Re,B as ke,S as Se,b as Pe,a as Fe,c as qe}from"./styleclass.esm-f13b5ad8.js";import"./blockui.esm-b5c5eeb1.js";import{D as Ae}from"./dialogservice.esm-66159036.js";import{C as Ve}from"./confirmationservice.esm-5e8ac686.js";import{s as Ce}from"./progressspinner.esm-7742d82c.js";import{s as We}from"./row.esm-6ebc942e.js";import{s as Ne}from"./columngroup.esm-9dd1458e.js";import{s as Ue}from"./calendar.esm-b2adcb28.js";import{s as Ye}from"./textarea.esm-0239076c.js";import{s as je}from"./chips.esm-15cd260c.js";import{s as Be}from"./multiselect.esm-bf807607.js";import{s as Oe}from"./selectbutton.esm-c0a0c2ad.js";import{s as ze}from"./radiobutton.esm-aba1949a.js";import{s as Ke}from"./checkbox.esm-486d8fff.js";import{_ as J}from"./svg_oops-db663e6e.js";import{c as Y,r as V,u as Q}from"./index.esm-9db5994e.js";import{a as k}from"./index-362795f3.js";import"./lodash-facb8280.js";import{d as B}from"./dayjs.min-2f06af28.js";const z=Te("useEmpSalaryAdvanceStore",()=>{const f=m(!1);he("$swal");const t=m(!1),S=m(),w=m(),g=m(),v=m([]),x=j({ymi:"",ra:"",mxe:"",repdate:"",reason:"",isEligibleEmp:"",storeRepDate:""}),F=m();async function d(){let l="/getEmpsaladvDetails";await k.get(l).then(D=>{F.value=D.data,console.log(F.value)}).finally(()=>{})}const y=()=>{f.value=!0,k.get("/showEmployeeview").then(l=>{S.value=l.data,x.ymi=l.data.your_monthly_income,x.mxe=l.data.max_eligible_amount,x.storeRepDate=l.data.Repayment_date,x.isEligibleEmp=l.data.eligible,w.value=l.data.percent_salary_amt}).finally(()=>{f.value=!1})},p=()=>{t.value=!1,f.value=!0,k.post("/EmpSaveSalaryAmt",x).then(l=>{s(l.data),ae()}).finally(()=>{f.value=!1})};function s(l){let D=l;D.status=="success"?Swal.fire({title:D.status="success",text:D.message,icon:"success"}).then(W=>{d()}):D.status=="failure"&&Swal.fire({title:D.status="failure",text:D.message,icon:"error",showCancelButton:!1}).then(W=>{})}const $=m(!1),E=m(),R=m([]),_=j({minEligibile:"",availPerInCtc:"",deductMethod:"",cusDeductMethod:"",maxTenure:"",required_amount:"",M_EMI:"",Term:"",EMI_Start_Month:"",EMI_End_Month:"",Total_Months:"",Reason:"",max_tenure_months:"",details:"",loan_type:"InterestFreeLoan",loan_setting_id:""});function C(){k.post("/show-eligible-interest-free-loan-details",{loan_type:"InterestFreeLoan"}).then(l=>{console.log(l),_.details=l.data,_.loan_setting_id=l.data.loan_setting_id,_.minEligibile=l.data.max_loan_amount,R.value=l.data.max_tenure_months})}const q=()=>{f.value=!0,console.log("fetching SA"),k.post("/employee-loan-history",{loan_type:"InterestFreeLoan"}).then(l=>{E.value=l.data,console.log(l.data)}).finally(()=>{f.value=!1})},M=()=>{f.value=!0,console.log("Saving SA"),k.post("/apply-loan",_).then(l=>{s(l.data)}).finally(()=>{f.value=!1,q()}),$.value=!1},I=m(1),n=m(!1),X=m(),Z=j({tdl:"",deductMethod:"",sumbitWithIn:"",isDeductedInsubsequentpayroll:"",ra:"",reason:""}),ee=()=>{console.log("fetching SA"),k.get("http://localhost:3000/TravelAdvance").then(l=>{X.value=l.data,console.log(l.data)}).finally(()=>{f.value=!1})},ie=()=>{f.value=!0,k.post("http://localhost:3000/TravelAdvance",Z).finally(()=>{f.value=!1,ee()}),n.value=!1},te=m(!1),de=m(1),oe=m(),A=j({minEligibile:"",availPerInCtc:"",deductMethod:"",cusDeductMethod:"",maxTenure:"",required_amount:"",Term:"",Interest_rate:"",M_EMI:"0",EMI_Start_Month:"",EMI_End_Month:"",Total_Month:"",Reason:"",total_amount:"0",max_tenure_months:"",details:"",loan_type:"InterestWithLoan",loan_settings_id:""}),ce=()=>{k.post("/show-eligible-interest-free-loan-details",{loan_type:"InterestWithLoan"}).then(l=>{A.details=l.data,A.Interest_rate=l.data.loan_amt_interest,A.minEligibile=l.data.max_loan_amount,A.loan_settings_id=l.data.loan_settings_id,A.max_tenure_months=l.data.max_tenure_months})},se=()=>{console.log(A),f.value=!0,k.post("/employee-loan-history",{loan_type:"InterestWithLoan"}).then(l=>{oe.value=l.data,console.log(l.data)}).finally(()=>{f.value=!1})},me=()=>{f.value=!0,k.post("/apply-loan",A).then(l=>{s(l.data)}).finally(()=>{f.value=!1,se()}),te.value=!1},_e=(l,D,W)=>{const ne=l*D/100;console.log(ne);let K=l+ne;console.log(K);let le=K/W;console.log(le);let re={monthlyDue:le.toFixed(0),totalDue:K};A.M_EMI=re.monthlyDue,A.total_amount=re.totalDue};function ae(){x.ra="",x.repdate="",x.reason=""}async function ue(l){let D=l;await k.post("is-eligible-for-loan-and-advance",{eligible:D}).then(W=>{g.value=W.data,console.log(g.value)})}async function pe(l){let D=l;await k.post("/employee-dashboard-loan-and-advance",{loan_type:D}).then(W=>{v.value=W.data.data})}return{canShowLoading:f,dailogSalaryAdvance:t,percent_salary_amt:w,salaryAdvanceEmployeeData:S,sa:x,fetchSalaryAdvance:y,saveSalaryAdvance:p,arraySalaryDetails:F,getSalaryDetails:d,SAreset:ae,dialog_NewInterestFreeLoanRequest:$,isInterestFreeLoanFeature:E,interestFreeLoan:_,max_tenure_month:R,saveInterestfreeLoan:M,fetchInterestfreeLoan:q,getinterestfreeloan:C,isTravelAdvanceFeatureEnabled:I,eligibleTravelAdvanceEmployeeData:X,ta:Z,dialog_TravelAdvance:n,saveTravelAdvance:ie,fetchTraveladvance:ee,isLoanWithInterestFeature:de,InterestWithLoan:A,dialogInterestwithLoan:te,saveInterestWithLoan:me,InterestWithLoanData:oe,fetchInterstWithLoan:se,calculateLoanDetails:_e,getLoanDetails:ce,getEligible_loan_and_advance:ue,eligibleEmployees:g,getEmployeeTotalvalue:pe,loanDashboard:v}});const Ge={class:"mr-4 card"},He={class:"px-5 row d-flex justify-content-start align-items-center card-body"},Je={class:"flex justify-between gap-6 my-2"},Qe={class:"max-[1300px]:w-[30%px]"},Xe={class:"text-[14px] font-['Poppins'] font-medium"},Ze={class:"text-lg"},et={class:"float-right flex"},tt=e("button",{class:"btn btn-border-orange font-['Poppins'] w-[100px] h-[30px]"},[e("p",{class:"font-['Poppins']"},"View Report")],-1),ot=e("i",{class:"mx-2 fa fa-plus","aria-hidden":"true"},null,-1),st=e("p",{class:"font-['Poppins']"},"New Request",-1),at=[ot,st],nt={class:"my-6 widget-card"},lt={class:"grid gap-4 md:grid-cols-2 xl:grid-cols-5 lg:grid-cols-5"},rt={class:"py-3 text-center bg-red-100 border-l-4 rounded-lg tw-card border-l-red-400"},it=e("p",{class:"mb-2 text-ash-medium text-[14px]"},"Total Advance Amount",-1),dt={key:0,class:"mb-0 text-base text-gray-500"},ct={key:1,class:"mb-0 text-base text-gray-500"},mt={class:"p-3 text-center bg-green-100 border-l-4 rounded-lg tw-card border-l-green-400"},_t=e("p",{class:"mb-2 text-ash-medium text-[14px]"}," Total Repaid Amount",-1),ut={class:"mb-0 text-base text-gray-500"},pt={key:0,class:"mb-0 text-base text-gray-500"},ht={class:"p-3 text-center bg-blue-100 border-l-4 rounded-lg tw-card border-l-blue-400"},bt=e("p",{class:"mb-2 text-ash-medium text-[14px]"},"Balance Amount",-1),gt={class:"mb-0 font-semibold text-base text-gray-500"},vt={key:0,class:"mb-0 text-base text-gray-500"},xt={class:"p-3 text-center bg-orange-100 border-l-4 rounded-lg tw-card border-l-orange-400"},ft=e("p",{class:"mb-2 text-[14px] text-ash-medium"},"Pending Request",-1),yt={class:"mb-0 text-[14px] text-gray-500"},$t={key:0,class:"mb-0 text-base text-gray-500"},wt={class:"p-3 text-center bg-yellow-100 border-l-4 rounded-lg tw-card border-l-yellow-400"},It=e("p",{class:"mb-2 text-[14px] text-ash-medium"},"Completed Rquests",-1),Lt={key:0,class:"mb-0 text-base text-gray-500"},Mt={class:"mb-0 text-[14px] text-gray-500"},Dt={class:"table-responsive"},Tt=e("h1",{class:"mx-3 fs-4 text-xxl",style:{"border-left":"3px solid var(--orange)","padding-left":"10px"}},"New Salary Advance Request",-1),Et={key:0,class:"w-100 h-100"},Rt={class:"flex pb-2 bg-gray-100 rounded-lg gap-3 shadow-md"},kt={class:"w-5 p-4"},St=e("span",{class:"font-semibold"},"Your Monthly Income",-1),Pt={class:"w-5 p-4 mx-4"},Ft=e("span",{class:"font-semibold"},"Required Amount",-1),qt={key:0,class:"font-semibold text-red-400 fs-6"},At={class:"text-sm font-semibold text-gray-500"},Vt={class:"gap-6 p-4 my-3 bg-gray-100 rounded-lg shadow-md"},Ct=e("span",{class:"font-semibold"},"Repayment",-1),Wt={class:"my-2 text-gray-600 fs-5 text-md"},Nt={class:"gap-6 p-4 my-3 bg-gray-100 rounded-lg shadow-md"},Ut=e("span",{class:"font-semibold"},"Reason",-1),Yt={key:0,class:"font-semibold text-red-400 fs-6"},jt=e("button",{class:"btn btn-border-orange"},"Cancel",-1),Bt={key:1,class:""},Ot=e("div",{class:"h-100 w-100"},[e("img",{src:J,alt:"",srcset:"",class:"w-100 h-[400px]"}),e("p",{class:"my-2 font-semibold fs-3 text-center"},"You are not eligible to apply salary advance")],-1),zt=[Ot],Kt={__name:"salary_advance",setup(f){const t=z();O(()=>{t.fetchSalaryAdvance(),t.getSalaryDetails(),t.getEmployeeTotalvalue("sal_adv")});const S=d=>!(d>t.sa.mxe),w=G(()=>({ra:{required:Y.withMessage("Required amount is required",V),eligibleRequiredAmount:Y.withMessage("Must be lesser than max eligible amount",S)},reason:{required:V}})),g=Q(w,t.sa),v=()=>{g.value.$validate(),g.value.$error?console.log("Form failed validation"):(console.log("Form successfully submitted."),t.saveSalaryAdvance(),g.value.$reset())},x=m("center"),F=d=>{x.value=d,t.dailogSalaryAdvance=!0};return(d,y)=>{const p=h("Column"),s=h("DataTable"),$=h("Dropdown"),E=h("Textarea"),R=h("Dialog");return r(),i(H,null,[e("div",Ge,[e("div",He,[e("div",Je,[e("div",Qe,[e("p",Xe,[P("The company allows employees to request a salary advance of up to "),e("strong",Ze,c(o(t).percent_salary_amt)+"%",1),P(" of their monthly salary.")])]),e("div",et,[tt,e("button",{onClick:y[0]||(y[0]=_=>F("top")),class:"mx-2 btn btn-orange flex items-center w-[135px] h-[30px]"},at)])]),e("div",nt,[e("div",lt,[e("div",rt,[it,o(t).loanDashboard.total_borrowed_amt===null?(r(),i("h6",dt," -")):(r(),i("h6",ct,c(o(t).loanDashboard.total_borrowed_amt),1))]),e("div",mt,[_t,e("h6",ut,c(o(t).loanDashboard.total_repaid_amt),1),o(t).loanDashboard.total_repaid_amt===null?(r(),i("h6",pt," -")):b("",!0)]),e("div",ht,[bt,e("h6",gt,c(o(t).loanDashboard.balance_amt),1),o(t).loanDashboard.balance_amt===null?(r(),i("h6",vt," -")):b("",!0)]),e("div",xt,[ft,e("h6",yt,c(o(t).loanDashboard.pending_request),1),o(t).loanDashboard.balance_amt===null?(r(),i("h6",$t," -")):b("",!0)]),e("div",wt,[It,o(t).loanDashboard.balance_amt===null?(r(),i("h6",Lt," -")):b("",!0),e("h6",Mt,c(o(t).loanDashboard.compeleted_request),1)])])]),e("div",Dt,[a(s,{value:o(t).arraySalaryDetails,ref:"dt",dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:L(()=>[a(p,{header:"Request ID",field:"request_id",style:{"min-width":"8rem"}}),a(p,{field:"borrowed_amount",header:"Advance Amount",style:{"min-width":"12rem"}}),a(p,{field:"",header:"Paid On ",style:{"min-width":"12rem"}}),a(p,{field:"dedction_date",header:"Expected Return",style:{"min-width":"12rem"}}),a(p,{field:"sal_adv_status",header:"Status",style:{"min-width":"12rem"}},{default:L(()=>[P(c(d.slotProps.data.sal_adv_status),1)]),_:1})]),_:1},8,["value"])])])]),a(R,{visible:o(t).dailogSalaryAdvance,"onUpdate:visible":y[5]||(y[5]=_=>o(t).dailogSalaryAdvance=_),modal:"",position:x.value,style:{width:"50vw",borderTop:"5px solid #002f56",height:"100vh"}},{header:L(()=>[Tt]),default:L(()=>[o(t).sa.isEligibleEmp==0?(r(),i("div",Et,[e("div",Rt,[e("div",kt,[St,N(e("input",{id:"rentFrom_month","onUpdate:modelValue":y[1]||(y[1]=_=>o(t).sa.ymi=_),readonly:"",class:"my-2 border border-black text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 bg-gray-300"},null,512),[[U,o(t).sa.ymi]])]),e("div",Pt,[Ft,N(e("input",{id:"rentFrom_month","onUpdate:modelValue":y[2]||(y[2]=_=>o(t).sa.ra=_),class:T(["my-2 border border-black text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",[o(g).ra.$error?"border border-red-500":""]])},null,2),[[U,o(t).sa.ra]]),o(g).ra.$error?(r(),i("span",qt,c(o(g).ra.$errors[0].$message),1)):b("",!0),e("p",At,"Max Eligible Amount : "+c(o(t).sa.mxe),1)])]),e("div",Vt,[Ct,e("p",Wt,[P("The advance amount will be deducted from the next month's salary "),a($,{modelValue:o(t).sa.repdate,"onUpdate:modelValue":y[3]||(y[3]=_=>o(t).sa.repdate=_),options:o(t).sa.storeRepDate,optionLabel:"date",optionValue:"date",placeholder:"Select a Date",class:"w-full md:w-14rem"},null,8,["modelValue","options"])])]),e("div",Nt,[Ut,a(E,{class:T(["my-3 capitalize form-control textbox",[o(g).reason.$error?"p-invalid":""]]),autoResize:"",type:"text",rows:"3",modelValue:o(t).sa.reason,"onUpdate:modelValue":y[4]||(y[4]=_=>o(t).sa.reason=_)},null,8,["modelValue","class"]),o(g).reason.$error?(r(),i("span",Yt,c(o(g).reason.$errors[0].$message),1)):b("",!0)]),e("div",{class:"float-right"},[jt,e("button",{class:"mx-4 btn btn-orange",onClick:v},"Submit")])])):(r(),i("div",Bt,zt))]),_:1},8,["visible","position"])],64)}}};const Gt={class:"mr-4 card"},Ht={class:"px-5 row d-flex justify-content-start align-items-center card-body"},Jt={class:"flex justify-between gap-6 my-2"},Qt=e("div",{class:"max-[1300px]:w-[30%px]"},[e("p",{class:"text-[14px] font-medium"},[P("You are eligible for the Loan with Interest as per the "),e("span",{class:"text-[14px] text-primary text-decoration-underline"}," Company's Loan Policy ")])],-1),Xt={class:"float-right flex"},Zt=e("button",{class:"btn btn-border-orange font-['Poppins'] w-[100px] h-[30px]"},[e("p",{class:""}," View Report")],-1),eo=e("i",{class:"mx-2 fa fa-plus","aria-hidden":"true"},null,-1),to=e("p",null," New Request",-1),oo=[eo,to],so={class:"my-6 widget-card"},ao={class:"grid gap-4 md:grid-cols-2 xl:grid-cols-5 lg:grid-cols-5"},no={class:"py-3 text-center bg-red-100 border-l-4 rounded-lg tw-card border-l-red-400"},lo=e("p",{class:"mb-2 text-ash-medium text-[14px]"},"Total Advance Amount",-1),ro={key:0,class:"mb-0 text-base text-gray-500"},io={key:1,class:"mb-0 text-base text-gray-500"},co={class:"p-3 text-center bg-green-100 border-l-4 rounded-lg tw-card border-l-green-400"},mo=e("p",{class:"mb-2 text-ash-medium text-[14px]"}," Total Repaid Amount",-1),_o={class:"mb-0 text-base text-gray-500"},uo={key:0,class:"mb-0 text-base text-gray-500"},po={class:"p-3 text-center bg-blue-100 border-l-4 rounded-lg tw-card border-l-blue-400"},ho=e("p",{class:"mb-2 text-ash-medium text-[14px]"},"Balance Amount",-1),bo={class:"mb-0 font-semibold text-base text-gray-500"},go={key:0,class:"mb-0 text-base text-gray-500"},vo={class:"p-3 text-center bg-orange-100 border-l-4 rounded-lg tw-card border-l-orange-400"},xo=e("p",{class:"mb-2 text-[14px] text-ash-medium"},"Pending Request",-1),fo={class:"mb-0 text-[14px] text-gray-500"},yo={key:0,class:"mb-0 text-base text-gray-500"},$o={class:"p-3 text-center bg-yellow-100 border-l-4 rounded-lg tw-card border-l-yellow-400"},wo=e("p",{class:"mb-2 text-[14px] text-ash-medium"},"Completed Rquests",-1),Io={key:0,class:"mb-0 text-base text-gray-500"},Lo={class:"mb-0 text-[14px] text-gray-500"},Mo={class:"table-responsive"},Do=e("div",null,[e("h1",{style:{"border-left":"3px solid var( --orange)","padding-left":"10px"},class:"fs-4"},"New interest With Loan Request")],-1),To={key:0},Eo={class:"h-100 w-100"},Ro=e("img",{src:J,alt:"",srcset:"",class:"w-100 h-[400px]"},null,-1),ko={class:"my-2 font-semibold fs-3 text-center"},So={key:1},Po={class:"row p-2"},Fo={class:"col-7"},qo={class:"card border-0"},Ao={class:"card-body bg-gray-100"},Vo={class:"row"},Co={class:"col-6",style:{"margin-right":"30px"}},Wo=e("h1",{class:"fs-5 my-2"},"Required Amount",-1),No=e("br",null,null,-1),Uo={key:0,class:"font-semibold text-red-400 fs-6"},Yo={class:"fs-6 my-2",style:{color:"var(--clr-gray)"}},jo={class:"col mx-2"},Bo=e("h1",{class:"fs-5 my-2"},"Term",-1),Oo=e("label",{for:"",class:"fs-5 ml-1",style:{color:"var(--navy)"}},"Month",-1),zo=e("br",null,null,-1),Ko={key:0,class:"font-semibold text-red-400 fs-6"},Go={class:"row"},Ho={class:"col-12 pr-5"},Jo={class:"col"},Qo={class:"row"},Xo={class:"col-12 pl-8 pr-8"},Zo={class:"div p-2 d-flex justify-items-center align-items-center flex-column rounded bg-blue-100 shadow-md"},es=e("h1",{class:"fw-semibold mt-1 fs-5"},"Interest Rate",-1),ts={class:"col pl-8 pr-8"},os={class:"div allcenter p-2 rounded shadow-md",style:{background:"#FDCFCF"}},ss={class:"div d-flex justify-content-center align-items-center"},as=e("h1",{class:"fw-bolder fs-4"},"₹ ",-1),ns=e("h1",{class:"fw-semibold mt-2 fs-5"},"Monthly payment",-1),ls={class:"col pl-8 pr-8"},rs={class:"div allcenter p-2 rounded bg-green-100 shadow-md"},is={class:"div d-flex justify-content-center align-items-center"},ds=e("h1",{class:"fw-bolder fs-4"},"₹ ",-1),cs=e("h1",{class:"fw-semibold mt-2 fs-5"},"Total loan amount",-1),ms={class:"card bg-gray-100 bottom-0 my-4",style:{border:"none"}},_s={class:"card-body mx-4"},us={class:"row"},ps=e("h1",{class:"fs-4 my-2"},"EMI Dedution",-1),hs=e("h1",{class:"fs-5 text-gray-600 mb-3"},"The EMI Dedution Will begin from the Upcoming Payroll",-1),bs={class:"col-4"},gs=e("h1",{class:"fs-5 my-2 ml-2"},"EMI Start Month",-1),vs=e("br",null,null,-1),xs={key:0,class:"font-semibold text-red-400 fs-6"},fs={class:"col-4 mx-2"},ys=e("h1",{class:"fs-5 my-2 ml-2"},"EMI End Month",-1),$s={class:"col-3"},ws=e("h1",{class:"fs-5 my-2 ml-2"},"Total Months",-1),Is={class:"p-4 my-6 bg-gray-100 rounded-lg gap-6"},Ls=e("span",{class:"font-semibold"},"Reason",-1),Ms=e("br",null,null,-1),Ds={key:0,class:"font-semibold text-red-400 fs-6"},Ts={class:"float-right"},Es={__name:"loan_with_interest",setup(f){const t=z();m([]),O(()=>{t.fetchInterstWithLoan(),t.getLoanDetails(),t.getEligible_loan_and_advance("loan_with_int"),t.getEmployeeTotalvalue("loan_with_int")}),m(),m(["Off","On"]);const S=m("center"),w=p=>{S.value=p,t.dialogInterestwithLoan=!0};function g(){console.log(t.InterestWithLoan.Term),t.InterestWithLoan.Total_Month=t.InterestWithLoan.Term}function v(){function p(E,R){var _=B(E).format("MM/DD/YYYY").split("/"),C=parseInt(_[0])-1,q=parseInt(_[1]),M=parseInt(_[2]);console.log("testing dateparts",_);var I=new Date(M,C,q);I.setMonth(I.getMonth()+R);var n=I.getFullYear()+"-"+I.getMonth()+"-"+I.getDate();return n}p();var s=t.InterestWithLoan.EMI_Start_Month;console.log(s);var $=p(s,t.InterestWithLoan.Term);console.log($),console.log(t.interestFreeLoan.Term),t.InterestWithLoan.EMI_End_Month=B($).format("YYYY-MM-DD")}const x=p=>!(p>t.InterestWithLoan.minEligibile),F=G(()=>({required_amount:{required:Y.withMessage("Required amount is required",V),eligibleRequiredAmount:Y.withMessage("Must be lesser than max eligible amount",x)},Term:{required:V},EMI_Start_Month:{required:V},Reason:{required:V}})),d=Q(F,t.InterestWithLoan),y=()=>{d.value.$validate(),d.value.$error?console.log("Form failed validation"):(console.log("Form successfully submitted."),t.saveInterestWithLoan(),d.value.$reset())};return(p,s)=>{const $=h("Column"),E=h("DataTable"),R=h("InputNumber"),_=h("Dropdown"),C=h("Calendar"),q=h("InputText"),M=h("Textarea"),I=h("Dialog");return r(),i(H,null,[e("div",Gt,[e("div",Ht,[e("div",Jt,[Qt,e("div",Xt,[Zt,e("button",{class:"mx-2 btn btn-orange flex items-center w-[135px] h-[30px]",onClick:s[0]||(s[0]=n=>w("top"))},oo)])]),e("div",so,[e("div",ao,[e("div",no,[lo,o(t).loanDashboard.total_borrowed_amt===null?(r(),i("h6",ro," -")):(r(),i("h6",io,c(o(t).loanDashboard.total_borrowed_amt),1))]),e("div",co,[mo,e("h6",_o,c(o(t).loanDashboard.total_repaid_amt),1),o(t).loanDashboard.total_repaid_amt===null?(r(),i("h6",uo," -")):b("",!0)]),e("div",po,[ho,e("h6",bo,c(o(t).loanDashboard.balance_amt),1),o(t).loanDashboard.balance_amt===null?(r(),i("h6",go," -")):b("",!0)]),e("div",vo,[xo,e("h6",fo,c(o(t).loanDashboard.pending_request),1),o(t).loanDashboard.balance_amt===null?(r(),i("h6",yo," -")):b("",!0)]),e("div",$o,[wo,o(t).loanDashboard.balance_amt===null?(r(),i("h6",Io," -")):b("",!0),e("h6",Lo,c(o(t).loanDashboard.compeleted_request),1)])])]),e("div",Mo,[a(E,{value:o(t).InterestWithLoanData,ref:"dt",dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:L(()=>[a($,{header:"Request ID",field:"request_id",style:{"min-width":"8rem"}}),a($,{header:"Loan Amount",field:"borrowed_amount",style:{"min-width":"8rem"}}),a($,{field:"emi_per_month",header:"Monthly EMI",style:{"min-width":"12rem"}}),a($,{field:"tenure_months",header:"Tenure",style:{"min-width":"12rem"}}),a($,{field:"deduction_starting_month",header:"EMI Start Date",style:{"min-width":"12rem"}}),a($,{field:"deduction_ending_month",header:"EMI End Date",style:{"min-width":"12rem"}}),a($,{field:"loan_status",header:"Status",style:{"min-width":"12rem"}},{default:L(()=>[P(c(p.slotProps.data.loan_status),1)]),_:1})]),_:1},8,["value"])])])]),a(I,{visible:o(t).dialogInterestwithLoan,"onUpdate:visible":s[12]||(s[12]=n=>o(t).dialogInterestwithLoan=n),modal:"",header:"Header",style:{width:"60vw"}},{header:L(()=>[Do]),default:L(()=>[o(t).eligibleEmployees.data==0?(r(),i("div",To,[e("div",Eo,[Ro,e("p",ko,c(o(t).eligibleEmployees.message),1)])])):(r(),i("div",So,[e("div",Po,[e("div",Fo,[e("div",qo,[e("div",Ao,[e("div",Vo,[e("div",Co,[Wo,a(R,{modelValue:o(t).InterestWithLoan.required_amount,"onUpdate:modelValue":s[1]||(s[1]=n=>o(t).InterestWithLoan.required_amount=n),placeholder:"₹ Enter The Required Amount",inputId:"withoutgrouping",useGrouping:!1,class:T([o(d).required_amount.$error?" border-2 outline-none border-red-500 rounded-lg":""])},null,8,["modelValue","class"]),No,o(d).required_amount.$error?(r(),i("span",Uo,c(o(d).required_amount.$errors[0].$message),1)):b("",!0),e("p",Yo,"Max Eligible Amount : "+c(o(t).InterestWithLoan.minEligibile),1)]),e("div",jo,[Bo,a(_,{modelValue:o(t).InterestWithLoan.Term,"onUpdate:modelValue":s[2]||(s[2]=n=>o(t).InterestWithLoan.Term=n),options:o(t).InterestWithLoan.max_tenure_months,onChange:g,optionLabel:"month",optionValue:"month",placeholder:"select month",class:T(["w-full md:w-10rem",[o(d).Term.$error?" border-2 outline-none border-red-500 rounded-lg":""]])},null,8,["modelValue","options","class"]),Oo,zo,o(d).Term.$error?(r(),i("span",Ko,c(o(d).Term.$errors[0].$message),1)):b("",!0)])]),e("div",Go,[e("div",Ho,[e("button",{onClick:s[3]||(s[3]=n=>o(t).calculateLoanDetails(o(t).InterestWithLoan.required_amount,o(t).InterestWithLoan.Interest_rate,o(t).InterestWithLoan.Term)),class:"bg-danger text-light pt-2 pl-4 pr-4 pb-2 float-right rounded hover:bg-red-500 shadow-md"},"Calculate EMI")])])])])]),e("div",Jo,[e("div",Qo,[e("div",Xo,[e("div",Zo,[N(e("input",{class:"fw-bolder fs-4 text-blue-900 p-2 ml-2 d-flex justify-items-center text-center bg-blue-100",placeholder:"%",style:{width:"100px"},"onUpdate:modelValue":s[4]||(s[4]=n=>o(t).InterestWithLoan.Interest_rate=n),disabled:"",prefix:"%"},null,512),[[U,o(t).InterestWithLoan.Interest_rate]]),es])]),e("div",ts,[e("div",os,[e("div",ss,[as,N(e("input",{class:"fw-bolder fs-4 pl-2 text-center",style:{width:"100px",background:"#FDCFCF"},"onUpdate:modelValue":s[5]||(s[5]=n=>o(t).InterestWithLoan.M_EMI=n),disabled:""},null,512),[[U,o(t).InterestWithLoan.M_EMI]])]),ns])]),e("div",ls,[e("div",rs,[e("div",is,[ds,N(e("input",{"onUpdate:modelValue":s[6]||(s[6]=n=>o(t).InterestWithLoan.total_amount=n),class:"fw-bolder fs-4 pl-2 bg-green-100 text-center",style:{width:"100px"},disabled:""},null,512),[[U,o(t).InterestWithLoan.total_amount]])]),cs])])])])]),e("div",ms,[e("div",_s,[e("div",us,[ps,hs,e("div",bs,[gs,a(_,{onChange:v,modelValue:o(t).InterestWithLoan.EMI_Start_Month,"onUpdate:modelValue":s[7]||(s[7]=n=>o(t).InterestWithLoan.EMI_Start_Month=n),options:o(t).InterestWithLoan.details.deduction_starting_month,optionLabel:"date",placeholder:"select date",class:T(["w-full md:w-10rem",[o(d).EMI_Start_Month.$error?" border-2 outline-none border-red-500 rounded-lg":""]]),optionValue:"date"},null,8,["modelValue","options","class"]),vs,o(d).EMI_Start_Month.$error?(r(),i("span",xs,c(o(d).EMI_Start_Month.$errors[0].$message),1)):b("",!0)]),e("div",fs,[ys,a(C,{modelValue:o(t).InterestWithLoan.EMI_End_Month,"onUpdate:modelValue":s[8]||(s[8]=n=>o(t).InterestWithLoan.EMI_End_Month=n),showIcon:""},null,8,["modelValue"])]),e("div",$s,[ws,a(q,{type:"text",modelValue:o(t).InterestWithLoan.Total_Month,"onUpdate:modelValue":s[9]||(s[9]=n=>o(t).InterestWithLoan.Total_Month=n),style:{width:"150px !important"}},null,8,["modelValue"])])])])]),e("div",Is,[Ls,a(M,{modelValue:o(t).InterestWithLoan.Reason,"onUpdate:modelValue":s[10]||(s[10]=n=>o(t).InterestWithLoan.Reason=n),class:T(["my-3 capitalize form-control textbox",[o(d).Reason.$error?" border-2 outline-none border-red-500 rounded-lg":""]]),autoResize:"",type:"text",rows:"3"},null,8,["modelValue","class"]),Ms,o(d).Reason.$error?(r(),i("span",Ds,c(o(d).Reason.$errors[0].$message),1)):b("",!0)]),e("div",Ts,[e("button",{class:"btn btn-border-dark border-dark px-5",onClick:s[11]||(s[11]=n=>o(t).dialogInterestwithLoan=!1)},"Cancel"),e("button",{class:"mx-4 btn btn-orange px-5",onClick:y},"Submit")])]))]),_:1},8,["visible"])],64)}}};const Rs={class:"mr-4 card"},ks={class:"px-5 row d-flex justify-content-start align-items-center card-body"},Ss={class:"flex justify-between gap-6 my-2"},Ps=e("div",{class:"max-[1300px]:w-[30%px]"},[e("p",{class:"text-[14px] font-medium"},[P("You are eligible for the Interest Free Loan as per the "),e("span",{class:"text-[14px] text-primary text-decoration-underline"}," Company's Loan Policy")])],-1),Fs={class:"float-right flex"},qs=e("button",{class:"btn btn-border-orange font-['Poppins'] w-[100px] h-[30px]"},[e("p",{class:""}," View Report")],-1),As=e("i",{class:"mx-2 fa fa-plus","aria-hidden":"true"},null,-1),Vs=e("p",null," New Request",-1),Cs=[As,Vs],Ws=e("div",null,[e("h1",{style:{"border-left":"3px solid var( --orange)","padding-left":"5px"},class:"fs-4"},"New Interest Free Loan Request")],-1),Ns={key:0},Us={class:"h-100 w-100"},Ys=e("img",{src:J,alt:"",srcset:"",class:"w-100 h-[400px]"},null,-1),js={class:"my-2 font-semibold fs-3 text-center"},Bs={key:1},Os={class:"card bg-gray-100 bottom-0 mb-1",style:{border:"none"}},zs={class:"card-body"},Ks={class:"row mx-2"},Gs={class:"col mx-2"},Hs=e("h1",{class:"text-[14px] my-1"},"Required Amount",-1),Js=e("br",null,null,-1),Qs={key:0,class:"font-semibold text-red-400 fs-6"},Xs={class:"fs-6 my-2",style:{color:"var(--clr-gray)"}},Zs={class:"fw-semibold"},ea={class:"col mx-2"},ta=e("h1",{class:"text-[14px] my-1"},"Monthly EMI",-1),oa={class:"col mx-2"},sa=e("h1",{class:"text-[14px] my-1"},"Month",-1),aa=e("label",{for:"",class:"fs-5 ml-2"},null,-1),na=e("br",null,null,-1),la={key:0,class:"font-semibold text-red-400 fs-6"},ra={class:"card bg-gray-100 bottom-0 my-1",style:{border:"none"}},ia={class:"card-body mx-4"},da={class:"row"},ca=e("h1",{class:"text-[14px] my-2"},"EMI Dedution",-1),ma=e("h1",{class:"text-[12px] text-gray-600 mb-3"},"The EMI Dedution Will begin from the Upcoming Payroll",-1),_a={class:"col-4"},ua=e("h1",{class:"text-[14px] my-2 ml-2"},"EMI Start Month",-1),pa=e("br",null,null,-1),ha={key:0,class:"font-semibold text-red-400 fs-6"},ba={class:"col-4 mx-2"},ga=e("h1",{class:"text-[14px] my-2 ml-2"},"EMI End Month",-1),va={class:"col-3"},xa=e("h1",{class:"text-[14px] my-2 ml-2"},"Total Months",-1),fa={class:"p-2 my-2 bg-gray-100 rounded-lg gap-6"},ya=e("span",{class:"font-semibold"},"Reason",-1),$a=e("br",null,null,-1),wa={key:0,class:"font-semibold text-red-400 fs-6"},Ia={class:"float-right"},La={class:"my-6 widget-card"},Ma={class:"grid gap-4 md:grid-cols-2 xl:grid-cols-5 lg:grid-cols-5"},Da={class:"py-3 text-center bg-red-100 border-l-4 rounded-lg tw-card border-l-red-400"},Ta=e("p",{class:"mb-2 text-ash-medium text-[14px]"},"Total Advance Amount",-1),Ea={key:0,class:"mb-0 text-base text-gray-500"},Ra={key:1,class:"mb-0 text-base text-gray-500"},ka={class:"p-3 text-center bg-green-100 border-l-4 rounded-lg tw-card border-l-green-400"},Sa=e("p",{class:"mb-2 text-ash-medium text-[14px]"}," Total Repaid Amount",-1),Pa={class:"mb-0 text-base text-gray-500"},Fa={key:0,class:"mb-0 text-base text-gray-500"},qa={class:"p-3 text-center bg-blue-100 border-l-4 rounded-lg tw-card border-l-blue-400"},Aa=e("p",{class:"mb-2 text-ash-medium text-[14px]"},"Balance Amount",-1),Va={class:"mb-0 font-semibold text-base text-gray-500"},Ca={key:0,class:"mb-0 text-base text-gray-500"},Wa={class:"p-3 text-center bg-orange-100 border-l-4 rounded-lg tw-card border-l-orange-400"},Na=e("p",{class:"mb-2 text-[14px] text-ash-medium"},"Pending Request",-1),Ua={class:"mb-0 text-[14px] text-gray-500"},Ya={key:0,class:"mb-0 text-base text-gray-500"},ja={class:"p-3 text-center bg-yellow-100 border-l-4 rounded-lg tw-card border-l-yellow-400"},Ba=e("p",{class:"mb-2 text-[14px] text-ash-medium"},"Completed Rquests",-1),Oa={key:0,class:"mb-0 text-base text-gray-500"},za={class:"mb-0 text-[14px] text-gray-500"},Ka={class:"table-responsive"},Ga={__name:"interest_free_loan",setup(f){const t=z();O(()=>{t.fetchInterestfreeLoan(),t.getinterestfreeloan(),t.getEligible_loan_and_advance("int_free_loan"),t.getEmployeeTotalvalue("int_free_loan")}),m(),m();const S=m("center"),w=p=>{S.value=p,t.dialog_NewInterestFreeLoanRequest=!0};function g(){if(t.interestFreeLoan.M_EMI=t.interestFreeLoan.required_amount/t.interestFreeLoan.Term,t.interestFreeLoan.Total_Months=t.interestFreeLoan.Term,t.interestFreeLoan.EMI_Start_Month)return v()}function v(){function p(E,R){var _=B(E).format("MM/DD/YYYY").split("/"),C=parseInt(_[0])-1,q=parseInt(_[1]),M=parseInt(_[2]);console.log(_);var I=new Date(M,C,q);I.setMonth(I.getMonth()+R);var n=I.getFullYear()+"-"+I.getMonth()+"-"+I.getDate();return n}p(),console.log(t.interestFreeLoan.EMI_Start_Month);var s=t.interestFreeLoan.EMI_Start_Month,$=p(s,t.interestFreeLoan.Term);console.log($),console.log(t.interestFreeLoan.Term),t.interestFreeLoan.EMI_End_Month=B($).format("YYYY-MM-DD")}m(),t.interestFreeLoan.Term&&console.log("testing ::",t.interestFreeLoan.Term),m(),m([{name:1,val:2},{name:"2",code:"RM"},{name:"2.5",code:"LDN"},{name:"3",code:"IST"},{name:"3.5",code:"PRS"}]),m();const x=p=>!(p>t.interestFreeLoan.minEligibile),F=G(()=>({required_amount:{required:Y.withMessage("Required amount is required",V),eligibleRequiredAmount:Y.withMessage("Must be lesser than max eligible amount",x)},Term:{required:V},EMI_Start_Month:{required:V},Reason:{required:V}})),d=Q(F,t.interestFreeLoan),y=()=>{d.value.$validate(),d.value.$error?console.log("Form failed validation"):(console.log("Form successfully submitted."),t.saveInterestfreeLoan(),t.fetchInterestfreeLoan(),d.value.$reset())};return(p,s)=>{const $=h("InputNumber"),E=h("InputText"),R=h("Dropdown"),_=h("Calendar"),C=h("Textarea"),q=h("Dialog"),M=h("Column"),I=h("DataTable");return r(),i("div",Rs,[e("div",ks,[e("div",Ss,[Ps,e("div",Fs,[qs,e("button",{class:"mx-2 btn btn-orange flex items-center w-[135px] h-[30px]",onClick:s[0]||(s[0]=n=>w("top"))},Cs),a(q,{visible:o(t).dialog_NewInterestFreeLoanRequest,"onUpdate:visible":s[9]||(s[9]=n=>o(t).dialog_NewInterestFreeLoanRequest=n),header:"Header",style:{width:"58vw"},modal:"",position:S.value},{header:L(()=>[Ws]),default:L(()=>[o(t).eligibleEmployees.data==0?(r(),i("div",Ns,[e("div",Us,[Ys,e("p",js,c(o(t).eligibleEmployees.message),1)])])):(r(),i("div",Bs,[e("div",Os,[e("div",zs,[e("div",Ks,[e("div",Gs,[Hs,a($,{modelValue:o(t).interestFreeLoan.required_amount,"onUpdate:modelValue":s[1]||(s[1]=n=>o(t).interestFreeLoan.required_amount=n),modelModifiers:{number:!0},placeholder:"₹ Enter The Required Amount",inputId:"withoutgrouping",useGrouping:!1,class:T([o(d).required_amount.$error?" border-2 outline-none border-red-500 rounded-lg":""])},null,8,["modelValue","class"]),Js,o(d).required_amount.$error?(r(),i("span",Qs,c(o(d).required_amount.$errors[0].$message),1)):b("",!0),e("p",Xs,[P("Max Eligible Amount : "),e("span",Zs,c(o(t).interestFreeLoan.minEligibile),1)])]),e("div",ea,[ta,a(E,{type:"text",readonly:"",modelValue:o(t).interestFreeLoan.M_EMI,"onUpdate:modelValue":s[2]||(s[2]=n=>o(t).interestFreeLoan.M_EMI=n),placeholder:"₹ "},null,8,["modelValue"])]),e("div",oa,[sa,a(R,{modelValue:o(t).interestFreeLoan.Term,"onUpdate:modelValue":s[3]||(s[3]=n=>o(t).interestFreeLoan.Term=n),onChange:g,options:o(t).max_tenure_month,class:T(["w-full md:w-10rem",[o(d).Term.$error?" border-2 outline-none border-red-500 rounded-lg":""]]),optionValue:"month",optionLabel:"month",placeholder:"Select Month"},null,8,["modelValue","options","class"]),aa,na,o(d).Term.$error?(r(),i("span",la,c(o(d).Term.$errors[0].$message),1)):b("",!0)])])])]),e("div",ra,[e("div",ia,[e("div",da,[ca,ma,e("div",_a,[ua,a(R,{modelValue:o(t).interestFreeLoan.EMI_Start_Month,"onUpdate:modelValue":s[4]||(s[4]=n=>o(t).interestFreeLoan.EMI_Start_Month=n),onChange:v,options:o(t).interestFreeLoan.details.deduction_starting_month,optionLabel:"date",optionValue:"date",placeholder:"Select Month",class:T([o(d).EMI_Start_Month.$error?" border-2 outline-none border-red-500 rounded-lg":""])},null,8,["modelValue","options","class"]),pa,o(d).EMI_Start_Month.$error?(r(),i("span",ha,c(o(d).EMI_Start_Month.$errors[0].$message),1)):b("",!0)]),e("div",ba,[ga,a(_,{modelValue:o(t).interestFreeLoan.EMI_End_Month,"onUpdate:modelValue":s[5]||(s[5]=n=>o(t).interestFreeLoan.EMI_End_Month=n),readonly:"",style:{width:"150px !important"}},null,8,["modelValue"])]),e("div",va,[xa,a(E,{type:"text",readonly:"",modelValue:o(t).interestFreeLoan.Total_Months,"onUpdate:modelValue":s[6]||(s[6]=n=>o(t).interestFreeLoan.Total_Months=n),style:{width:"150px !important"}},null,8,["modelValue"])])])])]),e("div",fa,[ya,a(C,{class:T(["my-3 capitalize form-control textbox",[o(d).Reason.$error?" border-2 outline-none border-red-500 rounded-lg":""]]),autoResize:"",type:"text",rows:"3",modelValue:o(t).interestFreeLoan.Reason,"onUpdate:modelValue":s[7]||(s[7]=n=>o(t).interestFreeLoan.Reason=n)},null,8,["modelValue","class"]),$a,o(d).Reason.$error?(r(),i("span",wa,c(o(d).Reason.$errors[0].$message),1)):b("",!0)]),e("div",Ia,[e("button",{class:"btn btn-border-orange",onClick:s[8]||(s[8]=n=>o(t).dialog_NewInterestFreeLoanRequest=!1)},"Cancel"),e("button",{class:"mx-4 btn btn-orange",onClick:y},"Submit")])]))]),_:1},8,["visible","position"])])]),e("div",La,[e("div",Ma,[e("div",Da,[Ta,o(t).loanDashboard.total_borrowed_amt===null?(r(),i("h6",Ea," -")):(r(),i("h6",Ra,c(o(t).loanDashboard.total_borrowed_amt),1))]),e("div",ka,[Sa,e("h6",Pa,c(o(t).loanDashboard.total_repaid_amt),1),o(t).loanDashboard.total_repaid_amt===null?(r(),i("h6",Fa," -")):b("",!0)]),e("div",qa,[Aa,e("h6",Va,c(o(t).loanDashboard.balance_amt),1),o(t).loanDashboard.balance_amt===null?(r(),i("h6",Ca," -")):b("",!0)]),e("div",Wa,[Na,e("h6",Ua,c(o(t).loanDashboard.pending_request),1),o(t).loanDashboard.balance_amt===null?(r(),i("h6",Ya," -")):b("",!0)]),e("div",ja,[Ba,o(t).loanDashboard.balance_amt===null?(r(),i("h6",Oa," -")):b("",!0),e("h6",za,c(o(t).loanDashboard.compeleted_request),1)])])]),e("div",Ka,[a(I,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:o(t).isInterestFreeLoanFeature,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:L(()=>[a(M,{header:"Request ID",field:"request_id",style:{"min-width":"8rem"}}),a(M,{field:"borrowed_amount",header:"Loan Amount",style:{"min-width":"12rem"}}),a(M,{field:"emi_per_month",header:"Monthly EMI",style:{"min-width":"12rem"}}),a(M,{field:"tenure_months",header:"Tenure",style:{"min-width":"12rem"}}),a(M,{field:"deduction_starting_month",header:"EMI Start Date",style:{"min-width":"12rem"}}),a(M,{field:"deduction_ending_month",header:"EMI End Date",style:{"min-width":"12rem"}}),a(M,{field:"loan_status",header:"Status",style:{"min-width":"12rem"}},{default:L(()=>[P(c(p.slotProps.data.loan_status),1)]),_:1})]),_:1},8,["value"])])])])}}};const Ha={class:"mr-4 card"},Ja={class:"px-5 row d-flex justify-content-start align-items-center card-body"},Qa={class:"flex justify-between gap-6 my-2"},Xa=e("div",{class:"fs-4"},[e("p",{class:"text-xl font-medium"},[P("You are eligible for Travel Advance as per the "),e("span",{class:"text-lg text-primary text-decoration-underline"},"Company's Loan Policy")])],-1),Za={class:"float-right"},en=e("button",{class:"btn btn-border-orange"},"View Report",-1),tn=e("i",{class:"mx-2 fa fa-plus","aria-hidden":"true"},null,-1),on=be('<div class="my-6 widget-card"><div class="grid gap-4 md:grid-cols-2 xl:grid-cols-5 lg:grid-cols-5"><div class="p-3 text-center bg-red-100 border-l-4 rounded-lg tw-card border-l-red-400"><p class="mb-2 font-bold text-ash-medium f-13">Total Advance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-green-100 border-l-4 rounded-lg tw-card border-l-green-400"><p class="mb-2 font-bold text-ash-medium f-13"> Total Repaid Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-blue-100 border-l-4 rounded-lg tw-card border-l-blue-400"><p class="mb-2 font-bold text-ash-medium f-13">Balance Amount</p><h6 class="mb-0 text-base font-semibold text-gray-500">Not Submited</h6></div><div class="p-2 text-center bg-orange-100 border-l-4 rounded-lg tw-card border-l-orange-400"><p class="mb-2 font-bold text-ash-medium f-13">Pending Request</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div><div class="p-2 text-center bg-yellow-100 border-l-4 rounded-lg tw-card border-l-yellow-400"><p class="mb-2 font-bold text-ash-medium f-13">Completed Rquests</p><h6 class="mb-0 text-base font-semibold text-gray-500">-</h6></div></div></div>',1),sn={class:"table-responsive"},an=e("div",null,[e("h1",{style:{"border-left":"3px solid var( --orange)","padding-left":"10px"},class:"fs-4"},"New Travel Advance Request")],-1),nn={class:"flex pb-2 bg-gray-100 rounded-lg gap-7"},ln={class:"w-5 p-4 mx-4"},rn=e("span",{class:"font-semibold"},"Required Amount",-1),dn=e("p",{class:"text-sm font-semibold text-gray-500"},"Max Eligible Amount : 20,000",-1),cn=e("div",{class:"p-4 my-6 bg-gray-100 rounded-lg gap-6"},[e("span",{class:"font-semibold"},"Repayment"),e("p",{class:"my-2 fs-5 text-gray-600 text-md"},[P("The deadline to submit the bills is on salary "),e("strong",{class:"fs-5 text-black"},"12/07/2023")])],-1),mn={class:"p-4 my-6 bg-gray-100 rounded-lg gap-6"},_n=e("span",{class:"font-semibold"},"Reason",-1),un={class:"float-right"},pn=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),hn={__name:"travel_advance",setup(f){const t=z();O(()=>{t.fetchTraveladvance()}),m(),m(["Off","On"]);const S=m("center"),w=g=>{S.value=g,t.dialog_TravelAdvance=!0};return(g,v)=>{const x=h("Column"),F=h("DataTable"),d=h("Textarea"),y=h("Dialog"),p=h("ProgressSpinner");return r(),i(H,null,[e("div",Ha,[e("div",Ja,[e("div",Qa,[Xa,e("div",Za,[en,e("button",{class:"mx-4 btn btn-orange",onClick:v[0]||(v[0]=s=>w("top"))},[tn,P("New Request")])])]),on,e("div",sn,[a(F,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:g.sample,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:L(()=>[a(x,{header:"Request ID",field:"section",style:{"min-width":"8rem"}}),a(x,{field:"particular",header:"Advance Amount",style:{"min-width":"12rem"}}),a(x,{field:"ref",header:"Paid On ",style:{"min-width":"12rem"}}),a(x,{field:"max_limit",header:"Expected Return",style:{"min-width":"12rem"}}),a(x,{field:"Status",header:"Status",style:{"min-width":"12rem"}})]),_:1},8,["value"])])])]),a(y,{visible:o(t).dialog_TravelAdvance,"onUpdate:visible":v[5]||(v[5]=s=>o(t).dialog_TravelAdvance=s),modal:"",style:{width:"50vw"}},{header:L(()=>[an]),default:L(()=>[e("div",nn,[e("div",ln,[rn,N(e("input",{id:"rentFrom_month","onUpdate:modelValue":v[1]||(v[1]=s=>o(t).ta.ra=s),class:"my-2 border border-black text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},null,512),[[U,o(t).ta.ra]]),dn])]),cn,e("div",mn,[_n,a(d,{modelValue:o(t).ta.reason,"onUpdate:modelValue":v[2]||(v[2]=s=>o(t).ta.reason=s),class:"my-3 capitalize form-control textbox",autoResize:"",type:"text",rows:"3"},null,8,["modelValue"])]),e("div",un,[e("button",{class:"btn btn-border-orange",onClick:v[3]||(v[3]=s=>o(t).dialog_TravelAdvance=!1)},"Cancel"),e("button",{class:"mx-4 btn btn-orange",onClick:v[4]||(v[4]=(...s)=>o(t).saveTravelAdvance&&o(t).saveTravelAdvance(...s))},"Submit")])]),_:1},8,["visible"]),a(y,{header:"Header",visible:o(t).canShowLoading,"onUpdate:visible":v[6]||(v[6]=s=>o(t).canShowLoading=s),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:L(()=>[a(p,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:L(()=>[pn]),_:1},8,["visible"])],64)}}},bn={class:"p-4 pt-1 pb-0 mb-3 bg-white rounded-lg tw-card left-line"},gn={class:"divide-x nav nav-pills divide-solid nav-tabs-dashed",id:"pills-tab",role:"tablist"},vn={class:"mx-2 nav-item",role:"presentation"},xn={class:"mx-3 nav-item",role:"presentation"},fn={class:"mx-3 nav-item",role:"presentation"},yn={class:"mx-3 nav-item",role:"presentation"},$n={class:"tab-content",id:""},wn={key:0},In={key:1},Ln={key:2},Mn={key:3},Dn={__name:"employee_salary_loan",setup(f){const t=m(1);return(S,w)=>(r(),i("div",null,[e("div",bn,[e("ul",gn,[e("li",vn,[e("a",{class:T(["nav-link",[t.value===1?"active":""]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:w[0]||(w[0]=g=>t.value=1)}," Salary Advance ",2)]),e("li",xn,[e("a",{class:T(["mx-4 text-center nav-link",[t.value===2?"active":""]]),id:"","data-bs-toggle":"pill",href:"",onClick:w[1]||(w[1]=g=>t.value=2),role:"tab","aria-controls":"","aria-selected":"true"}," Interest Free Loan ",2)]),e("li",fn,[e("a",{class:T(["mx-4 text-center nav-link",[t.value===3?"active":""]]),id:"","data-bs-toggle":"pill",href:"",onClick:w[2]||(w[2]=g=>t.value=3),role:"tab","aria-controls":"","aria-selected":"true"}," Travel Advance ",2)]),e("li",yn,[e("a",{class:T(["mx-4 text-center nav-link",[t.value===4?"active":""]]),id:"","data-bs-toggle":"pill",href:"",onClick:w[3]||(w[3]=g=>t.value=4),role:"tab","aria-controls":"","aria-selected":"true"}," Loan With Interest ",2)])])]),e("div",$n,[t.value===1?(r(),i("div",wn,[a(Kt)])):b("",!0),t.value===2?(r(),i("div",In,[a(Ga)])):b("",!0),t.value===3?(r(),i("div",Ln,[a(hn)])):b("",!0),t.value===4?(r(),i("div",Mn,[a(Es)])):b("",!0)])]))}},u=ge(Dn),Tn=Ee();u.use(ve,{ripple:!0});u.use(Ve);u.use(xe);u.use(Ae);u.use(Tn);u.directive("tooltip",Re);u.directive("badge",ke);u.directive("ripple",fe);u.directive("styleclass",Se);u.directive("focustrap",ye);u.component("Button",$e);u.component("RadioButton",ze);u.component("DataTable",Pe);u.component("Column",Fe);u.component("ColumnGroup",Ne);u.component("Row",We);u.component("Toast",we);u.component("ConfirmDialog",Ie);u.component("Dropdown",Le);u.component("InputText",Me);u.component("Dialog",De);u.component("ProgressSpinner",Ce);u.component("Calendar",Ue);u.component("Textarea",Ye);u.component("Chips",je);u.component("MultiSelect",Be);u.component("InputNumber",qe);u.component("SelectButton",Oe);u.component("Checkbox",Ke);u.mount("#EmpSalaryAdvanceLoan");
