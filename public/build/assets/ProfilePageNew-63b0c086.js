import{H as w,X as G,G as te,a6 as ee,g as D,o as f,c as v,h as t,d as e,ad as a,a as U,t as h,w as m,q as Y,n as X,l as k,F as _e,aj as ae,k as A,E as j,am as ce,b as fe,I as be,P as ve,J as ge,R as he,u as ye,v as xe,N as $e,K as De,M as we,A as ke,L as Pe}from"./toastservice.esm-daaadd68.js";import{c as Ce}from"./pinia-481183e8.js";import{T as Ve,B as Ee,S as Se,b as Le,a as Te,c as Ue}from"./styleclass.esm-238cf974.js";import"./blockui.esm-6e7e82a0.js";import{D as Fe}from"./dialogservice.esm-5cd09541.js";import{C as Ne}from"./confirmationservice.esm-adca2b55.js";import{s as Be}from"./progressspinner.esm-428ecd71.js";import{s as Ie}from"./row.esm-6ebc942e.js";import{s as Me}from"./columngroup.esm-9dd1458e.js";import{s as Ye}from"./calendar.esm-04fe9a99.js";import{s as Re}from"./textarea.esm-0420a37f.js";import{s as Ae}from"./chips.esm-e54101a0.js";import{s as je}from"./multiselect.esm-c4f4cf49.js";import{s as qe}from"./inputmask.esm-7e830573.js";import{s as Oe}from"./progressbar.esm-7356768e.js";import{l as pe}from"./lodash-facb8280.js";import{a as N}from"./index-362795f3.js";import{S as W}from"./Service-fc776dae.js";import{p as J}from"./ProfilePagesStore-aa430bd5.js";import{r as Q,u as de}from"./index.esm-ce70ce44.js";import{u as ne,E as He}from"./EmployeeDetails-bb2a88ab.js";import{d as K}from"./dayjs.min-2f06af28.js";import{_ as Ge}from"./EmployeePayslips-a0da8be3.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";const ze={class:"mb-0 card top-line"},Ke={class:"card-body"},We={class:"row"},Je={class:"col-12 text-end"},Xe=e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true"},null,-1),Qe=[Xe],Ze={class:"text-center col-12"},et={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{"box-shadow":"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",border:"1px solid navy"}},tt=["src"],ot=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),st={class:"mt-4"},at={class:"progress-wrapper border-bottom-liteAsh"},lt=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),it={class:"mb-1 px-auto d-flex align-items-center justify-content-center pl-5"},nt={class:"text-center fw-bold"},dt={class:"personal-edit position-absolute",style:{right:"-9px"}},rt={href:"#",class:"edit-icon"},ct={class:"modal-body"},pt={class:"row"},_t={class:"col-md-6"},mt={class:"mb-3 form-group"},ut=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),ft={key:0,class:"text-red-400 fs-6 font-semibold"},bt={class:"col-md-6"},vt={class:"form-group"},gt=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),ht={key:0,class:"text-red-400 fs-6 font-semibold"},yt={class:"col-md-6 d-flex flex-column"},xt={class:"d-flex justify-items-center flex-column"},$t=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),Dt={class:"d-flex justify-items-center align-items-center"},wt=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),kt={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},Pt={key:0,class:"text-red-400 fs-6 font-semibold"},Ct=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),Vt=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Et={class:"mb-4 text-center profile-mid-right-content"},St={class:"py-2 border-bottom-liteAsh"},Lt=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),Tt={key:0,class:"f-12 fw-bold"},Ut={key:1,class:"text-danger f-12 fw-bold"},Ft={class:"py-2 border-bottom-liteAsh"},Nt=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),Bt={key:0,class:"f-12 fw-bold"},It={key:1,class:"f-12 fw-bold"},Mt={class:"py-2 border-bottom-liteAsh"},Yt=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),Rt={key:0,class:"f-12 fw-bold"},At={key:1,class:"f-12 fw-bold"},jt={class:"py-2 border-bottom-liteAsh"},qt=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),Ot={key:0,class:"f-12 fw-bold"},Ht={key:1,class:"f-12 fw-bold"},Gt={class:"py-2 border-bottom-liteAsh ml-3"},zt={class:"text-muted f-12 fw-bold"},Kt=e("i",{class:"ri-pencil-fill"},null,-1),Wt=[Kt],Jt={key:0,class:"f-12 fw-bold"},Xt={key:1,class:"f-12 fw-bold"},Qt={class:"py-2 border-bottom-liteAsh"},Zt={class:"text-muted f-12 fw-bold"},eo=e("i",{class:"ri-pencil-fill"},null,-1),to=[eo],oo={key:0,class:"f-12 fw-bold"},so={key:1,class:"f-12 fw-bold"},ao=e("div",{class:"text-center profile-bottom-right-content"},[e("button",{class:"btn btn-danger"},[e("i",{class:"fa fa-sign-out me-1"}),k(" Action ")])],-1),lo={class:"confirmation-content"},io=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),no={class:"card p-3 d-flex justify-items-center align-items-center",style:{width:"18rem","margin-left":"150px",height:"300px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},ro=["src"],co={class:"card-body d-flex justify-items-center align-items-center mt-4",style:{"flex-direction":"column"}},po={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{border:"1px solid navy","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},_o=["src"],mo={class:"card-title mt-3 mb-2 f-12",style:{"text-align":"center"}},uo={key:0,class:"f-12 card-text mb-2 text-gray-400"},fo={key:1,class:"f-12 fw-bold"},bo={key:2,class:"f-12 fw-bold mb-2",style:{color:"grey"}},vo={key:3,class:"f-12 mb-2 text-secondary-emphasis"},go=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),ho={__name:"EmployeeCard",setup(Z){const C=W(),n=w(!1),V=w(!1),x=G({department:"",reporting_manager:""}),y=G({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),s=w([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),o=w(!1);let r=J();const M=S=>{S.target.files&&S.target.files[0]&&(r.profile=S.target.files[0]);let c=new FormData;c.append("user_code",r.user_code),c.append("file_object",r.profile);let L="/profile-pages/updateProfilePicture";N.post(L,c).then(oe=>{}).finally(()=>{console.log("Photo Sent"),r.getProfilePhoto()})},B=w(),I=w(),_=w(!1),l=w(!1),i=w(!1),g=w("None"),E=S=>{console.log(S),N.post("/profile-pages/updateDepartment",{user_code:r.employeeDetails.user_code,department_id:x.department}).then(c=>{let L=pe._.find(B.value,["id",x.department]).name;console.log("Lodash [Selected Dept]: "+L),r.employeeDetails.get_employee_office_details.department_name=L,g.value="Department updated successfully !",console.log(c.data)}).catch(c=>{g.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+c)}).finally(()=>{i.value=!0,_.value=!1})},q=S=>{console.log("editReportingManager : "+S),N.post("/profile-pages/updateReportingManager",{user_code:r.employeeDetails.user_code,manager_user_code:x.reporting_manager}).then(c=>{let L=pe._.find(I.value,["user_code",x.reporting_manager]);r.employeeDetails.get_employee_office_details.l1_manager_name=L.name,r.employeeDetails.get_employee_office_details.l1_manager_code=L.user_code,g.value="Reporting Manager updated successfully !",console.log(c.data)}).catch(c=>{g.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+c)}).finally(()=>{i.value=!0,l.value=!1})},F=()=>{x.department=r.employeeDetails.get_employee_office_details.department_name,x.reporting_manager=r.employeeDetails.get_employee_office_details.l1_manager_name,console.log(x.department)};te(()=>{C.DepartmentDetails().then(S=>{B.value=S.data,console.log("testing"+r.employeeDetails.get_employee_office_details.l1_manager_name)}),C.ManagerDetails().then(S=>{I.value=S.data}),F()});const z=S=>{S.target.files&&S.target.files[0]&&(y.emp_upload_doc=S.target.files[0],console.log(y.emp_upload_doc))},d=ee(()=>({emp_name:{required:Q},emp_doc_name:{required:Q},emp_upload_doc:{required:Q}})),b=de(d,y),le=()=>{b.value.$validate(),b.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),ie())},ie=()=>{n.value=!0,o.value=!1;const c=`/update-EmplpoyeeName-info/${C.current_user_id}`,L=new FormData;L.append("user_code",r.employeeDetails.user_code),L.append("name",y.emp_name),L.append("onboard_document_type",y.emp_doc_name.name),L.append("emp_doc",y.emp_upload_doc),N.post(c,L).finally(()=>{n.value=!1})};return(S,c)=>{const L=D("Toast"),oe=D("InputText"),R=D("Dropdown"),O=D("Dialog"),T=D("ProgressBar"),u=D("ProgressSpinner");return f(),v(_e,null,[t(L),e("div",ze,[e("div",Ke,[e("div",We,[e("div",Je,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:c[0]||(c[0]=p=>V.value=!0)},Qe)]),e("div",Ze,[e("div",et,[a(r).profile?(f(),v("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${a(r).profile}`,srcset:"",alt:""},null,8,tt)):U("",!0),ot,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:c[1]||(c[1]=p=>M(p))},null,32)]),e("div",st,[e("div",at,[lt,e("div",it,[e("h6",nt,h(a(r).employeeDetails.name),1),e("span",dt,[e("a",rt,[e("i",{class:"ri-pencil-fill",onClick:c[2]||(c[2]=p=>o.value=!0)})])])]),t(O,{visible:o.value,"onUpdate:visible":c[6]||(c[6]=p=>o.value=p),modal:"",header:" ",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:Y({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:m(()=>[e("div",null,[e("div",ct,[e("div",pt,[e("div",_t,[e("div",mt,[ut,t(oe,{type:"text",modelValue:y.emp_name,"onUpdate:modelValue":c[3]||(c[3]=p=>y.emp_name=p),style:{"text-transform":"uppercase"},class:X(["form-controls pl-2",[a(b).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),a(b).emp_name.$error?(f(),v("span",ft,h(a(b).emp_name.required.$message.replace("Value","Employee Name")),1)):U("",!0)])]),e("div",bt,[e("div",vt,[gt,t(R,{modelValue:y.emp_doc_name,"onUpdate:modelValue":c[4]||(c[4]=p=>y.emp_doc_name=p),options:s.value,optionLabel:"name",placeholder:"Select a document ",class:X(["form-controls pl-2 w-full h-12",[a(b).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),a(b).emp_doc_name.$error?(f(),v("span",ht,h(a(b).emp_doc_name.required.$message.replace("Value","Documents")),1)):U("",!0)])]),e("div",yt,[e("div",xt,[$t,e("div",Dt,[t(L),wt,y.emp_upload_doc?(f(),v("div",kt,h(y.emp_upload_doc.name),1)):U("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:c[5]||(c[5]=p=>z(p)),class:X([a(b).emp_upload_doc.$error?"p-invalid":""])},null,34)]),a(b).emp_upload_doc.$error?(f(),v("span",Pt,h(a(b).emp_upload_doc.required.$message.replace("Value","document")),1)):U("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:le},"Submit")])])])])]),_:1},8,["visible"]),Ct,t(T,{value:a(r).employeeDetails.profile_completeness},null,8,["value"]),Vt]),e("div",Et,[e("div",St,[Lt,a(r).employeeDetails.active==1?(f(),v("p",Tt," Active ")):(f(),v("p",Ut,"Not Active"))]),e("div",Ft,[Nt,a(r).employeeDetails.user_code?(f(),v("p",Bt,h(a(r).employeeDetails.user_code),1)):(f(),v("p",It,"-"))]),e("div",Mt,[Yt,a(r).employeeDetails.get_employee_office_details.designation?(f(),v("p",Rt,h(a(r).employeeDetails.get_employee_office_details.designation),1)):(f(),v("p",At,"-"))]),e("div",jt,[qt,a(r).employeeDetails.get_employee_office_details.work_location?(f(),v("p",Ot,h(a(r).employeeDetails.get_employee_office_details.work_location),1)):(f(),v("p",Ht,"-"))]),e("div",Gt,[e("p",zt,[k(" Department "),e("a",{href:"#",class:"edit-icon",onClick:c[7]||(c[7]=p=>_.value=!0)},Wt)]),a(r).employeeDetails.get_employee_office_details.department_id?(f(),v("p",Jt,h(a(r).employeeDetails.get_employee_office_details.department_name),1)):(f(),v("p",Xt,"-"))]),e("div",Qt,[e("p",Zt,[k(" Reporting To "),e("a",{href:"#",class:"edit-icon",onClick:c[8]||(c[8]=p=>l.value=!0)},to)]),a(r).employeeDetails.get_employee_office_details.l1_manager_code?(f(),v("p",oo,h(a(r).employeeDetails.get_employee_office_details.l1_manager_name)+" - "+h(a(r).employeeDetails.get_employee_office_details.l1_manager_code),1)):(f(),v("p",so,"-"))])]),ao])])])])]),t(O,{header:"Status",visible:i.value,"onUpdate:visible":c[9]||(c[9]=p=>i.value=p),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:m(()=>[e("div",lo,[io,e("span",null,h(g.value),1)])]),_:1},8,["visible"]),t(O,{visible:_.value,"onUpdate:visible":c[11]||(c[11]=p=>_.value=p),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:E}," Save ")])]),default:m(()=>[t(R,{options:B.value,optionLabel:"name",modelValue:x.department,"onUpdate:modelValue":c[10]||(c[10]=p=>x.department=p),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(O,{visible:l.value,"onUpdate:visible":c[13]||(c[13]=p=>l.value=p),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:q}," Save ")])]),default:m(()=>[t(R,{optionLabel:"name",options:I.value,modelValue:x.reporting_manager,"onUpdate:modelValue":c[12]||(c[12]=p=>x.reporting_manager=p),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(O,{visible:V.value,"onUpdate:visible":c[14]||(c[14]=p=>V.value=p),modal:"",header:"",style:{width:"40vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:Y({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:m(()=>[e("div",no,[e("img",{src:`${a(r).employeeDetails.client_logo}`,alt:"",style:{height:"45px",width:"140px","object-fit":"cover"}},null,8,ro),e("div",co,[e("div",po,[a(r).profile?(f(),v("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border",src:`data:image/png;base64,${a(r).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"120px",height:"120px"}},null,8,_o)):U("",!0)]),e("h5",mo,h(a(r).employeeDetails.name),1),a(r).employeeDetails.get_employee_office_details.department_id?(f(),v("h5",uo,h(a(r).employeeDetails.get_employee_office_details.department_name),1)):(f(),v("h1",fo,"-")),a(r).employeeDetails.user_code?(f(),v("h5",bo,h(a(r).employeeDetails.user_code),1)):(f(),v("p",vo,"-"))])])]),_:1},8,["visible"]),t(O,{header:"Header",visible:n.value,"onUpdate:visible":c[15]||(c[15]=p=>n.value=p),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(u,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[go]),_:1},8,["visible"])],64)}}};const yo={class:"mb-2 card"},xo={class:"card-body"},$o={class:"fw-bold fs-15"},Do={class:"space-between"},wo={class:"flex-col input_text"},ko=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),Po={class:"flex-col input_text"},Co=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),Vo={class:"space-between M-T mr-4"},Eo={class:"flex-col input_text"},So=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Lo={class:"flex-col input_text"},To=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),Uo={class:"my-6 table-responsive"},Fo={key:0},No={key:1},Bo=["onClick"],Io=["onClick"],Mo={class:"space-between"},Yo={class:"flex-col input_text"},Ro=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),Ao={class:"flex-col input_text"},jo=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),qo={class:"space-between M-T"},Oo={class:"flex-col input_text"},Ho=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Go={class:"flex-col input_text"},zo=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),Ko={__name:"FamilyDetails",setup(Z){const C=W(),n=J(),V=ae();w("");const x=w(!1),y=w(!1),s=G({name:"",relationship:"",dob:"",phone_number:""}),o=G({name:"",relationship:"",dob:"",phone_number:""}),r=w(),M=()=>{n.loading_screen=!0;let i=`/add-family-info/${C.current_user_id}`;N.post(i,{user_code:n.employeeDetails.user_code,name:s.name,relationship:s.relationship,dob:K(s.dob).format("YYYY-MM-DD"),phone_number:s.phone_number}).then(g=>{g.data.status=="success"?(V.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),n.employeeDetails.get_family_details.dob=ne(s.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=s.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=s.phone_number):g.data.status=="failure"}).catch(g=>{console.log(g)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),x.value=!1},B=l=>{y.value=!0,r.value=l.id,o.name=l.name,o.relationship=l.relationship,o.dob=l.dob,o.phone_number=l.phone_number},I=l=>{n.loading_screen=!0,r.value=l.id;let g=` /delete-family-info/${C.current_user_id}`;N.post(g,{current_table_id:r.value}).then(E=>{E.data.status=="success"?(V.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),n.employeeDetails.get_family_details.dob=ne(s.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=s.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=s.phone_number):E.data.status=="failure"&&(leave_data.leave_request_error_messege=E.data.message)}).catch(E=>{console.log(E)}).finally(()=>{n.loading_screen=!1,n.fetchEmployeeDetails()})},_=l=>{n.loading_screen=!0;let g=`/update-family-info/${C.current_user_id}`;N.post(g,{user_code:n.employeeDetails.user_code,current_table_id:r.value,name:o.name,relationship:o.relationship,dob:K(o.dob).format("YYYY-MM-DD"),phone_number:o.phone_number}).then(E=>{E.data.status=="success"?(V.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),n.employeeDetails.get_family_details.dob=ne(o.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=o.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=o.phone_number):E.data.status=="failure"&&(leave_data.leave_request_error_messege=E.data.message)}).catch(E=>{console.log(E)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),y.value=!1};return te(()=>{}),(l,i)=>{const g=D("Calendar"),E=D("Toast"),q=D("Dialog"),F=D("Column"),z=D("DataTable");return f(),v("div",yo,[e("div",xo,[e("h6",$o,[k("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"79%"},onClick:i[0]||(i[0]=d=>x.value=!0)}," Add New "),t(q,{visible:x.value,"onUpdate:visible":i[5]||(i[5]=d=>x.value=d),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:Y({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:m(()=>[t(E),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:M},"submit")])]),default:m(()=>[e("div",Do,[e("div",wo,[ko,A(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":i[1]||(i[1]=d=>s.name=d)},null,512),[[j,s.name]])]),e("div",Po,[Co,A(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":i[2]||(i[2]=d=>s.relationship=d),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[j,s.relationship]])])]),e("div",Vo,[e("div",Eo,[So,t(g,{dateFormat:"dd/mm/yy",modelValue:s.dob,"onUpdate:modelValue":i[3]||(i[3]=d=>s.dob=d),class:"h-10 w-full",minDate:l.minDate,maxDate:l.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Lo,[To,A(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":i[4]||(i[4]=d=>s.phone_number=d)},null,512),[[j,s.phone_number]])])])]),_:1},8,["visible"])]),e("div",Uo,[t(z,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:a(n).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[t(F,{header:"Name",field:"name",style:{"min-width":"8rem"}}),t(F,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),t(F,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:m(d=>[d.data.dob=="Invalid Date"?(f(),v("div",Fo," - ")):(f(),v("div",No,h(a(K)(d.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),t(F,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),t(F,{exportable:!1,header:"Action",style:{"min-width":"8rem"}},{body:m(d=>[e("button",{class:"mr-3 btn btn-success",onClick:b=>B(d.data)},"Edit",8,Bo),e("button",{class:"btn btn-danger",onClick:b=>I(d.data)},"Delete",8,Io),e("template",null,[t(q,{visible:y.value,"onUpdate:visible":i[10]||(i[10]=b=>y.value=b),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:Y({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:m(()=>[t(E),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:_},"submit")])]),default:m(()=>[e("div",Mo,[e("div",Yo,[Ro,A(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":i[6]||(i[6]=b=>o.name=b),required:""},null,512),[[j,o.name]])]),e("div",Ao,[jo,A(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":i[7]||(i[7]=b=>o.relationship=b),required:""},null,512),[[j,o.relationship]])])]),e("div",qo,[e("div",Oo,[Ho,A(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":i[8]||(i[8]=b=>o.dob=b)},null,512),[[j,o.dob]])]),e("div",Go,[zo,A(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":i[9]||(i[9]=b=>o.phone_number=b)},null,512),[[j,o.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}};const Wo=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),Jo={class:"tab-content",id:"pills-tabContent"},Xo={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},Qo=e("div",{class:"mb-2 card"},[e("div",{class:"card-body"},[e("form",{action:"",method:"POST",enctype:"multipart/form-data"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:"mb-2 fw-bold fs-15 z-0"}," Payroll Summary ")]),e("ul",{class:"personal-info"},[e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Last Processed"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Total Working Days"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1"},[e("div",{class:"title"},"Loss Of Pay(LOP)"),e("div",{class:"text"}," - ")])])])])],-1),Zo={class:"mb-2 card"},es={class:"card-body"},ts=e("i",{class:"ri-pencil-fill"},null,-1),os=[ts],ss={class:"modal-body"},as={class:"row"},ls={class:"col-md-6"},is={class:"mb-3 form-group"},ns=e("label",null,"Bank Name",-1),ds={class:"col-md-6"},rs={class:"mb-3 form-group"},cs=e("label",null,"Bank Account No",-1),ps=e("div",{class:"cal-icon"},null,-1),_s={class:"col-md-6"},ms={class:"mb-3 form-group"},us=e("label",null,"IFSC Code",-1),fs={class:"col-md-6"},bs={class:"floating d-block justify-items-start al"},vs=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),gs={class:"flex justify-content-start"},hs=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),ys={class:"d-flex flex-column"},xs={key:0,class:"text-red-400 fs-6 font-semibold"},$s={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},Ds={class:"personal-info"},ws=e("div",{class:"title"},"Bank Name",-1),ks={class:"text"},Ps=e("div",{class:"title"},"Bank Account No.",-1),Cs={class:"text"},Vs=e("div",{class:"title"},"IFSC Code",-1),Es={class:"text"},Ss=e("div",{class:"title"},"PAN No",-1),Ls={class:"text w-20"},Ts={class:"personal-edit"},Us={href:"#",class:"edit-icon",style:{color:"#e63b1f"}},Fs={class:"modal-body"},Ns={class:"row"},Bs={class:"col-md-6"},Is={class:"mb-3 form-group"},Ms=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),Ys={key:0,class:"text-red-400 fs-6 font-semibold"},Rs={class:"col-md-6 d-flex flex-column"},As={class:"d-flex justify-items-center flex-column ml-10"},js=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),qs={class:"d-flex justify-items-center align-items-center"},Os=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),Hs={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},Gs={key:0,class:"text-red-400 fs-6 font-semibold"},zs={class:"mb-2 card"},Ks={class:"card-body"},Ws={class:"mb-2 fw-bold fs-15"},Js={class:"personal-edit"},Xs=e("i",{class:"ri-pencil-fill"},null,-1),Qs=[Xs],Zs={class:"modal-body"},ea={class:"row"},ta={class:"col-md-6"},oa={class:"floating"},sa=e("label",{for:"",class:"float-label"},[k("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),aa=e("option",{value:"",hidden:"",selected:"",disabled:""},"PF Applicable",-1),la=e("option",{value:"yes"},"Yes",-1),ia=e("option",{value:"no"},"No",-1),na=[aa,la,ia],da={class:"col-md-6"},ra={class:"mb-3 form-group"},ca=e("label",null,"EPF Number",-1),pa={class:"col-md-6"},_a={class:"mb-3 form-group"},ma=e("label",null,"UAN Number",-1),ua={class:"col-md-6"},fa={class:"mb-3 form-group"},ba=e("label",{class:"float-label"},[k("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),va=e("option",{value:"",hidden:"",selected:"",disabled:""},"ESIC Applicable",-1),ga=e("option",{value:"yes"}," Yes ",-1),ha=e("option",{value:"no"}," No ",-1),ya=[va,ga,ha],xa={class:"col-md-6"},$a={class:"floating"},Da=e("label",{for:"",class:"float-label"},"ESIC Number",-1),wa=e("span",{class:"error",id:"error_esic_number"},null,-1),ka=e("div",{class:"col-md-6"},[e("div",{class:"floating"},[e("span",{class:"error",id:"error_esic_number"})])],-1),Pa={key:0,class:"personal-info"},Ca=e("div",{class:"title"},"PF Applicable",-1),Va={class:"text"},Ea=e("div",{class:"title"},"EPF Number",-1),Sa={class:"text"},La=e("div",{class:"title"},"UAN Number",-1),Ta={class:"text"},Ua=e("div",{class:"title"},"ESIC Applicable",-1),Fa={class:"text"},Na=e("div",{class:"title"},"ESIC Number",-1),Ba={class:"text"},Ia={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Ma={class:"mb-2 card"},Ya={class:"card-body"},Ra=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Aa={__name:"FinanceDetails",setup(Z){const C=ae(),n=w(!1),V=w(!1);let x=new FormData;x.append("user_code",W.current_user_code),x.append("file_object",J.value);let y="/profile-pages/updateProfilePicture";N.post(y,x).then(T=>{}).finally(()=>{console.log("Photo Sent")});const s=J(),o=W(),r=w([]),M=w();r.value.push(s.employeeDetails.get_statutory_details),te(()=>{o.getBankList().then(T=>{M.value=T.data}),s.fetchEmployeeDetails()});const B=w(!1),I=w(!1);w(),w();const _=G({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),l=G({pan_no:"",Pancard:""}),i=T=>{T.target.files&&T.target.files[0]&&(_.PassBook=T.target.files[0],console.log(_.PassBook))},g=ee(()=>{if(s.employeeDetails.get_statutory_details.esic_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.esic_applicable=="yes")return"Yes"}),E=ee(()=>{if(s.employeeDetails.get_statutory_details.pf_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.pf_applicable=="yes")return"Yes"}),q=()=>{n.value=!0;let u=`/update-bank-info/${o.current_user_id}`,p=new FormData;p.append("user_code",s.employeeDetails.user_code),p.append("bank_id",_.bank_id),p.append("account_no",_.bank_ac_no),p.append("bank_ifsc",_.ifsc_code),p.append("PassBook",_.PassBook),p.append("onboard_document_type","Cheque leaf/Bank Passbook"),N.post(u,p).then(H=>{H.data.status=="success"?(C.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),s.employeeDetails.get_employee_details.bank_id=_.bank_id,s.employeeDetails.get_employee_details.bank_account_number=_.bank_ac_no,s.employeeDetails.get_employee_details.bank_ifsc_code=_.ifsc_code,s.employeeDetails.get_employee_details.pan_no=_.pan_no):H.data.status=="failure"&&(leave_data.leave_request_error_messege=H.data.message)}).catch(H=>{console.log(H)}).finally(()=>{s.fetchEmployeeDetails(),n.value=!1}),B.value=!1};function F(){_.bank_id=parseInt(s.employeeDetails.get_employee_details.bank_id),_.bank_ac_no=s.employeeDetails.get_employee_details.bank_account_number,_.ifsc_code=s.employeeDetails.get_employee_details.bank_ifsc_code,_.pan_no=s.employeeDetails.get_employee_details.pan_number,B.value=!0}function z(){d.pf_applicable=s.employeeDetails.get_statutory_details.pf_applicable,d.epf_no=s.employeeDetails.get_statutory_details.epf_number,d.uan_no=s.employeeDetails.get_statutory_details.uan_number,d.esic_applicable=s.employeeDetails.get_statutory_details.esic_applicable,d.esic_no=s.employeeDetails.get_statutory_details.esic_number,I.value=!0}const d=G({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),b=()=>{n.value=!0;let u=`/update-statutory-info/${o.current_user_id}`;N.post(u,{user_code:s.employeeDetails.user_code,pf_applicable:d.pf_applicable,epf_number:d.epf_no,uan_number:d.uan_no,esic_applicable:d.esic_applicable,esic_number:d.esic_no}).then(p=>{p.data.status=="success"?C.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):p.data.status=="failure"&&(leave_data.leave_request_error_messege=p.data.message)}).catch(p=>{console.log(p)}).finally(()=>{s.fetchEmployeeDetails(),n.value=!1}),I.value=!1},le=T=>{T.target.files&&T.target.files[0]&&(l.Pancard=T.target.files[0],console.log(l.Pancard))},ie=()=>{n.value=!0;const u=`/update-Pancard-info/${o.current_user_id}`,p=new FormData;p.append("pan_no",l.pan_no),p.append("pancard",l.Pancard),p.append("user_code",s.employeeDetails.user_code),p.append("onboard_document_type","Pan Card"),V.value=!1,l.Pancard&&N.post(u,p).finally(()=>{n.value=!1})},S=ee(()=>({PassBook:{required:Q}})),c=de(S,_),L=()=>{c.value.$validate(),c.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),q())},oe=ee(()=>({pan_no:{required:Q},Pancard:{required:Q}})),R=de(oe,l),O=()=>{R.value.$validate(),R.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),ie())};return(T,u)=>{const p=D("Dropdown"),H=D("InputText"),re=D("Toast"),se=D("Dialog"),me=D("InputMask"),ue=D("ProgressSpinner");return f(),v("div",null,[Wo,e("div",Jo,[e("div",Xo,[Qo,e("div",Zo,[e("div",es,[e("h6",{class:"mb-2 fw-bold fs-15"},[k("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:F},os)])]),t(se,{visible:B.value,"onUpdate:visible":u[4]||(u[4]=$=>B.value=$),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:Y({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:m(()=>[e("div",null,[e("div",ss,[e("div",as,[e("div",ls,[e("div",is,[ns,t(p,{editable:"",options:M.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:_.bank_id,"onUpdate:modelValue":u[0]||(u[0]=$=>_.bank_id=$)},null,8,["options","modelValue"])])]),e("div",ds,[e("div",rs,[cs,ps,t(H,{class:"form-controls onboard-form pl-2",inputId:"integeronly",name:"account_no",min:0,max:100,type:"number",modelValue:_.bank_ac_no,"onUpdate:modelValue":u[1]||(u[1]=$=>_.bank_ac_no=$)},null,8,["modelValue"])])]),e("div",_s,[e("div",ms,[us,t(H,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:_.ifsc_code,"onUpdate:modelValue":u[2]||(u[2]=$=>_.ifsc_code=$)},null,8,["modelValue"])])]),e("div",fs,[e("div",bs,[vs,e("div",gs,[t(re),hs,e("div",ys,[e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:u[3]||(u[3]=$=>i($)),style:{"text-transform":"uppercase"},class:X(["form-controls pl-2",[a(c).PassBook.$error?"p-invalid":""]])},null,34),a(c).PassBook.$error?(f(),v("span",xs,h(a(c).PassBook.required.$message.replace("Value","PassBook or Cheque Leaf")),1)):U("",!0)]),_.PassBook?(f(),v("div",$s,h(_.PassBook.name),1)):U("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:L},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",Ds,[e("li",null,[ws,e("div",ks,h(a(s).employeeDetails.get_employee_details.bank_name),1)]),e("li",null,[Ps,e("div",Cs,h(a(s).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[Vs,e("div",Es,h(a(s).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[Ss,e("div",Ls,[k(h(a(s).employeeDetails.get_employee_details.pan_number)+" ",1),e("span",Ts,[e("a",Us,[e("i",{class:"ri-pencil-fill",onClick:u[5]||(u[5]=$=>V.value=!0)})])])])])])])])]),t(se,{visible:V.value,"onUpdate:visible":u[8]||(u[8]=$=>V.value=$),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:Y({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:m(()=>[e("div",null,[e("div",Fs,[e("div",Ns,[e("div",Bs,[e("div",Is,[Ms,t(me,{onFocusout:T.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:l.pan_no,"onUpdate:modelValue":u[6]||(u[6]=$=>l.pan_no=$),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:X(["form-controls pl-2",[a(R).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),a(R).pan_no.$error?(f(),v("span",Ys,h(a(R).pan_no.required.$message.replace("Value","Pancard number")),1)):U("",!0)])]),e("div",Rs,[e("div",As,[js,e("div",qs,[t(re),Os,l.Pancard?(f(),v("div",Hs,h(l.Pancard.name),1)):U("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:u[7]||(u[7]=$=>le($)),class:X([a(R).Pancard.$error?"p-invalid":""])},null,34)]),a(R).Pancard.$error?(f(),v("span",Gs,h(a(R).Pancard.required.$message.replace("Value","Pancard attachment")),1)):U("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:O},"Submit")])])])])]),_:1},8,["visible"]),e("div",zs,[e("div",Ks,[e("h6",Ws,[k("Statutory Information "),e("span",Js,[e("a",{href:"#",class:"edit-icon",onClick:u[9]||(u[9]=$=>z())},Qs)])]),t(se,{visible:I.value,"onUpdate:visible":u[15]||(u[15]=$=>I.value=$),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:Y({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:m(()=>[e("div",Zs,[e("div",ea,[e("div",ta,[e("div",oa,[sa,A(e("select",{placeholder:"PF Applicable",name:"pf_applicable",id:"pf_applicable",class:"onboard-form form-control textbox select2_form_without_search","onUpdate:modelValue":u[10]||(u[10]=$=>d.pf_applicable=$)},na,512),[[ce,d.pf_applicable]])])]),e("div",da,[e("div",ra,[ca,A(e("input",{type:"text",placeholder:"EPF Number",name:"epf_number",id:"epf_number",class:"onboard-form form-control","onUpdate:modelValue":u[11]||(u[11]=$=>d.epf_no=$)},null,512),[[j,d.epf_no]])])]),e("div",pa,[e("div",_a,[ma,A(e("input",{name:"uan_number",id:"uan_number",minlength:"12",maxlength:"12",class:"form-control onboard-form",type:"text","pattern-data":"ifsc",required:"","onUpdate:modelValue":u[12]||(u[12]=$=>d.uan_no=$)},null,512),[[j,d.uan_no]])])]),e("div",ua,[e("div",fa,[ba,A(e("select",{placeholder:"ESIC Applicable",name:"esic_applicable",id:"esic_applicable",class:"onboard-form form-control textbox select2_form_without_search",required:"","onUpdate:modelValue":u[13]||(u[13]=$=>d.esic_applicable=$)},ya,512),[[ce,d.esic_applicable]])])]),e("div",xa,[e("div",$a,[Da,A(e("input",{type:"text",placeholder:"ESIC Number",name:"esic_number",id:"esic_number",minlength:"10",maxlength:"10",class:"onboard-form form-control textbox","onUpdate:modelValue":u[14]||(u[14]=$=>d.esic_no=$)},null,512),[[j,d.esic_no]]),wa])]),ka]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:b},"Save")])])])]),_:1},8,["visible"]),a(s).employeeDetails.get_statutory_details?(f(),v("ul",Pa,[e("li",null,[Ca,e("div",Va,h(a(E)),1)]),e("li",null,[Ea,e("div",Sa,h(a(s).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[La,e("div",Ta,h(a(s).employeeDetails.get_statutory_details.uan_number),1)]),e("li",null,[Ua,e("div",Fa,h(a(g)),1)]),e("li",null,[Na,e("div",Ba,h(a(s).employeeDetails.get_employee_details.account_no)+" "+h(a(s).employeeDetails.get_statutory_details.esic_number),1)])])):U("",!0)])])]),e("div",Ia,[e("div",Ma,[e("div",Ya,[t(Ge)])])])]),t(se,{header:"Header",visible:n.value,"onUpdate:visible":u[16]||(u[16]=$=>n.value=$),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(ue,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[Ra]),_:1},8,["visible"])])}}};const ja={class:"mb-2 card"},qa={class:"card-body"},Oa={class:"fw-bold fs-15"},Ha={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},Ga={class:"space-between"},za={class:"flex-col input_text"},Ka=e("span",null,[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),Wa={class:"flex-col input_text"},Ja=e("span",null,[k(" Location"),e("span",{class:"text-danger"},"*")],-1),Xa={class:"space-between M-T"},Qa={class:"flex-col input_text"},Za=e("span",null,[k("Job Position "),e("span",{class:"text-danger"},"*")],-1),el={class:"flex-col input_text",style:{"margin-right":"7px"}},tl=e("span",{style:{paddingLeft:"6px"}},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),ol={class:"space-between M-T"},sl={class:"flex-col input_text",style:{marginLeft:"-6px"}},al=e("span",{style:{paddingLeft:"6px"}},[k("Period To "),e("span",{class:"text-danger"},"*")],-1),ll={class:"my-6 table-responsive"},il=["onClick"],nl=["onClick"],dl={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},rl={class:"space-between"},cl={class:"flex-col input_text"},pl=e("span",null,[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),_l={class:"flex-col input_text"},ml=e("span",null,[k(" Location"),e("span",{class:"text-danger"},"*")],-1),ul={class:"space-between M-T"},fl={class:"flex-col input_text"},bl=e("span",null,[k("Job Position "),e("span",{class:"text-danger"},"*")],-1),vl={class:"flex-col input_text",style:{"margin-right":"7px"}},gl=e("span",{style:{paddingLeft:"6px"}},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),hl={class:"space-between M-T"},yl={class:"flex-col input_text",style:{marginLeft:"-6px"}},xl=e("span",{style:{paddingLeft:"6px"}},[k("Period To "),e("span",{class:"text-danger"},"*")],-1),$l={__name:"ExperienceDetails",setup(Z){const C=W(),n=J(),V=ae();ae(),w("");const x=w(!1),y=w(!1),s=w(),o=G({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),r=()=>{console.log(o),n.loading_screen=!0;let l=`/add-experience-info/${C.current_user_id}`;N.post(l,{user_code:n.employeeDetails.user_code,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:K(o.period_from).format("YYYY-MM-DD"),period_to:K(o.period_to).format("YYYY-MM-DD")}).then(i=>{i.data.status=="success"?V.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):i.data.status=="failure"&&(leave_data.leave_request_error_messege=i.data.message)}).catch(i=>{console.log(i)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),x.value=!1};te(()=>{});const M=_=>{y.value=!0,s.value=_.id,console.log(s.value),o.company_name=_.company_name,o.location=_.location,o.job_position=_.job_position,o.period_from=_.period_from,o.period_to=_.period_to},B=_=>{y.value=!1;let i=`/update-experience-info/${C.current_user_id}`;N.post(i,{user_code:n.employeeDetails.user_code,exp_current_table_id:s.value,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:K(o.period_from).format("YYYY-MM-DD"),period_to:K(o.period_to).format("YYYY-MM-DD")}).then(g=>{g.data.status=="success"?(window.location.reload(),V.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):g.data.status=="failure"&&(leave_data.leave_request_error_messege=g.data.message)}).catch(g=>{console.log(g)})},I=_=>{s.value=_.id;let i=`/delete-experience-info/${C.current_user_id}`;N.post(i,{exp_current_table_id:s.value}).then(g=>{g.data.status=="success"?V.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}):g.data.status=="failure"&&(leave_data.leave_request_error_messege=g.data.message)}).catch(g=>{console.log(g)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1})};return(_,l)=>{const i=D("InputText"),g=D("Calendar"),E=D("Toast"),q=D("Dialog"),F=D("Column"),z=D("DataTable");return f(),v("div",null,[e("div",ja,[e("div",qa,[e("h6",Oa,[k("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"76%"},onClick:l[0]||(l[0]=d=>x.value=!0)}," Add New "),t(q,{visible:x.value,"onUpdate:visible":l[6]||(l[6]=d=>x.value=d),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:Y({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:m(()=>[e("div",null,[t(E),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:r},"submit")])]),default:m(()=>[e("div",Ha,[e("div",Ga,[e("div",za,[Ka,t(i,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":l[1]||(l[1]=d=>o.company_name=d),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",Wa,[Ja,t(i,{type:"text",modelValue:o.location,"onUpdate:modelValue":l[2]||(l[2]=d=>o.location=d),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",Xa,[e("div",Qa,[Za,t(i,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":l[3]||(l[3]=d=>o.job_position=d),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",el,[tl,t(g,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":l[4]||(l[4]=d=>o.period_from=d),style:Y({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",ol,[e("div",sl,[al,t(g,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":l[5]||(l[5]=d=>o.period_to=d),class:"",style:Y({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])]),e("div",ll,[t(z,{ref:"dt",value:a(n).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[t(F,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),t(F,{field:"location",header:"Location",style:{"min-width":"8rem"}}),t(F,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),t(F,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),t(F,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),t(F,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:m(d=>[e("button",{class:"mr-3 btn btn-success",onClick:b=>M(d.data)},"Edit",8,il),e("button",{class:"btn btn-danger",onClick:b=>I(d.data)},"Delete",8,nl),e("template",null,[t(q,{visible:y.value,"onUpdate:visible":l[13]||(l[13]=b=>y.value=b),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:Y({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:m(()=>[e("div",null,[t(E),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:l[12]||(l[12]=b=>B())},"submit")])]),default:m(()=>[e("div",dl,[e("div",rl,[e("div",cl,[pl,t(i,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":l[7]||(l[7]=b=>o.company_name=b),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",_l,[ml,t(i,{type:"text",modelValue:o.location,"onUpdate:modelValue":l[8]||(l[8]=b=>o.location=b),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",ul,[e("div",fl,[bl,t(i,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":l[9]||(l[9]=b=>o.job_position=b),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",vl,[gl,t(g,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":l[10]||(l[10]=b=>o.period_from=b),style:Y({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",hl,[e("div",yl,[xl,t(g,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":l[11]||(l[11]=b=>o.period_to=b),class:"",style:Y({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},Dl={class:"table-responsive"},wl={class:"w-full h-full d-flex justify-content-center"},kl=["src"],Pl=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Cl={__name:"documents",setup(Z){const C=J();W();const n=w({}),V=w(!1),x=w(),y=w(!1),s=o=>{n.value={...o},console.log(n.value),console.log(n.value.doc_url),V.value=!0,y.value=!0,N.post("/view-profile-private-file",{user_code:C.employeeDetails.user_code,document_name:n.value.document_name}).then(r=>{console.log(r.data.data),x.value=r.data.data,console.log("data sent",x.value)}).finally(()=>{y.value=!1})};return(o,r)=>{const M=D("Column"),B=D("Button"),I=D("DataTable"),_=D("Dialog"),l=D("ProgressSpinner");return f(),v("div",Dl,[t(I,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:a(C).employeeDetails.employee_documents,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[t(M,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:m(()=>[k(h(a(C).employeeDetails.employee_documents.document_name),1)]),_:1}),t(M,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:m(()=>[k(h(a(C).employeeDetails.employee_documents.status),1)]),_:1}),t(M,{field:"reason",header:"Reason ",style:{"min-width":"12rem"}}),t(M,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:m(i=>[t(B,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:g=>s(i.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),y.value==!1?(f(),fe(_,{key:0,visible:V.value,"onUpdate:visible":r[0]||(r[0]=i=>V.value=i),modal:"",header:"Documents",style:{width:"40vw"}},{default:m(()=>[e("div",wl,[n.value.doc_url?(f(),v("img",{key:0,src:`data:image/png;base64,${x.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,kl)):U("",!0)])]),_:1},8,["visible"])):U("",!0),t(_,{header:"Header",visible:y.value,"onUpdate:visible":r[1]||(r[1]=i=>y.value=i),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(l,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[Pl]),_:1},8,["visible"])])}}},Vl=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),El={class:"profile_page-wrapper mt-30 container-fluid"},Sl={class:"row"},Ll={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},Tl={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},Ul=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Fl={class:"tab-content",id:"pills-tabContent"},Nl={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Bl={key:0},Il={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Ml={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Yl={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Rl={key:0},Al={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},jl={__name:"profilePageNew",setup(Z){W();let C=J();return te(async()=>{console.log("Loading screen start : "+C.loading_screen),C.fetchEmployeeDetails().then(function(n){console.log("Loading screen end : "+C.loading_screen),console.log("Req done")})}),(n,V)=>{const x=D("Toast"),y=D("ProgressSpinner"),s=D("Dialog");return f(),v(_e,null,[t(x),t(s,{header:"Header",visible:a(C).loading_screen,"onUpdate:visible":V[0]||(V[0]=o=>a(C).loading_screen=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(y,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[Vl]),_:1},8,["visible"]),e("div",El,[e("div",Sl,[a(C).loading_screen?U("",!0):(f(),v("div",Ll,[t(ho)])),e("div",Tl,[Ul,e("div",Fl,[e("div",Nl,[a(C).loading_screen?U("",!0):(f(),v("div",Bl,[t(He)]))]),e("div",Il,[t(Ko)]),e("div",Ml,[t($l)]),e("div",Yl,[a(C).loading_screen?U("",!0):(f(),v("div",Rl,[t(Aa)]))]),e("div",Al,[t(Cl)])])])])])],64)}}},P=be(jl),ql=Ce();P.use(ve,{ripple:!0});P.use(Ne);P.use(ge);P.use(Fe);P.use(ql);P.directive("tooltip",Ve);P.directive("badge",Ee);P.directive("ripple",he);P.directive("styleclass",Se);P.directive("focustrap",ye);P.component("Button",xe);P.component("DataTable",Le);P.component("Column",Te);P.component("ColumnGroup",Me);P.component("Row",Ie);P.component("Toast",$e);P.component("ConfirmDialog",De);P.component("Dropdown",we);P.component("InputText",ke);P.component("Dialog",Pe);P.component("ProgressSpinner",Be);P.component("Calendar",Ye);P.component("Textarea",Re);P.component("Chips",Ae);P.component("MultiSelect",je);P.component("InputNumber",Ue);P.component("ProgressBar",Oe);P.component("InputMask",qe);P.mount("#profilePage");
