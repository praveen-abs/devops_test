import{d as j}from"./dayjs.min-2f06af28.js";import{s as W,r as g,R as t,o as J,c as _,e as p,f as T,g as n,n as a,l,i as v,p as L,h as b,t as h,k as U,j as $,I as Q,z as Y,L as F,F as z}from"./app-8ad6b03e.js";import{p as K}from"./ProfilePagesStore-762348c8.js";import{a as D}from"./index-362795f3.js";import{S as B}from"./Service-64a588f9.js";/* empty css                                                                       */import{L as X}from"./LoadingSpinner-ed998522.js";const O=W("manageEmployees",()=>{const R=g(),V=g(),c=g(),m=g(!0);async function I(){let r=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+r),await D.get(r).then(u=>{R.value=u.data})}async function N(){let r=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+r),await D.get(r).then(u=>{console.log("Axios : "+u.data),V.value=u.data})}async function w(){let r=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+r),await D.get(r).then(u=>{console.log("Axios : "+u.data),c.value=u.data})}return{array_active_employees:R,yet_to_active_employees_data:V,exit_employees_data:c,getActiveEmployees:I,ajax_yet_to_active_employees_data:N,ajax_exit_employees_data:w,canShowLoadingScreen:m}});const G={class:"w-full"},q={class:"flex items-center justify-center"},Z=["src"],ee={class:"pl-2 font-semibold text-left fs-6"},ae=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),te={__name:"active_employees",setup(R){const V=B(),c=O();K(),g();const m=g({global:{value:null,matchMode:t.CONTAINS},emp_name:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},emp_code:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},emp_designation:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},reporting_manager_name:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},status:{value:null,matchMode:t.EQUALS}});return J(async()=>{await c.getActiveEmployees(),c.canShowLoadingScreen=!1}),(I,N)=>{const w=_("InputText"),r=_("Column"),u=_("ProgressBar"),A=_("RouterLink"),y=_("DataTable");return p(),T("div",G,[n("div",null,[a(y,{value:b(c).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:m.value,"onUpdate:filters":N[0]||(N[0]=o=>m.value=o),filterDisplay:"menu",loading:I.canShowLoadingScreen,globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{empty:l(()=>[v(" No customers found.")]),loading:l(()=>[v(" Loading customers data. Please wait. ")]),default:l(()=>[a(r,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem !important","text-align":"center:  !important"}},{body:l(o=>[n("div",q,[JSON.parse(o.data.emp_avatar).type=="shortname"?(p(),T("p",{key:0,class:L(["p-2 font-semibold text-white rounded-full w-11 fs-6",b(V).getBackgroundColor(o.index)])},h(JSON.parse(o.data.emp_avatar).data),3)):(p(),T("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(o.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Z)),n("p",ee,h(o.data.emp_name),1)])]),filter:l(({filterModel:o,filterCallback:x})=>[a(w,{modelValue:o.value,"onUpdate:modelValue":i=>o.value=i,onInput:i=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(r,{field:"emp_code",header:"Employee Code",class:"",style:{}},{filter:l(({filterModel:o,filterCallback:x})=>[a(w,{modelValue:o.value,"onUpdate:modelValue":i=>o.value=i,onInput:i=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(r,{field:"emp_designation",header:"Designation",class:""},{filter:l(({filterModel:o,filterCallback:x})=>[a(w,{modelValue:o.value,"onUpdate:modelValue":i=>o.value=i,onInput:i=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(r,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:l(({filterModel:o,filterCallback:x})=>[a(w,{modelValue:o.value,"onUpdate:modelValue":i=>o.value=i,onInput:i=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(r,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(o=>[v(h(b(j)(o.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(r,{field:"profile_completeness",header:"Profile Completeness"},{body:l(o=>[o.data.profile_completeness<=39?(p(),U(u,{key:0,value:o.data.profile_completeness,class:L([o.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):$("",!0),o.data.profile_completeness>=40&&o.data.profile_completeness<=59?(p(),U(u,{key:1,class:L(["progressbar_val2",[o.data.profile_completeness>=40&&o.data.profile_completeness<=59]]),value:o.data.profile_completeness},null,8,["class","value"])):$("",!0),o.data.profile_completeness>=60?(p(),U(u,{key:2,class:L(["progressbar_val3",[o.data.profile_completeness>=60]]),value:o.data.profile_completeness},null,8,["class","value"])):$("",!0)]),_:1}),a(r,{field:"enc_user_id",header:"View Profile"},{body:l(o=>[a(A,{to:`/profile-page/${o.data.user_id}`,click:"openProfilePage(slotProps.data)",class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},{default:l(()=>[ae,v("View")]),_:2},1032,["to"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}},oe={class:"confirmation-content"},le=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),ne={class:"flex items-center justify-center"},se=["src"],ie={class:"pl-2 font-semibold text-left fs-6"},re=["onClick"],de=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),ce={key:0},ue={key:1},pe={__name:"yet_to_active_employees",setup(R){const V=B(),c=O();J(()=>{c.ajax_yet_to_active_employees_data()}),g();let m=g(!1);g(!1),Q();const I=Y();function N(i){window.location.href="/pages-profile-new?uid="+i}const w=g({global:{value:null,matchMode:t.CONTAINS},emp_name:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},emp_code:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},emp_designation:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},reporting_manager_name:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},status:{value:null,matchMode:t.EQUALS}});g(["Pending","Approved","Rejected"]);let r=null,u=null;function A(i,f){i.emp_code,i.emp_status,console.log(O.emp_status),console.log(i.emp_status),m.value=!0,r=f,u=i,console.log("Selected Row Data : "+JSON.stringify(i))}function y(i){c.canShowLoadingScreen=!1,m.value=!1,i&&o()}function o(){r="",u=null}function x(){y(!1),c.canShowLoadingScreen=!0,console.log("Processing Rowdata : "+JSON.stringify(u)),D.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:u.emp_code,active_status:1}).then(i=>{console.log("Response : "+i),I.add({severity:"success",summary:"Activated",detail:`${u.emp_name} Activated Successfully`,life:3e3}),o()}).catch(i=>{c.canShowLoadingScreen=!1,o()}).finally(()=>{c.ajax_yet_to_active_employees_data(),c.getActiveEmployees(),c.canShowLoadingScreen=!1,m.value=!1})}return(i,f)=>{const M=_("Toast"),E=_("Button"),s=_("Dialog"),S=_("InputText"),d=_("Column"),P=_("ProgressBar"),H=_("DataTable");return p(),T("div",null,[a(M),a(s,{header:"Confirmation",visible:b(m),"onUpdate:visible":f[2]||(f[2]=e=>F(m)?m.value=e:m=e),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:l(()=>[a(E,{label:"Yes",icon:"pi pi-check",onClick:f[0]||(f[0]=e=>x()),class:"p-button-text",autofocus:""}),a(E,{label:"No",icon:"pi pi-times",onClick:f[1]||(f[1]=e=>y(!0)),class:"p-button-text"})]),default:l(()=>[n("div",oe,[le,n("span",null,"Are you sure you want to "+h(b(r))+"?",1)])]),_:1},8,["visible"]),n("div",null,[a(H,{value:b(c).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:w.value,"onUpdate:filters":f[3]||(f[3]=e=>w.value=e),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:l(()=>[v(" No customers found. ")]),loading:l(()=>[v(" Loading customers data. Please wait. ")]),default:l(()=>[a(d,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:l(e=>[n("div",ne,[JSON.parse(e.data.emp_avatar).type=="shortname"?(p(),T("p",{key:0,class:L(["p-2 font-semibold text-white rounded-full w-11 fs-6",b(V).getBackgroundColor(e.index)])},h(JSON.parse(e.data.emp_avatar).data),3)):(p(),T("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(e.data.emp_avatar).data}`,srcset:"",alt:""},null,8,se)),n("p",ie,h(e.data.emp_name),1)])]),filter:l(({filterModel:e,filterCallback:k})=>[a(S,{modelValue:e.value,"onUpdate:modelValue":C=>e.value=C,onInput:C=>k(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(d,{field:"emp_code",header:"Employee Code"},{body:l(e=>[v(h(e.data.emp_code),1)]),filter:l(({filterModel:e,filterCallback:k})=>[a(S,{modelValue:e.value,"onUpdate:modelValue":C=>e.value=C,onInput:C=>k(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(d,{field:"emp_designation",header:"Designation",class:""},{filter:l(({filterModel:e,filterCallback:k})=>[a(S,{modelValue:e.value,"onUpdate:modelValue":C=>e.value=C,onInput:C=>k(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(d,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:l(({filterModel:e,filterCallback:k})=>[a(S,{modelValue:e.value,"onUpdate:modelValue":C=>e.value=C,onInput:C=>k(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(d,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(e=>[v(h(b(j)(e.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(d,{field:"profile_completeness",header:"Profile Completeness"},{body:l(e=>[e.data.profile_completeness<=39?(p(),U(P,{key:0,value:e.data.profile_completeness,class:L([e.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):$("",!0),e.data.profile_completeness>=40&&e.data.profile_completeness<=59?(p(),U(P,{key:1,class:L(["progressbar_val2",[e.data.profile_completeness>=40&&e.data.profile_completeness<=59]]),value:e.data.profile_completeness},null,8,["class","value"])):$("",!0),e.data.profile_completeness>=60?(p(),U(P,{key:2,class:L(["progressbar_val3",[e.data.profile_completeness>=60]]),value:e.data.profile_completeness},null,8,["class","value"])):$("",!0)]),_:1}),a(d,{field:"is_onboarded",header:"Onboarding Status"},{body:l(e=>[v(h(e.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),a(d,{field:"doc_status",header:"Docs Approval Status"},{body:l(e=>[v(h(e.data.is_onboarded&&e.data.doc_status?"Approved":"Pending"),1)]),_:1}),a(d,{field:"enc_user_id",header:"View Profile"},{body:l(e=>[n("button",{onClick:k=>N(e.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[de,v("View")],8,re)]),_:1}),a(d,{style:{width:"300px"},field:"",header:"Action"},{body:l(e=>[e.data.is_onboarded&&e.data.doc_status?(p(),T("div",ce,[a(E,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:k=>A(e.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(p(),T("div",ue))]),_:1})]),_:1},8,["value","filters"])])])}}},me={class:"confirmation-content"},_e=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),fe={class:"flex items-center justify-center"},ve=["src"],ge={class:"pl-2 font-semibold text-left fs-6"},he=["onClick"],ye=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),Se={__name:"exit_employees",setup(R){const V=B(),c=O();J(()=>{c.ajax_exit_employees_data()}),g();let m=g(!1),I=g(!1);Q();const N=Y(),w=g({global:{value:null,matchMode:t.CONTAINS},employee_name:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},emp_code:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},emp_designation:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},reporting_manager_name:{value:null,matchMode:t.STARTS_WITH,matchMode:t.EQUALS,matchMode:t.CONTAINS},status:{value:null,matchMode:t.EQUALS},status:{value:null,matchMode:t.EQUALS}});function r(A){window.location.href="/pages-profile-new?uid="+A}function u(){hideConfirmDialog(!1),I.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),D.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(A=>{console.log("Response : "+A),I.value=!1,N.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(A=>{I.value=!1,resetVars()})}return(A,y)=>{const o=_("Toast"),x=_("Button"),i=_("Dialog"),f=_("InputText"),M=_("Column"),E=_("DataTable");return p(),T("div",null,[a(o),a(i,{header:"Confirmation",visible:b(m),"onUpdate:visible":y[2]||(y[2]=s=>F(m)?m.value=s:m=s),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:l(()=>[a(x,{label:"Yes",icon:"pi pi-check",onClick:y[0]||(y[0]=s=>u()),class:"p-button-text",autofocus:""}),a(x,{label:"No",icon:"pi pi-times",onClick:y[1]||(y[1]=s=>A.hideConfirmDialog(!0)),class:"p-button-text"})]),default:l(()=>[n("div",me,[_e,n("span",null,"Are you sure you want to "+h(A.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),n("div",null,[a(E,{value:b(c).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:w.value,"onUpdate:filters":y[3]||(y[3]=s=>w.value=s),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:l(()=>[v(" No customers found.")]),loading:l(()=>[v(" Loading customers data. Please wait. ")]),default:l(()=>[a(M,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:l(s=>[n("div",fe,[JSON.parse(s.data.emp_avatar).type=="shortname"?(p(),T("p",{key:0,class:L(["p-2 font-semibold text-white rounded-full w-[35px] fs-6",b(V).getBackgroundColor(s.index)])},h(JSON.parse(s.data.emp_avatar).data),3)):(p(),T("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(s.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ve)),n("p",ge,h(s.data.emp_name),1)])]),filter:l(({filterModel:s,filterCallback:S})=>[a(f,{modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,onInput:d=>S(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(M,{field:"emp_code",header:"Employee Code"},{filter:l(({filterModel:s,filterCallback:S})=>[a(f,{modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,onInput:d=>S(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(M,{field:"emp_designation",header:"Designation"},{filter:l(({filterModel:s,filterCallback:S})=>[a(f,{modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,onInput:d=>S(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(M,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:l(({filterModel:s,filterCallback:S})=>[a(f,{modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,onInput:d=>S(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(M,{field:"doj",header:"DOJ"},{body:l(s=>[v(h(b(j)(s.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(M,{field:"enc_user_id",header:"View Profile"},{body:l(s=>[n("button",{onClick:S=>r(s.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[ye,v("View")],8,he)]),_:1})]),_:1},8,["value","filters"])])])}}};const be={class:""},we=n("div",{class:"mb-2 card left-line"},[n("div",{class:"pt-1 pb-0 card-body"},[n("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),n("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),xe={class:"card"},Te={class:"card-body"},Ae={class:"tab-content",id:"pills-tabContent"},Ce={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ve={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ie={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ee={__name:"ManageEmployee",setup(R){const V=O();return(c,m)=>(p(),T(z,null,[b(V).canShowLoadingScreen?(p(),U(X,{key:0,class:"absolute z-50 bg-white w-[100%] h-[100%]"})):$("",!0),n("div",be,[we,n("div",xe,[n("div",Te,[n("div",Ae,[n("div",Ce,[a(te)]),n("div",Ve,[a(pe)]),n("div",Ie,[a(Se)])])])])])],64))}};export{Ee as default};
