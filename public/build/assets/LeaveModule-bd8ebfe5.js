import{H as n,o as r,c as u,e,h as o,F as M,f as U,t as l,a3 as d,_ as L,I as N,g as _,w as s,k as h,n as V,p as F,b as O,a as H,J as j,P as Q,K,L as q,R as W,u as z,v as G,V as J,M as X,Q as Z,A as ee,N as te,S as ae}from"./toastservice.esm-371af8c0.js";import{d as oe,c as se}from"./pinia-3100160b.js";import{T as le,B as ne,S as ie,b as de,a as re}from"./styleclass.esm-e298369b.js";import"./blockui.esm-ee01ffa9.js";import{D as ce}from"./dialogservice.esm-283c5939.js";import{s as me}from"./row.esm-6ebc942e.js";import{s as pe}from"./columngroup.esm-9dd1458e.js";import{s as ue}from"./calendar.esm-3a97f270.js";import{s as _e}from"./checkbox.esm-fff69709.js";import{s as ve}from"./chips.esm-d9886340.js";import{s as he}from"./multiselect.esm-f718a6f2.js";import{s as ge}from"./textarea.esm-dff1d4ea.js";import{s as ye}from"./overlaypanel.esm-cd14f542.js";import{h as Y}from"./moment-fbc5633a.js";import{a as B}from"./index-362795f3.js";import{d as C}from"./dayjs.min-2f06af28.js";import{S as fe}from"./Service-0e4cd938.js";import{_ as be}from"./LeaveApply-3c204dd4.js";/* empty css                                                            */import"./leave_apply_service-d168a359.js";const I=oe("useLeaveModuleStore",()=>{fe();const A=n(!1),i=n(),k=n(),$=n(),m=n(),D=n(),w=n(),T=n(!1),v=n({}),f=g=>{T.value=!0,console.log(g),v.value={...g},v.emp_name=g.name};async function b(){A.value=!0;let g="/get-employee-leave-balance";await B.get(g).then(t=>{console.log(t.data),i.value=t.data,k.value=t.data["Avalied Leaves"]}).finally(()=>{A.value=!1})}async function y(g,t,p){let a=0;await B.get(window.location.origin+"/currentUserCode ").then(S=>{a=S.data}),await B.post("/attendance/getEmployeeLeaveDetails",{user_code:a,filter_month:g,filter_year:t,filter_leave_status:p}).then(S=>{$.value=S.data.data,console.log("getEmployeeLeaveHistory() : "+S.data)})}async function x(g,t,p){let a=0;await B.get(window.location.origin+"/currentUserCode ").then(S=>{a=S.data}),B.post("/attendance/getTeamEmployeesLeaveDetails",{manager_code:a,filter_month:g,filter_year:t,filter_leave_status:p}).then(S=>{m.value=S.data.data,console.log("getTeamLeaveHistory() : "+S.data)})}async function R(g,t,p){B.post("/attendance/getAllEmployeesLeaveDetails",{filter_month:g,filter_year:t,filter_leave_status:p}).then(a=>{D.value=a.data,console.log("getOrgLeaveHistory() : "+a.data)})}async function E(g){B.post("/attendance/getLeaveInformation",{record_id:g}).then(t=>{w.value=t.data.data,console.log("getLeaveInformation() : "+t.data)})}return{canShowLoading:A,canShowLeaveDetails:T,setLeaveDetails:v,getLeaveDetails:f,array_employeeLeaveHistory:$,array_teamLeaveHistory:m,array_orgLeaveHistory:D,array_employeeLeaveBalance:i,array_employeeAvailedLeaveBalance:k,getEmployeeLeaveHistory:y,getTeamLeaveHistory:x,getAllEmployeesLeaveDetails:R,getLeaveInformation:E,getEmployeeLeaveBalance:b}}),xe={class:"mb-3 tw-card"},we={class:"mb-2 row"},Le=e("div",{class:"col-sm-6 col-xl-6 col-md-6 col-lg-6"},[e("h6",{class:"text-lg font-semibold text-gray-900 modal-title"},"Leave Balance")],-1),$e={class:"col-6 justify-content-end d-flex"},De={class:"grid gap-4 md:grid-cols-3 sm:grid-cols-1 xxl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-4",style:{display:"grid"}},Se={class:"text-lg font-semibold text-center"},ke={class:"my-3 text-xl font-bold text-center"},Ce={key:0},Te={key:1},Pe={class:"tw-card"},Me=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Leave Availed",-1),Ve={class:"grid gap-4 md:grid-cols-3 sm:grid-cols-1 xxl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-4",style:{display:"grid"}},Ae={class:"text-center"},Re={class:"mb-2 text-base font-semibold"},Ee={class:"mb-0 text-base font-semibold"},Be={__name:"EmployeeLeaveBalance",setup(A){const i=I();return(k,$)=>(r(),u(M,null,[e("div",xe,[e("div",we,[Le,e("div",$e,[o(be)])]),e("div",De,[(r(!0),u(M,null,U(d(i).array_employeeLeaveBalance,m=>(r(),u("div",{key:m,class:"p-1 my-4 rounded-lg shadow-md tw-card dynamic-card hover:bg-slate-100"},[e("p",Se,l(m.leave_type),1),e("p",ke,[m.leave_balance==""?(r(),u("span",Ce,"0")):(r(),u("span",Te,l(m.leave_balance),1))])]))),128))])]),e("div",Pe,[Me,e("div",Ve,[(r(!0),u(M,null,U(d(i).array_employeeLeaveBalance,m=>(r(),u("div",{class:"bg-indigo-100 border-l-4 border-indigo-300 tw-card",key:m},[e("div",Ae,[e("p",Re,l(m.leave_type),1),e("h6",Ee,l(m.avalied_leaves),1)])]))),128))])])],64))}},Ue={class:"mt-3 row"},Ne={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Ie={class:"mb-0 card leave-history"},Ye={class:"card-body"},Oe=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"}," Leave history ",-1),Fe={class:"d-flex justify-content-end"},He=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),je={class:"table-responsive"},Qe={key:0},Ke={key:1},qe={key:1},We={class:"w-full"},ze={class:"w-full"},Ge={class:"border w-full mt-5"},Je={class:"p-3 pl-5 d-flex align-items-center border"},Xe=e("div",{class:"rounded-circle border d-flex justify-content-center align-items-center bg-orange-200",style:{width:"80px",height:"80px"}},[e("h1",{class:"fs-5 fw-bold"},"K K")],-1),Ze={class:"ml-5"},et={class:"fs-5 fw-bold mb-2"},tt={class:"fs-6 text-neutral-400"},at={class:"border w-full d-flex py-4 px-4"},ot={class:"shadow-sm mx-2 p-1 rounded-lg"},st={class:"text-center py-1 px-2 text-light rounded-top fw-bold",style:{"background-color":"navy"}},lt={class:"text-center py-1 px-2 fs-5 fw-bold"},nt={class:"text-center py-1 px-2 fs-6 fw-bold"},it={class:"py-3"},dt={class:"fs- font-semibold"},rt={class:"font-semibold fs-6"},ct={class:"border w-full py-4 px-4"},mt=e("h1",{class:"fs-5 fw-bold"},"Notified To:",-1),pt={class:"card px-3 py-2 d-flex mt-3",style:{"min-width":"250px","max-width":"220px",display:"flex"}},ut={class:"d-flex p-2 align-items-center"},_t=e("div",{class:"rounded-circle bg-green-400 d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px"}},"DK",-1),vt={class:"flex-column px-3"},ht={class:"fs-6 fw-bold"},gt=e("h1",{class:"py-2 text-neutral-400"},"Lorem, ipsum.",-1),yt={class:"border w-full py-4 px-4"},ft=e("h1",{class:"fs-5 fw-bold"},"Approved by",-1),bt={class:"card px-3 py-2 d-flex mt-3",style:{"min-width":"180px","max-width":"250px",display:"flex"}},xt={class:"d-flex p-2 align-items-center"},wt=e("div",{class:"rounded-circle bg-green-400 d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px"}},[e("i",{class:"pi pi-check text-light"})],-1),Lt={class:"flex-column px-3"},$t={class:"fs-6 fw-bold"},Dt={class:"py-2 text-neutral-400"},St={class:"my-4 mx-3"},kt=e("div",{class:"text-end mx-4 my-4"},[e("button",{class:"btn btn-orange"},"Post")],-1),Ct={__name:"EmployeeLeaveDetails",setup(A){const i=I(),k=n(!0),$=n(),m=n(),D=v=>{$.value.toggle(v)},w=n({global:{value:null,matchMode:L.CONTAINS},employee_name:{value:null,matchMode:L.STARTS_WITH,matchMode:L.EQUALS,matchMode:L.CONTAINS},status:{value:null,matchMode:L.EQUALS}}),T=n(["Pending","Approved","Rejected"]);return N(async()=>{console.log(m.v),await i.getEmployeeLeaveHistory(C().month()+1,C().year(),["Approved","Pending","Rejected"]),k.value=!1}),(v,f)=>{const b=_("Calendar"),y=_("Button"),x=_("Column"),R=_("OverlayPanel"),E=_("Dropdown"),g=_("DataTable"),t=_("Textarea"),p=_("Dialog");return r(),u(M,null,[o(Be),e("div",Ue,[e("div",Ne,[e("div",Ie,[e("div",Ye,[Oe,e("div",Fe,[He,o(b,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=a=>m.value=a),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),o(y,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:f[1]||(f[1]=a=>d(i).getEmployeeLeaveHistory(m.value.getMonth()+1,m.value.getFullYear(),T.value))})]),e("div",je,[o(g,{value:d(i).array_employeeLeaveHistory,loading:k.value,paginator:!0,rows:5,dataKey:"id",rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",filters:w.value,"onUpdate:filters":f[2]||(f[2]=a=>w.value=a),filterDisplay:"menu",globalFilterFields:["name","status"]},{empty:s(()=>[h(" No Employee data..... ")]),loading:s(()=>[h(" Loading customers data. Please wait. ")]),default:s(()=>[o(x,{field:"leave_type",header:"Leave Type",style:{"min-width":"8rem"}}),o(x,{field:"start_date",header:"Start Date",style:{"min-width":"8rem"}},{body:s(a=>[h(l(d(C)(a.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),o(x,{field:"end_date",header:"End Date",dataType:"date",style:{"min-width":"8rem"}},{body:s(a=>[h(l(d(C)(a.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),o(x,{field:"leave_reason",header:"Leave Reason",style:{"min-width":"12rem"}},{body:s(a=>[a.data.leave_reason&&a.data.leave_reason.length>70?(r(),u("div",Qe,[e("p",{onClick:D,class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),o(R,{ref_key:"overlayPanel",ref:$,style:{height:"80px"}},{default:s(()=>[h(l(a.data.leave_reason),1)]),_:2},1536)])):(r(),u("div",Ke,l(a.data.leave_reason??""),1))]),_:1}),o(x,{field:"reviewer_name",header:"Approver Name"}),o(x,{field:"reviewer_comments",header:"Approver Comments"}),o(x,{field:"status",header:"Status",icon:"pi pi-check"},{body:s(({data:a})=>[e("span",{class:V("customer-badge status-"+a.status)},l(a.status),3)]),filter:s(({filterModel:a,filterCallback:S})=>[o(E,{modelValue:a.value,"onUpdate:modelValue":P=>a.value=P,onChange:P=>S(),options:T.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:s(P=>[P.value?(r(),u("span",{key:0,class:V("customer-badge status-"+P.value)},l(P.value),3)):(r(),u("span",qe,l(P.placeholder),1))]),option:s(P=>[e("span",{class:V("customer-badge status-"+P.option)},l(P.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),o(x,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:s(a=>[o(y,{type:"button",icon:"pi pi-check-circle",class:"text-white Button py-2.5",label:"View",onClick:S=>d(i).getLeaveDetails(a.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading","filters"])])])])])]),o(p,{header:"Header",visible:d(i).canShowLeaveDetails,"onUpdate:visible":f[3]||(f[3]=a=>d(i).canShowLeaveDetails=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw",borderTop:"5px solid #002f56"},modal:!0,closable:!0,closeOnEscape:!0},{header:s(()=>[e("div",We,[e("h5",{style:F({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Leave Details Request",4)])]),default:s(()=>[e("div",ze,[e("div",Ge,[e("div",Je,[Xe,e("div",Ze,[e("h1",et,l(d(i).setLeaveDetails.name),1),e("div",null,[e("p",tt,"Requested on "+l(d(i).setLeaveDetails.leaverequest_date),1)])])]),e("div",at,[e("div",ot,[e("h1",st,l(d(C)(d(i).setLeaveDetails.end_date).format("MMM")),1),e("h1",lt,l(d(C)(d(i).setLeaveDetails.end_date).format("DD")),1),e("h1",nt,l(d(C)(d(i).setLeaveDetails.end_date).format("dddd")),1)]),e("div",it,[e("h1",dt,[h(l(d(i).setLeaveDetails.total_leave_datetime)+" Day of "+l(d(i).setLeaveDetails.leave_type)+" ",1),e("span",rt,"("+l(d(i).setLeaveDetails.leave_reason)+")",1)])])]),e("div",ct,[mt,e("div",pt,[e("div",ut,[_t,e("div",vt,[e("h1",ht,l(d(i).setLeaveDetails.reviewer_name),1),gt])])])]),e("div",yt,[ft,e("div",bt,[e("div",xt,[wt,e("div",Lt,[e("h1",$t,l(d(i).setLeaveDetails.reviewer_name),1),e("h1",Dt," on "+l(d(i).setLeaveDetails.leaverequest_date),1)])])])]),e("div",St,[o(t,{name:"",id:"",cols:"80",rows:"5",autoResize:"",placeholder:"Add Comment"})])])]),kt]),_:1},8,["visible"])],64)}}},Tt={class:"mt-3 row"},Pt={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Mt={class:"mb-0 card leave-history"},Vt={class:"card-body"},At=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Org Leave Balance",-1),Rt={class:"mt-3 row"},Et={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Bt={class:"mb-0 card leave-history"},Ut={class:"card-body"},Nt=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Org Leave history",-1),It=e("div",null,null,-1),Yt={key:0},Ot={key:1},Ft={key:1},Ht={key:0},jt={__name:"OrgLeaveDetails",setup(A){n();const i=n(),k=n(),$=n();n(),n(),n(!0);const m=n(),D=v=>{m.value.toggle(v)},w=n({global:{value:null,matchMode:L.CONTAINS},employee_name:{value:null,matchMode:L.STARTS_WITH,matchMode:L.EQUALS,matchMode:L.CONTAINS},status:{value:null,matchMode:L.EQUALS}}),T=n(["Pending","Approved","Rejected"]);return N(()=>{}),(v,f)=>{const b=_("InputText"),y=_("Column"),x=_("DataTable"),R=_("OverlayPanel"),E=_("Dropdown"),g=_("Button");return r(),u(M,null,[e("div",Tt,[e("div",Pt,[e("div",Mt,[e("div",Vt,[At,e("div",null,[o(x,{value:k.value,rows:5,rowsPerPageOptions:[5,10,25],paginator:!0,responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",filters:w.value,"onUpdate:filters":f[0]||(f[0]=t=>w.value=t),filterDisplay:"menu",globalFilterFields:["name","status"]},{default:s(()=>[o(y,{field:"employee_name",header:"Employee Name",style:{"min-width":"15rem"}},{body:s(t=>[h(l(t.data.employee_name),1)]),filter:s(({filterModel:t,filterCallback:p})=>[o(b,{modelValue:t.value,"onUpdate:modelValue":a=>t.value=a,onInput:a=>p(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),(r(!0),u(M,null,U(i.value,t=>(r(),O(y,{key:t.id,header:t,field:"array_leave_details"},{body:s(({data:p})=>[h(l(p.array_leave_details[t]),1)]),_:2},1032,["header"]))),128))]),_:1},8,["value","filters"])])])])])]),e("div",Rt,[e("div",Et,[e("div",Bt,[e("div",Ut,[Nt,e("div",null,[o(x,{value:$.value,paginator:!0,rows:5,dataKey:"id",rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",filters:w.value,"onUpdate:filters":f[1]||(f[1]=t=>w.value=t),filterDisplay:"menu",globalFilterFields:["name","status"]},{empty:s(()=>[h(" No Employee data..... ")]),loading:s(()=>[h(" Loading customers data. Please wait. ")]),default:s(()=>[o(y,{field:"employee_name",header:"Employee Name"},{body:s(t=>[It,h(" "+l(t.data.employee_name),1)]),filter:s(({filterModel:t,filterCallback:p})=>[o(b,{modelValue:t.value,"onUpdate:modelValue":a=>t.value=a,onInput:a=>p(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),o(y,{field:"leave_type",header:"Leave Type",style:{"min-width":"8rem"}}),o(y,{field:"start_date",header:"Start Date"},{body:s(t=>[h(l(d(Y)(t.data.start_date).format("DD-MM-YYYY")),1)]),_:1}),o(y,{field:"end_date",header:"End Date",dataType:"date"},{body:s(t=>[h(l(d(Y)(t.data.end_date).format("DD-MM-YYYY")),1)]),_:1}),o(y,{field:"leave_reason",header:"Leave Reason",style:{"min-width":"12rem"}},{body:s(t=>[t.data.leave_reason&&t.data.leave_reason.length>70?(r(),u("div",Yt,[e("p",{onClick:D,class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),o(R,{ref_key:"overlayPanel",ref:m,style:{height:"80px"}},{default:s(()=>[h(l(t.data.leave_reason),1)]),_:2},1536)])):(r(),u("div",Ot,l(t.data.leave_reason??""),1))]),_:1}),o(y,{field:"reviewer_name",header:"Approver Name"}),o(y,{field:"reviewer_comments",header:"Approver Comments"}),o(y,{field:"status",header:"Status",icon:"pi pi-check"},{body:s(({data:t})=>[e("span",{class:V("customer-badge status-"+t.status)},l(t.status),3)]),filter:s(({filterModel:t,filterCallback:p})=>[o(E,{modelValue:t.value,"onUpdate:modelValue":a=>t.value=a,onClick:a=>p(),options:T.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:s(a=>[a.value?(r(),u("span",{key:0,class:V("customer-badge status-"+a.value)},l(a.value),3)):(r(),u("span",Ft,l(a.placeholder),1))]),option:s(a=>[e("span",{class:V("customer-badge status-"+a.option)},l(a.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onClick","options"])]),_:1}),o(y,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:s(t=>[t.data.status=="Pending"?(r(),u("span",Ht,[o(g,{type:"button",icon:"pi pi-check-circle",class:"p-button-success text-white Button py-2.5",label:"Approve",onClick:p=>v.showConfirmDialog(t.data,"Approve"),style:{height:"2em"}},null,8,["onClick"]),o(g,{type:"button",icon:"pi pi-times-circle",class:"text-white p-button-danger Button",label:"Reject",style:{"margin-left":"8px",height:"2em"},onClick:p=>v.showConfirmDialog(t.data,"Reject")},null,8,["onClick"])])):H("",!0)]),_:1})]),_:1},8,["value","filters"])])])])])])],64)}}},Qt={class:"card top-line"},Kt={class:"card-body"},qt={class:"row"},Wt=e("div",{class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},[e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Team Leave Balance")],-1),zt={class:"mt-3 row"},Gt={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Jt={class:"mb-0 card leave-history"},Xt={class:"card-body"},Zt=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Team Leave history",-1),ea={class:"table-responsive"},ta={class:"d-flex justify-content-end"},aa=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),oa=e("div",{id:"team_leaveHistory",class:"custom_gridJs"},null,-1),sa={key:0},la={key:1},na={key:1},ia={__name:"TeamLeaveDetails",setup(A){const i=I();n();const k=n(),$=n();n(),n(),n(!0),n();const m=n(),D=n({employee_name:{value:null,matchMode:L.STARTS_WITH,matchMode:L.EQUALS,matchMode:L.CONTAINS},status:{value:null,matchMode:L.EQUALS}}),w=n(["Pending","Approved","Rejected"]);return N(async()=>{await i.getTeamLeaveHistory(C().month()+1,C().year(),["Approved","Pending","Rejected"])}),(T,v)=>{const f=_("InputText"),b=_("Column"),y=_("DataTable"),x=_("Calendar"),R=_("Button"),E=_("OverlayPanel"),g=_("Dropdown");return r(),u(M,null,[e("div",Qt,[e("div",Kt,[e("div",qt,[Wt,e("div",null,[o(y,{value:$.value,responsiveLayout:"scroll",paginator:!0,rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,filters:D.value,"onUpdate:filters":v[0]||(v[0]=t=>D.value=t),filterDisplay:"menu",globalFilterFields:["name"],style:{"white-space":"nowrap"}},{default:s(()=>[o(b,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:s(t=>[h(l(t.data.employee_name),1)]),filter:s(({filterModel:t,filterCallback:p})=>[o(f,{modelValue:t.value,"onUpdate:modelValue":a=>t.value=a,onInput:a=>p(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),(r(!0),u(M,null,U(k.value,t=>(r(),O(b,{header:t,key:t.id,field:"array_leave_details"},{body:s(({data:p})=>[h(l(p.array_leave_details[t]),1)]),_:2},1032,["header"]))),128))]),_:1},8,["value","filters"])])])])]),e("div",zt,[e("div",Gt,[e("div",Jt,[e("div",Xt,[Zt,e("div",ea,[e("div",ta,[aa,o(x,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:m.value,"onUpdate:modelValue":v[1]||(v[1]=t=>m.value=t),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),o(R,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:v[2]||(v[2]=t=>d(i).getTeamLeaveHistory(m.value.getMonth()+1,m.value.getFullYear(),w.value))})]),oa,o(y,{value:d(i).array_teamLeaveHistory,responsiveLayout:"scroll",paginator:!0,rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,filters:D.value,"onUpdate:filters":v[4]||(v[4]=t=>D.value=t),filterDisplay:"menu",globalFilterFields:["name"],style:{"white-space":"nowrap"}},{empty:s(()=>[h(" No Employee data..... ")]),default:s(()=>[o(b,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:s(t=>[h(l(t.data.employee_name),1)]),filter:s(({filterModel:t,filterCallback:p})=>[o(f,{modelValue:t.value,"onUpdate:modelValue":a=>t.value=a,onInput:a=>p(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),o(b,{field:"leave_type",header:"Leave Type"}),o(b,{field:"start_date",header:"Start Date"},{body:s(t=>[h(l(d(C)(t.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),o(b,{field:"end_date",header:"End Date"},{body:s(t=>[h(l(d(C)(t.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),o(b,{field:"leave_reason",header:"Leave Reason"},{body:s(t=>[t.data.leave_reason&&t.data.leave_reason.length>70?(r(),u("div",sa,[e("p",{onClick:v[3]||(v[3]=(...p)=>T.toggle&&T.toggle(...p)),class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),o(E,{ref:"overlayPanel",style:{height:"80px"}},{default:s(()=>[h(l(t.data.leave_reason),1)]),_:2},1536)])):(r(),u("div",la,l(t.data.leave_reason??""),1))]),_:1}),o(b,{field:"status",header:"Status"},{body:s(({data:t})=>[e("span",{class:V("customer-badge status-"+t.status)},l(t.status),3)]),filter:s(({filterModel:t,filterCallback:p})=>[o(g,{modelValue:t.value,"onUpdate:modelValue":a=>t.value=a,onChange:a=>p(),options:w.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:s(a=>[a.value?(r(),u("span",{key:0,class:V("customer-badge status-"+a.value)},l(a.value),3)):(r(),u("span",na,l(a.placeholder),1))]),option:s(a=>[e("span",{class:V("customer-badge status-"+a.option)},l(a.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1})]),_:1},8,["value","filters"])])])])])])],64)}}};const da={class:"Leave_dashboard mt-30"},ra=e("div",{class:"pt-1 pb-0 mb-3 tw-card left-line"},[e("div",{class:"flex justify-between"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[e("li",{class:"nav-item text-muted",role:"presentation"},[e("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#leave_balance","aria-selected":"true",role:"tab"}," Leave Balance")]),e("li",{class:"nav-item text-muted",role:"presentation"},[e("a",{class:"pb-2 mx-4 nav-link","data-bs-toggle":"tab",href:"#team_leaveBalance","aria-selected":"false",tabindex:"-1",role:"tab"}," Team Leave Balance")]),e("li",{class:"nav-item text-muted",role:"presentation"},[e("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#org_leave","aria-selected":"false",tabindex:"-1",role:"tab"}," Org Leave Balance")])]),e("div",{class:"flex items-center"},[e("div",{class:"mr-3"},[e("div",{class:"input-group me-2"},[e("label",{class:"input-group-text",for:"inputGroupSelect01"},[e("i",{class:"fa fa-calendar text-primary","aria-hidden":"true"})]),e("select",{class:"form-select btn-line-primary",id:"inputGroupSelect01"})])]),e("div",{class:""},[e("a",{href:"/attendance-leave-policydocument",id:"",class:"btn btn-orange",role:"button","aria-expanded":"false"}," Leave Policy Explanation ")])])])],-1),ca={class:"tab-content",id:"pills-tabContent"},ma={class:"tab-pane show fade active",id:"leave_balance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},pa={class:"tab-pane fade show",id:"team_leaveBalance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ua={class:"tab-pane show",id:"org_leave",role:"tabpanel","aria-labelledby":"pills-profile-tab"},_a=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),va={__name:"LeaveModule",setup(A){const i=I();return N(()=>{i.getEmployeeLeaveBalance()}),(k,$)=>{const m=_("ProgressSpinner"),D=_("Dialog");return r(),u(M,null,[e("div",da,[ra,e("div",ca,[e("div",ma,[o(Ct)]),e("div",pa,[o(ia)]),e("div",ua,[o(jt)])])]),o(D,{header:"Header",visible:d(i).canShowLoading,"onUpdate:visible":$[0]||($[0]=w=>d(i).canShowLoading=w),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:s(()=>[o(m,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:s(()=>[_a]),_:1},8,["visible"])],64)}}},c=j(va),ha=se();c.use(Q,{ripple:!0});c.use(K);c.use(q);c.use(ce);c.use(ha);c.directive("tooltip",le);c.directive("badge",ne);c.directive("ripple",W);c.directive("styleclass",ie);c.directive("focustrap",z);c.component("Button",G);c.component("DataTable",de);c.component("Column",re);c.component("ColumnGroup",pe);c.component("Row",me);c.component("Toast",J);c.component("ConfirmDialog",X);c.component("Dropdown",Z);c.component("InputText",ee);c.component("Dialog",te);c.component("ProgressSpinner",ae);c.component("Calendar",ue);c.component("Checkbox",_e);c.component("Chips",ve);c.component("MultiSelect",he);c.component("Textarea",ge);c.component("OverlayPanel",ye);c.mount("#LeaveModule");
