import{d as P}from"./dayjs.min-2f06af28.js";import{Q as y,a7 as s,ae as B,h as u,o as i,c as S,d as l,g as t,w as n,l as v,n as x,aa as b,t as h,b as C,a as A,X as Y,F as H}from"./inputnumber.esm-a7c5b1f0.js";import{p as W}from"./ProfilePagesStore-fdbd5911.js";import{d as X}from"./pinia-4be28dc8.js";import{a as U}from"./index-362795f3.js";import{S as J}from"./Service-27f748d6.js";/* empty css                                                                       */import{u as F}from"./confirmationservice.esm-c87db23e.js";import{u as Q}from"./toastservice.esm-c9da6ad1.js";import{L as K}from"./LoadingSpinner-bbcf6d6b.js";import"./vue-router-35bf78e1.js";import"./_plugin-vue_export-helper-c27b6911.js";const O=X("manageEmployees",()=>{const M=y(),k=y(),d=y(),_=y(!0);async function T(){let r=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+r),await U.get(r).then(p=>{M.value=p.data})}async function V(){let r=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+r),await U.get(r).then(p=>{console.log("Axios : "+p.data),k.value=p.data})}async function L(){let r=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+r),await U.get(r).then(p=>{console.log("Axios : "+p.data),d.value=p.data})}return{array_active_employees:M,yet_to_active_employees_data:k,exit_employees_data:d,getActiveEmployees:T,ajax_yet_to_active_employees_data:V,ajax_exit_employees_data:L,canShowLoadingScreen:_}});const G={class:"w-full"},q={class:"flex items-center justify-center"},Z=["src"],ee={class:"pl-2 font-semibold text-left fs-6"},ae=["onClick"],te=l("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),oe={__name:"active_employees",setup(M){const k=J(),d=O(),_=W(),T=y(),V=y({global:{value:null,matchMode:s.CONTAINS},emp_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_code:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS}});B(async()=>{await d.getActiveEmployees(),d.canShowLoadingScreen=!1});async function L(r){console.log(r),T.value=r.data,_.user_code=r.enc_user_id,window.location.href="/pages-profile-new?uid="+r.enc_user_id}return(r,p)=>{const w=u("InputText"),c=u("Column"),N=u("ProgressBar"),R=u("DataTable");return i(),S("div",G,[l("div",null,[t(R,{value:b(d).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:V.value,"onUpdate:filters":p[0]||(p[0]=e=>V.value=e),filterDisplay:"menu",loading:r.canShowLoadingScreen,globalFilterFields:["emp_name","emp_code","status"]},{empty:n(()=>[v(" No customers found.")]),loading:n(()=>[v(" Loading customers data. Please wait. ")]),default:n(()=>[t(c,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem !important","text-align":"center:  !important"}},{body:n(e=>[l("div",q,[JSON.parse(e.data.emp_avatar).type=="shortname"?(i(),S("p",{key:0,class:x(["p-2 font-semibold text-white rounded-full w-11 fs-6",b(k).getBackgroundColor(e.index)])},h(JSON.parse(e.data.emp_avatar).data),3)):(i(),S("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(e.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Z)),l("p",ee,h(e.data.emp_name),1)])]),filter:n(({filterModel:e,filterCallback:m})=>[t(w,{modelValue:e.value,"onUpdate:modelValue":f=>e.value=f,onInput:f=>m(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(c,{field:"emp_code",header:"Employee Code",class:"",style:{"min-width":"2rem !important"}},{filter:n(({filterModel:e,filterCallback:m})=>[t(w,{modelValue:e.value,"onUpdate:modelValue":f=>e.value=f,onInput:f=>m(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(c,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),t(c,{field:"reporting_manager_name",header:"Reporting Manager"}),t(c,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:n(e=>[v(h(b(P)(e.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),t(c,{field:"profile_completeness",header:"Profile Completeness"},{body:n(e=>[e.data.profile_completeness<=39?(i(),C(N,{key:0,value:e.data.profile_completeness,class:x([e.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):A("",!0),e.data.profile_completeness>=40&&e.data.profile_completeness<=59?(i(),C(N,{key:1,class:x(["progressbar_val2",[e.data.profile_completeness>=40&&e.data.profile_completeness<=59]]),value:e.data.profile_completeness},null,8,["class","value"])):A("",!0),e.data.profile_completeness>=60?(i(),C(N,{key:2,class:x(["progressbar_val3",[e.data.profile_completeness>=60]]),value:e.data.profile_completeness},null,8,["class","value"])):A("",!0)]),_:1}),t(c,{field:"enc_user_id",header:"View Profile"},{body:n(e=>[l("button",{onClick:m=>L(e.data),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[te,v("View")],8,ae)]),_:1})]),_:1},8,["value","filters","loading"])])])}}},le={class:"confirmation-content"},ne=l("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),se={class:"flex items-center justify-center"},ie=["src"],re={class:"pl-2 font-semibold text-left fs-6"},de=["onClick"],ce=l("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),pe={key:0},me={key:1},ue={__name:"yet_to_active_employees",setup(M){const k=J(),d=O();B(()=>{d.ajax_yet_to_active_employees_data()}),y();let _=y(!1);y(!1),F();const T=Q();function V(e){window.location.href="/pages-profile-new?uid="+e}const L=y({global:{value:null,matchMode:s.CONTAINS},emp_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_code:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS}});y(["Pending","Approved","Rejected"]);let r=null,p=null;function w(e,m){e.emp_code,e.emp_status,console.log(O.emp_status),console.log(e.emp_status),_.value=!0,r=m,p=e,console.log("Selected Row Data : "+JSON.stringify(e))}function c(e){d.canShowLoadingScreen=!1,_.value=!1,e&&N()}function N(){r="",p=null}function R(){c(!1),d.canShowLoadingScreen=!0,console.log("Processing Rowdata : "+JSON.stringify(p)),U.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:p.emp_code,active_status:1}).then(e=>{console.log("Response : "+e),T.add({severity:"success",summary:"Activated",detail:`${p.emp_name} Activated Successfully`,life:3e3}),N()}).catch(e=>{d.canShowLoadingScreen=!1,N()}).finally(()=>{d.ajax_yet_to_active_employees_data(),d.getActiveEmployees(),d.canShowLoadingScreen=!1,_.value=!1})}return(e,m)=>{const f=u("Toast"),D=u("Button"),j=u("Dialog"),o=u("InputText"),g=u("Column"),$=u("ProgressBar"),z=u("DataTable");return i(),S("div",null,[t(f),t(j,{header:"Confirmation",visible:b(_),"onUpdate:visible":m[2]||(m[2]=a=>Y(_)?_.value=a:_=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:n(()=>[t(D,{label:"Yes",icon:"pi pi-check",onClick:m[0]||(m[0]=a=>R()),class:"p-button-text",autofocus:""}),t(D,{label:"No",icon:"pi pi-times",onClick:m[1]||(m[1]=a=>c(!0)),class:"p-button-text"})]),default:n(()=>[l("div",le,[ne,l("span",null,"Are you sure you want to "+h(b(r))+"?",1)])]),_:1},8,["visible"]),l("div",null,[t(z,{value:b(d).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:L.value,"onUpdate:filters":m[3]||(m[3]=a=>L.value=a),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:n(()=>[v(" No customers found. ")]),loading:n(()=>[v(" Loading customers data. Please wait. ")]),default:n(()=>[t(g,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:n(a=>[l("div",se,[JSON.parse(a.data.emp_avatar).type=="shortname"?(i(),S("p",{key:0,class:x(["p-2 font-semibold text-white rounded-full w-11 fs-6",b(k).getBackgroundColor(a.index)])},h(JSON.parse(a.data.emp_avatar).data),3)):(i(),S("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(a.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ie)),l("p",re,h(a.data.emp_name),1)])]),filter:n(({filterModel:a,filterCallback:E})=>[t(o,{modelValue:a.value,"onUpdate:modelValue":I=>a.value=I,onInput:I=>E(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(g,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem !important"}},{body:n(a=>[v(h(a.data.emp_code),1)]),filter:n(({filterModel:a,filterCallback:E})=>[t(o,{modelValue:a.value,"onUpdate:modelValue":I=>a.value=I,onInput:I=>E(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(g,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),t(g,{field:"reporting_manager_name",header:"Reporting Manager"}),t(g,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:n(a=>[v(h(b(P)(a.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),t(g,{field:"profile_completeness",header:"Profile Completeness"},{body:n(a=>[a.data.profile_completeness<=39?(i(),C($,{key:0,value:a.data.profile_completeness,class:x([a.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):A("",!0),a.data.profile_completeness>=40&&a.data.profile_completeness<=59?(i(),C($,{key:1,class:x(["progressbar_val2",[a.data.profile_completeness>=40&&a.data.profile_completeness<=59]]),value:a.data.profile_completeness},null,8,["class","value"])):A("",!0),a.data.profile_completeness>=60?(i(),C($,{key:2,class:x(["progressbar_val3",[a.data.profile_completeness>=60]]),value:a.data.profile_completeness},null,8,["class","value"])):A("",!0)]),_:1}),t(g,{field:"is_onboarded",header:"Onboarding Status"},{body:n(a=>[v(h(a.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),t(g,{field:"doc_status",header:"Docs Approval Status"},{body:n(a=>[v(h(a.data.is_onboarded&&a.data.doc_status?"Approved":"Pending"),1)]),_:1}),t(g,{field:"enc_user_id",header:"View Profile"},{body:n(a=>[l("button",{onClick:E=>V(a.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[ce,v("View")],8,de)]),_:1}),t(g,{style:{width:"300px"},field:"",header:"Action"},{body:n(a=>[a.data.is_onboarded&&a.data.doc_status?(i(),S("div",pe,[t(D,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:E=>w(a.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(i(),S("div",me))]),_:1})]),_:1},8,["value","filters"])])])}}},_e={class:"confirmation-content"},fe=l("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),ge={class:"flex items-center justify-center"},ve=["src"],ye={class:"pl-2 font-semibold text-left fs-6"},he=["onClick"],be=l("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),we={__name:"exit_employees",setup(M){const k=J(),d=O();B(()=>{d.ajax_exit_employees_data()}),y();let _=y(!1),T=y(!1);F();const V=Q(),L=y({global:{value:null,matchMode:s.CONTAINS},employee_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS},status:{value:null,matchMode:s.EQUALS}});function r(w){window.location.href="/pages-profile-new?uid="+w}function p(){hideConfirmDialog(!1),T.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),U.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(w=>{console.log("Response : "+w),T.value=!1,V.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(w=>{T.value=!1,resetVars()})}return(w,c)=>{const N=u("Toast"),R=u("Button"),e=u("Dialog"),m=u("InputText"),f=u("Column"),D=u("ProgressBar"),j=u("DataTable");return i(),S("div",null,[t(N),t(e,{header:"Confirmation",visible:b(_),"onUpdate:visible":c[2]||(c[2]=o=>Y(_)?_.value=o:_=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:n(()=>[t(R,{label:"Yes",icon:"pi pi-check",onClick:c[0]||(c[0]=o=>p()),class:"p-button-text",autofocus:""}),t(R,{label:"No",icon:"pi pi-times",onClick:c[1]||(c[1]=o=>w.hideConfirmDialog(!0)),class:"p-button-text"})]),default:n(()=>[l("div",_e,[fe,l("span",null,"Are you sure you want to "+h(w.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),l("div",null,[t(j,{value:b(d).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:L.value,"onUpdate:filters":c[3]||(c[3]=o=>L.value=o),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:n(()=>[v(" No customers found.")]),loading:n(()=>[v(" Loading customers data. Please wait. ")]),default:n(()=>[t(f,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:n(o=>[l("div",ge,[JSON.parse(o.data.emp_avatar).type=="shortname"?(i(),S("p",{key:0,class:x(["p-2 font-semibold text-white rounded-full w-11 fs-6",b(k).getBackgroundColor(o.index)])},h(JSON.parse(o.data.emp_avatar).data),3)):(i(),S("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(o.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ve)),l("p",ye,h(o.data.emp_name),1)])]),filter:n(({filterModel:o,filterCallback:g})=>[t(m,{modelValue:o.value,"onUpdate:modelValue":$=>o.value=$,onInput:$=>g(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(f,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem"}},{filter:n(({filterModel:o,filterCallback:g})=>[t(m,{modelValue:o.value,"onUpdate:modelValue":$=>o.value=$,onInput:$=>g(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(f,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),t(f,{field:"reporting_manager_name",header:"Reporting Manager"}),t(f,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:n(o=>[v(h(b(P)(o.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),t(f,{field:"profile_completeness",header:"Profile Completeness"},{body:n(o=>[o.data.profile_completeness<=39?(i(),C(D,{key:0,value:o.data.profile_completeness,class:x([o.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):A("",!0),o.data.profile_completeness>=40&&o.data.profile_completeness<=59?(i(),C(D,{key:1,class:x(["progressbar_val2",[o.data.profile_completeness>=40&&o.data.profile_completeness<=59]]),value:o.data.profile_completeness},null,8,["class","value"])):A("",!0),o.data.profile_completeness>=60?(i(),C(D,{key:2,class:x(["progressbar_val3",[o.data.profile_completeness>=60]]),value:o.data.profile_completeness},null,8,["class","value"])):A("",!0)]),_:1}),t(f,{field:"enc_user_id",header:"View Profile"},{body:n(o=>[l("button",{onClick:g=>r(o.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[be,v("View")],8,he)]),_:1})]),_:1},8,["value","filters"])])])}}};const Se={class:""},xe=l("div",{class:"mb-2 card left-line"},[l("div",{class:"pt-1 pb-0 card-body"},[l("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[l("li",{class:"nav-item text-muted",role:"presentation"},[l("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),l("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[l("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),l("li",{class:"nav-item text-muted",role:"presentation"},[l("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),ke={class:"card"},Ce={class:"card-body"},Ae={class:"tab-content",id:"pills-tabContent"},Te={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Le={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ne={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Je={__name:"ManageEmployee",setup(M){const k=O();return(d,_)=>(i(),S(H,null,[b(k).canShowLoadingScreen?(i(),C(K,{key:0,class:"absolute z-50 bg-white w-[100%] h-[100%]"})):A("",!0),l("div",Se,[xe,l("div",ke,[l("div",Ce,[l("div",Ae,[l("div",Te,[t(oe)]),l("div",Le,[t(ue)]),l("div",Ne,[t(we)])])])])])],64))}};export{Je as default};
