import{l as fe}from"./lodash-facb8280.js";import{a as z}from"./index-362795f3.js";import{S as ae}from"./Service-da5c2051.js";import{p as le}from"./ProfilePagesStore-48a08ff5.js";import{r as re,u as ue}from"./index.esm-75ae3776.js";import{r as v,z as X,o as ne,s as te,c as U,e as y,f as $,n as l,h as s,g as e,p as W,t as u,k as _e,j as F,l as V,H as ee,i as k,F as ce,y as ie,I as xe,w as Q,v as se,A as be,m as $e,a as De}from"./app-fb0093c1.js";import{d as K}from"./dayjs.min-2f06af28.js";import"./moment-fbc5633a.js";import{_ as we,U as ke}from"./EmployeePayslips-8874afc3.js";import{L as Ve}from"./LoadingSpinner-3e4e90d8.js";/* empty css                                                                       */const oe="/build/assets/edit-fdffc648.svg";const Pe={key:0,class:"bg-white border rounded-lg grid grid-cols-12 p-3 content-center"},Ce={class:"col-span-4 h-full grid grid-cols-12 gap-6"},Se={class:"col-span-4"},Ue={class:"profile-pic"},Me=["src"],Ee=e("label",{class:"-label",for:"file"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})])],-1),Ye={class:"col-span-8"},Ie={class:"flex justify-between pr-4"},je={class:"font-semibold text-md"},Le={class:"font-semibold text-xs text-gray-500"},Ae={class:"py-2"},Be=e("p",{class:"font-semibold text-xs"},"Profile completeness",-1),Fe={class:"w-11/12 my-1"},Ne=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Te={class:"col-span-5 grid grid-cols-3 gap-4 h-full"},Re={class:""},Oe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Status",-1),Ge={key:0,class:"font-semibold text-sm"},qe={key:1,class:"font-semibold text-sm"},ze={class:""},He=e("p",{class:"font-semibold text-xs text-gray-500"},"Designation",-1),Ke={class:"font-semibold text-sm"},Je={class:"flex justify-between items-center"},Ze=e("p",{class:"font-semibold text-xs text-gray-500"},"Department",-1),We={class:"font-semibold text-sm"},Xe={class:""},Qe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Code",-1),et={class:"font-semibold text-sm"},tt={class:""},st=e("p",{class:"font-semibold text-xs text-gray-500"},"Location",-1),ot={class:"font-semibold text-sm"},lt={class:"flex justify-between items-center"},at={class:""},it=e("p",{class:"font-semibold text-xs text-gray-500"},"Reporting to",-1),nt={key:0,class:"font-semibold text-sm whitespace-nowrap"},dt={class:"col-span-3 h-full"},rt={class:"flex justify-end"},ct=e("div",null,null,-1),_t={class:"mx-2"},mt={class:"p-0 m-0 bg-transparent border-0 outline-none btn"},pt={class:"confirmation-content"},ut=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),ft={class:"w-100 py-4 px-2 rounded-lg d-flex justify-content-around overflow-x-scroll ... lg:w-100"},bt={class:"card p-3 d-flex justify-items-center align-items-center mr-2 :lg:mx-0 Digital_Id_Card_",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},gt={style:{height:"45px",width:"140px"},class:"mt-2"},yt=["src"],ht={class:"card-body d-flex justify-items-center align-items-center mt-6",style:{"flex-direction":"column"}},vt=["src"],xt={key:1,class:"text-white font-semibold text-5xl"},$t={class:"card-title mt-12 mb-3 f-12 text-blue-900 subpixel-antialiased font-semibold",style:{"text-align":"center"}},Dt={key:0,class:"f-12 card-text mb-3 text-gray-600 subpixel-antialiased font-semibold"},wt={key:1,class:"f-12 card-text"},kt={key:2,class:"f-16 mb-2 text-gray-700 subpixel-antialiased font-semibold"},Vt={key:3,class:"f-12 mb-2 text-secondary-emphasis"},Pt={class:"card p-2 d-flex justify-items-center align-items-center ml-2 Digital_Id_Card_ :lg:p-2",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},Ct={class:"w-100 d-flex justify-content-center align-items-center flex-column"},St=e("h1",{class:"text-orange-500 fs-14 subpixel-antialiased font-semibold fw-600"},"EMPLOYEE DETAILS",-1),Ut={class:"row w-100 mt-3"},Mt=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[k(" Blood Group "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Et={class:"col-6 fs-6 text-blue-900"},Yt={class:"text-left pt-1"},It={class:"row w-100 mt-3"},jt=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[k(" Phone "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Lt={class:"col-6 fs-6 text-blue-900"},At={class:"text-left pt-1"},Bt={class:"row w-100 mt-3"},Ft=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900 position-relative"},[k(" Email Id "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Nt={class:"col-6 subpixel-antialiased fs-12"},Tt={class:"text-left"},Rt={class:"row w-100 mt-3"},Ot={class:"col fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},Gt=e("h1",{class:"text-orange-500 fs-12"},"Residential Address :",-1),qt={class:"ml-2"},zt={class:"text-blue-900 mt-2 subpixel-antialiased font-semibold fs-11 text-center"},Ht=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-1 w-100 mt-2 :lg:mt-2"},null,-1),Kt=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-3 w-100 mt-1"},null,-1),Jt={class:"row"},Zt={class:"col-12"},Wt={key:0,class:"text-center font-semibold text-orange-500 fs-14 subpixel-antialiased mt-2 :lg:mt-2"},Xt={class:"col-12"},Qt={class:"fs-11 text-center font-semibold text-blue-900 mt-2"},es={class:"col-12"},ts={class:"fs-12 text-center font-semibold text-blue-900 mt-2"},ss={class:"col-12"},os={class:"fs-11 text-center font-semibold lining-nums ... text-blue-900 mt-2"},ls=e("div",{class:"col-12"},null,-1),as=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),is={class:"modal-body"},ns={class:"row"},ds={class:"col-md-6"},rs={class:"mb-3 form-group"},cs=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),_s={key:0,class:"text-red-400 fs-6 font-semibold"},ms={class:"col-md-6"},ps={class:"form-group"},us=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),fs={key:0,class:"text-red-400 fs-6 font-semibold"},bs={class:"col-md-6 d-flex flex-column"},gs={class:"d-flex justify-items-center flex-column"},ys=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),hs={class:"d-flex justify-items-center align-items-center"},vs=e("label",{class:"cursor-pointer text-primary bg-[black] px-2 py-2 rounded-md d-flex align-items-center fs-5",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up text-[white] mr-2 text-[18px]"}),e("h1",{class:"text-light"},"Upload")],-1),xs={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},$s={key:0,class:"text-red-400 fs-6 font-semibold"},Ds=e("h1",{class:"bg-cyan-800 p-4 text-white text-xl"},"Profile",-1),ws={class:"py-4"},ks=e("h4",{class:"font-semibold text-2xl"},"Personal Information",-1),Vs={class:"leading-8"},Ps=e("h6",{class:"py-2 font-semibold text-xl"},"Name",-1),Cs=e("h6",{class:"py-2 font-semibold text-xl"},"Designation",-1),Ss=e("h6",{class:"py-2 font-semibold text-xl"},"Location",-1),Us={class:"py-2 leading-8 font-semibold text-2xl"},Ms={class:"flex"},Es={class:""},Ys={class:"w-80 font-semibold text-xl leading-10"},Is={class:"w-80 font-semibold text-xl leading-10"},js={class:"w-80 font-semibold text-xl leading-10"},Ls={class:"ml-20"},As={class:"w-80 font-semibold leading-10 text-xl"},Bs={class:"w-80 font-semibold leading-10 text-xl"},Fs={class:"w-80 font-semibold leading-10 text-xl"},Ns={__name:"EmployeeCard",setup(M){const a=ae(),o=v(!1),D=v(!1),P=v(!1),B=X({department:"",reporting_manager:""}),Y=X({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),L=v([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),g=v(!1);let t=le();const O=n=>{n.target.files&&n.target.files[0]&&(t.profile=n.target.files[0]);let d=new FormData;d.append("user_code",a.current_user_code),d.append("file_object",t.profile);let N="/profile-pages/updateProfilePicture";z.post(N,d).then(H=>{}).finally(()=>{console.log("Photo Sent"),t.getProfilePhoto()})},q=v(),f=v(),C=v(!1),G=v(!1),r=v(!1),m=v("None"),_=n=>{console.log(n),z.post("/profile-pages/updateDepartment",{user_code:t.employeeDetails.user_code,department_id:B.department}).then(d=>{let N=fe._.find(q.value,["id",B.department]).name;console.log("Lodash [Selected Dept]: "+N),t.employeeDetails.get_employee_office_details.department_name=N,m.value="Department updated successfully !",console.log(d.data)}).catch(d=>{m.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+d)}).finally(()=>{r.value=!0,C.value=!1})},c=n=>{console.log("editReportingManager : "+n),z.post("/profile-pages/updateReportingManager",{user_code:t.employeeDetails.user_code,manager_user_code:B.reporting_manager}).then(d=>{let N=fe._.find(f.value,["user_code",B.reporting_manager]);t.employeeDetails.get_employee_office_details.l1_manager_name=N.name,t.employeeDetails.get_employee_office_details.l1_manager_code=N.user_code,m.value="Reporting Manager updated successfully !",console.log(d.data)}).catch(d=>{m.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+d)}).finally(()=>{r.value=!0,G.value=!1})},A=()=>{B.department=t.employeeDetails.get_employee_office_details.department_name,B.reporting_manager=t.employeeDetails.get_employee_office_details.l1_manager_name,console.log(B.department)};ne(()=>{a.DepartmentDetails().then(n=>{q.value=n.data,console.log("testing"+t.employeeDetails.get_employee_office_details.l1_manager_name)}),a.ManagerDetails().then(n=>{f.value=n.data}),A(),console.log()});const w=n=>{n.target.files&&n.target.files[0]&&(Y.emp_upload_doc=n.target.files[0],console.log(Y.emp_upload_doc))},R=te(()=>({emp_name:{required:re},emp_doc_name:{required:re},emp_upload_doc:{required:re}})),I=ue(R,Y),x=()=>{I.value.$validate(),I.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),J())},J=()=>{D.value=!0,g.value=!1;const d=`/update-EmplpoyeeName-info/${a.current_user_id}`,N=new FormData;N.append("user_code",t.employeeDetails.user_code),N.append("name",Y.emp_name),N.append("onboard_document_type",Y.emp_doc_name.name),N.append("emp_doc",Y.emp_upload_doc),z.post(d,N).finally(()=>{D.value=!1})},Z=te(()=>{if(t.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(t.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(t.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(t.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(t.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(t.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(t.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(t.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"});return(n,d)=>{const N=U("Toast"),H=U("ProgressBar"),i=U("Dialog"),T=U("Dropdown"),j=U("Sidebar"),h=U("ProgressSpinner"),S=U("InputText");return y(),$(ce,null,[l(N),s(t).employeeDetails.get_employee_office_details?(y(),$("div",Pe,[e("div",Ce,[e("div",Se,[e("div",Ue,[s(t).profile?(y(),$("img",{key:0,class:"forRounded",src:`data:image/png;base64,${s(t).profile}`,srcset:"",alt:"",id:"output",width:"200"},null,8,Me)):(y(),$("p",{key:1,class:W(["font-semibold text-5xl text-center flex items-center justify-center text-white forRounded",[s(t).employeeDetails.short_name_Color?s(t).employeeDetails.short_name_Color:"",s(t).employeeDetails.short_name_Color]])},u(s(t).employeeDetails.user_short_name),3)),Ee,e("input",{id:"file",type:"file",onChange:d[0]||(d[0]=b=>O(b))},null,32)])]),e("div",Ye,[e("div",Ie,[e("div",null,[e("p",je,u(s(t).employeeDetails?s(t).employeeDetails.name:"-"),1),e("p",Le,u(s(t).employeeDetails?s(t).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("img",{src:oe,class:"h-4 w-4 cursor-pointer my-auto",alt:"",onClick:d[1]||(d[1]=b=>g.value=!0)})]),e("div",Ae,[Be,e("div",Fe,[s(t).employeeDetails.profile_completeness<=39?(y(),_e(H,{key:0,value:s(t).employeeDetails.profile_completeness,class:W([s(t).employeeDetails.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):F("",!0),s(t).employeeDetails.profile_completeness>=40&&s(t).employeeDetails.profile_completeness<=59?(y(),_e(H,{key:1,class:W(["progressbar_val2",[s(t).employeeDetails.profile_completeness>=40&&s(t).employeeDetails.profile_completeness<=59]]),value:s(t).employeeDetails.profile_completeness},null,8,["class","value"])):F("",!0),s(t).employeeDetails.profile_completeness>=60?(y(),_e(H,{key:2,class:W(["progressbar_val3",[s(t).employeeDetails.profile_completeness>=60]]),value:s(t).employeeDetails.profile_completeness},null,8,["class","value"])):F("",!0)]),Ne])])]),e("div",Te,[e("div",Re,[Oe,s(t).employeeDetails.active==1?(y(),$("p",Ge,"Active ")):(y(),$("p",qe,"Not active"))]),e("div",ze,[He,e("p",Ke,u(s(t).employeeDetails.get_employee_office_details.designation?s(t).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("div",Je,[e("div",null,[Ze,e("p",We,u(s(t).employeeDetails.get_employee_office_details.department_name?s(t).employeeDetails.get_employee_office_details.department_name:"-"),1)]),s(t).employeeDetails.Current_login_user.org_role==1||s(t).employeeDetails.Current_login_user.org_role==2||s(t).employeeDetails.Current_login_user.org_role==3?(y(),$("img",{key:0,src:oe,class:"h-4 w-4 cursor-pointer my-auto",onClick:d[2]||(d[2]=b=>C.value=!0),alt:""})):F("",!0)]),e("div",Xe,[Qe,e("p",et,u(s(t).employeeDetails?s(t).employeeDetails.user_code:"-"),1)]),e("div",tt,[st,e("p",ot,u(s(t).employeeDetails.get_employee_office_details.work_location?s(t).employeeDetails.get_employee_office_details.work_location:"-"),1)]),e("div",lt,[e("div",at,[it,s(t).employeeDetails?(y(),$("p",nt,u(`${s(t).employeeDetails.get_employee_office_details.l1_manager_name}(${s(t).employeeDetails.get_employee_office_details.l1_manager_code})`),1)):F("",!0)]),s(t).employeeDetails.Current_login_user.org_role==1||s(t).employeeDetails.Current_login_user.org_role==2||s(t).employeeDetails.Current_login_user.org_role==3?(y(),$("img",{key:0,src:oe,onClick:d[3]||(d[3]=b=>G.value=!0),class:"h-4 w-4 cursor-pointer my-auto",alt:""})):F("",!0)])]),e("div",dt,[e("div",rt,[ct,e("div",_t,[e("button",mt,[e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true",onClick:d[4]||(d[4]=b=>P.value=!0)})])])])])])):F("",!0),l(i,{header:"Status",visible:r.value,"onUpdate:visible":d[5]||(d[5]=b=>r.value=b),modal:"",breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"}},{default:V(()=>[e("div",pt,[ut,e("span",null,u(m.value),1)])]),_:1},8,["visible"]),l(i,{visible:C.value,"onUpdate:visible":d[7]||(d[7]=b=>C.value=b),modal:"",header:"Edit Department",style:{width:"30vw"}},{footer:V(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:_}," Save ")])]),default:V(()=>[l(T,{options:q.value,optionLabel:"name",modelValue:B.department,"onUpdate:modelValue":d[6]||(d[6]=b=>B.department=b),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),l(i,{visible:G.value,"onUpdate:visible":d[9]||(d[9]=b=>G.value=b),modal:"",header:"Edit Reporting Manager",style:{width:"30vw"}},{footer:V(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:c}," Save ")])]),default:V(()=>[l(T,{optionLabel:"name",options:f.value,modelValue:B.reporting_manager,"onUpdate:modelValue":d[8]||(d[8]=b=>B.reporting_manager=b),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),l(j,{position:"right",visible:P.value,"onUpdate:visible":d[10]||(d[10]=b=>P.value=b),modal:"",header:"",style:ee([{width:"45vw"},{"@media (min-width":"1024px){background-image:particular_ad_small.png"}])},{header:V(()=>[e("div",null,[e("h5",{class:"absolute left-0 mx-4 font-semibold fs-5",style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:V(()=>[e("div",ft,[e("div",bt,[e("div",gt,[e("img",{src:`${s(t).employeeDetails.client_logo}`,alt:"",style:{"object-fit":"cover"}},null,8,yt)]),e("div",ht,[e("div",{class:W(["mx-auto rounded-circle img-xl userActive-status profile-img d-flex justify-content-center align-items-center",[s(t).profile?"":s(t).employeeDetails.short_name_Color,s(t).employeeDetails.short_name_Color]])},[s(t).profile?(y(),$("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border object-cover",src:`data:image/png;base64,${s(t).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"80px",height:"80px"}},null,8,vt)):F("",!0),s(t).profile?F("",!0):(y(),$("h1",xt,u(s(t).employeeDetails.user_short_name),1))],2),e("h1",$t,u(s(t).employeeDetails.name),1),s(t).employeeDetails.get_employee_office_details.department_id?(y(),$("h5",Dt,u(s(t).employeeDetails.get_employee_office_details.department_name),1)):(y(),$("h1",wt,"-")),s(t).employeeDetails.user_code?(y(),$("h5",kt,u(s(t).employeeDetails.user_code),1)):(y(),$("p",Vt,"-"))])]),e("div",Pt,[e("div",Ct,[St,e("div",Ut,[Mt,e("div",Et,[e("h1",Yt,u(s(Z)),1)])]),e("div",It,[jt,e("div",Lt,[e("h1",At,u(s(t).employeeDetails.get_employee_details.mobile_number),1)])]),e("div",Bt,[Ft,e("div",Nt,[e("h1",Tt,u(s(t).employeeDetails.get_employee_office_details.officical_mail),1)])]),e("div",Rt,[e("div",Ot,[Gt,e("div",qt,[e("p",zt,u(s(t).employeeDetails.get_employee_details.current_address_line_1),1)])])]),Ht,Kt,e("div",Jt,[e("div",Zt,[s(t).employeeDetails.client_details.client_name?(y(),$("h1",Wt,u(s(t).employeeDetails.client_details.client_name),1)):F("",!0)]),e("div",Xt,[e("h1",Qt,u(s(t).employeeDetails.client_details.address),1)]),e("div",es,[e("h1",ts,u(s(t).employeeDetails.client_details.authorised_person_contact_email),1)]),e("div",ss,[e("h1",os,u(s(t).employeeDetails.client_details.authorised_person_contact_number),1)]),ls])])])])]),_:1},8,["visible"]),l(i,{header:"Header",visible:D.value,"onUpdate:visible":d[11]||(d[11]=b=>D.value=b),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:""},{header:V(()=>[l(h,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:V(()=>[as]),_:1},8,["visible"]),l(i,{visible:g.value,"onUpdate:visible":d[15]||(d[15]=b=>g.value=b),modal:"",header:" ",style:{width:"50vw"}},{header:V(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:V(()=>[e("div",null,[e("div",is,[e("div",ns,[e("div",ds,[e("div",rs,[cs,l(S,{type:"text",modelValue:Y.emp_name,"onUpdate:modelValue":d[12]||(d[12]=b=>Y.emp_name=b),style:{"text-transform":"uppercase"},class:W(["form-controls pl-2",[s(I).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),s(I).emp_name.$error?(y(),$("span",_s,u(s(I).emp_name.required.$message.replace("Value","Employee Name")),1)):F("",!0)])]),e("div",ms,[e("div",ps,[us,l(T,{modelValue:Y.emp_doc_name,"onUpdate:modelValue":d[13]||(d[13]=b=>Y.emp_doc_name=b),options:L.value,optionLabel:"name",placeholder:"Select a document ",class:W(["form-controls pl-2 w-full h-12",[s(I).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),s(I).emp_doc_name.$error?(y(),$("span",fs,u(s(I).emp_doc_name.required.$message.replace("Value","Documents")),1)):F("",!0)])]),e("div",bs,[e("div",gs,[ys,e("div",hs,[l(N),vs,Y.emp_upload_doc?(y(),$("div",xs,u(Y.emp_upload_doc.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:d[14]||(d[14]=b=>w(b)),class:W([s(I).emp_upload_doc.$error?"p-invalid":""])},null,34)]),s(I).emp_upload_doc.$error?(y(),$("span",$s,u(s(I).emp_upload_doc.required.$message.replace("Value","document")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:x},"Submit")])])])])]),_:1},8,["visible"]),l(j,{visible:o.value,"onUpdate:visible":d[25]||(d[25]=b=>o.value=b),position:"right",class:"!w-[400px]"},{default:V(()=>[Ds,e("div",ws,[ks,e("div",Vs,[Ps,l(S,{modelValue:n.value,"onUpdate:modelValue":d[16]||(d[16]=b=>n.value=b),class:"bg-gray-200",disabled:"",placeholder:"Name"},null,8,["modelValue"]),Cs,l(S,{modelValue:n.value,"onUpdate:modelValue":d[17]||(d[17]=b=>n.value=b),class:"bg-gray-200",disabled:"",placeholder:"Designation"},null,8,["modelValue"]),Ss,l(S,{modelValue:n.value,"onUpdate:modelValue":d[18]||(d[18]=b=>n.value=b),class:"bg-gray-200",disabled:"",placeholder:"Location"},null,8,["modelValue"])]),e("div",Us,[k("General Information "),e("div",Ms,[e("div",Es,[e("div",Ys,[k("DOB "),l(S,{modelValue:n.value,"onUpdate:modelValue":d[19]||(d[19]=b=>n.value=b),class:"bg-gray-200 h-12",disabled:"",placeholder:"DOB"},null,8,["modelValue"])]),e("div",Is,[k("Gender "),l(S,{modelValue:n.value,"onUpdate:modelValue":d[20]||(d[20]=b=>n.value=b),class:"bg-gray-200 h-12",disabled:"",placeholder:"Gender"},null,8,["modelValue"])]),e("div",js,[k("Blood Group "),l(S,{modelValue:n.value,"onUpdate:modelValue":d[21]||(d[21]=b=>n.value=b),class:"bg-gray-200 h-12",disabled:"",placeholder:"Blood Group"},null,8,["modelValue"])])]),e("div",Ls,[e("div",As,[k("DOJ "),l(S,{modelValue:n.value,"onUpdate:modelValue":d[22]||(d[22]=b=>n.value=b),class:"bg-gray-200 h-12",disabled:"",placeholder:"DOJ"},null,8,["modelValue"])]),e("div",Bs,[k("Martial Status "),l(S,{modelValue:n.value,"onUpdate:modelValue":d[23]||(d[23]=b=>n.value=b),class:"bg-gray-200 h-12",disabled:"",placeholder:"Martial Status"},null,8,["modelValue"])]),e("div",Fs,[k("Physically Challenged "),l(S,{modelValue:n.value,"onUpdate:modelValue":d[24]||(d[24]=b=>n.value=b),class:"bg-gray-200 h-12",disabled:"",placeholder:"Physically Challenged"},null,8,["modelValue"])])])])])])]),_:1},8,["visible"])],64)}}};var ge;const Ts=typeof window<"u";Ts&&((ge=window==null?void 0:window.navigator)!=null&&ge.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ye(M){return typeof M=="function"?M():s(M)}const Rs=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Os=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Gs=(M,a,o,D)=>{let P=M<12?"AM":"PM";return D&&(P=P.split("").reduce((B,Y)=>B+=`${Y}.`,"")),o?P.toLowerCase():P},qs=(M,a,o={})=>{var D;const P=M.getFullYear(),B=M.getMonth(),Y=M.getDate(),L=M.getHours(),g=M.getMinutes(),t=M.getSeconds(),O=M.getMilliseconds(),q=M.getDay(),f=(D=o.customMeridiem)!=null?D:Gs,C={YY:()=>String(P).slice(-2),YYYY:()=>P,M:()=>B+1,MM:()=>`${B+1}`.padStart(2,"0"),MMM:()=>M.toLocaleDateString(o.locales,{month:"short"}),MMMM:()=>M.toLocaleDateString(o.locales,{month:"long"}),D:()=>String(Y),DD:()=>`${Y}`.padStart(2,"0"),H:()=>String(L),HH:()=>`${L}`.padStart(2,"0"),h:()=>`${L%12||12}`.padStart(1,"0"),hh:()=>`${L%12||12}`.padStart(2,"0"),m:()=>String(g),mm:()=>`${g}`.padStart(2,"0"),s:()=>String(t),ss:()=>`${t}`.padStart(2,"0"),SSS:()=>`${O}`.padStart(3,"0"),d:()=>q,dd:()=>M.toLocaleDateString(o.locales,{weekday:"narrow"}),ddd:()=>M.toLocaleDateString(o.locales,{weekday:"short"}),dddd:()=>M.toLocaleDateString(o.locales,{weekday:"long"}),A:()=>f(L,g),AA:()=>f(L,g,!1,!0),a:()=>f(L,g,!0),aa:()=>f(L,g,!0,!0)};return a.replace(Os,(G,r)=>r||C[G]())},zs=M=>{if(M===null)return new Date(NaN);if(M===void 0)return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){const a=M.match(Rs);if(a){const o=a[2]-1||0,D=(a[7]||"0").substring(0,3);return new Date(a[1],o,a[3]||1,a[4]||0,a[5]||0,a[6]||0,D)}}return new Date(M)};function pe(M,a="HH:mm:ss",o={}){return te(()=>qs(zs(ye(M)),ye(a),o))}const Hs={key:0,class:"w-full"},Ks={class:"w-full bg-white rounded-lg p-2 border"},Js={class:"flex justify-around"},Zs=e("p",{class:"font-semibold text-sm"},"General Information",-1),Ws={class:"flex justify-end"},Xs={class:"grid grid-cols-12 gap-2 h-full py-2"},Qs={class:"col-span-2"},eo=e("p",{class:"font-semibold text-xs text-gray-500"},"Birthday",-1),to={class:"font-semibold text-sm"},so={class:"col-span-2"},oo=e("p",{class:"font-semibold text-xs text-gray-500"},"Gender",-1),lo={class:"font-semibold text-sm"},ao={class:"col-span-2"},io=e("p",{class:"font-semibold text-xs text-gray-500"},"Date Of Joining (DOJ)",-1),no={class:"font-semibold text-sm"},ro={class:"col-span-2"},co=e("p",{class:"font-semibold text-xs text-gray-500"},"Marital Status",-1),_o={class:"font-semibold text-sm"},mo={class:"col-span-2"},po=e("p",{class:"font-semibold text-xs text-gray-500"},"Blood Group",-1),uo={class:"font-semibold text-sm"},fo={class:"col-span-2"},bo=e("p",{class:"font-semibold text-xs text-gray-500"},"Physically Handicapped",-1),go={class:"font-semibold text-sm"},yo={class:"w-full bg-white rounded-lg p-2 border my-3"},ho={class:"flex justify-around"},vo=e("p",{class:"font-semibold text-sm"},"Contact Information",-1),xo={class:"flex justify-end"},$o={class:"grid grid-cols-12 gap-4 h-full py-2"},Do={class:"col-span-3"},wo=e("p",{class:"font-semibold text-xs text-gray-500"},"Personal Email",-1),ko={class:"font-semibold text-sm"},Vo={class:"col-span-3"},Po=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Email",-1),Co={class:"font-semibold text-sm"},So={class:"col-span-3"},Uo=e("p",{class:"font-semibold text-xs text-gray-500"},"Mobile Number",-1),Mo={class:"font-semibold text-sm"},Eo={class:"col-span-3"},Yo=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Mobile Number",-1),Io={class:"font-semibold text-sm"},jo={class:"w-full bg-white rounded-lg p-2 border"},Lo={class:"flex justify-around"},Ao=e("p",{class:"font-semibold text-sm"},"Address",-1),Bo={class:"flex justify-end"},Fo={class:"grid grid-cols-12 gap-4 h-full py-2"},No={class:"col-span-6"},To=e("p",{class:"font-semibold text-xs text-gray-500"},"Current Address",-1),Ro={class:"font-semibold text-sm"},Oo={class:"col-span-6"},Go=e("p",{class:"font-semibold text-xs text-gray-500"},"Permanent Address ",-1),qo={class:"font-semibold text-sm"},zo={class:"grid grid-cols-2"},Ho={class:""},Ko={class:"mb-1 form-group"},Jo=e("label",{class:"ml-[5px]"},[k("Birth Date"),e("span",{class:"text-danger"},"*")],-1),Zo={class:"cal-icon"},Wo={class:""},Xo={class:"mb-1 form-group"},Qo=e("label",null,[k("Gender"),e("span",{class:"text-danger"},"*")],-1),el={class:""},tl={class:"mb-1 form-group"},sl=e("label",{style:{marginLeft:"10px",marginRight:"10px"}},[k("Marital status "),e("span",{class:"text-danger"},"*")],-1),ol={class:""},ll={class:"mb-2 form-group"},al=e("label",null,[k("Blood Group"),e("span",{class:"text-danger"},"*")],-1),il={class:"cal-icon"},nl={class:""},dl={class:"form-group w-full",style:{marginLeft:"10px"}},rl=e("label",{class:"my-1"},"Physically Handicapped",-1),cl=e("div",{class:""},[e("div",{class:"mb-3 form-group"})],-1),_l={class:"text-right col-12"},ml={class:"modal-body"},pl={class:"row"},ul={class:"col-md-6"},fl={class:"mb-3 form-group"},bl=e("label",null,"Personal Email",-1),gl={class:"col-md-6"},yl={class:"mb-3 form-group"},hl=e("label",null," Office Email",-1),vl={class:"col-md-6"},xl={class:"mb-3 form-group"},$l=e("label",null,"Mobile Number",-1),Dl={class:"col-md-6"},wl={class:"mb-3 form-group"},kl=e("label",null,"Official Mobile Number",-1),Vl={key:0,class:""},Pl=e("h1",{class:"font-semibold absolute top-6"},"General Information",-1),Cl={class:"p-2"},Sl={class:"my-2"},Ul=e("label",{class:"mb-1"},[k("Birth Date"),e("span",{class:"text-danger"},"*")],-1),Ml={class:"my-2"},El=e("label",null,[k("Gender"),e("span",{class:"text-danger"},"*")],-1),Yl={class:"my-2"},Il=e("label",null,[k("Marital status "),e("span",{class:"text-danger"},"*")],-1),jl={class:"my-2"},Ll=e("label",null,[k("Blood Group"),e("span",{class:"text-danger"},"*")],-1),Al={class:"my-2"},Bl=e("label",{class:"my-1"},"Physically Handicapped",-1),Fl={class:"flex justify-center"},Nl={key:1},Tl=e("h1",{class:"font-semibold absolute top-6"},"Contact Information",-1),Rl={class:"p-2"},Ol={class:"my-2"},Gl=e("label",{class:"mb-1"},"Personal Email",-1),ql={class:"my-2"},zl=e("label",{class:"mb-1"},"Office Email",-1),Hl={class:"my-1"},Kl=e("label",{class:"mb-2"},"Mobile Number",-1),Jl={class:"my-2"},Zl=e("label",{class:"mb-1"},"Official Mobile Number",-1),Wl={key:2,class:""},Xl=e("h1",{class:"font-semibold absolute top-6"},"Address",-1),Ql={class:"col-md-12"},ea={class:"mb-3 form-group"},ta=e("label",null,"Current Address",-1),sa={class:"mb-3 form-group"},oa=e("label",null,"Permanent Address ",-1),la={class:"mb-3 form-group"},aa={class:"d-flex justify-content-center align-items-center"},ia=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),na={class:"modal-body"},da={class:"col-md-12"},ra={class:"mb-3 form-group"},ca=e("label",null,"Current Address",-1),_a={class:"mb-3 form-group"},ma=e("label",null,"Permanent Address ",-1),pa={class:"col-12"},ua={class:"d-flex justify-content-between align-items-center"},fa={class:"d-flex justify-content-center align-items-center"},ba=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),ga={class:""},ya={__name:"EmployeeDetails",setup(M){const a=ae(),o=le(),D=v(!1),P=ie(),B=ie(),Y=v(!1),L=v(!1),g=v(!1),t=v(),O=v(!1);function q(H,i){O.value=H,t.value=i,i=="General Information"?x():i=="Contact Information"?Z():i=="Address Information"&&d()}const f=X({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),C=v([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),G=v(),r=X({email:"",official_email:"",mobile_number:"",official_mobile_number:""}),m=v(),_=X({current_address:"",Permanent_Address:""}),c=v(!1);function A(){c.value==1?_.Permanent_Address=_.current_address:c.value=!1}te(()=>o.employeeDetails.get_employee_details.gender=="male"?"Male":o.employeeDetails.get_employee_details.gender=="female"?"Female":o.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),te(()=>o.employeeDetails.get_employee_details.marital_status),te(()=>{if(o.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(o.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(o.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(o.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(o.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(o.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(o.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(o.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),te(()=>{if(o.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(o.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"});const w=v([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),R=v(),I=v();xe(),ne(()=>{o.fetchEmployeeDetails(),a.getBloodGroups().then(H=>{console.log(H.data),R.value=H.data}),a.getMaritalStatus().then(H=>{console.log(H),I.value=H.data})});function x(){console.log("Opening General Info Dialog"),f.dob=o.employeeDetails.get_employee_details.dob,f.doj=o.employeeDetails.get_employee_details.doj,f.marital_status_id=parseInt(o.employeeDetails.get_employee_details.marital_status_id),f.gender=o.employeeDetails.get_employee_details.gender,f.blood_group_id=parseInt(o.employeeDetails.get_employee_details.blood_group_id),f.physically_challenged=o.employeeDetails.get_employee_details.physically_challenged}function J(){console.log(f),D.value=!0;let i=`/profile-pages-update-generalinfo/${a.current_user_id}`;z.post(i,{user_code:o.employeeDetails.user_code,dob:K(f.dob).format("YYYY-MM-DD"),gender:f.gender,marital_status_id:f.marital_status_id,doj:f.doj,blood_group_id:f.blood_group_id,physically_challenged:f.physically_challenged}).then(T=>{T.data.status=="success"?(o.employeeDetails.get_employee_details.dob=pe(f.dob,"YYYY-MM-DD"),o.employeeDetails.gender=f.gender,o.employeeDetails.marital_status_id=f.marital_status_id,o.employeeDetails.get_employee_details.doj=f.doj,o.employeeDetails.blood_group_id=f.blood_group_id,o.employeeDetails.physically_challenged=f.physically_challenged):T.data.status=="failure"&&(leave_data.leave_request_error_messege=T.data.message)}).catch(T=>{console.log(T)}).finally(()=>{o.fetchEmployeeDetails(a.current_user_id),D.value=!1,O.value=!1,P.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})})}function Z(){console.log("Opening General Info Dialog : "),r.email=o.employeeDetails.email,r.official_email=o.employeeDetails.get_employee_office_details.officical_mail,r.mobile_number=parseInt(o.employeeDetails.get_employee_details.mobile_number),o.employeeDetails.get_employee_office_details.official_mobile?r.official_mobile_number=parseInt(o.employeeDetails.get_employee_office_details.official_mobile):r.official_mobile_number=0}function n(){let i=`/profile-pages-update-contactinfo/${a.current_user_id}`;D.value=!0,z.post(i,{user_code:o.employeeDetails.user_code,email:r.email,officical_mail:r.official_email,mobile_number:r.mobile_number,official_mobile_number:r.official_mobile_number}).then(T=>{T.data.status=="success"?(P.add({severity:"success",summary:"Updated",detail:"Contact information updated",life:3e3}),o.employeeDetails.email=r.email,o.employeeDetails.get_employee_office_details.officical_mail=r.official_email,o.employeeDetails.get_employee_details.mobile_number=r.mobile_number,o.employeeDetails.get_employee_office_details.official_mobile=r.official_mobile_number):T.data.status=="failure"&&(G.leave_request_error_messege=T.data.message)}).catch(T=>{console.log(T)}).finally(()=>{o.fetchEmployeeDetails(),D.value=!1,O.value=!1})}function d(){console.log("Opening General Info Dialog"),_.current_address=o.employeeDetails.get_employee_details.current_address_line_1,_.Permanent_Address=o.employeeDetails.get_employee_details.permanent_address_line_1}const N=()=>{if(D.value=!0,_.current_address==" "||_.Permanent_Address==" ")B.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3});else{let i=`/profile-pages-update-address_info/${a.current_user_id}`;z.post(i,{user_code:o.employeeDetails.user_code,current_address_line_1:_.current_address,permanent_address_line_1:_.Permanent_Address}).then(T=>{data_checking.value=!1,T.data.status=="success"?(P.add({severity:"success",summary:"Updated",detail:"Address information updated",life:3e3}),o.employeeDetails.current_address_line_1=_.current_address,o.employeeDetails.get_employee_office_details.permanent_address_line_1=_.Permanent_Address):T.data.status=="failure"&&(m.leave_request_error_messege=T.data.message)}).catch(T=>{console.log(T)}).finally(()=>{o.fetchEmployeeDetails(),D.value=!1,O.value=!1})}};return(H,i)=>{const T=U("Calendar"),j=U("Dropdown"),h=U("Dialog"),S=U("InputMask"),b=U("Sidebar"),de=U("Toast");return y(),$(ce,null,[s(o).employeeDetails.get_employee_details?(y(),$("div",Hs,[e("div",Ks,[e("div",Js,[Zs,e("div",Ws,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:i[0]||(i[0]=p=>q(!0,"General Information"))})])]),e("div",Xs,[e("div",Qs,[eo,e("p",to,u(s(K)(s(o).employeeDetails.get_employee_details.dob).format("DD-MMM-YYYY")),1)]),e("div",so,[oo,e("p",lo,u(s(a).capitalizeFLetter(s(o).employeeDetails.get_employee_details.gender)),1)]),e("div",ao,[io,e("p",no,u(s(K)(s(o).employeeDetails.get_employee_details.doj).format("DD-MMM-YYYY")),1)]),e("div",ro,[co,e("p",_o,u(s(o).employeeDetails.get_employee_details.marital_status),1)]),e("div",mo,[po,e("p",uo,u(s(o).employeeDetails.get_employee_details.blood_group_name),1)]),e("div",fo,[bo,e("p",go,u(s(a).capitalizeFLetter(s(o).employeeDetails.get_employee_details.physically_challenged)),1)])])]),e("div",yo,[e("div",ho,[vo,e("div",xo,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:i[1]||(i[1]=p=>q(!0,"Contact Information"))})])]),e("div",$o,[e("div",Do,[wo,e("p",ko,u(s(o).employeeDetails.email?s(o).employeeDetails.email:"-"),1)]),e("div",Vo,[Po,e("p",Co,u(s(o).employeeDetails.get_employee_office_details.officical_mail?s(o).employeeDetails.get_employee_office_details.officical_mail:"-"),1)]),e("div",So,[Uo,e("p",Mo,u(s(o).employeeDetails.get_employee_details.mobile_number?s(o).employeeDetails.get_employee_details.mobile_number:"-"),1)]),e("div",Eo,[Yo,e("p",Io,u(s(o).employeeDetails.get_employee_office_details.official_mobile?s(o).employeeDetails.get_employee_office_details.official_mobile:"-"),1)])])]),e("div",jo,[e("div",Lo,[Ao,e("div",Bo,[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:i[2]||(i[2]=p=>q(!0,"Address Information"))})])]),e("div",Fo,[e("div",No,[To,e("p",Ro,u(s(o).employeeDetails.get_employee_details.current_address_line_1?s(o).employeeDetails.get_employee_details.current_address_line_1:"-"),1)]),e("div",Oo,[Go,e("p",qo,u(s(o).employeeDetails.get_employee_details.permanent_address_line_1?s(o).employeeDetails.get_employee_details.permanent_address_line_1:"-"),1)])])])])):F("",!0),l(h,{visible:Y.value,"onUpdate:visible":i[9]||(i[9]=p=>Y.value=p),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:V(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:V(()=>[e("div",zo,[e("div",Ho,[e("div",Ko,[Jo,e("div",Zo,[l(T,{class:"mb-3 form-selects w-[94%]",modelValue:f.dob,"onUpdate:modelValue":i[3]||(i[3]=p=>f.dob=p),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Wo,[e("div",Xo,[Qo,l(j,{modelValue:f.gender,"onUpdate:modelValue":i[4]||(i[4]=p=>f.gender=p),options:C.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),e("div",el,[e("div",tl,[sl,l(j,{modelValue:f.marital_status_id,"onUpdate:modelValue":i[5]||(i[5]=p=>f.marital_status_id=p),options:I.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects w-[94%]",style:{marginLeft:"10px",marginRight:"10px"}},null,8,["modelValue","options"])])]),e("div",ol,[e("div",ll,[al,e("div",il,[l(j,{modelValue:f.blood_group_id,"onUpdate:modelValue":i[6]||(i[6]=p=>f.blood_group_id=p),options:R.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])])]),e("div",nl,[e("div",dl,[rl,l(j,{modelValue:f.physically_challenged,"onUpdate:modelValue":i[7]||(i[7]=p=>f.physically_challenged=p),options:w.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),cl]),e("div",_l,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:i[8]||(i[8]=p=>J())},"Save")])]),_:1},8,["visible"]),l(h,{visible:L.value,"onUpdate:visible":i[14]||(i[14]=p=>L.value=p),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:V(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:V(()=>[e("div",ml,[e("div",pl,[e("div",ul,[e("div",fl,[bl,Q(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":i[10]||(i[10]=p=>r.email=p)},null,512),[[se,r.email]])])]),e("div",gl,[e("div",yl,[hl,Q(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":i[11]||(i[11]=p=>r.official_email=p)},null,512),[[se,r.official_email]])])]),e("div",vl,[e("div",xl,[$l,l(S,{id:"basic",class:"form-control h-10",modelValue:r.mobile_number,"onUpdate:modelValue":i[12]||(i[12]=p=>r.mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",Dl,[e("div",wl,[kl,l(S,{id:"basic",class:"form-control h-10",modelValue:r.official_mobile_number,"onUpdate:modelValue":i[13]||(i[13]=p=>r.official_mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:n},"Save")])])])])]),_:1},8,["visible"]),l(b,{visible:O.value,"onUpdate:visible":i[28]||(i[28]=p=>O.value=p),position:"right",class:"w-[500px]"},{default:V(()=>[t.value=="General Information"?(y(),$("div",Vl,[Pl,e("div",Cl,[e("div",Sl,[Ul,l(T,{class:"relative right-2 w-[100%] h-10",modelValue:f.dob,"onUpdate:modelValue":i[15]||(i[15]=p=>f.dob=p),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])]),e("div",Ml,[El,l(j,{modelValue:f.gender,"onUpdate:modelValue":i[16]||(i[16]=p=>f.gender=p),options:C.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",Yl,[Il,l(j,{modelValue:f.marital_status_id,"onUpdate:modelValue":i[17]||(i[17]=p=>f.marital_status_id=p),options:I.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"h-10 w-[100%]"},null,8,["modelValue","options"])]),e("div",jl,[Ll,l(j,{modelValue:f.blood_group_id,"onUpdate:modelValue":i[18]||(i[18]=p=>f.blood_group_id=p),options:R.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",Al,[Bl,l(j,{modelValue:f.physically_challenged,"onUpdate:modelValue":i[19]||(i[19]=p=>f.physically_challenged=p),options:w.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"w-[100%] h-10"},null,8,["modelValue","options"])]),e("div",Fl,[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:i[20]||(i[20]=p=>J())},"Save")])])])):F("",!0),t.value=="Contact Information"?(y(),$("div",Nl,[Tl,e("div",Rl,[e("div",Ol,[Gl,Q(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":i[21]||(i[21]=p=>r.email=p)},null,512),[[se,r.email]])]),e("div",ql,[zl,Q(e("input",{type:"email",class:"h-10 form-control",name:"officical_mail","onUpdate:modelValue":i[22]||(i[22]=p=>r.official_email=p)},null,512),[[se,r.official_email]])]),e("div",Hl,[Kl,l(S,{id:"basic",class:"form-control h-10",modelValue:r.mobile_number,"onUpdate:modelValue":i[23]||(i[23]=p=>r.mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",Jl,[Zl,l(S,{id:"basic",class:"form-control h-10",modelValue:r.official_mobile_number,"onUpdate:modelValue":i[24]||(i[24]=p=>r.official_mobile_number=p),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:n},"Save")])])])):F("",!0),t.value=="Address Information"?(y(),$("div",Wl,[Xl,e("div",Ql,[e("div",ea,[ta,Q(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":i[25]||(i[25]=p=>_.current_address=p)},null,512),[[se,_.current_address]])]),e("div",sa,[oa,Q(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":i[26]||(i[26]=p=>_.Permanent_Address=p)},null,512),[[se,_.Permanent_Address]])]),e("div",la,[e("div",aa,[Q(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":i[27]||(i[27]=p=>c.value=p),style:{width:"20px",height:"20px"},onChange:A,value:1},null,544),[[be,c.value]]),ia])]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-[#000] text-[#ffff] px-4 p-2 rounded-md mt-[100px]",onClick:N},"Save")])])])):F("",!0)]),_:1},8,["visible"]),l(h,{visible:g.value,"onUpdate:visible":i[32]||(i[32]=p=>g.value=p),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:V(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:V(()=>[e("div",na,[e("div",da,[e("div",ra,[ca,Q(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":i[29]||(i[29]=p=>_.current_address=p)},null,512),[[se,_.current_address]])]),e("div",_a,[ma,Q(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":i[30]||(i[30]=p=>_.Permanent_Address=p)},null,512),[[se,_.Permanent_Address]])])]),e("div",pa,[e("div",ua,[e("div",fa,[Q(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":i[31]||(i[31]=p=>c.value=p),style:{width:"20px",height:"20px"},onChange:A,value:1},null,544),[[be,c.value]]),ba]),e("div",ga,[l(de),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:N,severity:"warn"},"Save")])])])])]),_:1},8,["visible"])],64)}}};const ha={class:"mb-2 card"},va={class:"card-body"},xa={class:"font-semibold text-lg"},$a={class:"grid grid-cols-2"},Da={class:"mr-[10px] ml-[8px]"},wa=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),ka={class:""},Va=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),Pa={class:"grid grid-cols-2"},Ca={class:"mr-2"},Sa=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Ua={class:"ml-1"},Ma=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),Ea={class:"my-6 table-responsive"},Ya={key:0},Ia={key:1},ja={class:"relative flex justify-center"},La=e("i",{class:"pi pi-ellipsis-v"},null,-1),Aa=[La],Ba={class:"flex flex-col bg-white shadow-2xl w-40 py-1 rounded-lg"},Fa={class:"p-0 m-0 d-flex flex-column"},Na=["onClick"],Ta=["onClick"],Ra=e("h5",{class:"absolute top-6 font-semibold"},"Family Information",-1),Oa={class:"p-2"},Ga={class:"my-2"},qa=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),za={class:"my-2"},Ha=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ka={class:"my-2"},Ja=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Za={class:"my-2"},Wa=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),Xa={class:"flex justify-center my-4"},Qa=e("h5",{class:"absolute top-6 font-semibold"},"Family Information",-1),ei={class:"p-2"},ti={class:"my-2"},si=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),oi={class:"my-2"},li=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),ai={class:"my-2"},ii=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),ni={class:"my-2"},di=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),ri={class:"flex justify-center my-4"},ci={__name:"FamilyDetails",setup(M){const a=ae(),o=le(),D=ie();v("");const P=v(!1),B=v(),Y=r=>{B.value.toggle(r)},L=v(!1),g=X({name:"",relationship:"",dob:"",phone_number:""}),t=X({name:"",relationship:"",dob:"",phone_number:""}),O=v(),q=()=>{o.loading_screen=!0;let m=`/add-family-info/${a.current_user_id}`;z.post(m,{user_code:o.employeeDetails.user_code,name:g.name,relationship:g.relationship,dob:K(g.dob).format("YYYY-MM-DD"),phone_number:g.phone_number}).then(_=>{_.data.status=="success"?(D.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),o.employeeDetails.get_family_details.dob=pe(g.dob,"YYYY-MM-DD"),o.employeeDetails.get_family_details.name=g.gender,o.employeeDetails.get_family_details.relationship=g.relationship,o.employeeDetails.get_family_details.phone_number=g.phone_number):_.data.status=="failure"}).catch(_=>{console.log(_)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1}),P.value=!1},f=r=>{L.value=!0,O.value=r.id,t.name=r.name,t.relationship=r.relationship,t.dob=r.dob,t.phone_number=r.phone_number},C=r=>{o.loading_screen=!0,O.value=r.id;let _=` /delete-family-info/${a.current_user_id}`;z.post(_,{current_table_id:O.value}).then(c=>{c.data.status=="success"?(D.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),o.employeeDetails.get_family_details.dob=pe(g.dob,"YYYY-MM-DD"),o.employeeDetails.get_family_details.name=g.gender,o.employeeDetails.get_family_details.relationship=g.relationship,o.employeeDetails.get_family_details.phone_number=g.phone_number):c.data.status=="failure"&&(leave_data.leave_request_error_messege=c.data.message)}).catch(c=>{console.log(c)}).finally(()=>{o.loading_screen=!1,o.fetchEmployeeDetails()})},G=r=>{o.loading_screen=!0;let _=`/update-family-info/${a.current_user_id}`;z.post(_,{user_code:o.employeeDetails.user_code,current_table_id:O.value,name:t.name,relationship:t.relationship,dob:K(t.dob).format("YYYY-MM-DD"),phone_number:t.phone_number}).then(c=>{c.data.status=="success"?(D.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),o.employeeDetails.get_family_details.dob=pe(t.dob,"YYYY-MM-DD"),o.employeeDetails.get_family_details.name=t.gender,o.employeeDetails.get_family_details.relationship=g.relationship,o.employeeDetails.get_family_details.phone_number=t.phone_number):c.data.status=="failure"&&(leave_data.leave_request_error_messege=c.data.message)}).catch(c=>{console.log(c)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1}),L.value=!1};return ne(()=>{}),(r,m)=>{const _=U("InputText"),c=U("Calendar"),A=U("InputMask"),w=U("Toast"),R=U("Dialog"),I=U("Column"),x=U("OverlayPanel"),J=U("DataTable"),Z=U("Sidebar");return y(),$(ce,null,[e("div",ha,[e("div",va,[e("h6",xa,[k("Family Information "),e("button",{type:"button",class:"float-right bg-[#000] text-[#fff] px-4 p-2 rounded-md",onClick:m[0]||(m[0]=n=>P.value=!0)}," Add New "),l(R,{modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:V(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:V(()=>[l(w),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:q},"submit")])]),default:V(()=>[e("div",$a,[e("div",Da,[wa,l(_,{type:"text",modelValue:g.name,"onUpdate:modelValue":m[1]||(m[1]=n=>g.name=n),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",ka,[Va,l(_,{type:"text",modelValue:g.relationship,"onUpdate:modelValue":m[2]||(m[2]=n=>g.relationship=n),class:"w-[90%] h-10"},null,8,["modelValue"])])]),e("div",Pa,[e("div",Ca,[Sa,l(c,{dateFormat:"dd/mm/yy",modelValue:g.dob,"onUpdate:modelValue":m[3]||(m[3]=n=>g.dob=n),class:"h-10 w-[98%]",minDate:r.minDate,maxDate:r.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Ua,[Ma,l(A,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:g.phone_number,"onUpdate:modelValue":m[4]||(m[4]=n=>g.phone_number=n)},null,8,["modelValue"])])])]),_:1})]),e("div",Ea,[l(J,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:s(o).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",class:"z-0"},{default:V(()=>[l(I,{header:"Name",field:"name",style:{"min-width":"8rem"}}),l(I,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),l(I,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:V(n=>[n.data.dob=="Invalid Date"?(y(),$("div",Ya," - ")):(y(),$("div",Ia,u(s(K)(n.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),l(I,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),l(I,{header:"Action"},{body:V(n=>[e("div",ja,[e("button",{class:"",type:"button",onClick:Y},Aa),l(x,{ref_key:"op",ref:B},{default:V(()=>[e("div",Ba,[e("div",Fa,[e("button",{class:"p-2 text-lg text-black font-semibold hover:bg-gray-200 divide-x",onClick:d=>C(n.data)},"delete",8,Na),e("button",{class:"p-2 text-black text-lg font-semibold hover:bg-gray-200",onClick:d=>f(n.data)},"View",8,Ta)])])]),_:2},1536)])]),_:1})]),_:1},8,["value"])])])]),l(Z,{visible:P.value,"onUpdate:visible":m[9]||(m[9]=n=>P.value=n),position:"right",class:"relative w-[500px]"},{default:V(()=>[Ra,e("div",Oa,[e("div",Ga,[qa,l(_,{type:"text",modelValue:g.name,"onUpdate:modelValue":m[5]||(m[5]=n=>g.name=n),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",za,[Ha,l(_,{type:"text",modelValue:g.relationship,"onUpdate:modelValue":m[6]||(m[6]=n=>g.relationship=n),class:"w-[90%] h-10"},null,8,["modelValue"])]),e("div",Ka,[Ja,l(c,{dateFormat:"dd/mm/yy",modelValue:g.dob,"onUpdate:modelValue":m[7]||(m[7]=n=>g.dob=n),class:"h-10 w-[100%] relative right-2",minDate:r.minDate,maxDate:r.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Za,[Wa,l(A,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:g.phone_number,"onUpdate:modelValue":m[8]||(m[8]=n=>g.phone_number=n)},null,8,["modelValue"])])]),e("div",Xa,[l(w),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:q},"submit")])])]),_:1},8,["visible"]),l(Z,{visible:L.value,"onUpdate:visible":m[14]||(m[14]=n=>L.value=n),position:"right",class:"relative w-[500px]"},{default:V(()=>[Qa,e("div",ei,[e("div",ti,[si,l(_,{type:"text",modelValue:t.name,"onUpdate:modelValue":m[10]||(m[10]=n=>t.name=n),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",oi,[li,l(_,{type:"text",modelValue:t.relationship,"onUpdate:modelValue":m[11]||(m[11]=n=>t.relationship=n),class:"h-10 w-[100%]"},null,8,["modelValue"])]),e("div",ai,[ii,l(c,{modelValue:t.dob,"onUpdate:modelValue":m[12]||(m[12]=n=>t.dob=n),min:"2000-01-02",class:"w-[100%] h-10 relative right-2"},null,8,["modelValue"])]),e("div",ni,[di,l(A,{id:"basic",modelValue:t.phone_number,"onUpdate:modelValue":m[13]||(m[13]=n=>t.phone_number=n),mask:"9999999999",placeholder:"999999999",class:"h-10 w-[100%]"},null,8,["modelValue"])])]),e("div",ri,[l(w),e("div",null,[e("button",{class:"px-4 p-2 bg-[#000] text-[white] mt-[200px] rounded-lg",onClick:G},"submit")])])]),_:1},8,["visible"])],64)}}};const _i={key:0},mi=e("div",{class:""},[e("div",{class:""},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),pi={class:"tab-content",id:"pills-tabContent"},ui={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},fi={key:0,class:"my-2"},bi={class:"w-full bg-white rounded-lg p-2 border"},gi=e("div",{class:"flex justify-around"},[e("p",{class:"font-semibold text-sm"},"Payroll Summary"),e("div",{class:"flex justify-end"})],-1),yi={class:"grid grid-cols-12 gap-2 h-full py-2"},hi={class:"col-span-2"},vi=e("p",{class:"font-semibold text-xs text-gray-500"},"Last Processed",-1),xi={class:"font-semibold text-sm"},$i={class:"col-span-2"},Di=e("p",{class:"font-semibold text-xs text-gray-500"},"Total Working Days",-1),wi={class:"font-semibold text-sm"},ki={class:"col-span-2"},Vi=e("p",{class:"font-semibold text-xs text-gray-500"},"Loss Of Pay(LOP)",-1),Pi={class:"font-semibold text-sm"},Ci={class:"w-full bg-white rounded-lg p-2 border my-3"},Si=e("p",{class:"font-semibold text-sm"},"Bank Information",-1),Ui={class:"grid grid-cols-12 gap-2 h-full py-2"},Mi={class:"col-span-2"},Ei=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Name",-1),Yi={class:"font-semibold text-sm"},Ii={class:"col-span-2"},ji=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Account No",-1),Li={class:"font-semibold text-sm"},Ai={class:"col-span-2"},Bi=e("p",{class:"font-semibold text-xs text-gray-500"},"IFSC Code",-1),Fi={class:"font-semibold text-sm"},Ni={class:"col-span-2"},Ti=e("p",{class:"font-semibold text-xs text-gray-500"},"PAN No",-1),Ri={class:"font-semibold text-sm"},Oi={class:"w-full bg-white rounded-lg p-2 border"},Gi=e("p",{class:"font-semibold text-sm"},"Statutory Information",-1),qi={class:"grid grid-cols-12 gap-2 h-full py-2"},zi={class:"col-span-2"},Hi=e("p",{class:"font-semibold text-xs text-gray-500"},"PF Applicable",-1),Ki={class:"font-semibold text-sm"},Ji={class:"col-span-2"},Zi=e("p",{class:"font-semibold text-xs text-gray-500"},"EPF Number",-1),Wi={class:"font-semibold text-sm"},Xi={class:"col-span-2"},Qi=e("p",{class:"font-semibold text-xs text-gray-500"},"UAN Number",-1),en={class:"font-semibold text-sm"},tn={class:"col-span-2"},sn=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Applicable",-1),on={class:"font-semibold text-sm"},ln={class:"col-span-2"},an=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Number",-1),nn={class:"font-semibold text-sm"},dn={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},rn={class:"mb-2 card"},cn={class:"card-body"},_n={class:"modal-body"},mn={class:"row"},pn={class:"col-md-6"},un={class:"mb-3 form-group"},fn=e("label",null,"Bank Name",-1),bn={class:"col-md-6"},gn={class:"mb-3 form-group"},yn=e("label",null,"Bank Account No",-1),hn=e("div",{class:"cal-icon"},null,-1),vn={class:"col-md-6"},xn={class:"mb-3 form-group"},$n=e("label",null,"IFSC Code",-1),Dn={class:"col-md-6"},wn={class:"floating d-block justify-items-start al"},kn=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),Vn={class:"flex justify-content-start"},Pn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),Cn={class:"d-flex flex-column justify-content-center align-items-center border"},Sn={key:0,class:"text-red-400 fs-6 font-semibold text-center"},Un={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},Mn={class:"modal-body"},En={class:"row"},Yn={class:"col-md-6"},In={class:"mb-3 form-group"},jn=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),Ln={key:0,class:"text-red-400 fs-6 font-semibold"},An={class:"col-md-6 d-flex flex-column"},Bn={class:"d-flex justify-items-center flex-column ml-10"},Fn=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),Nn={class:"d-flex justify-items-center align-items-center"},Tn=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),Rn={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},On={key:0,class:"text-red-400 fs-6 font-semibold"},Gn={class:"modal-body"},qn={class:"row"},zn={class:"col"},Hn=e("label",{for:"",class:""},[k("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),Kn={class:"col"},Jn=e("label",{class:"ml-2"},"EPF Number",-1),Zn={class:"row"},Wn={class:"col"},Xn=e("label",{class:"ml-1"},"UAN Number",-1),Qn={class:"col ml-2"},ed=e("label",{class:"ml-2"},[k("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),td={class:"row"},sd={class:"col-6"},od=e("label",{for:"",class:"ml-2"},"ESIC Number",-1),ld=e("div",{class:"col"},null,-1),ad=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),id={__name:"FinanceDetails",setup(M){const a=le(),o=ae(),D=ie(),P=v(!1),B=v(!1),Y=v();Y.value=a.employeeDetails.payroll_summary,console.log("testing payroll summary :",Y.value);let L=new FormData;L.append("user_code",ae.current_user_code),L.append("file_object",le.value);let g="/profile-pages/updateProfilePicture";z.post(g,L).then(j=>{}).finally(()=>{console.log("Photo Sent")});const t=v([]),O=v();t.value.push(a.employeeDetails.get_statutory_details),ne(()=>{o.getBankList().then(j=>{O.value=j.data}),a.fetchEmployeeDetails()});const q=v(!1),f=v(!1);v(),v();const C=X({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),G=X({pan_no:"",Pancard:""}),r=j=>{j.target.files&&j.target.files[0]&&(C.PassBook=j.target.files[0],console.log(C.PassBook))},m=v([{name:"Yes",value:"Yes"},{name:"No",value:"No"}]),_=()=>{P.value=!0;let h=`/update-bank-info/${o.current_user_id}`,S=new FormData;S.append("user_code",a.employeeDetails.user_code),S.append("bank_id",C.bank_id),S.append("account_no",C.bank_ac_no),S.append("bank_ifsc",C.ifsc_code),S.append("PassBook",C.PassBook),S.append("onboard_document_type","Cheque leaf/Bank Passbook"),z.post(h,S).then(b=>{b.data.status=="success"?(D.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),a.employeeDetails.get_employee_details.bank_id=C.bank_id,a.employeeDetails.get_employee_details.bank_account_number=C.bank_ac_no,a.employeeDetails.get_employee_details.bank_ifsc_code=C.ifsc_code,a.employeeDetails.get_employee_details.pan_no=C.pan_no):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}).finally(()=>{a.fetchEmployeeDetails(),P.value=!1}),q.value=!1};function c(){C.bank_id=parseInt(a.employeeDetails.get_employee_details.bank_id),C.bank_ac_no=a.employeeDetails.get_employee_details.bank_account_number,C.ifsc_code=a.employeeDetails.get_employee_details.bank_ifsc_code,C.pan_no=a.employeeDetails.get_employee_details.pan_number,q.value=!0}function A(){a.employeeDetails.get_statutory_details?(w.pf_applicable=a.employeeDetails.get_statutory_details.pf_applicable,w.epf_no=a.employeeDetails.get_statutory_details.epf_number,w.uan_no=a.employeeDetails.get_statutory_details.uan_number,w.esic_applicable=a.employeeDetails.get_statutory_details.esic_applicable,w.esic_no=a.employeeDetails.get_statutory_details.esic_number):f.value=!0,f.value=!0}const w=X({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),R=()=>{P.value=!0;let h=`/update-statutory-info/${o.current_user_id}`;z.post(h,{user_code:a.employeeDetails.user_code,pf_applicable:w.pf_applicable,epf_number:w.epf_no,uan_number:w.uan_no,esic_applicable:w.esic_applicable,esic_number:w.esic_no}).then(S=>{S.data.status=="success"?D.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):S.data.status=="failure"&&(leave_data.leave_request_error_messege=S.data.message)}).catch(S=>{console.log(S)}).finally(()=>{a.fetchEmployeeDetails(),P.value=!1}),f.value=!1},I=j=>{j.target.files&&j.target.files[0]&&(G.Pancard=j.target.files[0],console.log(G.Pancard))},x=()=>{P.value=!0;const h=`/update-Pancard-info/${o.current_user_id}`,S=new FormData;S.append("pan_no",G.pan_no),S.append("pancard",G.Pancard),S.append("user_code",a.employeeDetails.user_code),S.append("onboard_document_type","Pan Card"),B.value=!1,G.Pancard&&z.post(h,S).finally(()=>{P.value=!1})},J=te(()=>({PassBook:{required:re}})),Z=ue(J,C),n=()=>{Z.value.$validate(),Z.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),_())},d=te(()=>({pan_no:{required:re},Pancard:{required:re}})),N=ue(d,G),H=()=>{N.value.$validate(),N.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),x())},i=j=>{let h=String.fromCharCode(j.keyCode);if(/^[A-Za-z_ ]+$/.test(h))return!0;j.preventDefault()},T=j=>{let h=String.fromCharCode(j.keyCode);if(/^[A-Za-z0-9]+$/.test(h))return!0;j.preventDefault()};return(j,h)=>{const S=U("Dropdown"),b=U("InputNumber"),de=U("InputText"),p=U("Toast"),me=U("Dialog"),he=U("InputMask"),ve=U("ProgressSpinner");return s(a).employeeDetails.get_statutory_details?(y(),$("div",_i,[mi,e("div",pi,[e("div",ui,[s(a).employeeDetails.get_employee_details?(y(),$("div",fi,[e("div",bi,[gi,e("div",yi,[e("div",hi,[vi,e("p",xi,u(s(a).employeeDetails.payroll_summary.payroll_date?s(K)(s(a).employeeDetails.payroll_summary.payroll_date).format("DD-MMM-YYYY"):"-"),1)]),e("div",$i,[Di,e("p",wi,u(s(a).employeeDetails.payroll_summary.worked_Days?s(a).employeeDetails.payroll_summary.worked_Days:"-"),1)]),e("div",ki,[Vi,e("p",Pi,u(s(a).employeeDetails.payroll_summary.lop?s(a).employeeDetails.payroll_summary.lop:"-"),1)])])]),e("div",Ci,[e("div",{class:"flex justify-around"},[Si,e("div",{class:"flex justify-end"},[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:c,alt:""})])]),e("div",Ui,[e("div",Mi,[Ei,e("p",Yi,u(s(a).employeeDetails.get_employee_details.bank_name?s(a).employeeDetails.get_employee_details.bank_name:"-"),1)]),e("div",Ii,[ji,e("p",Li,u(s(a).employeeDetails.get_employee_details.bank_account_number?s(a).employeeDetails.get_employee_details.bank_account_number:"-"),1)]),e("div",Ai,[Bi,e("p",Fi,u(s(a).employeeDetails.get_employee_details.bank_ifsc_code?s(a).employeeDetails.get_employee_details.bank_ifsc_code:"-"),1)]),e("div",Ni,[Ti,e("p",Ri,u(s(a).employeeDetails.get_employee_details.pan_number?s(a).employeeDetails.get_employee_details.pan_number:"-"),1)])])]),e("div",Oi,[e("div",{class:"flex justify-around"},[Gi,e("div",{class:"flex justify-end"},[e("img",{src:oe,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:A,alt:""})])]),e("div",qi,[e("div",zi,[Hi,e("p",Ki,u(s(a).employeeDetails.get_statutory_details.pf_applicable?s(a).employeeDetails.get_statutory_details.pf_applicable:"-"),1)]),e("div",Ji,[Zi,e("p",Wi,u(s(a).employeeDetails.get_statutory_details.epf_number?s(a).employeeDetails.get_statutory_details.epf_number:"-"),1)]),e("div",Xi,[Qi,e("p",en,u(s(a).employeeDetails.get_statutory_details.uan_number?s(a).employeeDetails.get_statutory_details.uan_number:"-"),1)]),e("div",tn,[sn,e("p",on,u(s(a).employeeDetails.get_statutory_details.esic_applicable?s(a).employeeDetails.get_statutory_details.esic_applicable:"-"),1)]),e("div",ln,[an,e("p",nn,u(s(a).employeeDetails.get_statutory_details.esic_number?s(a).employeeDetails.get_statutory_details.esic_number:"-"),1)])])])])):F("",!0)]),e("div",dn,[e("div",rn,[e("div",cn,[l(we)])])])]),l(me,{visible:q.value,"onUpdate:visible":h[5]||(h[5]=E=>q.value=E),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:V(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:V(()=>[e("div",null,[e("div",_n,[e("div",mn,[e("div",pn,[e("div",un,[fn,l(S,{editable:"",onKeypress:h[0]||(h[0]=E=>i(E)),options:O.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:C.bank_id,"onUpdate:modelValue":h[1]||(h[1]=E=>C.bank_id=E)},null,8,["options","modelValue"])])]),e("div",bn,[e("div",gn,[yn,hn,l(b,{modelValue:C.bank_ac_no,"onUpdate:modelValue":h[2]||(h[2]=E=>C.bank_ac_no=E),class:"form-controls onboard-form",inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])])]),e("div",vn,[e("div",xn,[$n,l(de,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:C.ifsc_code,"onUpdate:modelValue":h[3]||(h[3]=E=>C.ifsc_code=E)},null,8,["modelValue"])])]),e("div",Dn,[e("div",wn,[kn,e("div",Vn,[l(p),Pn,e("div",Cn,[e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:h[4]||(h[4]=E=>r(E)),style:{"text-transform":"uppercase"},class:W(["form-controls pl-2",[s(Z).PassBook.$error?"p-invalid":""]])},null,34),s(Z).PassBook.$error?(y(),$("span",Sn,u(s(Z).PassBook.required.$message.replace("Value","PassBook or Cheque Leaf")),1)):F("",!0)]),C.PassBook?(y(),$("div",Un,u(C.PassBook.name),1)):F("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:n},"Submit")])])])])]),_:1},8,["visible"]),l(me,{visible:B.value,"onUpdate:visible":h[8]||(h[8]=E=>B.value=E),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:V(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:V(()=>[e("div",null,[e("div",Mn,[e("div",En,[e("div",Yn,[e("div",In,[jn,l(he,{onFocusout:j.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:G.pan_no,"onUpdate:modelValue":h[6]||(h[6]=E=>G.pan_no=E),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:W(["form-controls pl-2",[s(N).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),s(N).pan_no.$error?(y(),$("span",Ln,u(s(N).pan_no.required.$message.replace("Value","Pancard number")),1)):F("",!0)])]),e("div",An,[e("div",Bn,[Fn,e("div",Nn,[l(p),Tn,G.Pancard?(y(),$("div",Rn,u(G.Pancard.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:h[7]||(h[7]=E=>I(E)),class:W([s(N).Pancard.$error?"p-invalid":""])},null,34)]),s(N).Pancard.$error?(y(),$("span",On,u(s(N).Pancard.required.$message.replace("Value","Pancard attachment")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:H},"Submit")])])])])]),_:1},8,["visible"]),l(me,{visible:f.value,"onUpdate:visible":h[17]||(h[17]=E=>f.value=E),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:V(()=>[e("div",null,[e("h5",{style:ee({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:V(()=>[e("div",Gn,[e("div",qn,[e("div",zn,[Hn,l(S,{modelValue:w.pf_applicable,"onUpdate:modelValue":h[9]||(h[9]=E=>w.pf_applicable=E),options:m.value,placeholder:"PF Applicable",optionLabel:"name",optionValue:"value",class:"w-100"},null,8,["modelValue","options"])]),e("div",Kn,[Jn,l(de,{onKeypress:h[10]||(h[10]=E=>T(E)),modelValue:w.epf_no,"onUpdate:modelValue":h[11]||(h[11]=E=>w.epf_no=E),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])])]),e("div",Zn,[e("div",Wn,[Xn,l(de,{onKeypress:h[12]||(h[12]=E=>T(E)),modelValue:w.uan_no,"onUpdate:modelValue":h[13]||(h[13]=E=>w.uan_no=E),class:"w-100",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),e("div",Qn,[ed,l(S,{modelValue:w.esic_applicable,"onUpdate:modelValue":h[14]||(h[14]=E=>w.esic_applicable=E),options:m.value,optionLabel:"name",placeholder:"ESIC Applicable",class:"w-100",optionValue:"value"},null,8,["modelValue","options"])])]),e("div",td,[e("div",sd,[od,l(de,{onKeypress:h[15]||(h[15]=E=>T(E)),modelValue:w.esic_no,"onUpdate:modelValue":h[16]||(h[16]=E=>w.esic_no=E),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),ld]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:R},"Save")])])])]),_:1},8,["visible"]),l(me,{header:"Header",visible:P.value,"onUpdate:visible":h[18]||(h[18]=E=>P.value=E),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:V(()=>[l(ve,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:V(()=>[ad]),_:1},8,["visible"])])):F("",!0)}}};const nd=e("h6",{class:"text-lg font-semibold"},"Experience Information",-1),dd={class:"flex items-center gap-6"},rd={class:"flex justify-center mx-4"},cd={class:"relative flex items-center justify-center w-1 h-full bg-green-300"},_d={class:"absolute z-10 flex flex-col justify-center w-12 h-12 font-thin leading-none text-center bg-white border-2 border-green-300 rounded-full"},md={key:0,class:"w-full p-2 my-2 bg-white border rounded-lg"},pd={class:"grid h-full grid-cols-12 gap-2 py-2"},ud={class:"col-span-2"},fd=e("p",{class:"text-xs font-semibold text-gray-500"},"Company Name",-1),bd={class:"text-sm font-semibold"},gd={class:"col-span-2"},yd=e("p",{class:"text-xs font-semibold text-gray-500"},"Location",-1),hd={class:"text-sm font-semibold"},vd={class:"col-span-2"},xd=e("p",{class:"text-xs font-semibold text-gray-500"},"JOb Position",-1),$d={class:"text-sm font-semibold"},Dd={class:"col-span-2"},wd=e("p",{class:"text-xs font-semibold text-gray-500"},"Period From",-1),kd={class:"text-sm font-semibold"},Vd={class:"col-span-2"},Pd=e("p",{class:"text-xs font-semibold text-gray-500"},"Period To",-1),Cd={class:"text-sm font-semibold"},Sd={class:"relative flex justify-end col-span-2"},Ud=["onClick"],Md=e("i",{class:"pi pi-ellipsis-v"},null,-1),Ed=[Md],Yd={key:0,class:"absolute flex flex-col bg-white shadow-2xl top-4",style:{width:"160px","margin-top":"12px !important","margin-right":"20px !important"}},Id=["onClick"],jd=["onClick"],Ld=e("div",null,null,-1),Ad=e("h1",{class:"absolute top-6 font-semibold"},"Experience Information",-1),Bd={class:"my-2"},Fd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),Nd={class:"my-2"},Td=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Location"),e("span",{class:"text-danger"},"*")],-1),Rd={class:"my-2"},Od=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Job Position"),e("span",{class:"text-danger"},"*")],-1),Gd={class:"my-2"},qd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),zd={class:"my-2"},Hd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period To"),e("span",{class:"text-danger"},"*")],-1),Kd={class:"flex justify-center my-4 !mt-[200px]"},Jd=e("h1",{class:"absolute font-semibold top-4"}," Experience Information",-1),Zd={class:"my-2"},Wd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),Xd={class:"my-2"},Qd=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Location"),e("span",{class:"text-danger"},"*")],-1),er={class:"my-2"},tr=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Job Position"),e("span",{class:"text-danger"},"*")],-1),sr={class:"my-2"},or=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),lr={class:"my-2"},ar=e("h1",{class:"text-[14px] font-semibold mb-1"},[k("Period To"),e("span",{class:"text-danger"},"*")],-1),ir={class:"flex justify-center my-4"},nr={__name:"ExperienceDetails",setup(M){const a=ae(),o=le(),D=ie();ie();const P=v();v(!0);const B=_=>{console.log(_),_&&(P.value=_)};v("");const Y=v(!1),L=v(!1),g=v(),t=X({company_name:"",location:"",job_position:"",period_from:"",period_to:""});function O(){Y.value=!0,t.company_name="",t.job_position="",t.location="",t.period_from="",t.period_to=""}const q=()=>{console.log(t),o.loading_screen=!0;let c=`/add-experience-info/${a.current_user_id}`;z.post(c,{user_code:o.employeeDetails.user_code,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:K(t.period_from).format("YYYY-MM-DD"),period_to:K(t.period_to).format("YYYY-MM-DD")}).then(A=>{A.data.status=="success"?D.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):A.data.status=="failure"&&(leave_data.leave_request_error_messege=A.data.message)}).catch(A=>{console.log(A)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1}),Y.value=!1};ne(()=>{});const f=_=>{L.value=!0,L.value==!0&&(console.log(L),P.value=""),g.value=_.id,console.log(g.value),t.company_name=_.company_name,t.location=_.location,t.job_position=_.job_position,t.period_from=_.period_from,t.period_to=_.period_to},C=_=>{L.value=!1,P.value="";let A=`/update-experience-info/${a.current_user_id}`;z.post(A,{user_code:o.employeeDetails.user_code,exp_current_table_id:g.value,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:K(t.period_from).format("YYYY-MM-DD"),period_to:K(t.period_to).format("YYYY-MM-DD")}).then(w=>{w.data.status=="success"?(o.fetchEmployeeDetails(),D.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):w.data.status=="failure"&&(leave_data.leave_request_error_messege=w.data.message)}).catch(w=>{console.log(w)})},G=_=>{g.value=_.id;let A=`/delete-experience-info/${a.current_user_id}`;z.post(A,{exp_current_table_id:g.value}).then(w=>{w.data.status=="success"?(o.fetchEmployeeDetails(),D.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3})):w.data.status=="failure"&&(leave_data.leave_request_error_messege=w.data.message)}).catch(w=>{console.log(w)}).finally(()=>{o.fetchEmployeeDetails(),o.loading_screen=!1})},r=_=>{let c=String.fromCharCode(_.keyCode);if(/^[A-Za-z_ ]+$/.test(c))return!0;_.preventDefault()};function m(_,c){const A=new Date(_),R=new Date(c)-A,I=365.25*24*60*60*1e3,x=R/I;return x?x.toFixed(1):null}return(_,c)=>{const A=U("InputText"),w=U("Calendar"),R=U("Toast"),I=U("Sidebar");return y(),$(ce,null,[e("div",{class:"flex items-center justify-between"},[nd,e("button",{type:"",class:"float-right text-[#fff] bg-[#000] px-4 py-2 rounded-lg",onClick:O}," Add New ")]),(y(!0),$(ce,null,$e(s(o).employeeDetails.get_experience_details,x=>(y(),$("div",dd,[e("div",rd,[e("div",cd,[e("div",_d,[e("div",null,u(x.period_from&&x.period_to?m(x.period_from,x.period_to):0),1)])])]),s(o).employeeDetails.get_experience_details?(y(),$("div",md,[e("div",pd,[e("div",ud,[fd,e("p",bd,u(x.company_name),1)]),e("div",gd,[yd,e("p",hd,u(x.location),1)]),e("div",vd,[xd,e("p",$d,u(x.job_position),1)]),e("div",Dd,[wd,e("p",kd,u(s(K)(x.period_from).format("DD-MMM-YYYY")),1)]),e("div",Vd,[Pd,e("p",Cd,u(s(K)(x.period_to).format("DD-MMM-YYYY")),1)]),e("div",Sd,[e("button",{class:"",type:"button",onClick:J=>B(x.id)},Ed,8,Ud),P.value===x.id?(y(),$("div",Yd,[e("div",{class:"p-0 m-0 d-flex flex-column",onMouseleave:c[0]||(c[0]=J=>P.value="")},[e("button",{class:"h-[30px] p-2 text-black fw-semibold hover:bg-gray-200 border-bottom-1",onClick:J=>G(x)},"delete",8,Id),e("button",{onClick:J=>f(x),class:"!h-[33px] border-[1px] text-black fw-semibold hover:bg-gray-200 ho"},"View",8,jd)],32)])):F("",!0)])])])):F("",!0)]))),256)),Ld,l(I,{visible:Y.value,"onUpdate:visible":c[7]||(c[7]=x=>Y.value=x),position:"right",class:"!w-[500px]"},{default:V(()=>[Ad,e("div",Bd,[Fd,l(A,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":c[1]||(c[1]=x=>t.company_name=x),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",Nd,[Td,l(A,{type:"text",modelValue:t.location,"onUpdate:modelValue":c[2]||(c[2]=x=>t.location=x),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",Rd,[Od,l(A,{type:"text",onKeypress:c[3]||(c[3]=x=>r(x)),modelValue:t.job_position,"onUpdate:modelValue":c[4]||(c[4]=x=>t.job_position=x),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",Gd,[qd,l(w,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:t.period_from,"onUpdate:modelValue":c[5]||(c[5]=x=>t.period_from=x)},null,8,["modelValue"])]),e("div",zd,[Hd,l(w,{modelValue:t.period_to,"onUpdate:modelValue":c[6]||(c[6]=x=>t.period_to=x),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",Kd,[l(R),e("button",{class:"bg-[#000] text-[#ffff] p-2 px-4 rounded-md",severity:"success",id:"",onClick:q},"submit")])]),_:1},8,["visible"]),l(I,{visible:L.value,"onUpdate:visible":c[15]||(c[15]=x=>L.value=x),position:"right",class:"!w-[500px]"},{default:V(()=>[Jd,e("div",Zd,[Wd,l(A,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":c[8]||(c[8]=x=>t.company_name=x),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%] h-10"},null,8,["modelValue"])]),e("div",Xd,[Qd,l(A,{type:"text",modelValue:t.location,"onUpdate:modelValue":c[9]||(c[9]=x=>t.location=x),name:"experienceDet_location[]",required:"",class:"w-[100%] h-10 my-2"},null,8,["modelValue"])]),e("div",er,[tr,l(A,{type:"text",onKeypress:c[10]||(c[10]=x=>r(x)),modelValue:t.job_position,"onUpdate:modelValue":c[11]||(c[11]=x=>t.job_position=x),name:"experienceDet_job_position[]",class:"!w-[100%] h-10",required:""},null,8,["modelValue"])]),e("div",sr,[or,l(w,{class:"!w-[100%] h-10 relative left-[-4px]",modelValue:t.period_from,"onUpdate:modelValue":c[12]||(c[12]=x=>t.period_from=x)},null,8,["modelValue"])]),e("div",lr,[ar,l(w,{modelValue:t.period_to,"onUpdate:modelValue":c[13]||(c[13]=x=>t.period_to=x),name:"experienceDet_period_to[]",class:"!w-[100%] h-10 left-[-4px]"},null,8,["modelValue"])]),e("div",ir,[l(R),e("button",{type:"button",class:"bg-[#000] w-[144px] py-2 rounded-lg text-[white] success warning",severity:"success",id:"",onClick:c[14]||(c[14]=x=>C())},"submit")])]),_:1},8,["visible"])],64)}}};const dr={class:"card"},rr={class:"w-full"},cr={key:0},_r=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},"Approved",-1),mr=[_r],pr={key:1},ur=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-yellow-800 rounded-md bg-yellow-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),fr=[ur],br={key:2},gr=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-red-800 rounded-md bg-red-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),yr=[gr],hr={key:3},vr={key:0},xr={key:0},$r=["onClick"],Dr=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),k(" Upload file")],-1),wr=[Dr],kr={key:1},Vr={key:1},Pr=["onClick"],Cr=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),k(" Upload file")],-1),Sr=[Cr],Ur=["disabled"],Mr={class:"w-full h-full d-flex justify-content-center"},Er=["src"],Yr={__name:"documents",setup(M){const a=v([]);ne(()=>{D.fetch_EmployeeDocument(),console.log(" ",B.value),console.log("employeeDetails employee_documents ",o.employeeDetails.employee_documents),a.value=o});let o=le();const D=ke();ie();const P=v(!1),B=v({}),Y=v();v();const L=v(),g=v(),t=new FormData,O=v(),q=r=>{P.value=!0,D.loading=!0,z.post("/view-profile-private-file",{user_code:o.user_code,document_name:r.document_name}).then(m=>{Y.value=m.data.data,console.log("data sent",Y.value)}).finally(()=>{D.loading=!1})};v(["Pending","Approved","Rejected"]);const f=r=>{g.value=r},C=r=>{console.log(g),r.target.files&&r.target.files[0]&&(L.value=r.target.files[0],t.append(`${g.value}`,L.value),t.append("user_code",o.employeeDetails.user_code),console.log(t),Object.keys(t)[0])};async function G(){if(O.value=="Failure")Swal.fire({title:O.value="Failure",text:"Please upload all mandatory documents",icon:"error",showCancelButton:!1}).then(r=>{});else{D.loading=!0;let r="/profile-page/saveEmployeeDocument";z.post(r,t).then(m=>{O.value=m.data.status,console.log(O.value),console.log("Photo not send"),m.data.status=="Success"?Swal.fire({title:m.data.status="Success",text:m.data.message,icon:"success",showCancelButton:!1}).then(_=>{}):m.data.status=="Failure"&&Swal.fire({title:m.data.status="Failure",text:m.data.message,icon:"error",showCancelButton:!1}).then(_=>{})}).finally(()=>{o.fetchEmployeeDetails(),D.fetch_EmployeeDocument(),D.loading=!1})}}return(r,m)=>{const _=U("Column"),c=U("Button"),A=U("DataTable"),w=U("Sidebar");return y(),$("div",dr,[e("div",rr,[l(A,{ref:"dt",value:s(o).employeeDetails.employee_documents,dataKey:"id",paginator:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],rows:5,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:V(()=>[l(_,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:V(()=>[k(u(s(D).getEmployeeDoc.document_name),1)]),_:1}),l(_,{field:"status",header:"status",style:{"min-width":"12rem"}},{body:V(R=>[R.data.status=="Approved"?(y(),$("div",cr,mr)):R.data.status==="Pending"?(y(),$("div",pr,fr)):R.data.status==="Rejected"?(y(),$("div",br,yr)):(y(),$("div",hr))]),_:1}),l(_,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:V(R=>[R.data.doc_id?(y(),$("div",vr,[R.data.status=="Rejected"?(y(),$("div",xr,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:m[0]||(m[0]=I=>C(I))},null,32),e("button",{class:"btn btn-success",onClick:I=>f(R.data.document_name)},wr,8,$r)])):(y(),$("div",kr,[l(c,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:I=>q(R.data),style:{height:"1.5em"}},null,8,["onClick"])]))])):(y(),$("div",Vr,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:m[1]||(m[1]=I=>C(I))},null,32),e("button",{class:"btn btn-success",onClick:I=>f(R.data.document_name)},Sr,8,Pr)]))]),_:1})]),_:1},8,["value"]),e("button",{severity:"warn",type:"submit",data:"row-6",next:"row-6",name:"submit_form",id:"msform",class:"text-center btn btn-orange processOnboardForm float-end text-light mr-5 my-5",value:"Submit",disabled:r.fileUploadValidation,onClick:G}," Submit ",8,Ur),s(D).loading==!1?(y(),_e(w,{key:0,position:"right",visible:P.value,"onUpdate:visible":m[2]||(m[2]=R=>P.value=R),modal:"",header:"Documents",style:{width:"40vw"}},{default:V(()=>[e("div",Mr,[e("img",{src:`data:image/png;base64,${Y.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,Er)])]),_:1},8,["visible"])):F("",!0)])])}}},Ir={key:1,class:"w-full h-screen bg-gray-50 p-3"},jr={class:"w-full my-2"},Lr={class:"col-12 col-sm-12 col-md-12 col-lg-12 col-xxl-12 col-xl-12"},Ar=e("div",{class:"mb-2"},[e("div",{class:"pt-1 pb-0"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Br={class:"tab-content",id:"pills-tabContent"},Fr={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Nr={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Tr={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Rr={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Or={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},tc={__name:"ProfilePageNew",setup(M){const a=ae(),o=De();let D=le();return ne(async()=>{o.params.user_code?(D.user_code=o.params.user_code,console.log(D.user_code),D.loading_screen=!0,await D.fetchEmployeeDetails().finally(()=>{D.loading_screen=!1})):(D.user_code=a.current_user_id,console.log(D.user_code),await D.fetchEmployeeDetails())}),(P,B)=>{const Y=U("Toast");return y(),$(ce,null,[l(Y),s(D).loading_screen?(y(),_e(Ve,{key:0,class:"absolute z-50 bg-white"})):F("",!0),s(D).employeeDetails.get_employee_office_details?(y(),$("div",Ir,[l(Ns),e("div",jr,[e("div",Lr,[Ar,e("div",Br,[e("div",Fr,[e("div",null,[l(ya)])]),e("div",Nr,[l(ci)]),e("div",Tr,[l(nr)]),e("div",Rr,[e("div",null,[l(id)])]),e("div",Or,[l(Yr)])])])])])):F("",!0)],64)}}};export{tc as default};
