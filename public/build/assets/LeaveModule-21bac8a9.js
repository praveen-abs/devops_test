import{H as i,o as c,c as _,e,h as a,F as V,f as U,t as s,a3 as r,_ as L,I as N,g as v,w as o,k as g,n as A,p as H,b as F,a as j,J as Q,P as K,K as q,L as W,R as z,u as G,v as J,V as X,M as Z,Q as ee,A as te,N as ae,S as oe}from"./toastservice.esm-371af8c0.js";import{d as se,c as le}from"./pinia-3100160b.js";import{T as ne,B as ie,S as de,b as re,a as ce}from"./styleclass.esm-e298369b.js";import"./blockui.esm-ee01ffa9.js";import{D as me}from"./dialogservice.esm-283c5939.js";import{s as pe}from"./row.esm-6ebc942e.js";import{s as ue}from"./columngroup.esm-9dd1458e.js";import{s as _e}from"./calendar.esm-3a97f270.js";import{s as ve}from"./checkbox.esm-fff69709.js";import{s as he}from"./chips.esm-d9886340.js";import{s as ye}from"./multiselect.esm-f718a6f2.js";import{s as ge}from"./textarea.esm-dff1d4ea.js";import{s as fe}from"./overlaypanel.esm-cd14f542.js";import{h as O}from"./moment-fbc5633a.js";import{a as B}from"./index-362795f3.js";import{d as C}from"./dayjs.min-2f06af28.js";import{S as be}from"./Service-0e4cd938.js";import{_ as xe}from"./LeaveApply-d034225e.js";/* empty css                                                            */import"./leave_apply_service-8b24cf34.js";const I=se("useLeaveModuleStore",()=>{be();const R=i(!1),n=i(),k=i(),$=i(),p=i(),D=i(),x=i(),T=i(!1),y=i({}),S=f=>{T.value=!0,console.log(f),y.value={...f},y.emp_name=f.name};async function h(){R.value=!0;let f="/get-employee-leave-balance";await B.get(f).then(t=>{console.log(t.data),n.value=t.data,k.value=t.data["Avalied Leaves"]}).finally(()=>{R.value=!1})}async function b(f,t,u){let l=0;await B.get(window.location.origin+"/currentUserCode ").then(d=>{l=d.data}),await B.post("/attendance/getEmployeeLeaveDetails",{user_code:l,filter_month:f,filter_year:t,filter_leave_status:u}).then(d=>{$.value=d.data.data,console.log("getEmployeeLeaveHistory() : "+d.data)})}async function M(f,t,u){let l=0;await B.get(window.location.origin+"/currentUserCode ").then(d=>{l=d.data}),B.post("/attendance/getTeamEmployeesLeaveDetails",{manager_code:l,filter_month:f,filter_year:t,filter_leave_status:u}).then(d=>{p.value=d.data.data,console.log("getTeamLeaveHistory() : "+d.data)})}async function w(f,t,u){B.post("/attendance/getAllEmployeesLeaveDetails",{filter_month:f,filter_year:t,filter_leave_status:u}).then(l=>{D.value=l.data,console.log("getOrgLeaveHistory() : "+l.data)})}async function E(f){B.post("/attendance/getLeaveInformation",{record_id:f}).then(t=>{x.value=t.data.data,console.log("getLeaveInformation() : "+t.data)})}return{canShowLoading:R,canShowLeaveDetails:T,setLeaveDetails:y,getLeaveDetails:S,array_employeeLeaveHistory:$,array_teamLeaveHistory:p,array_orgLeaveHistory:D,array_employeeLeaveBalance:n,array_employeeAvailedLeaveBalance:k,getEmployeeLeaveHistory:b,getTeamLeaveHistory:M,getAllEmployeesLeaveDetails:w,getLeaveInformation:E,getEmployeeLeaveBalance:h}}),we={class:"mb-3 tw-card"},Le={class:"mb-2 row"},$e=e("div",{class:"col-sm-6 col-xl-6 col-md-6 col-lg-6"},[e("h6",{class:"text-lg font-semibold text-gray-900 modal-title"},"Leave Balance")],-1),De={class:"col-6 justify-content-end d-flex"},Se={class:"grid gap-4 md:grid-cols-3 sm:grid-cols-1 xxl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-4",style:{display:"grid"}},ke={class:"text-lg font-semibold text-center"},Ce={class:"my-3 text-xl font-bold text-center"},Te={key:0},Pe={key:1},Me={class:"tw-card"},Ve=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Leave Availed",-1),Ae={class:"grid gap-4 md:grid-cols-3 sm:grid-cols-1 xxl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-4",style:{display:"grid"}},Re={class:"text-center"},Ee={class:"mb-2 text-base font-semibold"},Be={class:"mb-0 text-base font-semibold"},Ue={__name:"EmployeeLeaveBalance",setup(R){const n=I();return(k,$)=>(c(),_(V,null,[e("div",we,[e("div",Le,[$e,e("div",De,[a(xe)])]),e("div",Se,[(c(!0),_(V,null,U(r(n).array_employeeLeaveBalance,p=>(c(),_("div",{key:p,class:"p-1 my-4 rounded-lg shadow-md tw-card dynamic-card hover:bg-slate-100"},[e("p",ke,s(p.leave_type),1),e("p",Ce,[p.leave_balance==""?(c(),_("span",Te,"0")):(c(),_("span",Pe,s(p.leave_balance),1))])]))),128))])]),e("div",Me,[Ve,e("div",Ae,[(c(!0),_(V,null,U(r(n).array_employeeLeaveBalance,p=>(c(),_("div",{class:"bg-indigo-100 border-l-4 border-indigo-300 tw-card",key:p},[e("div",Re,[e("p",Ee,s(p.leave_type),1),e("h6",Be,s(p.avalied_leaves),1)])]))),128))])])],64))}},Ne={class:"mt-3 row"},Ie={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Ye={class:"mb-0 card leave-history"},Oe={class:"card-body"},Fe=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"}," Leave history ",-1),He={class:"d-flex justify-content-end mb-2"},je=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),Qe={class:"table-responsive"},Ke={key:0},qe={key:1},We={key:1},ze={class:"w-full"},Ge={class:"w-full"},Je={class:"border w-full mt-5"},Xe={class:"p-3 pl-5 d-flex align-items-center border"},Ze=e("div",{class:"rounded-circle shadow-sm d-flex justify-content-center align-items-center bg-yellow-100",style:{width:"80px",height:"80px"}},[e("h1",{class:"fs-5 fw-bold"},"K K")],-1),et={class:"ml-5"},tt={class:"fs-5 fw-bold mb-2"},at={class:"fs-6 text-neutral-400"},ot={class:"border w-full d-flex py-4 px-4"},st={class:"mx-2 p-1 rounded-lg"},lt={class:"text-center py-1 px-2 text-light rounded-top fw-bold",style:{"background-color":"navy"}},nt={class:"text-center py-1 px-2 fs-5 fw-bold"},it={class:"text-center py-1 px-2 fs-6 fw-bold"},dt={class:"py-3"},rt={class:"fs- font-semibold text-primary-800"},ct={class:"font-semibold fs-6"},mt={class:"border w-full py-4 px-4"},pt=e("h1",{class:"fs-5 fw-bold"},"Notified To:",-1),ut={class:"card px-3 py-2 d-flex mt-3",style:{"min-width":"250px","max-width":"220px",display:"flex"}},_t={class:"d-flex p-2 align-items-center"},vt=e("div",{class:"rounded-circle bg-blue-100 d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px"}},"DK",-1),ht={class:"flex-column px-3"},yt={class:"fs-6 fw-bold"},gt=e("h1",{class:"py-2 text-neutral-400"},"Lorem, ipsum.",-1),ft={class:"border w-full py-4 px-4"},bt=e("h1",{class:"fs-5 fw-bold"},"Approved by",-1),xt={class:"card px-3 py-2 d-flex mt-3",style:{"min-width":"180px","max-width":"250px",display:"flex"}},wt={class:"d-flex p-2 align-items-center"},Lt=e("div",{class:"rounded-circle bg-green-400 d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px"}},[e("i",{class:"pi pi-check text-light"})],-1),$t={class:"flex-column px-3"},Dt={class:"fs-6 fw-bold"},St={class:"py-2 text-neutral-400"},kt={class:"my-4 mx-3"},Ct={__name:"EmployeeLeaveDetails",setup(R){const n=I(),k=i(!0),$=i(),p=i(),D=S=>{$.value.toggle(S)},x=i({global:{value:null,matchMode:L.CONTAINS},employee_name:{value:null,matchMode:L.STARTS_WITH,matchMode:L.EQUALS,matchMode:L.CONTAINS},status:{value:null,matchMode:L.EQUALS}}),T=i(["Pending","Approved","Rejected"]);N(async()=>{console.log(p.v),await n.getEmployeeLeaveHistory(C().month()+1,C().year(),["Approved","Pending","Rejected"]),k.value=!1});function y(){n.canShowLeaveDetails=!1}return(S,h)=>{const b=v("Calendar"),M=v("Button"),w=v("Column"),E=v("OverlayPanel"),f=v("Dropdown"),t=v("DataTable"),u=v("Textarea"),l=v("Dialog");return c(),_(V,null,[a(Ue),e("div",Ne,[e("div",Ie,[e("div",Ye,[e("div",Oe,[Fe,e("div",He,[je,a(b,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:p.value,"onUpdate:modelValue":h[0]||(h[0]=d=>p.value=d),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),a(M,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:h[1]||(h[1]=d=>r(n).getEmployeeLeaveHistory(p.value.getMonth()+1,p.value.getFullYear(),T.value))})]),e("div",Qe,[a(t,{value:r(n).array_employeeLeaveHistory,loading:k.value,paginator:!0,rows:5,dataKey:"id",rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",filters:x.value,"onUpdate:filters":h[2]||(h[2]=d=>x.value=d),filterDisplay:"menu",globalFilterFields:["name","status"]},{empty:o(()=>[g(" No Employee data..... ")]),loading:o(()=>[g(" Loading customers data. Please wait. ")]),default:o(()=>[a(w,{field:"leave_type",header:"Leave Type",style:{"min-width":"8rem"}}),a(w,{field:"start_date",header:"Start Date",style:{"min-width":"8rem"}},{body:o(d=>[g(s(r(C)(d.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),a(w,{field:"end_date",header:"End Date",dataType:"date",style:{"min-width":"8rem"}},{body:o(d=>[g(s(r(C)(d.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),a(w,{field:"leave_reason",header:"Leave Reason",style:{"min-width":"12rem"}},{body:o(d=>[d.data.leave_reason&&d.data.leave_reason.length>70?(c(),_("div",Ke,[e("p",{onClick:D,class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),a(E,{ref_key:"overlayPanel",ref:$,style:{height:"80px"}},{default:o(()=>[g(s(d.data.leave_reason),1)]),_:2},1536)])):(c(),_("div",qe,s(d.data.leave_reason??""),1))]),_:1}),a(w,{field:"reviewer_name",header:"Approver Name"}),a(w,{field:"reviewer_comments",header:"Approver Comments"}),a(w,{field:"status",header:"Status",icon:"pi pi-check"},{body:o(({data:d})=>[e("span",{class:A("customer-badge status-"+d.status)},s(d.status),3)]),filter:o(({filterModel:d,filterCallback:Y})=>[a(f,{modelValue:d.value,"onUpdate:modelValue":P=>d.value=P,onChange:P=>Y(),options:T.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:o(P=>[P.value?(c(),_("span",{key:0,class:A("customer-badge status-"+P.value)},s(P.value),3)):(c(),_("span",We,s(P.placeholder),1))]),option:o(P=>[e("span",{class:A("customer-badge status-"+P.option)},s(P.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),a(w,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:o(d=>[a(M,{type:"button",icon:"pi pi-check-circle",class:"text-white Button py-2.5",label:"View",onClick:Y=>r(n).getLeaveDetails(d.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading","filters"])])])])])]),a(l,{header:"Header",visible:r(n).canShowLeaveDetails,"onUpdate:visible":h[3]||(h[3]=d=>r(n).canShowLeaveDetails=d),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw",borderTop:"5px solid #002f56"},modal:!0,closable:!0,closeOnEscape:!0},{header:o(()=>[e("div",ze,[e("h5",{style:H({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Leave Details Request",4)])]),default:o(()=>[e("div",Ge,[e("div",Je,[e("div",Xe,[Ze,e("div",et,[e("h1",tt,s(r(n).setLeaveDetails.name),1),e("div",null,[e("p",at,"Requested on "+s(r(n).setLeaveDetails.leaverequest_date),1)])])]),e("div",ot,[e("div",st,[e("h1",lt,s(r(C)(r(n).setLeaveDetails.end_date).format("MMM")),1),e("h1",nt,s(r(C)(r(n).setLeaveDetails.end_date).format("DD")),1),e("h1",it,s(r(C)(r(n).setLeaveDetails.end_date).format("dddd")),1)]),e("div",dt,[e("h1",rt,[g(s(r(n).setLeaveDetails.total_leave_datetime)+" Day of "+s(r(n).setLeaveDetails.leave_type)+" ",1),e("span",ct,"("+s(r(n).setLeaveDetails.leave_reason)+")",1)])])]),e("div",mt,[pt,e("div",ut,[e("div",_t,[vt,e("div",ht,[e("h1",yt,s(r(n).setLeaveDetails.reviewer_name),1),gt])])])]),e("div",ft,[bt,e("div",xt,[e("div",wt,[Lt,e("div",$t,[e("h1",Dt,s(r(n).setLeaveDetails.reviewer_name),1),e("h1",St," on "+s(r(n).setLeaveDetails.leaverequest_date),1)])])])]),e("div",kt,[a(u,{name:"",id:"",cols:"90",rows:"5",autoResize:"",placeholder:"Add Comment"})])])]),e("div",{class:"text-end mx-4 my-4"},[e("button",{class:"btn btn-orange px-5",onClick:y},"Post")])]),_:1},8,["visible"])],64)}}},Tt={class:"mt-3 row"},Pt={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Mt={class:"mb-0 card leave-history"},Vt={class:"card-body"},At=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Org Leave Balance",-1),Rt={class:"mt-3 row"},Et={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Bt={class:"mb-0 card leave-history"},Ut={class:"card-body"},Nt=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Org Leave history",-1),It=e("div",null,null,-1),Yt={key:0},Ot={key:1},Ft={key:1},Ht={key:0},jt={__name:"OrgLeaveDetails",setup(R){i();const n=i(),k=i(),$=i();i(),i(),i(!0);const p=i(),D=y=>{p.value.toggle(y)},x=i({global:{value:null,matchMode:L.CONTAINS},employee_name:{value:null,matchMode:L.STARTS_WITH,matchMode:L.EQUALS,matchMode:L.CONTAINS},status:{value:null,matchMode:L.EQUALS}}),T=i(["Pending","Approved","Rejected"]);return N(()=>{}),(y,S)=>{const h=v("InputText"),b=v("Column"),M=v("DataTable"),w=v("OverlayPanel"),E=v("Dropdown"),f=v("Button");return c(),_(V,null,[e("div",Tt,[e("div",Pt,[e("div",Mt,[e("div",Vt,[At,e("div",null,[a(M,{value:k.value,rows:5,rowsPerPageOptions:[5,10,25],paginator:!0,responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",filters:x.value,"onUpdate:filters":S[0]||(S[0]=t=>x.value=t),filterDisplay:"menu",globalFilterFields:["name","status"]},{default:o(()=>[a(b,{field:"employee_name",header:"Employee Name",style:{"min-width":"15rem"}},{body:o(t=>[g(s(t.data.employee_name),1)]),filter:o(({filterModel:t,filterCallback:u})=>[a(h,{modelValue:t.value,"onUpdate:modelValue":l=>t.value=l,onInput:l=>u(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),(c(!0),_(V,null,U(n.value,t=>(c(),F(b,{key:t.id,header:t,field:"array_leave_details"},{body:o(({data:u})=>[g(s(u.array_leave_details[t]),1)]),_:2},1032,["header"]))),128))]),_:1},8,["value","filters"])])])])])]),e("div",Rt,[e("div",Et,[e("div",Bt,[e("div",Ut,[Nt,e("div",null,[a(M,{value:$.value,paginator:!0,rows:5,dataKey:"id",rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",filters:x.value,"onUpdate:filters":S[1]||(S[1]=t=>x.value=t),filterDisplay:"menu",globalFilterFields:["name","status"]},{empty:o(()=>[g(" No Employee data..... ")]),loading:o(()=>[g(" Loading customers data. Please wait. ")]),default:o(()=>[a(b,{field:"employee_name",header:"Employee Name"},{body:o(t=>[It,g(" "+s(t.data.employee_name),1)]),filter:o(({filterModel:t,filterCallback:u})=>[a(h,{modelValue:t.value,"onUpdate:modelValue":l=>t.value=l,onInput:l=>u(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(b,{field:"leave_type",header:"Leave Type",style:{"min-width":"8rem"}}),a(b,{field:"start_date",header:"Start Date"},{body:o(t=>[g(s(r(O)(t.data.start_date).format("DD-MM-YYYY")),1)]),_:1}),a(b,{field:"end_date",header:"End Date",dataType:"date"},{body:o(t=>[g(s(r(O)(t.data.end_date).format("DD-MM-YYYY")),1)]),_:1}),a(b,{field:"leave_reason",header:"Leave Reason",style:{"min-width":"12rem"}},{body:o(t=>[t.data.leave_reason&&t.data.leave_reason.length>70?(c(),_("div",Yt,[e("p",{onClick:D,class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),a(w,{ref_key:"overlayPanel",ref:p,style:{height:"80px"}},{default:o(()=>[g(s(t.data.leave_reason),1)]),_:2},1536)])):(c(),_("div",Ot,s(t.data.leave_reason??""),1))]),_:1}),a(b,{field:"reviewer_name",header:"Approver Name"}),a(b,{field:"reviewer_comments",header:"Approver Comments"}),a(b,{field:"status",header:"Status",icon:"pi pi-check"},{body:o(({data:t})=>[e("span",{class:A("customer-badge status-"+t.status)},s(t.status),3)]),filter:o(({filterModel:t,filterCallback:u})=>[a(E,{modelValue:t.value,"onUpdate:modelValue":l=>t.value=l,onClick:l=>u(),options:T.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:o(l=>[l.value?(c(),_("span",{key:0,class:A("customer-badge status-"+l.value)},s(l.value),3)):(c(),_("span",Ft,s(l.placeholder),1))]),option:o(l=>[e("span",{class:A("customer-badge status-"+l.option)},s(l.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onClick","options"])]),_:1}),a(b,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:o(t=>[t.data.status=="Pending"?(c(),_("span",Ht,[a(f,{type:"button",icon:"pi pi-check-circle",class:"p-button-success text-white Button py-2.5",label:"Approve",onClick:u=>y.showConfirmDialog(t.data,"Approve"),style:{height:"2em"}},null,8,["onClick"]),a(f,{type:"button",icon:"pi pi-times-circle",class:"text-white p-button-danger Button",label:"Reject",style:{"margin-left":"8px",height:"2em"},onClick:u=>y.showConfirmDialog(t.data,"Reject")},null,8,["onClick"])])):j("",!0)]),_:1})]),_:1},8,["value","filters"])])])])])])],64)}}},Qt={class:"card top-line"},Kt={class:"card-body"},qt={class:"row"},Wt=e("div",{class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},[e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Team Leave Balance")],-1),zt={class:"mt-3 row"},Gt={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Jt={class:"mb-0 card leave-history"},Xt={class:"card-body"},Zt=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Team Leave history",-1),ea={class:"table-responsive"},ta={class:"d-flex justify-content-end"},aa=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),oa=e("div",{id:"team_leaveHistory",class:"custom_gridJs"},null,-1),sa={key:0},la={key:1},na={key:1},ia={__name:"TeamLeaveDetails",setup(R){const n=I();i();const k=i(),$=i();i(),i(),i(!0),i();const p=i(),D=i({employee_name:{value:null,matchMode:L.STARTS_WITH,matchMode:L.EQUALS,matchMode:L.CONTAINS},status:{value:null,matchMode:L.EQUALS}}),x=i(["Pending","Approved","Rejected"]);return N(async()=>{await n.getTeamLeaveHistory(C().month()+1,C().year(),["Approved","Pending","Rejected"])}),(T,y)=>{const S=v("InputText"),h=v("Column"),b=v("DataTable"),M=v("Calendar"),w=v("Button"),E=v("OverlayPanel"),f=v("Dropdown");return c(),_(V,null,[e("div",Qt,[e("div",Kt,[e("div",qt,[Wt,e("div",null,[a(b,{value:$.value,responsiveLayout:"scroll",paginator:!0,rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,filters:D.value,"onUpdate:filters":y[0]||(y[0]=t=>D.value=t),filterDisplay:"menu",globalFilterFields:["name"],style:{"white-space":"nowrap"}},{default:o(()=>[a(h,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:o(t=>[g(s(t.data.employee_name),1)]),filter:o(({filterModel:t,filterCallback:u})=>[a(S,{modelValue:t.value,"onUpdate:modelValue":l=>t.value=l,onInput:l=>u(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),(c(!0),_(V,null,U(k.value,t=>(c(),F(h,{header:t,key:t.id,field:"array_leave_details"},{body:o(({data:u})=>[g(s(u.array_leave_details[t]),1)]),_:2},1032,["header"]))),128))]),_:1},8,["value","filters"])])])])]),e("div",zt,[e("div",Gt,[e("div",Jt,[e("div",Xt,[Zt,e("div",ea,[e("div",ta,[aa,a(M,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:p.value,"onUpdate:modelValue":y[1]||(y[1]=t=>p.value=t),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),a(w,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:y[2]||(y[2]=t=>r(n).getTeamLeaveHistory(p.value.getMonth()+1,p.value.getFullYear(),x.value))})]),oa,a(b,{value:r(n).array_teamLeaveHistory,responsiveLayout:"scroll",paginator:!0,rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,filters:D.value,"onUpdate:filters":y[4]||(y[4]=t=>D.value=t),filterDisplay:"menu",globalFilterFields:["name"],style:{"white-space":"nowrap"}},{empty:o(()=>[g(" No Employee data..... ")]),default:o(()=>[a(h,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:o(t=>[g(s(t.data.employee_name),1)]),filter:o(({filterModel:t,filterCallback:u})=>[a(S,{modelValue:t.value,"onUpdate:modelValue":l=>t.value=l,onInput:l=>u(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(h,{field:"leave_type",header:"Leave Type"}),a(h,{field:"start_date",header:"Start Date"},{body:o(t=>[g(s(r(C)(t.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),a(h,{field:"end_date",header:"End Date"},{body:o(t=>[g(s(r(C)(t.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),a(h,{field:"leave_reason",header:"Leave Reason"},{body:o(t=>[t.data.leave_reason&&t.data.leave_reason.length>70?(c(),_("div",sa,[e("p",{onClick:y[3]||(y[3]=(...u)=>T.toggle&&T.toggle(...u)),class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),a(E,{ref:"overlayPanel",style:{height:"80px"}},{default:o(()=>[g(s(t.data.leave_reason),1)]),_:2},1536)])):(c(),_("div",la,s(t.data.leave_reason??""),1))]),_:1}),a(h,{field:"status",header:"Status"},{body:o(({data:t})=>[e("span",{class:A("customer-badge status-"+t.status)},s(t.status),3)]),filter:o(({filterModel:t,filterCallback:u})=>[a(f,{modelValue:t.value,"onUpdate:modelValue":l=>t.value=l,onChange:l=>u(),options:x.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:o(l=>[l.value?(c(),_("span",{key:0,class:A("customer-badge status-"+l.value)},s(l.value),3)):(c(),_("span",na,s(l.placeholder),1))]),option:o(l=>[e("span",{class:A("customer-badge status-"+l.option)},s(l.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1})]),_:1},8,["value","filters"])])])])])])],64)}}};const da={class:"Leave_dashboard mt-30"},ra=e("div",{class:"pt-1 pb-0 mb-3 tw-card left-line"},[e("div",{class:"flex justify-between"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[e("li",{class:"nav-item text-muted",role:"presentation"},[e("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#leave_balance","aria-selected":"true",role:"tab"}," Leave Balance")]),e("li",{class:"nav-item text-muted",role:"presentation"},[e("a",{class:"pb-2 mx-4 nav-link","data-bs-toggle":"tab",href:"#team_leaveBalance","aria-selected":"false",tabindex:"-1",role:"tab"}," Team Leave Balance")]),e("li",{class:"nav-item text-muted",role:"presentation"},[e("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#org_leave","aria-selected":"false",tabindex:"-1",role:"tab"}," Org Leave Balance")])]),e("div",{class:"flex items-center"},[e("div",{class:"mr-3"},[e("div",{class:"input-group me-2"},[e("label",{class:"input-group-text",for:"inputGroupSelect01"},[e("i",{class:"fa fa-calendar text-primary","aria-hidden":"true"})]),e("select",{class:"form-select btn-line-primary",id:"inputGroupSelect01"})])]),e("div",{class:""},[e("a",{href:"/attendance-leave-policydocument",id:"",class:"btn btn-orange",role:"button","aria-expanded":"false"}," Leave Policy Explanation ")])])])],-1),ca={class:"tab-content",id:"pills-tabContent"},ma={class:"tab-pane show fade active",id:"leave_balance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},pa={class:"tab-pane fade show",id:"team_leaveBalance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ua={class:"tab-pane show",id:"org_leave",role:"tabpanel","aria-labelledby":"pills-profile-tab"},_a=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),va={__name:"LeaveModule",setup(R){const n=I();return N(()=>{n.getEmployeeLeaveBalance()}),(k,$)=>{const p=v("ProgressSpinner"),D=v("Dialog");return c(),_(V,null,[e("div",da,[ra,e("div",ca,[e("div",ma,[a(Ct)]),e("div",pa,[a(ia)]),e("div",ua,[a(jt)])])]),a(D,{header:"Header",visible:r(n).canShowLoading,"onUpdate:visible":$[0]||($[0]=x=>r(n).canShowLoading=x),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:o(()=>[a(p,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:o(()=>[_a]),_:1},8,["visible"])],64)}}},m=Q(va),ha=le();m.use(K,{ripple:!0});m.use(q);m.use(W);m.use(me);m.use(ha);m.directive("tooltip",ne);m.directive("badge",ie);m.directive("ripple",z);m.directive("styleclass",de);m.directive("focustrap",G);m.component("Button",J);m.component("DataTable",re);m.component("Column",ce);m.component("ColumnGroup",ue);m.component("Row",pe);m.component("Toast",X);m.component("ConfirmDialog",Z);m.component("Dropdown",ee);m.component("InputText",te);m.component("Dialog",ae);m.component("ProgressSpinner",oe);m.component("Calendar",_e);m.component("Checkbox",ve);m.component("Chips",he);m.component("MultiSelect",ye);m.component("Textarea",ge);m.component("OverlayPanel",fe);m.mount("#LeaveModule");
