/* empty css              *//* empty css                     *//* empty css                   *//* empty css                 */import{Q as y,a7 as s,ab as B,g as f,o as c,c as x,d as n,h as a,w as l,l as h,n as C,aa as S,t as w,b as A,a as k,X as F,F as z,H as K,P as X,R as G,u as q,x as Z,I as ee,K as ae,M as te,J as oe}from"./inputnumber.esm-e362c3ab.js";import{d as le,c as ne}from"./pinia-641035e3.js";import{u as Q,a as se,T as ie,B as re,S as ce,b as de,s as pe}from"./toastservice.esm-8d63d505.js";import"./blockui.esm-da95937b.js";import{a as me}from"./datatable.esm-5f85e77a.js";import{D as ue,s as _e}from"./dialogservice.esm-acafdb8a.js";import{u as H,C as fe}from"./confirmationservice.esm-62abe3ae.js";import{s as ge}from"./progressspinner.esm-dd1a9f95.js";import{s as ve}from"./progressbar.esm-681333bb.js";import{s as he}from"./row.esm-6ebc942e.js";import{s as ye}from"./calendar.esm-871de032.js";import{s as be}from"./textarea.esm-36dc9b1f.js";import{s as we}from"./chips.esm-94e18b40.js";import{s as Se}from"./multiselect.esm-774f4ea4.js";import{d as J}from"./dayjs.min-2f06af28.js";import{p as xe}from"./ProfilePagesStore-775c8cd8.js";import{a as O}from"./index-362795f3.js";import{S as Y}from"./Service-4ef425c0.js";/* empty css                                                                       */import{L as Ce}from"./LoadingSpinner-235e9bb4.js";import"./_plugin-vue_export-helper-c27b6911.js";const P=le("manageEmployees",()=>{const M=y(),T=y(),m=y(),g=y(!0);async function $(){let d=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+d),await O.get(d).then(_=>{M.value=_.data})}async function D(){let d=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+d),await O.get(d).then(_=>{console.log("Axios : "+_.data),T.value=_.data})}async function L(){let d=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+d),await O.get(d).then(_=>{console.log("Axios : "+_.data),m.value=_.data})}return{array_active_employees:M,yet_to_active_employees_data:T,exit_employees_data:m,getActiveEmployees:$,ajax_yet_to_active_employees_data:D,ajax_exit_employees_data:L,canShowLoadingScreen:g}});const Te={class:"w-full"},Ae={class:"flex items-center justify-center"},ke=["src"],$e={class:"pl-2 font-semibold text-left fs-6"},Le=["onClick"],Ne=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),Ve={__name:"active_employees",setup(M){const T=Y(),m=P(),g=xe(),$=y(),D=y({global:{value:null,matchMode:s.CONTAINS},emp_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_code:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_designation:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},reporting_manager_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS}});B(async()=>{await m.getActiveEmployees(),m.canShowLoadingScreen=!1});async function L(d){console.log(d),$.value=d.data,g.user_code=d.enc_user_id,window.location.href="/pages-profile-new?uid="+d.enc_user_id}return(d,_)=>{const b=f("InputText"),u=f("Column"),N=f("ProgressBar"),R=f("DataTable");return c(),x("div",Te,[n("div",null,[a(R,{value:S(m).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:D.value,"onUpdate:filters":_[0]||(_[0]=e=>D.value=e),filterDisplay:"menu",loading:d.canShowLoadingScreen,globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{empty:l(()=>[h(" No customers found.")]),loading:l(()=>[h(" Loading customers data. Please wait. ")]),default:l(()=>[a(u,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem !important","text-align":"center:  !important"}},{body:l(e=>[n("div",Ae,[JSON.parse(e.data.emp_avatar).type=="shortname"?(c(),x("p",{key:0,class:C(["p-2 font-semibold text-white rounded-full w-11 fs-6",S(T).getBackgroundColor(e.index)])},w(JSON.parse(e.data.emp_avatar).data),3)):(c(),x("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(e.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ke)),n("p",$e,w(e.data.emp_name),1)])]),filter:l(({filterModel:e,filterCallback:r})=>[a(b,{modelValue:e.value,"onUpdate:modelValue":p=>e.value=p,onInput:p=>r(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(u,{field:"emp_code",header:"Employee Code",class:"",style:{}},{filter:l(({filterModel:e,filterCallback:r})=>[a(b,{modelValue:e.value,"onUpdate:modelValue":p=>e.value=p,onInput:p=>r(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(u,{field:"emp_designation",header:"Designation",class:""},{filter:l(({filterModel:e,filterCallback:r})=>[a(b,{modelValue:e.value,"onUpdate:modelValue":p=>e.value=p,onInput:p=>r(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(u,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:l(({filterModel:e,filterCallback:r})=>[a(b,{modelValue:e.value,"onUpdate:modelValue":p=>e.value=p,onInput:p=>r(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(u,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(e=>[h(w(S(J)(e.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(u,{field:"profile_completeness",header:"Profile Completeness"},{body:l(e=>[e.data.profile_completeness<=39?(c(),A(N,{key:0,value:e.data.profile_completeness,class:C([e.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):k("",!0),e.data.profile_completeness>=40&&e.data.profile_completeness<=59?(c(),A(N,{key:1,class:C(["progressbar_val2",[e.data.profile_completeness>=40&&e.data.profile_completeness<=59]]),value:e.data.profile_completeness},null,8,["class","value"])):k("",!0),e.data.profile_completeness>=60?(c(),A(N,{key:2,class:C(["progressbar_val3",[e.data.profile_completeness>=60]]),value:e.data.profile_completeness},null,8,["class","value"])):k("",!0)]),_:1}),a(u,{field:"enc_user_id",header:"View Profile"},{body:l(e=>[n("button",{onClick:r=>L(e.data),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[Ne,h("View")],8,Le)]),_:1})]),_:1},8,["value","filters","loading"])])])}}},De={class:"confirmation-content"},Ie=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Me={class:"flex items-center justify-center"},Re=["src"],Ue={class:"pl-2 font-semibold text-left fs-6"},Ee=["onClick"],Oe=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),Pe={key:0},je={key:1},Be={__name:"yet_to_active_employees",setup(M){const T=Y(),m=P();B(()=>{m.ajax_yet_to_active_employees_data()}),y();let g=y(!1);y(!1),H();const $=Q();function D(e){window.location.href="/pages-profile-new?uid="+e}const L=y({global:{value:null,matchMode:s.CONTAINS},emp_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},emp_code:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS}});y(["Pending","Approved","Rejected"]);let d=null,_=null;function b(e,r){e.emp_code,e.emp_status,console.log(P.emp_status),console.log(e.emp_status),g.value=!0,d=r,_=e,console.log("Selected Row Data : "+JSON.stringify(e))}function u(e){m.canShowLoadingScreen=!1,g.value=!1,e&&N()}function N(){d="",_=null}function R(){u(!1),m.canShowLoadingScreen=!0,console.log("Processing Rowdata : "+JSON.stringify(_)),O.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:_.emp_code,active_status:1}).then(e=>{console.log("Response : "+e),$.add({severity:"success",summary:"Activated",detail:`${_.emp_name} Activated Successfully`,life:3e3}),N()}).catch(e=>{m.canShowLoadingScreen=!1,N()}).finally(()=>{m.ajax_yet_to_active_employees_data(),m.getActiveEmployees(),m.canShowLoadingScreen=!1,g.value=!1})}return(e,r)=>{const p=f("Toast"),I=f("Button"),j=f("Dialog"),o=f("InputText"),v=f("Column"),V=f("ProgressBar"),W=f("DataTable");return c(),x("div",null,[a(p),a(j,{header:"Confirmation",visible:S(g),"onUpdate:visible":r[2]||(r[2]=t=>F(g)?g.value=t:g=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:l(()=>[a(I,{label:"Yes",icon:"pi pi-check",onClick:r[0]||(r[0]=t=>R()),class:"p-button-text",autofocus:""}),a(I,{label:"No",icon:"pi pi-times",onClick:r[1]||(r[1]=t=>u(!0)),class:"p-button-text"})]),default:l(()=>[n("div",De,[Ie,n("span",null,"Are you sure you want to "+w(S(d))+"?",1)])]),_:1},8,["visible"]),n("div",null,[a(W,{value:S(m).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:L.value,"onUpdate:filters":r[3]||(r[3]=t=>L.value=t),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:l(()=>[h(" No customers found. ")]),loading:l(()=>[h(" Loading customers data. Please wait. ")]),default:l(()=>[a(v,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:l(t=>[n("div",Me,[JSON.parse(t.data.emp_avatar).type=="shortname"?(c(),x("p",{key:0,class:C(["p-2 font-semibold text-white rounded-full w-11 fs-6",S(T).getBackgroundColor(t.index)])},w(JSON.parse(t.data.emp_avatar).data),3)):(c(),x("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(t.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Re)),n("p",Ue,w(t.data.emp_name),1)])]),filter:l(({filterModel:t,filterCallback:U})=>[a(o,{modelValue:t.value,"onUpdate:modelValue":E=>t.value=E,onInput:E=>U(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(v,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem !important"}},{body:l(t=>[h(w(t.data.emp_code),1)]),filter:l(({filterModel:t,filterCallback:U})=>[a(o,{modelValue:t.value,"onUpdate:modelValue":E=>t.value=E,onInput:E=>U(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(v,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),a(v,{field:"reporting_manager_name",header:"Reporting Manager"}),a(v,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(t=>[h(w(S(J)(t.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(v,{field:"profile_completeness",header:"Profile Completeness"},{body:l(t=>[t.data.profile_completeness<=39?(c(),A(V,{key:0,value:t.data.profile_completeness,class:C([t.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):k("",!0),t.data.profile_completeness>=40&&t.data.profile_completeness<=59?(c(),A(V,{key:1,class:C(["progressbar_val2",[t.data.profile_completeness>=40&&t.data.profile_completeness<=59]]),value:t.data.profile_completeness},null,8,["class","value"])):k("",!0),t.data.profile_completeness>=60?(c(),A(V,{key:2,class:C(["progressbar_val3",[t.data.profile_completeness>=60]]),value:t.data.profile_completeness},null,8,["class","value"])):k("",!0)]),_:1}),a(v,{field:"is_onboarded",header:"Onboarding Status"},{body:l(t=>[h(w(t.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),a(v,{field:"doc_status",header:"Docs Approval Status"},{body:l(t=>[h(w(t.data.is_onboarded&&t.data.doc_status?"Approved":"Pending"),1)]),_:1}),a(v,{field:"enc_user_id",header:"View Profile"},{body:l(t=>[n("button",{onClick:U=>D(t.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[Oe,h("View")],8,Ee)]),_:1}),a(v,{style:{width:"300px"},field:"",header:"Action"},{body:l(t=>[t.data.is_onboarded&&t.data.doc_status?(c(),x("div",Pe,[a(I,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:U=>b(t.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(c(),x("div",je))]),_:1})]),_:1},8,["value","filters"])])])}}},Je={class:"confirmation-content"},Ye=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Fe={class:"flex items-center justify-center"},Qe=["src"],He={class:"pl-2 font-semibold text-left fs-6"},We=["onClick"],ze=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),Ke={__name:"exit_employees",setup(M){const T=Y(),m=P();B(()=>{m.ajax_exit_employees_data()}),y();let g=y(!1),$=y(!1);H();const D=Q(),L=y({global:{value:null,matchMode:s.CONTAINS},employee_name:{value:null,matchMode:s.STARTS_WITH,matchMode:s.EQUALS,matchMode:s.CONTAINS},status:{value:null,matchMode:s.EQUALS},status:{value:null,matchMode:s.EQUALS}});function d(b){window.location.href="/pages-profile-new?uid="+b}function _(){hideConfirmDialog(!1),$.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),O.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(b=>{console.log("Response : "+b),$.value=!1,D.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(b=>{$.value=!1,resetVars()})}return(b,u)=>{const N=f("Toast"),R=f("Button"),e=f("Dialog"),r=f("InputText"),p=f("Column"),I=f("ProgressBar"),j=f("DataTable");return c(),x("div",null,[a(N),a(e,{header:"Confirmation",visible:S(g),"onUpdate:visible":u[2]||(u[2]=o=>F(g)?g.value=o:g=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:l(()=>[a(R,{label:"Yes",icon:"pi pi-check",onClick:u[0]||(u[0]=o=>_()),class:"p-button-text",autofocus:""}),a(R,{label:"No",icon:"pi pi-times",onClick:u[1]||(u[1]=o=>b.hideConfirmDialog(!0)),class:"p-button-text"})]),default:l(()=>[n("div",Je,[Ye,n("span",null,"Are you sure you want to "+w(b.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),n("div",null,[a(j,{value:S(m).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:L.value,"onUpdate:filters":u[3]||(u[3]=o=>L.value=o),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:l(()=>[h(" No customers found.")]),loading:l(()=>[h(" Loading customers data. Please wait. ")]),default:l(()=>[a(p,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:l(o=>[n("div",Fe,[JSON.parse(o.data.emp_avatar).type=="shortname"?(c(),x("p",{key:0,class:C(["p-2 font-semibold text-white rounded-full w-11 fs-6",S(T).getBackgroundColor(o.index)])},w(JSON.parse(o.data.emp_avatar).data),3)):(c(),x("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(o.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Qe)),n("p",He,w(o.data.emp_name),1)])]),filter:l(({filterModel:o,filterCallback:v})=>[a(r,{modelValue:o.value,"onUpdate:modelValue":V=>o.value=V,onInput:V=>v(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(p,{field:"emp_code",header:"Employee Code",style:{"min-width":"2rem"}},{filter:l(({filterModel:o,filterCallback:v})=>[a(r,{modelValue:o.value,"onUpdate:modelValue":V=>o.value=V,onInput:V=>v(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(p,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),a(p,{field:"reporting_manager_name",header:"Reporting Manager"}),a(p,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(o=>[h(w(S(J)(o.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(p,{field:"profile_completeness",header:"Profile Completeness"},{body:l(o=>[o.data.profile_completeness<=39?(c(),A(I,{key:0,value:o.data.profile_completeness,class:C([o.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):k("",!0),o.data.profile_completeness>=40&&o.data.profile_completeness<=59?(c(),A(I,{key:1,class:C(["progressbar_val2",[o.data.profile_completeness>=40&&o.data.profile_completeness<=59]]),value:o.data.profile_completeness},null,8,["class","value"])):k("",!0),o.data.profile_completeness>=60?(c(),A(I,{key:2,class:C(["progressbar_val3",[o.data.profile_completeness>=60]]),value:o.data.profile_completeness},null,8,["class","value"])):k("",!0)]),_:1}),a(p,{field:"enc_user_id",header:"View Profile"},{body:l(o=>[n("button",{onClick:v=>d(o.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[ze,h("View")],8,We)]),_:1})]),_:1},8,["value","filters"])])])}}};const Xe={class:""},Ge=n("div",{class:"mb-2 card left-line"},[n("div",{class:"pt-1 pb-0 card-body"},[n("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),n("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),qe={class:"card"},Ze={class:"card-body"},ea={class:"tab-content",id:"pills-tabContent"},aa={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ta={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},oa={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},la={__name:"ManageEmployee",setup(M){const T=P();return(m,g)=>(c(),x(z,null,[S(T).canShowLoadingScreen?(c(),A(Ce,{key:0,class:"absolute z-50 bg-white w-[100%] h-[100%]"})):k("",!0),n("div",Xe,[Ge,n("div",qe,[n("div",Ze,[n("div",ea,[n("div",aa,[a(Ve)]),n("div",ta,[a(Be)]),n("div",oa,[a(Ke)])])])])])],64))}},i=K(la),na=ne();i.use(X,{ripple:!0});i.use(fe);i.use(se);i.use(ue);i.use(na);i.directive("tooltip",ie);i.directive("badge",re);i.directive("ripple",G);i.directive("styleclass",ce);i.directive("focustrap",q);i.component("Button",Z);i.component("DataTable",me);i.component("Column",ee);i.component("ColumnGroup",_e);i.component("Row",he);i.component("Toast",de);i.component("ConfirmDialog",pe);i.component("Dropdown",ae);i.component("InputText",te);i.component("Dialog",oe);i.component("ProgressSpinner",ge);i.component("Calendar",ye);i.component("Textarea",be);i.component("Chips",we);i.component("MultiSelect",Se);i.component("ProgressBar",ve);i.mount("#vjs_manage_employee");
