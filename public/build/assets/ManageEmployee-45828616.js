import{G as y,X as r,H as B,g as d,o as R,c as V,h as e,w as t,a2 as b,a7 as E,d as n,j as g,t as x,ag as O,I as Q,P as H,J as W,R as G,u as z,v as K,N as X,K as q,M as Z,A as ee,L as te}from"./toastservice.esm-037e4fc0.js";import{d as oe,c as ae}from"./pinia-ebcadf7f.js";import{T as le,B as ne,S as se,b as ie,a as re}from"./styleclass.esm-7100130c.js";import"./blockui.esm-b1ef9ac4.js";import{D as de}from"./dialogservice.esm-8790d538.js";import{u as Y,C as ce}from"./confirmationservice.esm-23320926.js";import{s as pe}from"./progressspinner.esm-c757b227.js";import{s as ue}from"./progressbar.esm-6042247e.js";import{s as me}from"./row.esm-6ebc942e.js";import{s as _e}from"./columngroup.esm-9dd1458e.js";import{s as ve}from"./calendar.esm-89e9a2d9.js";import{s as fe}from"./textarea.esm-8d199d04.js";import{s as ge}from"./chips.esm-eaa25b3f.js";import{s as ye}from"./multiselect.esm-02197fcd.js";import{d as j}from"./dayjs.min-e0adaab4.js";import{p as he}from"./ProfilePagesStore-d225242b.js";import{a as N}from"./index-3716a3fc.js";import"./_commonjsHelpers-042e6b4d.js";import"./Service-2950c61a.js";const U=oe("manageEmployees",()=>{const k=y(),h=y(),_=y();async function c(){let v=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+v),await N.get(v).then(p=>{k.value=p.data})}async function D(){let v=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+v),await N.get(v).then(p=>{console.log("Axios : "+p.data),h.value=p.data})}async function T(){let v=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+v),await N.get(v).then(p=>{console.log("Axios : "+p.data),_.value=p.data})}return{array_active_employees:k,yet_to_active_employees_data:h,exit_employees_data:_,getActiveEmployees:c,ajax_yet_to_active_employees_data:D,ajax_exit_employees_data:T}});const be=n("h5",{style:{"text-align":"center"}},"Please wait...",-1),we={__name:"active_employees",setup(k){const h=U(),_=he();let c=y(!0);const D=y(),T=y({global:{value:null,matchMode:r.CONTAINS},emp_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},emp_code:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS}});B(async()=>{await h.getActiveEmployees(),c.value=!1});async function v(p){console.log(p),D.value=p.data,_.user_code=p.enc_user_id,window.location.href="/pages-profile-new?uid="+p.enc_user_id}return(p,m)=>{const w=d("ProgressSpinner"),L=d("Dialog"),C=d("InputText"),S=d("Column"),u=d("ProgressBar"),s=d("Button"),$=d("DataTable");return R(),V("div",null,[e(L,{header:"Header",visible:b(c),"onUpdate:visible":m[0]||(m[0]=i=>E(c)?c.value=i:c=i),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(w,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[be]),_:1},8,["visible"]),n("div",null,[e($,{value:b(h).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:T.value,"onUpdate:filters":m[1]||(m[1]=i=>T.value=i),filterDisplay:"menu",loading:b(c),globalFilterFields:["emp_name","emp_code","status"]},{empty:t(()=>[g(" No customers found.")]),loading:t(()=>[g(" Loading customers data. Please wait. ")]),default:t(()=>[e(S,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:t(i=>[g(x(i.data.emp_name),1)]),filter:t(({filterModel:i,filterCallback:a})=>[e(C,{modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,onInput:f=>a(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(S,{field:"emp_code",header:"Employee Code"},{filter:t(({filterModel:i,filterCallback:a})=>[e(C,{modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,onInput:f=>a(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(S,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(S,{field:"l1_manager_name",header:"Reporting Manager"}),e(S,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:t(i=>[g(x(b(j)(i.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(S,{field:"blood_group_name",header:"Blood Group"}),e(S,{field:"profile_completeness",header:"Profile Completeness"},{body:t(i=>[e(u,{value:i.data.profile_completeness},null,8,["value"])]),_:1}),e(S,{field:"enc_user_id",header:"View Profile"},{body:t(i=>[e(s,{icon:"pi pi-eye",severity:"success",label:"View",onClick:a=>v(i.data),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const Se=n("h5",{style:{"text-align":"center"}},"Please wait...",-1),Pe={class:"confirmation-content"},xe=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Ce={key:0},Te={key:1},Ae={__name:"yet_to_active_employees",setup(k){const h=U();B(()=>{h.ajax_yet_to_active_employees_data()}),y();let _=y(!1),c=y(!1);Y();const D=O();function T(u){window.location.href="/pages-profile-new?uid="+u}const v=y({global:{value:null,matchMode:r.CONTAINS},emp_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},emp_code:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS}});y(["Pending","Approved","Rejected"]);let p=null,m=null;function w(u,s){u.emp_code,u.emp_status,console.log(U.emp_status),console.log(u.emp_status),_.value=!0,p=s,m=u,console.log("Selected Row Data : "+JSON.stringify(u))}function L(u){_.value=!1,u&&C()}function C(){p="",m=null}function S(){L(!1),c.value=!0,console.log("Processing Rowdata : "+JSON.stringify(m)),N.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:m.emp_code,active_status:1}).then(u=>{console.log("Response : "+u),D.add({severity:"success",summary:"Activated",detail:`${m.emp_name} Activated Successfully`,life:3e3}),C()}).catch(u=>{c.value=!1,C()}).finally(()=>{h.ajax_yet_to_active_employees_data(),h.getActiveEmployees(),c.value=!1})}return(u,s)=>{const $=d("Toast"),i=d("ProgressSpinner"),a=d("Dialog"),f=d("Button"),A=d("InputText"),P=d("Column"),F=d("ProgressBar"),J=d("DataTable");return R(),V("div",null,[e($),e(a,{header:"Header",visible:b(c),"onUpdate:visible":s[0]||(s[0]=o=>E(c)?c.value=o:c=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(i,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[Se]),_:1},8,["visible"]),e(a,{header:"Confirmation",visible:b(_),"onUpdate:visible":s[3]||(s[3]=o=>E(_)?_.value=o:_=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:t(()=>[e(f,{label:"Yes",icon:"pi pi-check",onClick:s[1]||(s[1]=o=>S()),class:"p-button-text",autofocus:""}),e(f,{label:"No",icon:"pi pi-times",onClick:s[2]||(s[2]=o=>L(!0)),class:"p-button-text"})]),default:t(()=>[n("div",Pe,[xe,n("span",null,"Are you sure you want to "+x(b(p))+"?",1)])]),_:1},8,["visible"]),n("div",null,[e(J,{value:b(h).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:v.value,"onUpdate:filters":s[4]||(s[4]=o=>v.value=o),filterDisplay:"menu",loading:u.loading2,globalFilterFields:["emp_name","emp_code","status"]},{empty:t(()=>[g(" No customers found. ")]),loading:t(()=>[g(" Loading customers data. Please wait. ")]),default:t(()=>[e(P,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:t(o=>[g(x(o.data.emp_name),1)]),filter:t(({filterModel:o,filterCallback:M})=>[e(A,{modelValue:o.value,"onUpdate:modelValue":I=>o.value=I,onInput:I=>M(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(P,{field:"emp_code",header:"Employee Code"},{body:t(o=>[g(x(o.data.emp_code),1)]),filter:t(({filterModel:o,filterCallback:M})=>[e(A,{modelValue:o.value,"onUpdate:modelValue":I=>o.value=I,onInput:I=>M(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(P,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(P,{field:"reporting_manager_name",header:"Reporting Manager"}),e(P,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:t(o=>[g(x(b(j)(o.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(P,{field:"blood_group_name",header:"Blood Group"}),e(P,{field:"profile_completeness",header:"Profile Completeness"},{body:t(o=>[e(F,{value:o.data.profile_completeness},null,8,["value"])]),_:1}),e(P,{field:"is_onboarded",header:"Onboarding Status"},{body:t(o=>[g(x(o.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),e(P,{field:"doc_status",header:"Docs Approval Status"},{body:t(o=>[g(x(o.data.is_onboarded&&o.data.doc_status?"Approved":"Pending"),1)]),_:1}),e(P,{field:"enc_user_id",header:"View Profile"},{body:t(o=>[e(f,{icon:"pi pi-eye",severity:"success",label:"View",onClick:M=>T(o.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1}),e(P,{style:{width:"300px"},field:"",header:"Action"},{body:t(o=>[o.data.is_onboarded&&o.data.doc_status?(R(),V("div",Ce,[e(f,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:M=>w(o.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(R(),V("div",Te))]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const De={class:"confirmation-content"},ke=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Le={__name:"exit_employees",setup(k){const h=U();B(()=>{h.ajax_exit_employees_data()}),y();let _=y(!1),c=y(!1);Y();const D=O(),T=y({global:{value:null,matchMode:r.CONTAINS},employee_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS},status:{value:null,matchMode:r.EQUALS}});function v(m){window.location.href="/pages-profile-new?uid="+m}function p(){hideConfirmDialog(!1),c.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),N.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(m=>{console.log("Response : "+m),c.value=!1,D.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(m=>{c.value=!1,resetVars()})}return(m,w)=>{const L=d("Toast"),C=d("Button"),S=d("Dialog"),u=d("InputText"),s=d("Column"),$=d("ProgressBar"),i=d("DataTable");return R(),V("div",null,[e(L),e(S,{header:"Confirmation",visible:b(_),"onUpdate:visible":w[2]||(w[2]=a=>E(_)?_.value=a:_=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:t(()=>[e(C,{label:"Yes",icon:"pi pi-check",onClick:w[0]||(w[0]=a=>p()),class:"p-button-text",autofocus:""}),e(C,{label:"No",icon:"pi pi-times",onClick:w[1]||(w[1]=a=>m.hideConfirmDialog(!0)),class:"p-button-text"})]),default:t(()=>[n("div",De,[ke,n("span",null,"Are you sure you want to "+x(m.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),n("div",null,[e(i,{value:b(h).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:T.value,"onUpdate:filters":w[3]||(w[3]=a=>T.value=a),filterDisplay:"menu",loading:b(c),globalFilterFields:["emp_name","emp_code","status"]},{empty:t(()=>[g(" No customers found.")]),loading:t(()=>[g(" Loading customers data. Please wait. ")]),default:t(()=>[e(s,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:t(a=>[g(x(a.data.emp_name),1)]),filter:t(({filterModel:a,filterCallback:f})=>[e(u,{modelValue:a.value,"onUpdate:modelValue":A=>a.value=A,onInput:A=>f(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(s,{field:"emp_code",header:"Employee Code"},{filter:t(({filterModel:a,filterCallback:f})=>[e(u,{modelValue:a.value,"onUpdate:modelValue":A=>a.value=A,onInput:A=>f(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(s,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(s,{field:"l1_manager_name",header:"Reporting Manager"}),e(s,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:t(a=>[g(x(b(j)(a.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(s,{field:"blood_group_name",header:"Blood Group"}),e(s,{field:"profile_completeness",header:"Profile Completeness"},{body:t(a=>[e($,{value:a.data.profile_completeness},null,8,["value"])]),_:1}),e(s,{field:"enc_user_id",header:"View Profile"},{body:t(a=>[e(C,{icon:"pi pi-eye",severity:"success",label:"View",onClick:f=>v(a.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const Re={class:"manage_employee-wrapper mt-30"},Ve=n("div",{class:"mb-2 card left-line"},[n("div",{class:"pt-1 pb-0 card-body"},[n("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),n("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),$e={class:"card"},Me={class:"card-body"},Ie={class:"tab-content",id:"pills-tabContent"},Ne={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ee={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ue={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Be={__name:"ManageEmployee",setup(k){return(h,_)=>(R(),V("div",Re,[Ve,n("div",$e,[n("div",Me,[n("div",Ie,[n("div",Ne,[e(we)]),n("div",Ee,[e(Ae)]),n("div",Ue,[e(Le)])])])])]))}},l=Q(Be),je=ae();l.use(H,{ripple:!0});l.use(ce);l.use(W);l.use(de);l.use(je);l.directive("tooltip",le);l.directive("badge",ne);l.directive("ripple",G);l.directive("styleclass",se);l.directive("focustrap",z);l.component("Button",K);l.component("DataTable",ie);l.component("Column",re);l.component("ColumnGroup",_e);l.component("Row",me);l.component("Toast",X);l.component("ConfirmDialog",q);l.component("Dropdown",Z);l.component("InputText",ee);l.component("Dialog",te);l.component("ProgressSpinner",pe);l.component("Calendar",ve);l.component("Textarea",fe);l.component("Chips",ge);l.component("MultiSelect",ye);l.component("ProgressBar",ue);l.mount("#vjs_manage_employee");
