import{d as A}from"./pinia-481183e8.js";import{a as l}from"./index-362795f3.js";import"./dayjs.min-2f06af28.js";import{S as I}from"./Service-fc776dae.js";import{H as t}from"./toastservice.esm-daaadd68.js";const j=A("useLeaveModuleStore",()=>{I();const c=t(!1),v=t(),d=t(),u=t(),y=t(),m=t(),g=t(),_=t(),p=t(),s=t(),f=t(),h=t(),L=t(!1),i=t({}),w=e=>{L.value=!0,console.log(e),i.value={...e},i.emp_name=e.name};async function H(){c.value=!0;let e="/get-employee-leave-balance";await l.get(e).then(a=>{console.log(a.data),v.value=a.data,d.value=a.data["Avalied Leaves"]}).finally(()=>{c.value=!1})}async function E(e,a,o){let r=0;await l.get(window.location.origin+"/currentUserCode ").then(n=>{r=n.data}),await l.post("/attendance/getEmployeeLeaveDetails",{user_code:r,filter_month:e,filter_year:a,filter_leave_status:o}).then(n=>{u.value=n.data.data,console.log("getEmployeeLeaveHistory() : "+n.data)})}async function S(e,a,o){let r=0;await l.get(window.location.origin+"/currentUserCode ").then(n=>{r=n.data}),l.post("/attendance/getTeamEmployeesLeaveDetails",{manager_code:r,filter_month:e,filter_year:a,filter_leave_status:o}).then(n=>{y.value=n.data.data,console.log("getTeamLeaveHistory() : "+n.data)})}async function B(e,a,o){l.post("/attendance/getAllEmployeesLeaveDetails",{filter_month:e,filter_year:a,filter_leave_status:o}).then(r=>{m.value=r.data.data,console.log("getOrgLeaveHistory() : "+r.data.data)})}async function D(e){l.post("/attendance/getLeaveInformation",{record_id:e}).then(a=>{h.value=a.data.data,console.log("getLeaveInformation() : "+a.data)})}async function T(e,a){s.value=!0,await l.post("/fetch-org-leaves-balance",{start_date:e,end_date:a}).then(o=>{g.value=o.data}).finally(()=>{s.value=!1})}async function b(e,a){s.value=!0,console.log(e,a),l.post("/fetch-team-leave-balance",{start_date:e,end_date:a}).then(o=>{f.value=o.data}).finally(()=>{s.value=!1})}return{canShowLoading:c,canShowLeaveDetails:L,setLeaveDetails:i,getLeaveDetails:w,array_employeeLeaveHistory:u,array_teamLeaveHistory:y,array_orgLeaveHistory:m,array_employeeLeaveBalance:v,array_employeeAvailedLeaveBalance:d,array_orgLeaveBalance:g,selectedStartDate:_,selectedEndDate:p,canshowloadingsrceen:s,arrayTermLeaveBalance:f,getEmployeeLeaveHistory:E,getTeamLeaveHistory:S,getAllEmployeesLeaveHistory:B,getLeaveInformation:D,getEmployeeLeaveBalance:H,getOrgLeaveBalance:T,getTermLeaveBalance:b}});export{j as u};
