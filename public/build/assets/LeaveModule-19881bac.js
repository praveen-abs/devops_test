import{o as h,c as g,d as e,h as t,F as P,f as O,t as i,H as a,G as u,aa as L,ah as B,g as _,w as s,l as f,n as A,q as F,a as N,az as j,I,P as H,J as q,R as Q,u as W,v as z,N as G,K,M as J,A as X,L as Z}from"./toastservice.esm-b6cf114f.js";import{c as ee}from"./pinia-1e83fe90.js";import{T as te,B as ae,S as oe,b as le,a as se}from"./styleclass.esm-04f8718d.js";import"./blockui.esm-5ec0c8d8.js";import{D as ne}from"./dialogservice.esm-3e77e0e2.js";import{C as de}from"./confirmationservice.esm-080a66d2.js";import{s as ie}from"./progressspinner.esm-9b11e3fc.js";import{s as re}from"./row.esm-6ebc942e.js";import{s as ce}from"./columngroup.esm-9dd1458e.js";import{s as pe}from"./calendar.esm-fe82f53b.js";import{s as me}from"./checkbox.esm-fcbcfb7e.js";import{s as ue}from"./chips.esm-50b5b14b.js";import{s as _e}from"./multiselect.esm-1b1f62ba.js";import{s as ve}from"./textarea.esm-38ec3f3d.js";import{s as he}from"./overlaypanel.esm-f14d960a.js";import{S as ge}from"./Service-2b61fbb3.js";import"./moment-fbc5633a.js";import{u as E,_ as ye}from"./leave_apply_v2-c86c71fd.js";import{_ as fe}from"./LeaveApply-082ec7e8.js";import{d as y}from"./dayjs.min-2f06af28.js";import"./index-362795f3.js";import"./leave_apply_service-d1677d1b.js";import"./index.esm-6607bba2.js";const be={class:"mb-3 tw-card"},xe={class:"mb-2 row"},we=e("div",{class:"col-sm-6 col-xl-6 col-md-6 col-lg-6"},[e("h6",{class:"text-lg font-semibold text-gray-900 modal-title"},"Leave Balance")],-1),De={class:"col-6 justify-content-end d-flex"},Le={class:"grid gap-4 md:grid-cols-3 sm:grid-cols-1 xxl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-4",style:{display:"grid"}},$e={class:"text-lg font-semibold text-center"},Se={class:"my-3 text-xl font-bold text-center"},Ce={key:0},Re={key:1},ke={class:"tw-card"},Te=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Leave Availed",-1),Ae={class:"grid gap-4 md:grid-cols-3 sm:grid-cols-1 xxl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-4",style:{display:"grid"}},Me={class:"text-center"},Pe={class:"mb-2 text-base font-semibold"},Ve={class:"mb-0 text-base font-semibold"},Ye={__name:"EmployeeLeaveBalance",setup(U){const o=E();return(x,w)=>(h(),g(P,null,[e("div",be,[e("div",xe,[we,e("div",De,[t(fe)])]),e("div",Le,[(h(!0),g(P,null,O(a(o).array_employeeLeaveBalance,v=>(h(),g("div",{key:v,class:"p-1 my-4 rounded-lg shadow-md tw-card dynamic-card hover:bg-slate-100"},[e("p",$e,i(v.leave_type),1),e("p",Se,[v.leave_balance==""?(h(),g("span",Ce,"0")):(h(),g("span",Re,i(v.leave_balance),1))])]))),128))])]),e("div",ke,[Te,e("div",Ae,[(h(!0),g(P,null,O(a(o).array_employeeLeaveBalance,v=>(h(),g("div",{class:"bg-indigo-100 border-l-4 border-indigo-300 tw-card",key:v},[e("div",Me,[e("p",Pe,i(v.leave_type),1),e("h6",Ve,i(v.avalied_leaves),1)])]))),128))])])],64))}},Ee={class:"mt-3 row"},Ue={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Be={class:"mb-0 card leave-history"},Oe={class:"card-body"},Ne=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"}," Leave history ",-1),Fe={class:"d-flex justify-content-end mb-2"},je=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),Ie={class:"table-responsive"},He={key:0},qe={key:1},Qe={key:1},We={class:"w-full"},ze={class:"w-full"},Ge={class:"border w-full mt-5"},Ke={class:"p-3 pl-5 d-flex align-items-center border"},Je={class:"rounded-circle shadow-sm d-flex justify-content-center align-items-center bg-yellow-100",style:{width:"80px",height:"80px"}},Xe={class:"fs-5 fw-bold"},Ze={class:"ml-5"},et={class:"fs-5 fw-bold mb-2"},tt={class:"fs-6 text-neutral-400"},at={class:"border w-full d-flex py-4 px-4"},ot={class:"mx-2 p-1 rounded-lg"},lt={class:"text-center py-1 px-2 text-light rounded-top fw-bold",style:{"background-color":"navy"}},st={class:"text-center py-1 px-2 fs-5 fw-bold"},nt={class:"text-center py-1 px-2 fs-6 fw-bold"},dt={class:"py-3"},it={class:"fs- font-semibold text-primary-800"},rt={class:"font-semibold fs-6"},ct={class:"border w-full py-4 px-4"},pt=e("h1",{class:"fs-5 fw-bold"},"Notified To:",-1),mt={class:"card px-3 py-2 d-flex mt-3",style:{"min-width":"250px","max-width":"300px",display:"flex"}},ut={class:"d-flex p-2 align-items-center"},_t={class:"rounded-circle bg-blue-100 d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px"}},vt={class:"flex-column px-3"},ht={class:"fs-6 fw-bold"},gt={class:"py-2 text-neutral-400"},yt={class:"border w-full py-4 px-4"},ft=e("h1",{class:"fs-5 fw-bold"},"Approved by",-1),bt={class:"card px-3 py-2 d-flex mt-3",style:{"min-width":"180px","max-width":"300px",display:"flex"}},xt={class:"d-flex p-2 align-items-center"},wt=e("div",{class:"rounded-circle bg-green-400 d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px"}},[e("i",{class:"pi pi-check text-light"})],-1),Dt={class:"flex-column px-3"},Lt={class:"fs-6 fw-bold"},$t={class:"py-2 text-neutral-400"},St={class:"my-4 mx-3"},Ct={__name:"EmployeeLeaveDetails",setup(U){const o=E(),x=u(!0),w=u(),v=u(),D=R=>{w.value.toggle(R)},C=u({global:{value:null,matchMode:L.CONTAINS},employee_name:{value:null,matchMode:L.STARTS_WITH,matchMode:L.EQUALS,matchMode:L.CONTAINS},status:{value:null,matchMode:L.EQUALS}}),m=u(["Pending","Approved","Rejected"]);B(async()=>{console.log(v.v),await o.getEmployeeLeaveHistory(y().month()+1,y().year(),["Approved","Pending","Rejected"]),x.value=!1});function n(){o.canShowLeaveDetails=!1}return(R,d)=>{const T=_("Calendar"),M=_("Button"),$=_("Column"),V=_("OverlayPanel"),Y=_("Dropdown"),r=_("DataTable"),S=_("Textarea"),l=_("Dialog");return h(),g(P,null,[t(Ye),e("div",Ee,[e("div",Ue,[e("div",Be,[e("div",Oe,[Ne,e("div",Fe,[je,t(T,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=c=>v.value=c),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),t(M,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:d[1]||(d[1]=c=>a(o).getEmployeeLeaveHistory(v.value.getMonth()+1,v.value.getFullYear(),m.value))})]),e("div",Ie,[t(r,{value:a(o).array_employeeLeaveHistory,loading:x.value,paginator:!0,rows:5,dataKey:"id",rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",filters:C.value,"onUpdate:filters":d[2]||(d[2]=c=>C.value=c),filterDisplay:"menu",globalFilterFields:["name","status"]},{empty:s(()=>[f(" No Employee data..... ")]),loading:s(()=>[f(" Loading customers data. Please wait. ")]),default:s(()=>[t($,{field:"leave_type",header:"Leave Type",style:{"min-width":"8rem"}}),t($,{field:"start_date",header:"Start Date",style:{"min-width":"8rem"}},{body:s(c=>[f(i(a(y)(c.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),t($,{field:"end_date",header:"End Date",dataType:"date",style:{"min-width":"8rem"}},{body:s(c=>[f(i(a(y)(c.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),t($,{field:"leave_reason",header:"Leave Reason",style:{"min-width":"12rem"}},{body:s(c=>[c.data.leave_reason&&c.data.leave_reason.length>70?(h(),g("div",He,[e("p",{onClick:D,class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),t(V,{ref_key:"overlayPanel",ref:w,style:{height:"80px"}},{default:s(()=>[f(i(c.data.leave_reason),1)]),_:2},1536)])):(h(),g("div",qe,i(c.data.leave_reason??""),1))]),_:1}),t($,{field:"reviewer_name",header:"Approver Name"}),t($,{field:"reviewer_comments",header:"Approver Comments"}),t($,{field:"status",header:"Status",icon:"pi pi-check"},{body:s(({data:c})=>[e("span",{class:A("customer-badge status-"+c.status)},i(c.status),3)]),filter:s(({filterModel:c,filterCallback:b})=>[t(Y,{modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,onChange:k=>b(),options:m.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:s(k=>[k.value?(h(),g("span",{key:0,class:A("customer-badge status-"+k.value)},i(k.value),3)):(h(),g("span",Qe,i(k.placeholder),1))]),option:s(k=>[e("span",{class:A("customer-badge status-"+k.option)},i(k.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),t($,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:s(c=>[t(M,{type:"button",icon:"",class:"text-white Button py-2.5",label:"View",onClick:b=>a(o).getLeaveDetails(c.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading","filters"])])])])])]),t(l,{header:"Header",visible:a(o).canShowLeaveDetails,"onUpdate:visible":d[3]||(d[3]=c=>a(o).canShowLeaveDetails=c),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw",borderTop:"5px solid #002f56"},modal:!0,closable:!0,closeOnEscape:!0},{header:s(()=>[e("div",We,[e("h5",{style:F({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Leave Details Request",4)])]),default:s(()=>[e("div",ze,[e("div",Ge,[e("div",Ke,[e("div",Je,[e("h1",Xe,i(a(o).setLeaveDetails.user_short_name),1)]),e("div",Ze,[e("h1",et,i(a(o).setLeaveDetails.name),1),e("div",null,[e("p",tt,"Requested on "+i(a(o).setLeaveDetails.leaverequest_date),1)])])]),e("div",at,[e("div",ot,[e("h1",lt,i(a(y)(a(o).setLeaveDetails.end_date).format("MMM")),1),e("h1",st,i(a(y)(a(o).setLeaveDetails.end_date).format("DD")),1),e("h1",nt,i(a(y)(a(o).setLeaveDetails.end_date).format("dddd")),1)]),e("div",dt,[e("h1",it,[f(i(a(o).setLeaveDetails.total_leave_datetime)+" Day of "+i(a(o).setLeaveDetails.leave_type)+" ",1),e("span",rt,"("+i(a(o).setLeaveDetails.leave_reason)+")",1)])])]),e("div",ct,[pt,e("div",mt,[e("div",ut,[e("div",_t,i(a(o).setLeaveDetails.reviewer_short_name),1),e("div",vt,[e("h1",ht,i(a(o).setLeaveDetails.reviewer_name),1),e("h1",gt,i(a(o).setLeaveDetails.reviewer_designation),1)])])])]),e("div",yt,[ft,e("div",bt,[e("div",xt,[wt,e("div",Dt,[e("h1",Lt,i(a(o).setLeaveDetails.reviewer_name),1),e("h1",$t," on "+i(a(y)(a(o).setLeaveDetails.leaverequest_date).format("DD-MMM-YYYY hh:mm:ss A")),1)])])])]),e("div",St,[t(S,{name:"",id:"",cols:"90",rows:"5",autoResize:"",placeholder:"Add Comment"})])])]),e("div",{class:"text-end mx-4 my-4"},[e("button",{class:"btn btn-orange px-5",onClick:n},"Post")])]),_:1},8,["visible"])],64)}}},Rt={class:"card top-line"},kt={class:"card-body"},Tt={class:"row"},At={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12 d-flex justify-content-between align-content-center"},Mt=e("h6",{class:"h-7 mt-3 text-lg font-semibold text-gray-900 modal-title"},"Org Leave Balance",-1),Pt={class:"my-2 d-flex justify-content-between align-items-center"},Vt=e("div",null,null,-1),Yt={class:"d-flex"},Et={class:""},Ut=e("label",{for:" ",class:"text-blue-900 mx-2"},"Start Date",-1),Bt={class:""},Ot=e("label",{for:" ",class:"text-blue-900 mx-2"},"End Date",-1),Nt=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Ft={class:"mt-3 row"},jt={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},It={class:"mb-0 card leave-history"},Ht={class:"card-body"},qt=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Org Leave history",-1),Qt={class:"table-responsive"},Wt={class:"d-flex justify-content-end"},zt=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),Gt={key:0},Kt={key:1},Jt={key:1},Xt={__name:"OrgLeaveDetails",setup(U){const o=E();u(),u(),u(!0);const x=u(),w=u([]),v=u();u();const D=u({employee_name:{value:null,matchMode:L.STARTS_WITH,matchMode:L.EQUALS,matchMode:L.CONTAINS},status:{value:null,matchMode:L.EQUALS}}),C=u(["Pending","Approved","Rejected"]);return B(async()=>{await o.getOrgLeaveBalance(),await o.getAllEmployeesLeaveHistory(y().month()+1,y().year(),["Approved","Pending","Rejected"]),console.log("Org Leave details : "+o.array_orgLeaveHistory)}),(m,n)=>{const R=_("Calendar"),d=_("Column"),T=_("DataTable"),M=_("ProgressSpinner"),$=_("Dialog"),V=_("Button"),Y=_("InputText"),r=_("OverlayPanel"),S=_("Dropdown");return h(),g(P,null,[e("div",Rt,[e("div",kt,[e("div",Tt,[e("div",At,[Mt,e("div",Pt,[Vt,e("div",Yt,[e("div",Et,[Ut,t(R,{modelValue:a(o).selectedStartDate,"onUpdate:modelValue":n[0]||(n[0]=l=>a(o).selectedStartDate=l),dateFormat:"dd-mm-yy",class:"p-l3",style:{border:"1px solid orange","border-radius":"7px",height:"38px",width:"100px"},maxDate:new Date},null,8,["modelValue","maxDate"])]),e("div",Bt,[Ot,t(R,{class:"mr-3",modelValue:a(o).selectedEndDate,"onUpdate:modelValue":n[1]||(n[1]=l=>a(o).selectedEndDate=l),dateFormat:"dd-mm-yy",style:{border:"1px solid orange","border-radius":"7px",height:"38px",width:"100px"},maxDate:new Date},null,8,["modelValue","maxDate"])]),e("button",{class:"btn-orange py-1 px-4 rounded",onClick:n[2]||(n[2]=l=>a(o).getOrgLeaveBalance(a(y)(a(o).selectedStartDate).format("YYYY-MM-DD"),a(y)(a(o).selectedEndDate).format("YYYY-MM-DD")))},"submit")])])]),e("div",null,[t(T,{value:a(o).array_orgLeaveBalance,paginator:!0,rows:10,class:"",dataKey:"user_code",onRowExpand:m.onRowExpand,onRowCollapse:m.onRowCollapse,expandedRows:w.value,"onUpdate:expandedRows":n[4]||(n[4]=l=>w.value=l),selection:v.value,"onUpdate:selection":n[5]||(n[5]=l=>v.value=l),selectAll:m.selectAll,onSelectAllChange:m.onSelectAllChange,onRowSelect:m.onRowSelect,onRowUnselect:m.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{expansion:s(l=>[e("div",null,[t(T,{value:l.data.leave_balance_details,responsiveLayout:"scroll",selection:v.value,"onUpdate:selection":n[3]||(n[3]=c=>v.value=c),selectAll:m.selectAll,onSelectAllChange:m.onSelectAllChange},{default:s(()=>[t(d,{field:"leave_type",header:"Leave Type"},{default:s(()=>[f(i(l.data.leave_type),1)]),_:2},1024),t(d,{field:"opening_balance",header:"Opening Balance"}),t(d,{field:"avalied",header:"Avalied"}),t(d,{field:"closing_balance",header:"Closing Balance"})]),_:2},1032,["value","selection","selectAll","onSelectAllChange"])])]),default:s(()=>[t(d,{expander:!0}),t(d,{field:"user_code",header:"Employee Id",sortable:""}),t(d,{field:"name",header:"Employee Name"}),t(d,{field:"location",header:"Location",sortable:!1}),t(d,{field:"department",header:"Department"}),t(d,{field:"total_leave_balance",header:"Total Leave Balance"})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])])])])]),t($,{header:"Header",visible:a(o).canshowloadingsrceen,"onUpdate:visible":n[6]||(n[6]=l=>a(o).canshowloadingsrceen=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:s(()=>[t(M,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:s(()=>[Nt]),_:1},8,["visible"]),e("div",Ft,[e("div",jt,[e("div",It,[e("div",Ht,[qt,e("div",Qt,[e("div",Wt,[zt,t(R,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:x.value,"onUpdate:modelValue":n[7]||(n[7]=l=>x.value=l),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),t(V,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:n[8]||(n[8]=l=>a(o).getAllEmployeesLeaveHistory(x.value.getMonth()+1,x.value.getFullYear(),C.value))})]),t(T,{value:a(o).array_orgLeaveHistory,responsiveLayout:"scroll",paginator:!0,rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,filters:D.value,"onUpdate:filters":n[10]||(n[10]=l=>D.value=l),filterDisplay:"menu",globalFilterFields:["name"],style:{"white-space":"nowrap"}},{empty:s(()=>[f(" No Employee data..... ")]),default:s(()=>[t(d,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:s(l=>[f(i(l.data.employee_name),1)]),filter:s(({filterModel:l,filterCallback:c})=>[t(Y,{modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,onInput:b=>c(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(d,{field:"leave_type",header:"Leave Type"}),t(d,{field:"start_date",header:"Start Date"},{body:s(l=>[f(i(a(y)(l.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),t(d,{field:"end_date",header:"End Date"},{body:s(l=>[f(i(a(y)(l.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),t(d,{field:"total_leave_datetime",header:"Total Leave Days"}),t(d,{field:"leave_reason",header:"Leave Reason"},{body:s(l=>[l.data.leave_reason&&l.data.leave_reason.length>70?(h(),g("div",Gt,[e("p",{onClick:n[9]||(n[9]=(...c)=>m.toggle&&m.toggle(...c)),class:"font-medium text-orange-400 underline cursor-pointer"}," More... "),t(r,{ref:"overlayPanel",style:{height:"80px"}},{default:s(()=>[f(i(l.data.leave_reason),1)]),_:2},1536)])):(h(),g("div",Kt,i(l.data.leave_reason??""),1))]),_:1}),t(d,{field:"status",header:"Status"},{body:s(({data:l})=>[e("span",{class:A("customer-badge status-"+l.status)},i(l.status),3)]),filter:s(({filterModel:l,filterCallback:c})=>[t(S,{modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,onChange:b=>c(),options:C.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:s(b=>[b.value?(h(),g("span",{key:0,class:A("customer-badge status-"+b.value)},i(b.value),3)):(h(),g("span",Jt,i(b.placeholder),1))]),option:s(b=>[e("span",{class:A("customer-badge status-"+b.option)},i(b.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),t(d,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:s(l=>[t(V,{type:"button",icon:"",class:"text-white Button py-2.5",label:"View",onClick:c=>a(o).getLeaveDetails(l.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters"])])])])])])],64)}}},Zt={class:"card top-line"},ea={class:"card-body"},ta={class:"row"},aa={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12 d-flex justify-content-between align-items-center"},oa=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Team Leave Balance",-1),la={class:"my-2 d-flex justify-content-between align-items-center"},sa=e("div",null,null,-1),na={class:"d-flex"},da={class:""},ia=e("label",{for:" ",class:"text-blue-900 mx-2"},"Start Date",-1),ra={class:""},ca=e("label",{for:" ",class:"text-blue-900 mx-2"},"End Date",-1),pa={class:"mt-3 row"},ma={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},ua={class:"mb-0 card leave-history"},_a={class:"card-body"},va=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Team Leave history",-1),ha={class:"table-responsive"},ga={class:"d-flex justify-content-end"},ya=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),fa=e("div",{id:"team_leaveHistory",class:"custom_gridJs"},null,-1),ba={key:0},xa={key:1},wa={key:1},Da={__name:"TeamLeaveDetails",setup(U){const o=E();u(),u(),u(),u(),u(),u(!0),u();const x=u([]),w=u(),v=u(),D=u({employee_name:{value:null,matchMode:L.STARTS_WITH,matchMode:L.EQUALS,matchMode:L.CONTAINS},status:{value:null,matchMode:L.EQUALS}}),C=u(["Pending","Approved","Rejected"]);return B(async()=>{await o.getTermLeaveBalance(),await o.getTeamLeaveHistory(y().month()+1,y().year(),["Approved","Pending","Rejected"])}),(m,n)=>{const R=_("Calendar"),d=_("Column"),T=_("DataTable"),M=_("Button"),$=_("InputText"),V=_("OverlayPanel"),Y=_("Dropdown");return h(),g(P,null,[e("div",Zt,[e("div",ea,[e("div",ta,[e("div",aa,[oa,e("div",la,[sa,e("div",na,[e("div",da,[ia,t(R,{modelValue:a(o).selectedStartDate,"onUpdate:modelValue":n[0]||(n[0]=r=>a(o).selectedStartDate=r),dateFormat:"dd-mm-yy",class:"p-l3",style:{border:"1px solid orange","border-radius":"7px",height:"38px",width:"100px"},maxDate:new Date},null,8,["modelValue","maxDate"])]),e("div",ra,[ca,t(R,{class:"mr-3",modelValue:a(o).selectedEndDate,"onUpdate:modelValue":n[1]||(n[1]=r=>a(o).selectedEndDate=r),dateFormat:"dd-mm-yy",style:{border:"1px solid orange","border-radius":"7px",height:"38px",width:"100px"},maxDate:new Date},null,8,["modelValue","maxDate"])]),e("button",{class:"btn-orange py-1 px-4 rounded",onClick:n[2]||(n[2]=r=>a(o).getTermLeaveBalance(a(y)(a(o).selectedStartDate).format("YYYY-MM-DD"),a(y)(a(o).selectedEndDate).format("YYYY-MM-DD")))},"submit")])])]),e("div",null,[t(T,{value:a(o).arrayTermLeaveBalance,paginator:!0,rows:10,class:"",dataKey:"user_code",onRowExpand:m.onRowExpand,onRowCollapse:m.onRowCollapse,expandedRows:x.value,"onUpdate:expandedRows":n[4]||(n[4]=r=>x.value=r),selection:w.value,"onUpdate:selection":n[5]||(n[5]=r=>w.value=r),selectAll:m.selectAll,onSelectAllChange:m.onSelectAllChange,onRowSelect:m.onRowSelect,onRowUnselect:m.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{expansion:s(r=>[e("div",null,[t(T,{value:r.data.leave_balance_details,responsiveLayout:"scroll",selection:w.value,"onUpdate:selection":n[3]||(n[3]=S=>w.value=S),selectAll:m.selectAll,onSelectAllChange:m.onSelectAllChange},{default:s(()=>[t(d,{field:"leave_type",header:"Leave Type"},{default:s(()=>[f(i(r.data.leave_type),1)]),_:2},1024),t(d,{field:"opening_balance",header:"Opening Balance"}),t(d,{field:"avalied",header:"Avalied"}),t(d,{field:"closing_balance",header:"Closing Balance"})]),_:2},1032,["value","selection","selectAll","onSelectAllChange"])])]),default:s(()=>[t(d,{expander:!0}),t(d,{field:"user_code",header:"Employee Id",sortable:""}),t(d,{field:"name",header:"Employee Name"}),t(d,{field:"location",header:"Location",sortable:!1}),t(d,{field:"department",header:"Department"}),t(d,{field:"total_leave_balance",header:"Total Leave Balance"})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])])])])]),e("div",pa,[e("div",ma,[e("div",ua,[e("div",_a,[va,e("div",ha,[e("div",ga,[ya,t(R,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:v.value,"onUpdate:modelValue":n[6]||(n[6]=r=>v.value=r),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),t(M,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:n[7]||(n[7]=r=>a(o).getTeamLeaveHistory(v.value.getMonth()+1,v.value.getFullYear(),C.value))})]),fa,t(T,{value:a(o).array_teamLeaveHistory,responsiveLayout:"scroll",paginator:!0,rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,filters:D.value,"onUpdate:filters":n[9]||(n[9]=r=>D.value=r),filterDisplay:"menu",globalFilterFields:["name"],style:{"white-space":"nowrap"}},{empty:s(()=>[f(" No Employee data..... ")]),default:s(()=>[t(d,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:s(r=>[f(i(r.data.employee_name),1)]),filter:s(({filterModel:r,filterCallback:S})=>[t($,{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,onInput:l=>S(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(d,{field:"leave_type",header:"Leave Type"}),t(d,{field:"start_date",header:"Start Date"},{body:s(r=>[f(i(a(y)(r.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),t(d,{field:"end_date",header:"End Date"},{body:s(r=>[f(i(a(y)(r.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),t(d,{field:"total_leave_datetime",header:"Total Leave Days"}),t(d,{field:"leave_reason",header:"Leave Reason"},{body:s(r=>[r.data.leave_reason&&r.data.leave_reason.length>70?(h(),g("div",ba,[e("p",{onClick:n[8]||(n[8]=(...S)=>m.toggle&&m.toggle(...S)),class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),t(V,{ref:"overlayPanel",style:{height:"80px"}},{default:s(()=>[f(i(r.data.leave_reason),1)]),_:2},1536)])):(h(),g("div",xa,i(r.data.leave_reason??""),1))]),_:1}),t(d,{field:"status",header:"Status"},{body:s(({data:r})=>[e("span",{class:A("customer-badge status-"+r.status)},i(r.status),3)]),filter:s(({filterModel:r,filterCallback:S})=>[t(Y,{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,onChange:l=>S(),options:C.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:s(l=>[l.value?(h(),g("span",{key:0,class:A("customer-badge status-"+l.value)},i(l.value),3)):(h(),g("span",wa,i(l.placeholder),1))]),option:s(l=>[e("span",{class:A("customer-badge status-"+l.option)},i(l.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),t(d,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:s(r=>[t(M,{type:"button",icon:"",class:"text-white Button py-2.5",label:"View",onClick:S=>a(o).getLeaveDetails(r.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters"])])])])])])],64)}}};const La={class:"Leave_dashboard"},$a={class:"p-2 pb-0 mb-3 bg-white rounded-lg shadow tw-card left-line",style:{"background-color":"white"}},Sa={class:"flex justify-between"},Ca={class:"bg-white divide-x py-auto nav nav-pills divide-solid nav-tabs-dashed",id:"pills-tab",role:"tablist"},Ra=e("li",{class:"nav-item text-muted",role:"presentation"},[e("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#leave_balance","aria-selected":"true",role:"tab"}," Leave Balance")],-1),ka={key:0,class:"nav-item text-muted",role:"presentation"},Ta=e("a",{class:"pb-2 mx-4 nav-link","data-bs-toggle":"tab",href:"#team_leaveBalance","aria-selected":"false",tabindex:"-1",role:"tab"}," Team Leave Balance",-1),Aa=[Ta],Ma={key:1,class:"nav-item text-muted",role:"presentation"},Pa=e("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#org_leave","aria-selected":"false",tabindex:"-1",role:"tab"}," Org Leave Balance",-1),Va=[Pa],Ya={class:"flex items-center"},Ea=j('<div class="mr-3"><div class="input-group me-2"><label class="input-group-text" for="inputGroupSelect01"><i class="fa fa-calendar text-primary" aria-hidden="true"></i></label><select class="form-select btn-line-primary" id="inputGroupSelect01"></select></div></div>',1),Ua={class:""},Ba={class:"tab-content",id:"pills-tabContent"},Oa={class:"tab-pane show fade active",id:"leave_balance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Na={class:"tab-pane fade show",id:"team_leaveBalance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Fa={class:"tab-pane show",id:"org_leave",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ja=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Ia=e("h6",{class:"mb-4 modal-title fs-21"}," Leave Request",-1),Ha={__name:"LeaveModule",setup(U){const o=E(),x=ge(),w=u(!1);return B(()=>{o.getEmployeeLeaveBalance()}),(v,D)=>{const C=_("ProgressSpinner"),m=_("Dialog");return h(),g(P,null,[e("div",La,[e("div",$a,[e("div",Sa,[e("ul",Ca,[Ra,a(x).current_user_role==2||a(x).current_user_role==4?(h(),g("li",ka,Aa)):N("",!0),a(x).current_user_role==2?(h(),g("li",Ma,Va)):N("",!0)]),e("div",Ya,[Ea,e("div",Ua,[e("button",{onClick:D[0]||(D[0]=n=>w.value=!0),class:"btn btn-orange"},"Apply Leave")])])])]),e("div",Ba,[e("div",Oa,[t(Ct)]),e("div",Na,[t(Da)]),e("div",Fa,[t(Xt)])])]),t(m,{header:"Header",visible:a(o).canShowLoading,"onUpdate:visible":D[1]||(D[1]=n=>a(o).canShowLoading=n),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:s(()=>[t(C,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:s(()=>[ja]),_:1},8,["visible"]),t(m,{visible:w.value,"onUpdate:visible":D[2]||(D[2]=n=>w.value=n),style:{width:"80vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},{header:s(()=>[Ia]),default:s(()=>[t(ye)]),_:1},8,["visible"])],64)}}},p=I(Ha),qa=ee();p.use(H,{ripple:!0});p.use(de);p.use(q);p.use(ne);p.use(qa);p.directive("tooltip",te);p.directive("badge",ae);p.directive("ripple",Q);p.directive("styleclass",oe);p.directive("focustrap",W);p.component("Button",z);p.component("DataTable",le);p.component("Column",se);p.component("ColumnGroup",ce);p.component("Row",re);p.component("Toast",G);p.component("ConfirmDialog",K);p.component("Dropdown",J);p.component("InputText",X);p.component("Dialog",Z);p.component("ProgressSpinner",ie);p.component("Calendar",pe);p.component("Checkbox",me);p.component("Chips",ue);p.component("MultiSelect",_e);p.component("Textarea",ve);p.component("OverlayPanel",he);p.mount("#LeaveModule");
