import{d as P}from"./dayjs.min-2f06af28.js";import{q as W,r as S,R as o,o as Y,c as _,e as p,f as T,g as n,n as a,l,i as h,p as N,h as w,t as y,k as U,j as $,I as B,y as Q,L as F,F as z}from"./app-ec55b72e.js";import{p as K}from"./ProfilePagesStore-62565175.js";import{a as D}from"./index-362795f3.js";import{S as J}from"./Service-2e2c0221.js";/* empty css                                                                       */import{L as X}from"./LoadingSpinner-0ce26e44.js";const O=W("manageEmployees",()=>{const R=S(),C=S(),d=S(),f=S(!0);async function V(){let r=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+r),await D.get(r).then(u=>{R.value=u.data})}async function M(){let r=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+r),await D.get(r).then(u=>{console.log("Axios : "+u.data),C.value=u.data})}async function k(){let r=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+r),await D.get(r).then(u=>{console.log("Axios : "+u.data),d.value=u.data})}return{array_active_employees:R,yet_to_active_employees_data:C,exit_employees_data:d,getActiveEmployees:V,ajax_yet_to_active_employees_data:M,ajax_exit_employees_data:k,canShowLoadingScreen:f}});const q={class:"w-full"},G={class:"flex items-center justify-center"},Z=["src"],ee={class:"pl-2 font-semibold text-left fs-6"},ae=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),te={__name:"active_employees",setup(R){const C=J(),d=O(),f=K(),V=S(),M=S({global:{value:null,matchMode:o.CONTAINS},emp_name:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},emp_code:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},emp_designation:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},reporting_manager_name:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},status:{value:null,matchMode:o.EQUALS}});Y(async()=>{await d.getActiveEmployees(),d.canShowLoadingScreen=!1});async function k(r){console.log(r),console.log("user code ::",r.emp_code),V.value=r.data,f.user_code=r.emp_code}return(r,u)=>{const b=_("InputText"),c=_("Column"),I=_("ProgressBar"),E=_("RouterLink"),v=_("DataTable");return p(),T("div",q,[n("div",null,[a(v,{value:w(d).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:M.value,"onUpdate:filters":u[0]||(u[0]=e=>M.value=e),filterDisplay:"menu",loading:r.canShowLoadingScreen,globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{empty:l(()=>[h(" No customers found.")]),loading:l(()=>[h(" Loading customers data. Please wait. ")]),default:l(()=>[a(c,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem !important","text-align":"center:  !important"}},{body:l(e=>[n("div",G,[JSON.parse(e.data.emp_avatar).type=="shortname"?(p(),T("p",{key:0,class:N(["p-2 font-semibold text-white rounded-full w-11 fs-6",w(C).getBackgroundColor(e.index)])},y(JSON.parse(e.data.emp_avatar).data),3)):(p(),T("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(e.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Z)),n("p",ee,y(e.data.emp_name),1)])]),filter:l(({filterModel:e,filterCallback:m})=>[a(b,{modelValue:e.value,"onUpdate:modelValue":g=>e.value=g,onInput:g=>m(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(c,{field:"emp_code",header:"Employee Code",class:"",style:{}},{filter:l(({filterModel:e,filterCallback:m})=>[a(b,{modelValue:e.value,"onUpdate:modelValue":g=>e.value=g,onInput:g=>m(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(c,{field:"emp_designation",header:"Designation",class:""},{filter:l(({filterModel:e,filterCallback:m})=>[a(b,{modelValue:e.value,"onUpdate:modelValue":g=>e.value=g,onInput:g=>m(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(c,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:l(({filterModel:e,filterCallback:m})=>[a(b,{modelValue:e.value,"onUpdate:modelValue":g=>e.value=g,onInput:g=>m(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(c,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(e=>[h(y(w(P)(e.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(c,{field:"profile_completeness",header:"Profile Completeness"},{body:l(e=>[e.data.profile_completeness<=39?(p(),U(I,{key:0,value:e.data.profile_completeness,class:N([e.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):$("",!0),e.data.profile_completeness>=40&&e.data.profile_completeness<=59?(p(),U(I,{key:1,class:N(["progressbar_val2",[e.data.profile_completeness>=40&&e.data.profile_completeness<=59]]),value:e.data.profile_completeness},null,8,["class","value"])):$("",!0),e.data.profile_completeness>=60?(p(),U(I,{key:2,class:N(["progressbar_val3",[e.data.profile_completeness>=60]]),value:e.data.profile_completeness},null,8,["class","value"])):$("",!0)]),_:1}),a(c,{field:"enc_user_id",header:"View Profile"},{body:l(e=>[a(E,{to:`/profile-page/${e.data.user_id}`,onClick:m=>k(e.data),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},{default:l(()=>[ae,h("View")]),_:2},1032,["to","onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}},oe={class:"confirmation-content"},le=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),ne={class:"flex items-center justify-center"},se=["src"],ie={class:"pl-2 font-semibold text-left fs-6"},re=["onClick"],de=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),ce={key:0},pe={key:1},ue={__name:"yet_to_active_employees",setup(R){const C=J(),d=O();Y(()=>{d.ajax_yet_to_active_employees_data()}),S();let f=S(!1);S(!1),B();const V=Q();function M(v){window.location.href="/pages-profile-new?uid="+v}const k=S({global:{value:null,matchMode:o.CONTAINS},emp_name:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},emp_code:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},emp_designation:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},reporting_manager_name:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},status:{value:null,matchMode:o.EQUALS}});S(["Pending","Approved","Rejected"]);let r=null,u=null;function b(v,e){v.emp_code,v.emp_status,console.log(O.emp_status),console.log(v.emp_status),f.value=!0,r=e,u=v,console.log("Selected Row Data : "+JSON.stringify(v))}function c(v){d.canShowLoadingScreen=!1,f.value=!1,v&&I()}function I(){r="",u=null}function E(){c(!1),d.canShowLoadingScreen=!0,console.log("Processing Rowdata : "+JSON.stringify(u)),D.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:u.emp_code,active_status:1}).then(v=>{console.log("Response : "+v),V.add({severity:"success",summary:"Activated",detail:`${u.emp_name} Activated Successfully`,life:3e3}),I()}).catch(v=>{d.canShowLoadingScreen=!1,I()}).finally(()=>{d.ajax_yet_to_active_employees_data(),d.getActiveEmployees(),d.canShowLoadingScreen=!1,f.value=!1})}return(v,e)=>{const m=_("Toast"),g=_("Button"),s=_("Dialog"),x=_("InputText"),i=_("Column"),j=_("ProgressBar"),H=_("DataTable");return p(),T("div",null,[a(m),a(s,{header:"Confirmation",visible:w(f),"onUpdate:visible":e[2]||(e[2]=t=>F(f)?f.value=t:f=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:l(()=>[a(g,{label:"Yes",icon:"pi pi-check",onClick:e[0]||(e[0]=t=>E()),class:"p-button-text",autofocus:""}),a(g,{label:"No",icon:"pi pi-times",onClick:e[1]||(e[1]=t=>c(!0)),class:"p-button-text"})]),default:l(()=>[n("div",oe,[le,n("span",null,"Are you sure you want to "+y(w(r))+"?",1)])]),_:1},8,["visible"]),n("div",null,[a(H,{value:w(d).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:k.value,"onUpdate:filters":e[3]||(e[3]=t=>k.value=t),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","status"]},{empty:l(()=>[h(" No customers found. ")]),loading:l(()=>[h(" Loading customers data. Please wait. ")]),default:l(()=>[a(i,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem"}},{body:l(t=>[n("div",ne,[JSON.parse(t.data.emp_avatar).type=="shortname"?(p(),T("p",{key:0,class:N(["p-2 font-semibold text-white rounded-full w-11 fs-6",w(C).getBackgroundColor(t.index)])},y(JSON.parse(t.data.emp_avatar).data),3)):(p(),T("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(t.data.emp_avatar).data}`,srcset:"",alt:""},null,8,se)),n("p",ie,y(t.data.emp_name),1)])]),filter:l(({filterModel:t,filterCallback:L})=>[a(x,{modelValue:t.value,"onUpdate:modelValue":A=>t.value=A,onInput:A=>L(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(i,{field:"emp_code",header:"Employee Code"},{body:l(t=>[h(y(t.data.emp_code),1)]),filter:l(({filterModel:t,filterCallback:L})=>[a(x,{modelValue:t.value,"onUpdate:modelValue":A=>t.value=A,onInput:A=>L(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(i,{field:"emp_designation",header:"Designation",class:""},{filter:l(({filterModel:t,filterCallback:L})=>[a(x,{modelValue:t.value,"onUpdate:modelValue":A=>t.value=A,onInput:A=>L(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(i,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:l(({filterModel:t,filterCallback:L})=>[a(x,{modelValue:t.value,"onUpdate:modelValue":A=>t.value=A,onInput:A=>L(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(i,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:l(t=>[h(y(w(P)(t.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(i,{field:"profile_completeness",header:"Profile Completeness"},{body:l(t=>[t.data.profile_completeness<=39?(p(),U(j,{key:0,value:t.data.profile_completeness,class:N([t.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):$("",!0),t.data.profile_completeness>=40&&t.data.profile_completeness<=59?(p(),U(j,{key:1,class:N(["progressbar_val2",[t.data.profile_completeness>=40&&t.data.profile_completeness<=59]]),value:t.data.profile_completeness},null,8,["class","value"])):$("",!0),t.data.profile_completeness>=60?(p(),U(j,{key:2,class:N(["progressbar_val3",[t.data.profile_completeness>=60]]),value:t.data.profile_completeness},null,8,["class","value"])):$("",!0)]),_:1}),a(i,{field:"is_onboarded",header:"Onboarding Status"},{body:l(t=>[h(y(t.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),a(i,{field:"doc_status",header:"Docs Approval Status"},{body:l(t=>[h(y(t.data.is_onboarded&&t.data.doc_status?"Approved":"Pending"),1)]),_:1}),a(i,{field:"enc_user_id",header:"View Profile"},{body:l(t=>[n("button",{onClick:L=>M(t.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[de,h("View")],8,re)]),_:1}),a(i,{style:{width:"300px"},field:"",header:"Action"},{body:l(t=>[t.data.is_onboarded&&t.data.doc_status?(p(),T("div",ce,[a(g,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:L=>b(t.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(p(),T("div",pe))]),_:1})]),_:1},8,["value","filters"])])])}}},me={class:"confirmation-content"},_e=n("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),fe={class:"flex items-center justify-center"},ve=["src"],ge={class:"pl-2 font-semibold text-left fs-6"},he=["onClick"],ye=n("i",{class:"h-6 py-1 mx-2 pi pi-eye"},null,-1),Se={__name:"exit_employees",setup(R){const C=J(),d=O();Y(()=>{d.ajax_exit_employees_data()}),S();let f=S(!1),V=S(!1);B();const M=Q(),k=S({global:{value:null,matchMode:o.CONTAINS},employee_name:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},emp_code:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},emp_designation:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},reporting_manager_name:{value:null,matchMode:o.STARTS_WITH,matchMode:o.EQUALS,matchMode:o.CONTAINS},status:{value:null,matchMode:o.EQUALS},status:{value:null,matchMode:o.EQUALS}});function r(b){window.location.href="/pages-profile-new?uid="+b}function u(){hideConfirmDialog(!1),V.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),D.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(b=>{console.log("Response : "+b),V.value=!1,M.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(b=>{V.value=!1,resetVars()})}return(b,c)=>{const I=_("Toast"),E=_("Button"),v=_("Dialog"),e=_("InputText"),m=_("Column"),g=_("DataTable");return p(),T("div",null,[a(I),a(v,{header:"Confirmation",visible:w(f),"onUpdate:visible":c[2]||(c[2]=s=>F(f)?f.value=s:f=s),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:l(()=>[a(E,{label:"Yes",icon:"pi pi-check",onClick:c[0]||(c[0]=s=>u()),class:"p-button-text",autofocus:""}),a(E,{label:"No",icon:"pi pi-times",onClick:c[1]||(c[1]=s=>b.hideConfirmDialog(!0)),class:"p-button-text"})]),default:l(()=>[n("div",me,[_e,n("span",null,"Are you sure you want to "+y(b.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),n("div",null,[a(g,{value:w(d).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:k.value,"onUpdate:filters":c[3]||(c[3]=s=>k.value=s),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{empty:l(()=>[h(" No customers found.")]),loading:l(()=>[h(" Loading customers data. Please wait. ")]),default:l(()=>[a(m,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:l(s=>[n("div",fe,[JSON.parse(s.data.emp_avatar).type=="shortname"?(p(),T("p",{key:0,class:N(["p-2 font-semibold text-white rounded-full w-[35px] fs-6",w(C).getBackgroundColor(s.index)])},y(JSON.parse(s.data.emp_avatar).data),3)):(p(),T("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(s.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ve)),n("p",ge,y(s.data.emp_name),1)])]),filter:l(({filterModel:s,filterCallback:x})=>[a(e,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,onInput:i=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(m,{field:"emp_code",header:"Employee Code"},{filter:l(({filterModel:s,filterCallback:x})=>[a(e,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,onInput:i=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(m,{field:"emp_designation",header:"Designation"},{filter:l(({filterModel:s,filterCallback:x})=>[a(e,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,onInput:i=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(m,{field:"reporting_manager_name",header:"Reporting Manager"},{filter:l(({filterModel:s,filterCallback:x})=>[a(e,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,onInput:i=>x(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(m,{field:"doj",header:"DOJ"},{body:l(s=>[h(y(w(P)(s.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(m,{field:"doj",header:"Exit Date"},{body:l(s=>[h(y(w(P)(s.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(m,{field:"enc_user_id",header:"View Profile"},{body:l(s=>[n("button",{onClick:x=>r(s.data.enc_user_id),class:"px-2 py-1 text-center text-white bg-orange-700 rounded-md whitespace-nowrap"},[ye,h("View")],8,he)]),_:1})]),_:1},8,["value","filters"])])])}}};const be={class:""},we=n("div",{class:"mb-2 card left-line"},[n("div",{class:"pt-1 pb-0 card-body"},[n("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),n("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),n("li",{class:"nav-item text-muted",role:"presentation"},[n("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),xe={class:"card"},Te={class:"card-body"},Ae={class:"tab-content",id:"pills-tabContent"},Ce={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ve={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ke={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ee={__name:"ManageEmployee",setup(R){const C=O();return(d,f)=>(p(),T(z,null,[w(C).canShowLoadingScreen?(p(),U(X,{key:0,class:"absolute z-50 bg-white w-[100%] h-[100%]"})):$("",!0),n("div",be,[we,n("div",xe,[n("div",Te,[n("div",Ae,[n("div",Ce,[a(te)]),n("div",Ve,[a(ue)]),n("div",ke,[a(Se)])])])])])],64))}};export{Ee as default};
