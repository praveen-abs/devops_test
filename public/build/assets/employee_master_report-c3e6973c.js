import{a as g}from"./index-362795f3.js";import{V as r,Y as se,ad as $,c as u,d as t,h as x,ac as o,a as C,n as D,w as U,a9 as j,g as E,o as c,F as S,f as O,H,I as z,b as R,l as L}from"./inputnumber.esm-73df9aee.js";import"./lodash-facb8280.js";import{d as ne}from"./pinia-86197d42.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import{L as ie}from"./LoadingSpinner-badf5592.js";const V=ne("EmployeeMasterStore",()=>{const _=r(),e=r(),p=r(),h=r(),k=r(),l=r(),b=r(!1),f=r(),n=r(!1),i=r([]),y=r([]),B=r(),I=r(""),T=r(1),v=r(!1),m=se({date:"",department_id:"",legal_entity:"",active_status:""}),A=()=>{let a="/fetch-employee-ctc-report";v.value=!0,g.post(a,{type:""}).then(s=>{console.log(s.data.rows,"get value "),i.value=s.data.rows,console.log(i.value," testings data"),s.data.headers.forEach(d=>{let w={title:d};y.value.push(w),console.log(d)}),console.log(y.value)}).finally(()=>{v.value=!1})};function G(){v.value=!0,g.get("/filter-client-ids").then(a=>{k.value=a.data,console.log(k.value)}).finally(()=>{v.value=!1})}function J(a){m.legal_entity=a}function K(){i.value.splice(0),y.value.splice(0),n.value==!0?(console.log(n),n.value=!1,f.value="",console.log(f.value)):n.value==!1&&(n.value=!0,f.value="detailed",console.log(f.value));let a=f.value;g.post("/fetch-employee-ctc-report",{type:a}).then(s=>{console.log(s.data.rows,"get value "),i.value=s.data.rows,console.log(i.value," testings data"),s.data.headers.forEach(d=>{let w={title:d};y.value.push(w),console.log(d)}),console.log(y.value)})}function Q(a){m.active_status=a}function W(){v.value=!0,g.get("/get-department").then(a=>{B.value=a.data}).finally(()=>{v.value=!1})}function X(a){m.department_id=a}function Z(){v.value=!0,g.post("/get-filter-months-for-reports").then(a=>{I.value=a.data}).finally(()=>{v.value=!1})}function ee(a){m.date=a}const te=()=>{let a="/generate-employee-ctc-report";v.value=!0,g.post(a,m,{responseType:"blob"}).then(s=>{console.log(s.data);var d=document.createElement("a");d.href=window.URL.createObjectURL(s.data),d.download="Employee CTC Report_.xlsx",d.click()}).finally(()=>{b.value=!1,v.value=!1})};function oe(a){T.value=a,a===2?g.post("/fetch-employee-ctc-report",m).then(s=>{console.log(s.data.rows,"get value "),i.value=s.data.rows,console.log(i.value," testings data"),s.data.headers.forEach(d=>{let w={title:d};y.value.push(w),console.log(d)}),console.log(y.value),s.data.rows.length===0&&Swal.fire({title:s.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(d=>{})}):(m.active_status="",m.date="",m.department_id="",m.legal_entity="",_.value="",e.value="",p.value="",h.value="",A())}const M=r([]),P=r([]);function N(){let a="/fetch-master-employee-report";v.value=!0,g.post(a,{type:""}).then(s=>{console.log(s.data.rows,"get value "),M.value=s.data.rows,console.log(M.value," testings data"),s.data.headers.forEach(d=>{let w={title:d};P.value.push(w),console.log(d)}),console.log(P.value)}).finally(()=>{v.value=!1})}function le(){let a="/generate-employee-ctc-report";v.value=!0,g.post(a,m,{responseType:"blob"}).then(s=>{console.log(s.data);var d=document.createElement("a");d.href=window.URL.createObjectURL(s.data),d.download="Employee Master Report_.xlsx",d.click()}).finally(()=>{b.value=!1,v.value=!1})}function ae(a){T.value=a,a===2?g.post("/fetch-master-employee-report",m).then(s=>{console.log(s.data.rows,"get value "),i.value=s.data.rows,console.log(i.value," testings data"),s.data.headers.forEach(d=>{let w={title:d};y.value.push(w),console.log(d)}),console.log(y.value),s.data.rows.length===0&&Swal.fire({title:s.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(d=>{})}):(m.active_status="",m.date="",m.department_id="",m.legal_entity="",_.value="",e.value="",p.value="",h.value="",N())}return{show:n,client_ids:k,employeeCTCReportSource:i,Employee_CTCReportDynamicHeaders:y,personalDetail:f,selectCategory:l,department:B,PeriodMonth:I,fetchFilterClientIds:G,getEmployeeCTC:A,personalDetails:K,sentcategory:Q,sentFilterClientIds:J,getALLdepartment:W,getEmployeeCTCReports:X,getPeriodMonth:Z,updateEmployee_Basic_CTC:ee,updateEmployeeApplyFilter:oe,downloadEmployeeCTC:te,btn_download:b,canShowLoading:v,filterbtn:T,legal_Entity:_,Department:e,period_Date:p,select_Category:h,getemployeeMater:N,employeeMaterReportSource:M,Employee_MaterReportDynamicHeaders:P,downloadEmployeeMaster:le,updateEmployeeMasterApplyFilter:ae}});const F=_=>(H("data-v-799671e4"),_=_(),z(),_),re={class:"flex justify-between p-2 bg-white"},pe={class:""},de={class:"flex items-center"},ce=F(()=>t("h1",{class:"text-[12px] text-black font-semibold font-['poppins']"},"Personal Details -",-1)),ue={key:0,class:"pi pi-eye"},me={key:1,class:"pi pi-eye-slash"},ve=F(()=>t("p",{class:"relative left-2 font-['poppins']"},"Download",-1)),_e=F(()=>t("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16"},[t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"}),t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"}),t("path",{d:"M8,1 L8,11",class:"svg-out"})],-1)),fe=[_e],ye={__name:"employee_CTC",setup(_){const e=V();$(()=>{e.getEmployeeCTC()}),r([]);const p=r({global:{value:null,matchMode:j.CONTAINS}}),h=r("downloaded");return(k,l)=>{const b=E("InputText"),f=E("Column"),n=E("DataTable");return c(),u("div",null,[t("div",re,[t("div",pe,[x(b,{placeholder:"Search",modelValue:p.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=i=>p.value.global.value=i),class:"border-color !h-10"},null,8,["modelValue"])]),t("div",de,[ce,t("button",{class:"bg-[#E6E6E6] px-3 p-2 rounded-md mx-2",onClick:l[1]||(l[1]=i=>o(e).personalDetails())},[o(e).show&&o(e).personalDetail=="detailed"?(c(),u("i",ue)):o(e).show?C("",!0):(c(),u("i",me))]),t("button",{class:"bg-[#E6E6E6] p-2 mx-2 rounded-md w-[120px]",onClick:l[2]||(l[2]=i=>(o(e).btn_download=!o(e).btn_download,o(e).downloadEmployeeCTC()))},[ve,t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:D([o(e).btn_download==!0?h.value:" "])},fe,2)])])]),t("div",null,[x(n,{value:o(e).employeeCTCReportSource,filters:p.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:U(()=>[(c(!0),u(S,null,O(o(e).Employee_CTCReportDynamicHeaders,i=>(c(),R(f,{key:i.title,field:i.title,header:i.title,style:{"white-space":"nowrap","text-align":"left"}},null,8,["field","header"]))),128))]),_:1},8,["value","filters"])])])}}},ge=Y(ye,[["__scopeId","data-v-799671e4"]]);const q=_=>(H("data-v-9627fa8f"),_=_(),z(),_),xe={class:"bg-white p-2 flex justify-between"},he={class:"flex items-center"},be=q(()=>t("p",{class:"relative left-2 font-['poppins']"},"Download",-1)),we=q(()=>t("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16"},[t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"}),t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"}),t("path",{d:"M8,1 L8,11",class:"svg-out"})],-1)),Ce=[we],Ee={__name:"Employee_Master",setup(_){r(1);const e=V();$(()=>{e.getemployeeMater()});const p=r({global:{value:null,matchMode:j.CONTAINS}}),h=r("downloaded");return(k,l)=>{const b=E("InputText"),f=E("Column"),n=E("DataTable");return c(),u("div",null,[t("div",null,[t("div",xe,[t("div",null,[x(b,{placeholder:"Search",modelValue:p.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=i=>p.value.global.value=i),class:"border-color !h-10",style:{height:"3em"}},null,8,["modelValue"])]),t("div",he,[t("button",{class:"bg-[#E6E6E6] p-2 mx-2 rounded-md w-[120px]",onClick:l[1]||(l[1]=i=>(o(e).btn_download=!o(e).btn_download,o(e).downloadEmployeeMaster()))},[be,t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:D([o(e).btn_download==!0?h.value:" "])},Ce,2)])])]),t("div",null,[x(n,{value:o(e).employeeMaterReportSource,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:U(()=>[(c(!0),u(S,null,O(o(e).Employee_MaterReportDynamicHeaders,i=>(c(),R(f,{key:i.title,field:i.title,header:i.title,style:{"white-space":"nowrap","text-align":"left"}},null,8,["field","header"]))),128))]),_:1},8,["value"])])])])}}},ke=Y(Ee,[["__scopeId","data-v-9627fa8f"]]);const Le={class:"px-4"},De={class:"flex justify-between mb-[10px]"},Te=t("h1",{class:"text-black text-[24px] font-semibold"},"Employee Master Report",-1),Me=t("i",{class:"mr-2 pi pi-filter"},null,-1),Pe=t("i",{class:"mr-2 pi pi-times"},null,-1),$e=t("i",{class:"mr-2 pi pi-filter"},null,-1),Se=t("i",{class:"mr-2 pi pi-times"},null,-1),Re={style:{position:"relative"}},Ve={class:"flex w-[100%]"},Fe={class:"flex mb-3 divide-x max-[1300px]:w-[50%] w-[25%] nav nav-pills divide-solid nav-tabs-dashed max-[1024px]:w-[100%] !border-0",id:"pills-tab",role:"tablist"},Be={class:"w-[50%] nav-item !border-0 text-center font-['poppins'] text-[14px] text-[#001820]",role:"presentation"},Ie={key:0,class:"h-1 rounded-l-3xl relative top-[0px] !z-[10]",style:{border:"2.2px solid #F9BE00 !important"}},Ae={key:1,class:"h-1 border-gray-300 border-3 rounded-l-3xl",style:{border:"2.2px solid #dcdcdc !important"}},Ne={class:"nav-item w-[50%] !border-0 flex items-center",role:"presentation"},Ue={key:0,class:"w-[100%] h-1 relative top-[0px] !z-[10]",style:{border:"2.2px solid #F9BE00 !important"}},je={key:1,class:"h-1 border-gray-300 border-3 rounded-l-3xl",style:{border:"2.2px solid #dcdcdc !important"}},Oe={class:"flex justify-between max-[1200px]:w-[50%] w-[75%] max-[1200px]:justify-start flex-wrap max-[1024px]:w-[100%]"},He={class:"flex items-center"},ze=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins']"},"Period : ",-1),Ye={class:"flex items-center"},qe=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins']"},"Department : ",-1),Ge={class:"flex items-center"},Je=t("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins']"},"Legal Entity : ",-1),Ke={class:"flex items-center"},Qe={class:"tab-content",id:""},We={class:"card-body"},Xe={key:0},Ze={key:1},et={key:2},it={__name:"employee_master_report",setup(_){const e=V();$(()=>{e.fetchFilterClientIds(),e.getEmployeeCTC(),e.getALLdepartment(),e.getPeriodMonth()});const p=r(1),h=r([{name:"Active",id:1},{name:"Yet To Active",id:0},{name:"Exit",id:-1}]);return(k,l)=>{const b=E("Dropdown"),f=E("MultiSelect");return c(),u(S,null,[o(e).canShowLoading?(c(),R(ie,{key:0,class:"absolute z-50 bg-white"})):C("",!0),t("div",Le,[t("div",De,[Te,t("div",null,[o(e).filterbtn===1&&p.value===2?(c(),u("button",{key:0,onClick:l[0]||(l[0]=n=>o(e).updateEmployeeApplyFilter(2)),class:"flex items-center text-[#000] !font-semibold !font-['poppins'] px-3 py-2 border-[1px] border-[#DDDDDD] mx-2 rounded-[4px]"},[Me,L(" Apply Filter")])):C("",!0),o(e).filterbtn===2&&p.value===2?(c(),u("button",{key:1,onClick:l[1]||(l[1]=n=>o(e).updateEmployeeApplyFilter(1)),class:"flex items-center text-[#000] !font-semibold !font-['poppins'] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[Pe,L(" Clear Filter")])):C("",!0),o(e).filterbtn===1&&p.value===1?(c(),u("button",{key:2,onClick:l[2]||(l[2]=n=>o(e).updateEmployeeMasterApplyFilter(2)),class:"flex items-center text-[#000] !font-semibold !font-['poppins'] px-3 py-2 border-[1px] border-[#DDDDDD] mx-2 rounded-[4px]"},[$e,L(" Apply Filter")])):C("",!0),o(e).filterbtn===2&&p.value===1?(c(),u("button",{key:3,onClick:l[3]||(l[3]=n=>o(e).updateEmployeeMasterApplyFilter(1)),class:"flex items-center text-[#000] !font-semibold !font-['poppins'] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[Se,L(" Clear Filter")])):C("",!0)])]),t("div",Re,[t("div",Ve,[t("ul",Fe,[t("li",Be,[t("a",{class:D(["px-2 position-relative border-0 font-['poppins'] text-[14px] text-[#001820] w-[100%]",[p.value===1?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[4]||(l[4]=n=>p.value=1)}," Employee Master ",2),p.value===1?(c(),u("div",Ie)):(c(),u("div",Ae))]),t("li",Ne,[t("a",{class:D(["px-2 position-relative border-0 font-['poppins'] text-[14px] text-[#001820] w-[100%]",[p.value===2?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[5]||(l[5]=n=>p.value=2)}," Employee CTC ",2),p.value===2?(c(),u("div",Ue)):(c(),u("div",je))])]),t("ul",Oe,[t("li",He,[ze,x(b,{optionLabel:"month",optionValue:"date",options:o(e).PeriodMonth,modelValue:o(e).period_Date,"onUpdate:modelValue":l[6]||(l[6]=n=>o(e).period_Date=n),onChange:l[7]||(l[7]=n=>o(e).updateEmployee_Basic_CTC(o(e).period_Date)),placeholder:"Select period",class:"w-[150px] mx-2 !h-10 !font-semibold !font-['poppins'] !text-[#000] !bg-[#E6E6E6]"},null,8,["options","modelValue"])]),t("li",Ye,[qe,x(f,{modelValue:o(e).Department,"onUpdate:modelValue":l[8]||(l[8]=n=>o(e).Department=n),options:o(e).department,optionLabel:"name",placeholder:"Department",onChange:l[9]||(l[9]=n=>o(e).getEmployeeCTCReports(o(e).Department)),optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",Ge,[Je,x(f,{onChange:l[10]||(l[10]=n=>o(e).sentFilterClientIds(o(e).legal_Entity)),modelValue:o(e).legal_Entity,"onUpdate:modelValue":l[11]||(l[11]=n=>o(e).legal_Entity=n),options:o(e).client_ids,optionLabel:"client_fullname",placeholder:"Legal Entity",optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",Ke,[x(f,{onChange:l[12]||(l[12]=n=>o(e).sentcategory(o(e).select_Category)),modelValue:o(e).select_Category,"onUpdate:modelValue":l[13]||(l[13]=n=>o(e).select_Category=n),optionValue:"id",options:h.value,optionLabel:"name",placeholder:"Select Category",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6] mx-2"},null,8,["modelValue","options"])])])]),t("div",Qe,[t("div",null,[t("div",We,[p.value===1?(c(),u("div",Xe,[x(ke)])):C("",!0),p.value===2?(c(),u("div",Ze,[x(ge)])):C("",!0),p.value===3?(c(),u("div",et)):C("",!0)])])])])])],64)}}};export{V as E,it as _,ke as a,ge as e};
