import{G as w,a1 as H,H as Z,af as te,g as $,o as f,c as b,h as t,d as e,a2 as l,a as F,t as x,w as m,q as A,n as Q,j as k,F as de,ag as oe,l as R,E as q,am as ie,b as _e,I as me,P as ue,J as fe,R as be,u as ve,v as ge,N as he,K as ye,M as xe,A as De,L as $e}from"./toastservice.esm-037e4fc0.js";import{c as we}from"./pinia-ebcadf7f.js";import{T as ke,B as Pe,S as Ce,b as Ve,a as Ee,c as Se}from"./styleclass.esm-7100130c.js";import"./blockui.esm-b1ef9ac4.js";import{D as Le}from"./dialogservice.esm-8790d538.js";import{C as Ue}from"./confirmationservice.esm-23320926.js";import{s as Te}from"./progressspinner.esm-c757b227.js";import{s as Ne}from"./row.esm-6ebc942e.js";import{s as Fe}from"./columngroup.esm-9dd1458e.js";import{s as Ie}from"./calendar.esm-89e9a2d9.js";import{s as Be}from"./textarea.esm-8d199d04.js";import{s as Me}from"./chips.esm-eaa25b3f.js";import{s as Ye}from"./multiselect.esm-02197fcd.js";import{s as Ae}from"./inputmask.esm-1ed7c15b.js";import{s as Re}from"./progressbar.esm-6042247e.js";import{l as ne}from"./lodash-bf1bac5c.js";import{a as I}from"./index-3716a3fc.js";import{S as K}from"./Service-2950c61a.js";import{p as W}from"./ProfilePagesStore-d225242b.js";import{r as X,u as re}from"./index.esm-9253bb70.js";import{u as le,E as je}from"./EmployeeDetails-d3d09029.js";import{d as z}from"./dayjs.min-e0adaab4.js";import{_ as qe}from"./EmployeePayslips-29926734.js";import"./_commonjsHelpers-042e6b4d.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";const Oe={class:"mb-0 card top-line"},He={class:"card-body"},Ge={class:"row"},ze={class:"col-12 text-end"},Ke=e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true"},null,-1),We=[Ke],Je={class:"text-center col-12"},Qe={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{"box-shadow":"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",border:"1px solid navy"}},Xe=["src"],Ze=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),et={class:"mt-4"},tt={class:"progress-wrapper border-bottom-liteAsh"},ot=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),st={class:"mb-1 px-auto d-flex align-items-center justify-content-center pl-5"},at={class:"text-center fw-bold"},lt={class:"personal-edit position-absolute",style:{right:"-9px"}},it={href:"#",class:"edit-icon"},nt={class:"modal-body"},dt={class:"row"},rt={class:"col-md-6"},ct={class:"mb-3 form-group"},pt=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),_t={key:0,class:"text-red-400 fs-6 font-semibold"},mt={class:"col-md-6"},ut={class:"form-group"},ft=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),bt={key:0,class:"text-red-400 fs-6 font-semibold"},vt={class:"col-md-6 d-flex flex-column"},gt={class:"d-flex justify-items-center flex-column"},ht=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),yt={class:"d-flex justify-items-center align-items-center"},xt=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),Dt={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},$t={key:0,class:"text-red-400 fs-6 font-semibold"},wt=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),kt=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Pt={class:"mb-4 text-center profile-mid-right-content"},Ct={class:"py-2 border-bottom-liteAsh"},Vt=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),Et={key:0,class:"f-12 fw-bold"},St={key:1,class:"text-danger f-12 fw-bold"},Lt={class:"py-2 border-bottom-liteAsh"},Ut=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),Tt={key:0,class:"f-12 fw-bold"},Nt={key:1,class:"f-12 fw-bold"},Ft={class:"py-2 border-bottom-liteAsh"},It=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),Bt={key:0,class:"f-12 fw-bold"},Mt={key:1,class:"f-12 fw-bold"},Yt={class:"py-2 border-bottom-liteAsh"},At=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),Rt={key:0,class:"f-12 fw-bold"},jt={key:1,class:"f-12 fw-bold"},qt={class:"py-2 border-bottom-liteAsh ml-3"},Ot={class:"text-muted f-12 fw-bold"},Ht=e("i",{class:"ri-pencil-fill"},null,-1),Gt=[Ht],zt={key:0,class:"f-12 fw-bold"},Kt={key:1,class:"f-12 fw-bold"},Wt={class:"py-2 border-bottom-liteAsh"},Jt={class:"text-muted f-12 fw-bold"},Qt=e("i",{class:"ri-pencil-fill"},null,-1),Xt=[Qt],Zt={key:0,class:"f-12 fw-bold"},eo={key:1,class:"f-12 fw-bold"},to=e("div",{class:"text-center profile-bottom-right-content"},[e("button",{class:"btn btn-danger"},[e("i",{class:"fa fa-sign-out me-1"}),k(" Action ")])],-1),oo={class:"confirmation-content"},so=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),ao={class:"card p-3 d-flex justify-items-center align-items-center",style:{width:"18rem","margin-left":"150px",height:"300px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},lo=["src"],io={class:"card-body d-flex justify-items-center align-items-center mt-4",style:{"flex-direction":"column"}},no={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{border:"1px solid navy","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},ro=["src"],co={class:"card-title mt-3 mb-2 f-12",style:{"text-align":"center"}},po={key:0,class:"f-12 card-text mb-2 text-gray-400"},_o={key:1,class:"f-12 fw-bold"},mo={key:2,class:"f-12 fw-bold mb-2",style:{color:"grey"}},uo={key:3,class:"f-12 mb-2 text-secondary-emphasis"},fo=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),bo={__name:"EmployeeCard",setup(J){const C=K(),n=w(!1),E=w(!1),D=H({department:"",reporting_manager:""}),h=H({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),s=w([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),o=w(!1);let c=W();const Y=L=>{L.target.files&&L.target.files[0]&&(c.profile=L.target.files[0]);let r=new FormData;r.append("user_code",c.user_code),r.append("file_object",c.profile);let U="/profile-pages/updateProfilePicture";I.post(U,r).then(T=>{}).finally(()=>{console.log("Photo Sent"),c.getProfilePhoto()})},B=w(),M=w(),p=w(!1),a=w(!1),i=w(!1),v=w("None"),S=L=>{console.log(L),I.post("/profile-pages/updateDepartment",{user_code:c.employeeDetails.user_code,department_id:D.department}).then(r=>{let U=ne._.find(B.value,["id",D.department]).name;console.log("Lodash [Selected Dept]: "+U),c.employeeDetails.get_employee_office_details.department_name=U,v.value="Department updated successfully !",console.log(r.data)}).catch(r=>{v.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+r)}).finally(()=>{i.value=!0,p.value=!1})},O=L=>{console.log("editReportingManager : "+L),I.post("/profile-pages/updateReportingManager",{user_code:c.employeeDetails.user_code,manager_user_code:D.reporting_manager}).then(r=>{let U=ne._.find(M.value,["user_code",D.reporting_manager]);c.employeeDetails.get_employee_office_details.l1_manager_name=U.name,c.employeeDetails.get_employee_office_details.l1_manager_code=U.user_code,v.value="Reporting Manager updated successfully !",console.log(r.data)}).catch(r=>{v.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+r)}).finally(()=>{i.value=!0,a.value=!1})},N=()=>{D.department=c.employeeDetails.get_employee_office_details.department_name,D.reporting_manager=c.employeeDetails.get_employee_office_details.l1_manager_name,console.log(D.department)};Z(()=>{C.DepartmentDetails().then(L=>{B.value=L.data,console.log("testing"+c.employeeDetails.get_employee_office_details.l1_manager_name)}),C.ManagerDetails().then(L=>{M.value=L.data}),N()});const G=L=>{L.target.files&&L.target.files[0]&&(h.emp_upload_doc=L.target.files[0],console.log(h.emp_upload_doc))},d=te(()=>({emp_name:{required:X},emp_doc_name:{required:X},emp_upload_doc:{required:X}})),u=re(d,h),se=()=>{u.value.$validate(),u.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),ae())},ae=()=>{n.value=!0,o.value=!1;const r=`/update-EmplpoyeeName-info/${C.current_user_id}`,U=new FormData;U.append("user_code",c.employeeDetails.user_code),U.append("name",h.emp_name),U.append("onboard_document_type",h.emp_doc_name.name),U.append("emp_doc",h.emp_upload_doc),I.post(r,U).finally(()=>{n.value=!1})};return(L,r)=>{const U=$("Toast"),T=$("InputText"),_=$("Dropdown"),V=$("Dialog"),j=$("ProgressBar"),ee=$("ProgressSpinner");return f(),b(de,null,[t(U),e("div",Oe,[e("div",He,[e("div",Ge,[e("div",ze,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:r[0]||(r[0]=y=>E.value=!0)},We)]),e("div",Je,[e("div",Qe,[l(c).profile?(f(),b("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${l(c).profile}`,srcset:"",alt:""},null,8,Xe)):F("",!0),Ze,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:r[1]||(r[1]=y=>Y(y))},null,32)]),e("div",et,[e("div",tt,[ot,e("div",st,[e("h6",at,x(l(c).employeeDetails.name),1),e("span",lt,[e("a",it,[e("i",{class:"ri-pencil-fill",onClick:r[2]||(r[2]=y=>o.value=!0)})])])]),t(V,{visible:o.value,"onUpdate:visible":r[6]||(r[6]=y=>o.value=y),modal:"",header:" ",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:m(()=>[e("div",null,[e("div",nt,[e("div",dt,[e("div",rt,[e("div",ct,[pt,t(T,{type:"text",modelValue:h.emp_name,"onUpdate:modelValue":r[3]||(r[3]=y=>h.emp_name=y),style:{"text-transform":"uppercase"},class:Q(["form-controls pl-2",[l(u).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),l(u).emp_name.$error?(f(),b("span",_t,x(l(u).emp_name.required.$message.replace("Value","Employee Name")),1)):F("",!0)])]),e("div",mt,[e("div",ut,[ft,t(_,{modelValue:h.emp_doc_name,"onUpdate:modelValue":r[4]||(r[4]=y=>h.emp_doc_name=y),options:s.value,optionLabel:"name",placeholder:"Select a document ",class:Q(["form-controls pl-2 w-full h-12",[l(u).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),l(u).emp_doc_name.$error?(f(),b("span",bt,x(l(u).emp_doc_name.required.$message.replace("Value","Documents")),1)):F("",!0)])]),e("div",vt,[e("div",gt,[ht,e("div",yt,[t(U),xt,h.emp_upload_doc?(f(),b("div",Dt,x(h.emp_upload_doc.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:r[5]||(r[5]=y=>G(y)),class:Q([l(u).emp_upload_doc.$error?"p-invalid":""])},null,34)]),l(u).emp_upload_doc.$error?(f(),b("span",$t,x(l(u).emp_upload_doc.required.$message.replace("Value","document")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:se},"Submit")])])])])]),_:1},8,["visible"]),wt,t(j,{value:l(c).employeeDetails.profile_completeness},null,8,["value"]),kt]),e("div",Pt,[e("div",Ct,[Vt,l(c).employeeDetails.active==1?(f(),b("p",Et," Active ")):(f(),b("p",St,"Not Active"))]),e("div",Lt,[Ut,l(c).employeeDetails.user_code?(f(),b("p",Tt,x(l(c).employeeDetails.user_code),1)):(f(),b("p",Nt,"-"))]),e("div",Ft,[It,l(c).employeeDetails.get_employee_office_details.designation?(f(),b("p",Bt,x(l(c).employeeDetails.get_employee_office_details.designation),1)):(f(),b("p",Mt,"-"))]),e("div",Yt,[At,l(c).employeeDetails.get_employee_office_details.work_location?(f(),b("p",Rt,x(l(c).employeeDetails.get_employee_office_details.work_location),1)):(f(),b("p",jt,"-"))]),e("div",qt,[e("p",Ot,[k(" Department "),e("a",{href:"#",class:"edit-icon",onClick:r[7]||(r[7]=y=>p.value=!0)},Gt)]),l(c).employeeDetails.get_employee_office_details.department_id?(f(),b("p",zt,x(l(c).employeeDetails.get_employee_office_details.department_name),1)):(f(),b("p",Kt,"-"))]),e("div",Wt,[e("p",Jt,[k(" Reporting To "),e("a",{href:"#",class:"edit-icon",onClick:r[8]||(r[8]=y=>a.value=!0)},Xt)]),l(c).employeeDetails.get_employee_office_details.l1_manager_code?(f(),b("p",Zt,x(l(c).employeeDetails.get_employee_office_details.l1_manager_name)+" - "+x(l(c).employeeDetails.get_employee_office_details.l1_manager_code),1)):(f(),b("p",eo,"-"))])]),to])])])])]),t(V,{header:"Status",visible:i.value,"onUpdate:visible":r[9]||(r[9]=y=>i.value=y),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:m(()=>[e("div",oo,[so,e("span",null,x(v.value),1)])]),_:1},8,["visible"]),t(V,{visible:p.value,"onUpdate:visible":r[11]||(r[11]=y=>p.value=y),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:S}," Save ")])]),default:m(()=>[t(_,{options:B.value,optionLabel:"name",modelValue:D.department,"onUpdate:modelValue":r[10]||(r[10]=y=>D.department=y),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(V,{visible:a.value,"onUpdate:visible":r[13]||(r[13]=y=>a.value=y),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:O}," Save ")])]),default:m(()=>[t(_,{optionLabel:"name",options:M.value,modelValue:D.reporting_manager,"onUpdate:modelValue":r[12]||(r[12]=y=>D.reporting_manager=y),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),t(V,{visible:E.value,"onUpdate:visible":r[14]||(r[14]=y=>E.value=y),modal:"",header:"",style:{width:"40vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:m(()=>[e("div",ao,[e("img",{src:`${l(c).employeeDetails.client_logo}`,alt:"",class:"",style:{height:"40px",width:"140px"}},null,8,lo),e("div",io,[e("div",no,[l(c).profile?(f(),b("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border",src:`data:image/png;base64,${l(c).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"120px",height:"120px"}},null,8,ro)):F("",!0)]),e("h5",co,x(l(c).employeeDetails.name),1),l(c).employeeDetails.get_employee_office_details.department_id?(f(),b("h5",po,x(l(c).employeeDetails.get_employee_office_details.department_name),1)):(f(),b("h1",_o,"-")),l(c).employeeDetails.user_code?(f(),b("h5",mo,x(l(c).employeeDetails.user_code),1)):(f(),b("p",uo,"-"))])])]),_:1},8,["visible"]),t(V,{header:"Header",visible:n.value,"onUpdate:visible":r[15]||(r[15]=y=>n.value=y),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(ee,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[fo]),_:1},8,["visible"])],64)}}};const vo={class:"mb-2 card"},go={class:"card-body"},ho={class:"fw-bold fs-15"},yo={class:"space-between"},xo={class:"flex-col input_text"},Do=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),$o={class:"flex-col input_text"},wo=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),ko={class:"space-between M-T mr-4"},Po={class:"flex-col input_text"},Co=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Vo={class:"flex-col input_text"},Eo=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),So={class:"my-6 table-responsive"},Lo={key:0},Uo={key:1},To=["onClick"],No=["onClick"],Fo={class:"space-between"},Io={class:"flex-col input_text"},Bo=e("span",null,[k("Name "),e("span",{class:"text-danger"},"*")],-1),Mo={class:"flex-col input_text"},Yo=e("span",null,[k("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ao={class:"space-between M-T"},Ro={class:"flex-col input_text"},jo=e("span",null,[k("Date of birth "),e("span",{class:"text-danger"},"*")],-1),qo={class:"flex-col input_text"},Oo=e("span",null,[k("phone"),e("span",{class:"text-danger"},"*")],-1),Ho={__name:"FamilyDetails",setup(J){const C=K(),n=W(),E=oe();w("");const D=w(!1),h=w(!1),s=H({name:"",relationship:"",dob:"",phone_number:""}),o=H({name:"",relationship:"",dob:"",phone_number:""}),c=w(),Y=()=>{n.loading_screen=!0;let i=`/add-family-info/${C.current_user_id}`;I.post(i,{user_code:n.employeeDetails.user_code,name:s.name,relationship:s.relationship,dob:z(s.dob).format("YYYY-MM-DD"),phone_number:s.phone_number}).then(v=>{v.data.status=="success"?(E.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),n.employeeDetails.get_family_details.dob=le(s.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=s.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=s.phone_number):v.data.status=="failure"}).catch(v=>{console.log(v)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),D.value=!1},B=a=>{h.value=!0,c.value=a.id,o.name=a.name,o.relationship=a.relationship,o.dob=a.dob,o.phone_number=a.phone_number},M=a=>{n.loading_screen=!0,c.value=a.id;let v=` /delete-family-info/${C.current_user_id}`;I.post(v,{current_table_id:c.value}).then(S=>{S.data.status=="success"?(E.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),n.employeeDetails.get_family_details.dob=le(s.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=s.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=s.phone_number):S.data.status=="failure"&&(leave_data.leave_request_error_messege=S.data.message)}).catch(S=>{console.log(S)}).finally(()=>{n.loading_screen=!1,n.fetchEmployeeDetails()})},p=a=>{n.loading_screen=!0;let v=`/update-family-info/${C.current_user_id}`;I.post(v,{user_code:n.employeeDetails.user_code,current_table_id:c.value,name:o.name,relationship:o.relationship,dob:z(o.dob).format("YYYY-MM-DD"),phone_number:o.phone_number}).then(S=>{S.data.status=="success"?(E.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),n.employeeDetails.get_family_details.dob=le(o.dob,"YYYY-MM-DD"),n.employeeDetails.get_family_details.name=o.gender,n.employeeDetails.get_family_details.relationship=s.relationship,n.employeeDetails.get_family_details.phone_number=o.phone_number):S.data.status=="failure"&&(leave_data.leave_request_error_messege=S.data.message)}).catch(S=>{console.log(S)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),h.value=!1};return Z(()=>{}),(a,i)=>{const v=$("Calendar"),S=$("Toast"),O=$("Dialog"),N=$("Column"),G=$("DataTable");return f(),b("div",vo,[e("div",go,[e("h6",ho,[k("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"79%"},onClick:i[0]||(i[0]=d=>D.value=!0)}," Add New "),t(O,{visible:D.value,"onUpdate:visible":i[5]||(i[5]=d=>D.value=d),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:m(()=>[t(S),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:Y},"submit")])]),default:m(()=>[e("div",yo,[e("div",xo,[Do,R(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":i[1]||(i[1]=d=>s.name=d)},null,512),[[q,s.name]])]),e("div",$o,[wo,R(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":i[2]||(i[2]=d=>s.relationship=d),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[q,s.relationship]])])]),e("div",ko,[e("div",Po,[Co,t(v,{dateFormat:"dd/mm/yy",modelValue:s.dob,"onUpdate:modelValue":i[3]||(i[3]=d=>s.dob=d),class:"h-10 w-full",minDate:a.minDate,maxDate:a.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Vo,[Eo,R(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":i[4]||(i[4]=d=>s.phone_number=d)},null,512),[[q,s.phone_number]])])])]),_:1},8,["visible"])]),e("div",So,[t(G,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:l(n).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[t(N,{header:"Name",field:"name",style:{"min-width":"8rem"}}),t(N,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),t(N,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:m(d=>[d.data.dob=="Invalid Date"?(f(),b("div",Lo," - ")):(f(),b("div",Uo,x(l(z)(d.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),t(N,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),t(N,{exportable:!1,header:"Action",style:{"min-width":"8rem"}},{body:m(d=>[e("button",{class:"mr-3 btn btn-success",onClick:u=>B(d.data)},"Edit",8,To),e("button",{class:"btn btn-danger",onClick:u=>M(d.data)},"Delete",8,No),e("template",null,[t(O,{visible:h.value,"onUpdate:visible":i[10]||(i[10]=u=>h.value=u),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:m(()=>[t(S),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:p},"submit")])]),default:m(()=>[e("div",Fo,[e("div",Io,[Bo,R(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":i[6]||(i[6]=u=>o.name=u),required:""},null,512),[[q,o.name]])]),e("div",Mo,[Yo,R(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":i[7]||(i[7]=u=>o.relationship=u),required:""},null,512),[[q,o.relationship]])])]),e("div",Ao,[e("div",Ro,[jo,R(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":i[8]||(i[8]=u=>o.dob=u)},null,512),[[q,o.dob]])]),e("div",qo,[Oo,R(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":i[9]||(i[9]=u=>o.phone_number=u)},null,512),[[q,o.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}};const Go=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),zo={class:"tab-content",id:"pills-tabContent"},Ko={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},Wo=e("div",{class:"mb-2 card"},[e("div",{class:"card-body"},[e("form",{action:"",method:"POST",enctype:"multipart/form-data"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:"mb-2 fw-bold fs-15 z-0"}," Payroll Summary ")]),e("ul",{class:"personal-info"},[e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Last Processed"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Total Working Days"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1"},[e("div",{class:"title"},"Loss Of Pay(LOP)"),e("div",{class:"text"}," - ")])])])])],-1),Jo={class:"mb-2 card"},Qo={class:"card-body"},Xo=e("i",{class:"ri-pencil-fill"},null,-1),Zo=[Xo],es={class:"modal-body"},ts={class:"row"},os={class:"col-md-6"},ss={class:"mb-3 form-group"},as=e("label",null,"Bank Name",-1),ls={class:"col-md-6"},is={class:"mb-3 form-group"},ns=e("label",null,"Bank Account No",-1),ds=e("div",{class:"cal-icon"},null,-1),rs={class:"col-md-6"},cs={class:"mb-3 form-group"},ps=e("label",null,"IFSC Code",-1),_s={class:"col-md-6"},ms={class:"mb-3 form-group"},us=e("label",null,"PAN No",-1),fs={class:"col-md-6"},bs={class:"floating"},vs=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),gs={class:"flex justify-content-start"},hs=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),ys={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},xs={class:"personal-info"},Ds=e("div",{class:"title"},"Bank Name",-1),$s={class:"text"},ws=e("div",{class:"title"},"Bank Account No.",-1),ks={class:"text"},Ps=e("div",{class:"title"},"IFSC Code",-1),Cs={class:"text"},Vs=e("div",{class:"title"},"PAN No",-1),Es={class:"text w-20"},Ss={class:"personal-edit"},Ls={href:"#",class:"edit-icon",style:{color:"#e63b1f"}},Us={class:"modal-body"},Ts={class:"row"},Ns={class:"col-md-6"},Fs={class:"mb-3 form-group"},Is=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),Bs={key:0,class:"text-red-400 fs-6 font-semibold"},Ms={class:"col-md-6 d-flex flex-column"},Ys={class:"d-flex justify-items-center flex-column ml-10"},As=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),Rs={class:"d-flex justify-items-center align-items-center"},js=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),qs={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},Os={key:0,class:"text-red-400 fs-6 font-semibold"},Hs={class:"mb-2 card"},Gs={class:"card-body"},zs={class:"mb-2 fw-bold fs-15"},Ks={class:"personal-edit"},Ws=e("i",{class:"ri-pencil-fill"},null,-1),Js=[Ws],Qs={class:"modal-body"},Xs={class:"row"},Zs={class:"col-md-6"},ea={class:"floating"},ta=e("label",{for:"",class:"float-label"},[k("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),oa=e("option",{value:"",hidden:"",selected:"",disabled:""},"PF Applicable",-1),sa=e("option",{value:"yes"},"Yes",-1),aa=e("option",{value:"no"},"No",-1),la=[oa,sa,aa],ia={class:"col-md-6"},na={class:"mb-3 form-group"},da=e("label",null,"EPF Number",-1),ra={class:"col-md-6"},ca={class:"mb-3 form-group"},pa=e("label",null,"UAN Number",-1),_a={class:"col-md-6"},ma={class:"mb-3 form-group"},ua=e("label",{class:"float-label"},[k("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),fa=e("option",{value:"",hidden:"",selected:"",disabled:""},"ESIC Applicable",-1),ba=e("option",{value:"yes"}," Yes ",-1),va=e("option",{value:"no"}," No ",-1),ga=[fa,ba,va],ha={class:"col-md-6"},ya={class:"floating"},xa=e("label",{for:"",class:"float-label"},"ESIC Number",-1),Da=e("span",{class:"error",id:"error_esic_number"},null,-1),$a=e("div",{class:"col-md-6"},[e("div",{class:"floating"},[e("span",{class:"error",id:"error_esic_number"})])],-1),wa={key:0,class:"personal-info"},ka=e("div",{class:"title"},"PF Applicable",-1),Pa={class:"text"},Ca=e("div",{class:"title"},"EPF Number",-1),Va={class:"text"},Ea=e("div",{class:"title"},"UAN Number",-1),Sa={class:"text"},La=e("div",{class:"title"},"ESIC Applicable",-1),Ua={class:"text"},Ta=e("div",{class:"title"},"ESIC Number",-1),Na={class:"text"},Fa={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Ia={class:"mb-2 card"},Ba={class:"card-body"},Ma=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Ya={__name:"FinanceDetails",setup(J){const C=oe(),n=w(!1),E=w(!1);let D=new FormData;D.append("user_code",K.current_user_code),D.append("file_object",W.value);let h="/profile-pages/updateProfilePicture";I.post(h,D).then(T=>{}).finally(()=>{console.log("Photo Sent")});const s=W(),o=K(),c=w([]),Y=w();c.value.push(s.employeeDetails.get_statutory_details),Z(()=>{o.getBankList().then(T=>{Y.value=T.data}),s.fetchEmployeeDetails()});const B=w(!1),M=w(!1);w(),w();const p=H({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),a=H({pan_no:"",Pancard:""}),i=T=>{T.target.files&&T.target.files[0]&&(p.PassBook=T.target.files[0],console.log(p.PassBook))},v=te(()=>{if(s.employeeDetails.get_statutory_details.esic_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.esic_applicable=="yes")return"Yes"}),S=te(()=>{if(s.employeeDetails.get_statutory_details.pf_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.pf_applicable=="yes")return"Yes"}),O=()=>{n.value=!0;let _=`/update-bank-info/${o.current_user_id}`,V=new FormData;V.append("user_code",s.employeeDetails.user_code),V.append("bank_id",p.bank_id),V.append("account_no",p.bank_ac_no),V.append("bank_ifsc",p.ifsc_code),V.append("PassBook",p.PassBook),V.append("onboard_document_type","Cheque leaf/Bank Passbook"),I.post(_,V).then(j=>{j.data.status=="success"?(C.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),s.employeeDetails.get_employee_details.bank_id=p.bank_id,s.employeeDetails.get_employee_details.bank_account_number=p.bank_ac_no,s.employeeDetails.get_employee_details.bank_ifsc_code=p.ifsc_code,s.employeeDetails.get_employee_details.pan_no=p.pan_no):j.data.status=="failure"&&(leave_data.leave_request_error_messege=j.data.message)}).catch(j=>{console.log(j)}).finally(()=>{s.fetchEmployeeDetails(),n.value=!1}),B.value=!1};function N(){p.bank_id=parseInt(s.employeeDetails.get_employee_details.bank_id),p.bank_ac_no=s.employeeDetails.get_employee_details.bank_account_number,p.ifsc_code=s.employeeDetails.get_employee_details.bank_ifsc_code,p.pan_no=s.employeeDetails.get_employee_details.pan_number,B.value=!0}function G(){d.pf_applicable=s.employeeDetails.get_statutory_details.pf_applicable,d.epf_no=s.employeeDetails.get_statutory_details.epf_number,d.uan_no=s.employeeDetails.get_statutory_details.uan_number,d.esic_applicable=s.employeeDetails.get_statutory_details.esic_applicable,d.esic_no=s.employeeDetails.get_statutory_details.esic_number,M.value=!0}const d=H({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),u=()=>{n.value=!0;let _=`/update-statutory-info/${o.current_user_id}`;I.post(_,{user_code:s.employeeDetails.user_code,pf_applicable:d.pf_applicable,epf_number:d.epf_no,uan_number:d.uan_no,esic_applicable:d.esic_applicable,esic_number:d.esic_no}).then(V=>{V.data.status=="success"?C.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):V.data.status=="failure"&&(leave_data.leave_request_error_messege=V.data.message)}).catch(V=>{console.log(V)}).finally(()=>{s.fetchEmployeeDetails(),n.value=!1}),M.value=!1},se=T=>{T.target.files&&T.target.files[0]&&(a.Pancard=T.target.files[0],console.log(a.Pancard))},ae=()=>{n.value=!0;const _=`/update-Pancard-info/${o.current_user_id}`,V=new FormData;V.append("pan_no",a.pan_no),V.append("pancard",a.Pancard),V.append("user_code",s.employeeDetails.user_code),V.append("onboard_document_type","Pan Card"),E.value=!1,a.Pancard&&I.post(_,V).finally(()=>{n.value=!1})},L=te(()=>({pan_no:{required:X},Pancard:{required:X}})),r=re(L,a),U=()=>{r.value.$validate(),r.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),ae())};return(T,_)=>{const V=$("Dropdown"),j=$("InputText"),ee=$("Toast"),y=$("Dialog"),ce=$("InputMask"),pe=$("ProgressSpinner");return f(),b("div",null,[Go,e("div",zo,[e("div",Ko,[Wo,e("div",Jo,[e("div",Qo,[e("h6",{class:"mb-2 fw-bold fs-15"},[k("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:N},Zo)])]),t(y,{visible:B.value,"onUpdate:visible":_[5]||(_[5]=g=>B.value=g),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:m(()=>[e("div",null,[e("div",es,[e("div",ts,[e("div",os,[e("div",ss,[as,t(V,{editable:"",options:Y.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:p.bank_id,"onUpdate:modelValue":_[0]||(_[0]=g=>p.bank_id=g)},null,8,["options","modelValue"])])]),e("div",ls,[e("div",is,[ns,ds,t(j,{class:"form-controls onboard-form pl-2",inputId:"integeronly",name:"account_no",min:0,max:100,type:"number",modelValue:p.bank_ac_no,"onUpdate:modelValue":_[1]||(_[1]=g=>p.bank_ac_no=g)},null,8,["modelValue"])])]),e("div",rs,[e("div",cs,[ps,t(j,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:p.ifsc_code,"onUpdate:modelValue":_[2]||(_[2]=g=>p.ifsc_code=g)},null,8,["modelValue"])])]),e("div",_s,[e("div",ms,[us,t(j,{type:"text",name:"pan_nos",class:"form-controls pl-2",modelValue:p.pan_no,"onUpdate:modelValue":_[3]||(_[3]=g=>p.pan_no=g)},null,8,["modelValue"])])]),e("div",fs,[e("div",bs,[vs,e("div",gs,[t(ee),hs,e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:_[4]||(_[4]=g=>i(g))},null,32),p.PassBook?(f(),b("div",ys,x(p.PassBook.name),1)):F("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:O},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",xs,[e("li",null,[Ds,e("div",$s,x(l(s).employeeDetails.get_employee_details.bank_name),1)]),e("li",null,[ws,e("div",ks,x(l(s).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[Ps,e("div",Cs,x(l(s).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[Vs,e("div",Es,[k(x(l(s).employeeDetails.get_employee_details.pan_number)+" ",1),e("span",Ss,[e("a",Ls,[e("i",{class:"ri-pencil-fill",onClick:_[6]||(_[6]=g=>E.value=!0)})])])])])])])])]),t(y,{visible:E.value,"onUpdate:visible":_[9]||(_[9]=g=>E.value=g),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:m(()=>[e("div",null,[e("div",Us,[e("div",Ts,[e("div",Ns,[e("div",Fs,[Is,t(ce,{onFocusout:T.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:a.pan_no,"onUpdate:modelValue":_[7]||(_[7]=g=>a.pan_no=g),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:Q(["form-controls pl-2",[l(r).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),l(r).pan_no.$error?(f(),b("span",Bs,x(l(r).pan_no.required.$message.replace("Value","Pancard number")),1)):F("",!0)])]),e("div",Ms,[e("div",Ys,[As,e("div",Rs,[t(ee),js,a.Pancard?(f(),b("div",qs,x(a.Pancard.name),1)):F("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:_[8]||(_[8]=g=>se(g)),class:Q([l(r).Pancard.$error?"p-invalid":""])},null,34)]),l(r).Pancard.$error?(f(),b("span",Os,x(l(r).Pancard.required.$message.replace("Value","Pancard attachment")),1)):F("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:U},"Submit")])])])])]),_:1},8,["visible"]),e("div",Hs,[e("div",Gs,[e("h6",zs,[k("Statutory Information "),e("span",Ks,[e("a",{href:"#",class:"edit-icon",onClick:_[10]||(_[10]=g=>G())},Js)])]),t(y,{visible:M.value,"onUpdate:visible":_[16]||(_[16]=g=>M.value=g),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:m(()=>[e("div",Qs,[e("div",Xs,[e("div",Zs,[e("div",ea,[ta,R(e("select",{placeholder:"PF Applicable",name:"pf_applicable",id:"pf_applicable",class:"onboard-form form-control textbox select2_form_without_search","onUpdate:modelValue":_[11]||(_[11]=g=>d.pf_applicable=g)},la,512),[[ie,d.pf_applicable]])])]),e("div",ia,[e("div",na,[da,R(e("input",{type:"text",placeholder:"EPF Number",name:"epf_number",id:"epf_number",class:"onboard-form form-control","onUpdate:modelValue":_[12]||(_[12]=g=>d.epf_no=g)},null,512),[[q,d.epf_no]])])]),e("div",ra,[e("div",ca,[pa,R(e("input",{name:"uan_number",id:"uan_number",minlength:"12",maxlength:"12",class:"form-control onboard-form",type:"text","pattern-data":"ifsc",required:"","onUpdate:modelValue":_[13]||(_[13]=g=>d.uan_no=g)},null,512),[[q,d.uan_no]])])]),e("div",_a,[e("div",ma,[ua,R(e("select",{placeholder:"ESIC Applicable",name:"esic_applicable",id:"esic_applicable",class:"onboard-form form-control textbox select2_form_without_search",required:"","onUpdate:modelValue":_[14]||(_[14]=g=>d.esic_applicable=g)},ga,512),[[ie,d.esic_applicable]])])]),e("div",ha,[e("div",ya,[xa,R(e("input",{type:"text",placeholder:"ESIC Number",name:"esic_number",id:"esic_number",minlength:"10",maxlength:"10",class:"onboard-form form-control textbox","onUpdate:modelValue":_[15]||(_[15]=g=>d.esic_no=g)},null,512),[[q,d.esic_no]]),Da])]),$a]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:u},"Save")])])])]),_:1},8,["visible"]),l(s).employeeDetails.get_statutory_details?(f(),b("ul",wa,[e("li",null,[ka,e("div",Pa,x(l(S)),1)]),e("li",null,[Ca,e("div",Va,x(l(s).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[Ea,e("div",Sa,x(l(s).employeeDetails.get_statutory_details.uan_number),1)]),e("li",null,[La,e("div",Ua,x(l(v)),1)]),e("li",null,[Ta,e("div",Na,x(l(s).employeeDetails.get_employee_details.account_no)+" "+x(l(s).employeeDetails.get_statutory_details.esic_number),1)])])):F("",!0)])])]),e("div",Fa,[e("div",Ia,[e("div",Ba,[t(qe)])])])]),t(y,{header:"Header",visible:n.value,"onUpdate:visible":_[17]||(_[17]=g=>n.value=g),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(pe,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[Ma]),_:1},8,["visible"])])}}};const Aa={class:"mb-2 card"},Ra={class:"card-body"},ja={class:"fw-bold fs-15"},qa={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},Oa={class:"space-between"},Ha={class:"flex-col input_text"},Ga=e("span",null,[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),za={class:"flex-col input_text"},Ka=e("span",null,[k(" Location"),e("span",{class:"text-danger"},"*")],-1),Wa={class:"space-between M-T"},Ja={class:"flex-col input_text"},Qa=e("span",null,[k("Job Position "),e("span",{class:"text-danger"},"*")],-1),Xa={class:"flex-col input_text",style:{"margin-right":"7px"}},Za=e("span",{style:{paddingLeft:"6px"}},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),el={class:"space-between M-T"},tl={class:"flex-col input_text",style:{marginLeft:"-6px"}},ol=e("span",{style:{paddingLeft:"6px"}},[k("Period To "),e("span",{class:"text-danger"},"*")],-1),sl={class:"my-6 table-responsive"},al=["onClick"],ll=["onClick"],il={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},nl={class:"space-between"},dl={class:"flex-col input_text"},rl=e("span",null,[k("Company Name "),e("span",{class:"text-danger"},"*")],-1),cl={class:"flex-col input_text"},pl=e("span",null,[k(" Location"),e("span",{class:"text-danger"},"*")],-1),_l={class:"space-between M-T"},ml={class:"flex-col input_text"},ul=e("span",null,[k("Job Position "),e("span",{class:"text-danger"},"*")],-1),fl={class:"flex-col input_text",style:{"margin-right":"7px"}},bl=e("span",{style:{paddingLeft:"6px"}},[k("Period From"),e("span",{class:"text-danger"},"*")],-1),vl={class:"space-between M-T"},gl={class:"flex-col input_text",style:{marginLeft:"-6px"}},hl=e("span",{style:{paddingLeft:"6px"}},[k("Period To "),e("span",{class:"text-danger"},"*")],-1),yl={__name:"ExperienceDetails",setup(J){const C=K(),n=W(),E=oe();oe(),w("");const D=w(!1),h=w(!1),s=w(),o=H({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),c=()=>{console.log(o),n.loading_screen=!0;let a=`/add-experience-info/${C.current_user_id}`;I.post(a,{user_code:n.employeeDetails.user_code,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:z(o.period_from).format("YYYY-MM-DD"),period_to:z(o.period_to).format("YYYY-MM-DD")}).then(i=>{i.data.status=="success"?E.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):i.data.status=="failure"&&(leave_data.leave_request_error_messege=i.data.message)}).catch(i=>{console.log(i)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1}),D.value=!1};Z(()=>{});const Y=p=>{h.value=!0,s.value=p.id,console.log(s.value),o.company_name=p.company_name,o.location=p.location,o.job_position=p.job_position,o.period_from=p.period_from,o.period_to=p.period_to},B=p=>{h.value=!1;let i=`/update-experience-info/${C.current_user_id}`;I.post(i,{user_code:n.employeeDetails.user_code,exp_current_table_id:s.value,company_name:o.company_name,experience_location:o.location,job_position:o.job_position,period_from:z(o.period_from).format("YYYY-MM-DD"),period_to:z(o.period_to).format("YYYY-MM-DD")}).then(v=>{v.data.status=="success"?(window.location.reload(),E.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):v.data.status=="failure"&&(leave_data.leave_request_error_messege=v.data.message)}).catch(v=>{console.log(v)})},M=p=>{s.value=p.id;let i=`/delete-experience-info/${C.current_user_id}`;I.post(i,{exp_current_table_id:s.value}).then(v=>{v.data.status=="success"?E.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}):v.data.status=="failure"&&(leave_data.leave_request_error_messege=v.data.message)}).catch(v=>{console.log(v)}).finally(()=>{n.fetchEmployeeDetails(),n.loading_screen=!1})};return(p,a)=>{const i=$("InputText"),v=$("Calendar"),S=$("Toast"),O=$("Dialog"),N=$("Column"),G=$("DataTable");return f(),b("div",null,[e("div",Aa,[e("div",Ra,[e("h6",ja,[k("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"76%"},onClick:a[0]||(a[0]=d=>D.value=!0)}," Add New "),t(O,{visible:D.value,"onUpdate:visible":a[6]||(a[6]=d=>D.value=d),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:m(()=>[e("div",null,[t(S),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:c},"submit")])]),default:m(()=>[e("div",qa,[e("div",Oa,[e("div",Ha,[Ga,t(i,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":a[1]||(a[1]=d=>o.company_name=d),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",za,[Ka,t(i,{type:"text",modelValue:o.location,"onUpdate:modelValue":a[2]||(a[2]=d=>o.location=d),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",Wa,[e("div",Ja,[Qa,t(i,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":a[3]||(a[3]=d=>o.job_position=d),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",Xa,[Za,t(v,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":a[4]||(a[4]=d=>o.period_from=d),style:A({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",el,[e("div",tl,[ol,t(v,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":a[5]||(a[5]=d=>o.period_to=d),class:"",style:A({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])]),e("div",sl,[t(G,{ref:"dt",value:l(n).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[t(N,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),t(N,{field:"location",header:"Location",style:{"min-width":"8rem"}}),t(N,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),t(N,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),t(N,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),t(N,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:m(d=>[e("button",{class:"mr-3 btn btn-success",onClick:u=>Y(d.data)},"Edit",8,al),e("button",{class:"btn btn-danger",onClick:u=>M(d.data)},"Delete",8,ll),e("template",null,[t(O,{visible:h.value,"onUpdate:visible":a[13]||(a[13]=u=>h.value=u),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:m(()=>[e("div",null,[t(S),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:a[12]||(a[12]=u=>B())},"submit")])]),default:m(()=>[e("div",il,[e("div",nl,[e("div",dl,[rl,t(i,{type:"text",modelValue:o.company_name,"onUpdate:modelValue":a[7]||(a[7]=u=>o.company_name=u),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",cl,[pl,t(i,{type:"text",modelValue:o.location,"onUpdate:modelValue":a[8]||(a[8]=u=>o.location=u),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",_l,[e("div",ml,[ul,t(i,{type:"text",modelValue:o.job_position,"onUpdate:modelValue":a[9]||(a[9]=u=>o.job_position=u),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",fl,[bl,t(v,{showIcon:"",modelValue:o.period_from,"onUpdate:modelValue":a[10]||(a[10]=u=>o.period_from=u),style:A({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",vl,[e("div",gl,[hl,t(v,{showIcon:"",modelValue:o.period_to,"onUpdate:modelValue":a[11]||(a[11]=u=>o.period_to=u),class:"",style:A({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},xl={class:"table-responsive"},Dl={class:"w-full h-full d-flex justify-content-center"},$l=["src"],wl=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),kl={__name:"documents",setup(J){const C=W();K();const n=w({}),E=w(!1),D=w(),h=w(!1),s=o=>{n.value={...o},console.log(n.value),console.log(n.value.doc_url),E.value=!0,h.value=!0,I.post("/view-profile-private-file",{user_code:C.employeeDetails.user_code,document_name:n.value.document_name}).then(c=>{console.log(c.data.data),D.value=c.data.data,console.log("data sent",D.value)}).finally(()=>{h.value=!1})};return(o,c)=>{const Y=$("Column"),B=$("Button"),M=$("DataTable"),p=$("Dialog"),a=$("ProgressSpinner");return f(),b("div",xl,[t(M,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:l(C).employeeDetails.employee_documents,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[t(Y,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:m(()=>[k(x(l(C).employeeDetails.employee_documents.document_name),1)]),_:1}),t(Y,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:m(()=>[k(x(l(C).employeeDetails.employee_documents.status),1)]),_:1}),t(Y,{field:"reason",header:"Reason ",style:{"min-width":"12rem"}}),t(Y,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:m(i=>[t(B,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:v=>s(i.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),h.value==!1?(f(),_e(p,{key:0,visible:E.value,"onUpdate:visible":c[0]||(c[0]=i=>E.value=i),modal:"",header:"Documents",style:{width:"40vw"}},{default:m(()=>[e("div",Dl,[n.value.doc_url?(f(),b("img",{key:0,src:`data:image/png;base64,${D.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,$l)):F("",!0)])]),_:1},8,["visible"])):F("",!0),t(p,{header:"Header",visible:h.value,"onUpdate:visible":c[1]||(c[1]=i=>h.value=i),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(a,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[wl]),_:1},8,["visible"])])}}},Pl=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Cl={class:"profile_page-wrapper mt-30 container-fluid"},Vl={class:"row"},El={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},Sl={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},Ll=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Ul={class:"tab-content",id:"pills-tabContent"},Tl={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Nl={key:0},Fl={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Il={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Bl={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Ml={key:0},Yl={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},Al={__name:"profilePageNew",setup(J){K();let C=W();return Z(async()=>{console.log("Loading screen start : "+C.loading_screen),C.fetchEmployeeDetails().then(function(n){console.log("Loading screen end : "+C.loading_screen),console.log("Req done")})}),(n,E)=>{const D=$("Toast"),h=$("ProgressSpinner"),s=$("Dialog");return f(),b(de,null,[t(D),t(s,{header:"Header",visible:l(C).loading_screen,"onUpdate:visible":E[0]||(E[0]=o=>l(C).loading_screen=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[t(h,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[Pl]),_:1},8,["visible"]),e("div",Cl,[e("div",Vl,[l(C).loading_screen?F("",!0):(f(),b("div",El,[t(bo)])),e("div",Sl,[Ll,e("div",Ul,[e("div",Tl,[l(C).loading_screen?F("",!0):(f(),b("div",Nl,[t(je)]))]),e("div",Fl,[t(Ho)]),e("div",Il,[t(yl)]),e("div",Bl,[l(C).loading_screen?F("",!0):(f(),b("div",Ml,[t(Ya)]))]),e("div",Yl,[t(kl)])])])])])],64)}}},P=me(Al),Rl=we();P.use(ue,{ripple:!0});P.use(Ue);P.use(fe);P.use(Le);P.use(Rl);P.directive("tooltip",ke);P.directive("badge",Pe);P.directive("ripple",be);P.directive("styleclass",Ce);P.directive("focustrap",ve);P.component("Button",ge);P.component("DataTable",Ve);P.component("Column",Ee);P.component("ColumnGroup",Fe);P.component("Row",Ne);P.component("Toast",he);P.component("ConfirmDialog",ye);P.component("Dropdown",xe);P.component("InputText",De);P.component("Dialog",$e);P.component("ProgressSpinner",Te);P.component("Calendar",Ie);P.component("Textarea",Be);P.component("Chips",Me);P.component("MultiSelect",Ye);P.component("InputNumber",Se);P.component("ProgressBar",Re);P.component("InputMask",Ae);P.mount("#profilePage");
