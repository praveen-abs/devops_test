import{B as D,V as F,E as B,g as $,o as y,c as g,h as o,e,a as I,t as L,W as c,j as v,w as f,l as A,F as H,X as q,i as N,z as R,M as K,Y as z,G as W,P as X,H as Q,R as Z,q as ee}from"./toastservice.esm-c4f6de4c.js";import{d as te,c as oe}from"./pinia-0f325ab3.js";import{T as se,B as ae,S as le,b as ie,a as ne,c as de}from"./styleclass.esm-ea560a03.js";import"./blockui.esm-85692cd0.js";import{C as re,F as ce,b as pe,s as _e,a as me}from"./inputtext.esm-5faf66bf.js";import{s as ue}from"./confirmdialog.esm-51539a4d.js";import{D as fe}from"./dialogservice.esm-b46cc252.js";import{s as be}from"./toast.esm-8d255b70.js";import{s as ye}from"./progressspinner.esm-455f2fd3.js";import{s as ge}from"./row.esm-6ebc942e.js";import{s as ve}from"./columngroup.esm-9dd1458e.js";import{s as he}from"./calendar.esm-7c3ebc21.js";import{s as xe}from"./textarea.esm-6f057a89.js";import{s as De}from"./chips.esm-a230b2d1.js";import{s as $e}from"./multiselect.esm-8c7e8f3c.js";import{s as we}from"./progressbar.esm-65b6c894.js";import{l as J}from"./lodash-b844b8cc.js";import{a as V}from"./index-f7a317fc.js";import{S as Y}from"./Service-eef5851a.js";import{p as j,E as ke}from"./EmployeeDetails-9e9b629e.js";import{d as O}from"./dayjs.min-ed58423a.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";const Pe={class:"mb-0 card top-line"},Le={class:"card-body"},Ce={class:"row"},Te={class:"col-12 text-end"},Ve=e("i",{class:"fa fa-id-card text-success","aria-hidden":"true"},null,-1),Ee=[Ve],Se={class:"text-center col-12"},Ne={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{"box-shadow":"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",border:"1px solid navy"}},Ue=["src"],Re=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),Ae={class:"mt-4"},Me={class:"progress-wrapper border-bottom-liteAsh"},Ie=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),Fe={class:"mb-1 text-center px-auto"},Be={class:"text-center"},Ye=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),je=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Oe={class:"mb-4 text-center profile-mid-right-content"},qe={class:"py-2 border-bottom-liteAsh"},He=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),Ge={key:0,class:"f-12 fw-bold"},Ke={key:1,class:"text-danger f-12 fw-bold"},ze={class:"py-2 border-bottom-liteAsh"},Je=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),We={key:0,class:"f-12 fw-bold"},Xe={key:1,class:"f-12 fw-bold"},Qe={class:"py-2 border-bottom-liteAsh"},Ze=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),et={key:0,class:"f-12 fw-bold"},tt={key:1,class:"f-12 fw-bold"},ot={class:"py-2 border-bottom-liteAsh"},st=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),at={key:0,class:"f-12 fw-bold"},lt={key:1,class:"f-12 fw-bold"},it={class:"py-2 border-bottom-liteAsh ml-3"},nt={class:"text-muted f-12 fw-bold"},dt=e("i",{class:"ri-pencil-fill"},null,-1),rt=[dt],ct={key:0,class:"f-12 fw-bold"},pt={key:1,class:"f-12 fw-bold"},_t={class:"py-2 border-bottom-liteAsh"},mt={class:"text-muted f-12 fw-bold"},ut=e("i",{class:"ri-pencil-fill"},null,-1),ft=[ut],bt={key:0,class:"f-12 fw-bold"},yt={key:1,class:"f-12 fw-bold"},gt=e("div",{class:"text-center profile-bottom-right-content"},[e("button",{class:"btn btn-danger"},[e("i",{class:"fa fa-sign-out me-1"}),v(" Action ")])],-1),vt={class:"confirmation-content"},ht=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),xt={class:"card p-3 d-flex justify-items-center align-items-center",style:{width:"18rem","margin-left":"140px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},Dt=e("img",{src:"",alt:"",class:"",style:{height:"40px",width:"140px"}},null,-1),$t={class:"card-body d-flex justify-items-center align-items-center",style:{"flex-direction":"column"}},wt=["src"],kt={class:"card-title mt-3 mb-2 f-12"},Pt={key:1,class:"f-12 card-text mb-2 text-gray-400"},Lt={key:2,class:"f-12 fw-bold"},Ct={key:3,class:"f-12 fw-bold mb-2",style:{color:"grey"}},Tt={key:4,class:"f-12 mb-2 text-secondary-emphasis"},Vt={__name:"EmployeeCard",setup(M){const s=Y(),l=D(),k=D(!1),m=F({department:"",reporting_manager:""});let n=j();const u=()=>{V.post("/profile-pages/getProfilePicture",{user_code:s.current_user_code}).then(P=>{l.value=P.data.data}).finally(()=>{console.log("profile Pic Fetched")})},t=P=>{P.target.files&&P.target.files[0]&&(l.value=P.target.files[0],console.log(l.value));let p=new FormData;p.append("user_code",s.current_user_code),p.append("file_object",l.value);let d="/profile-pages/updateProfilePicture";V.post(d,p).then(h=>{}).finally(()=>{console.log("Photo Sent"),u()})},x=D(),E=D(),S=D(!1),U=D(!1),_=D(!1),i=D("None"),r=P=>{console.log(P),V.post("/profile-pages/updateDepartment",{user_code:n.employeeDetails.user_code,department_id:m.department}).then(p=>{let d=J._.find(x.value,["id",m.department]).name;console.log("Lodash [Selected Dept]: "+d),n.employeeDetails.get_employee_office_details.department_name=d,i.value="Department updated successfully !",console.log(p.data)}).catch(p=>{i.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+p)}).finally(()=>{_.value=!0,S.value=!1})},a=P=>{console.log("editReportingManager : "+P),V.post("/profile-pages/updateReportingManager",{user_code:n.employeeDetails.user_code,manager_user_code:m.reporting_manager}).then(p=>{let d=J._.find(E.value,["user_code",m.reporting_manager]);n.employeeDetails.get_employee_office_details.l1_manager_name=d.name,n.employeeDetails.get_employee_office_details.l1_manager_code=d.user_code,i.value="Reporting Manager updated successfully !",console.log(p.data)}).catch(p=>{i.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+p)}).finally(()=>{_.value=!0,U.value=!1})},b=()=>{m.department=n.employeeDetails.get_employee_office_details.department_name,m.reporting_manager=n.employeeDetails.get_employee_office_details.l1_manager_name,console.log(m.department)};return B(()=>{s.DepartmentDetails().then(P=>{x.value=P.data,console.log("testing"+n.employeeDetails.get_employee_office_details.l1_manager_name)}),s.ManagerDetails().then(P=>{E.value=P.data}),u(),b()}),(P,p)=>{const d=$("Toast"),h=$("ProgressBar"),C=$("Dialog"),G=$("Dropdown");return y(),g(H,null,[o(d),e("div",Pe,[e("div",Le,[e("div",Ce,[e("div",Te,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:p[0]||(p[0]=T=>k.value=!0)},Ee)]),e("div",Se,[e("div",Ne,[l.value?(y(),g("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${l.value}`,srcset:""},null,8,Ue)):I("",!0),Re,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:p[1]||(p[1]=T=>t(T))},null,32)]),e("div",Ae,[e("div",Me,[Ie,e("div",Fe,[e("h6",Be,L(c(n).employeeDetails.name),1)]),Ye,o(h,{value:c(n).employeeDetails.profile_completeness},null,8,["value"]),je]),e("div",Oe,[e("div",qe,[He,c(n).employeeDetails.active==1?(y(),g("p",Ge," Active ")):(y(),g("p",Ke,"Not Active"))]),e("div",ze,[Je,c(n).employeeDetails.user_code?(y(),g("p",We,L(c(n).employeeDetails.user_code),1)):(y(),g("p",Xe,"-"))]),e("div",Qe,[Ze,c(n).employeeDetails.get_employee_office_details.designation?(y(),g("p",et,L(c(n).employeeDetails.get_employee_office_details.designation),1)):(y(),g("p",tt,"-"))]),e("div",ot,[st,c(n).employeeDetails.get_employee_office_details.work_location?(y(),g("p",at,L(c(n).employeeDetails.get_employee_office_details.work_location),1)):(y(),g("p",lt,"-"))]),e("div",it,[e("p",nt,[v(" Department "),e("a",{href:"#",class:"edit-icon",onClick:p[2]||(p[2]=T=>S.value=!0)},rt)]),c(n).employeeDetails.get_employee_office_details.department_id?(y(),g("p",ct,L(c(n).employeeDetails.get_employee_office_details.department_name),1)):(y(),g("p",pt,"-"))]),e("div",_t,[e("p",mt,[v(" Reporting To "),e("a",{href:"#",class:"edit-icon",onClick:p[3]||(p[3]=T=>U.value=!0)},ft)]),c(n).employeeDetails.get_employee_office_details.l1_manager_code?(y(),g("p",bt,L(c(n).employeeDetails.get_employee_office_details.l1_manager_name)+" - "+L(c(n).employeeDetails.get_employee_office_details.l1_manager_code),1)):(y(),g("p",yt,"-"))])]),gt])])])])]),o(C,{header:"Status",visible:_.value,"onUpdate:visible":p[4]||(p[4]=T=>_.value=T),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:f(()=>[e("div",vt,[ht,e("span",null,L(i.value),1)])]),_:1},8,["visible"]),o(C,{visible:S.value,"onUpdate:visible":p[6]||(p[6]=T=>S.value=T),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:f(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:r}," Save ")])]),default:f(()=>[o(G,{options:x.value,optionLabel:"name",modelValue:m.department,"onUpdate:modelValue":p[5]||(p[5]=T=>m.department=T),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),o(C,{visible:U.value,"onUpdate:visible":p[8]||(p[8]=T=>U.value=T),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:f(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:a}," Save ")])]),default:f(()=>[o(G,{optionLabel:"name",options:E.value,modelValue:m.reporting_manager,"onUpdate:modelValue":p[7]||(p[7]=T=>m.reporting_manager=T),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),o(C,{visible:k.value,"onUpdate:visible":p[9]||(p[9]=T=>k.value=T),modal:"",header:"",style:{width:"40vw",borderTop:"5px solid #002f56"}},{header:f(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:f(()=>[e("div",xt,[Dt,e("div",$t,[l.value?(y(),g("img",{key:0,class:"rounded-circle profile-img",src:`data:image/png;base64,${l.value}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"120px",height:"120px"}},null,8,wt)):I("",!0),e("h5",kt,L(c(n).employeeDetails.name),1),c(n).employeeDetails.get_employee_office_details.department_id?(y(),g("h5",Pt,L(c(n).employeeDetails.get_employee_office_details.department_name),1)):(y(),g("h1",Lt,"-")),c(n).employeeDetails.user_code?(y(),g("h5",Ct,L(c(n).employeeDetails.user_code),1)):(y(),g("p",Tt,"-"))])])]),_:1},8,["visible"])],64)}}};const Et={class:"mb-2 card"},St={class:"card-body"},Nt={class:""},Ut={class:"space-between"},Rt={class:"flex-col input_text"},At=e("span",null,[v("Name "),e("span",{class:"text-danger"},"*")],-1),Mt={class:"flex-col input_text"},It=e("span",null,[v("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ft={class:"space-between M-T"},Bt={class:"flex-col input_text"},Yt=e("span",null,[v("Date of birth "),e("span",{class:"text-danger"},"*")],-1),jt={class:"flex-col input_text"},Ot=e("span",null,[v("phone"),e("span",{class:"text-danger"},"*")],-1),qt={class:"my-6 table-responsive"},Ht={key:0},Gt={key:1},Kt=["onClick"],zt=["onClick"],Jt={class:"space-between"},Wt={class:"flex-col input_text"},Xt=e("span",null,[v("Name "),e("span",{class:"text-danger"},"*")],-1),Qt={class:"flex-col input_text"},Zt=e("span",null,[v("Relationship"),e("span",{class:"text-danger"},"*")],-1),eo={class:"space-between M-T"},to={class:"flex-col input_text"},oo=e("span",null,[v("Date of birth "),e("span",{class:"text-danger"},"*")],-1),so={class:"flex-col input_text"},ao=e("span",null,[v("phone"),e("span",{class:"text-danger"},"*")],-1),lo={__name:"FamilyDetails",setup(M){const s=Y(),l=j(),k=q();D("");const m=D(!1),n=D(!1),u=F({name:"",relationship:"",dob:"",phone_number:""}),t=F({name:"",relationship:"",dob:"",phone_number:""}),x=D(),E=()=>{l.loading_screen=!0;let r=`/add-family-info/${s.current_user_id}`;V.post(r,{user_code:l.employeeDetails.user_code,name:u.name,relationship:u.relationship,dob:u.dob,phone_number:u.phone_number}).then(a=>{a.data.status=="success"?(k.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),l.employeeDetails.get_family_details.dob=useDateFormat(u.dob,"YYYY-MM-DD"),l.employeeDetails.get_family_details.name=u.gender,l.employeeDetails.get_family_details.relationship=u.relationship,l.employeeDetails.get_family_details.phone_number=u.phone_number):a.data.status=="failure"&&(leave_data.leave_request_error_messege=a.data.message)}).catch(a=>{console.log(a)}).finally(()=>{l.fetchEmployeeDetails(),l.loading_screen=!1}),m.value=!1},S=i=>{n.value=!0,x.value=i.id,t.name=i.name,t.relationship=i.relationship,t.dob=i.dob,t.phone_number=i.phone_number},U=i=>{x.value=i.id;let a=` /delete-family-info/${s.current_user_id}`;V.post(a,{current_table_id:x.value}).then(b=>{b.data.status=="success"?(window.location.reload(),k.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),l.employeeDetails.get_family_details.dob=useDateFormat(u.dob,"YYYY-MM-DD"),l.employeeDetails.get_family_details.name=u.gender,l.employeeDetails.get_family_details.relationship=u.relationship,l.employeeDetails.get_family_details.phone_number=u.phone_number):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)})},_=i=>{let a=`/update-family-info/${s.current_user_id}`;V.post(a,{user_code:l.employeeDetails.user_code,current_table_id:x.value,name:t.name,relationship:t.relationship,dob:t.dob,phone_number:t.phone_number}).then(b=>{b.data.status=="success"?(window.location.reload(),k.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),l.employeeDetails.get_family_details.dob=useDateFormat(t.dob,"YYYY-MM-DD"),l.employeeDetails.get_family_details.name=t.gender,l.employeeDetails.get_family_details.relationship=u.relationship,l.employeeDetails.get_family_details.phone_number=t.phone_number):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}),n.value=!1};return B(()=>{}),(i,r)=>{const a=$("Toast"),b=$("Dialog"),P=$("Column"),p=$("DataTable");return y(),g("div",Et,[e("div",St,[e("h6",Nt,[v("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"79%"},onClick:r[0]||(r[0]=d=>m.value=!0)}," Add New "),o(b,{visible:m.value,"onUpdate:visible":r[5]||(r[5]=d=>m.value=d),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:f(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:f(()=>[o(a),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:E},"submit")])]),default:f(()=>[e("div",Ut,[e("div",Rt,[At,N(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":r[1]||(r[1]=d=>u.name=d)},null,512),[[R,u.name]])]),e("div",Mt,[It,N(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":r[2]||(r[2]=d=>u.relationship=d),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[R,u.relationship]])])]),e("div",Ft,[e("div",Bt,[Yt,N(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":r[3]||(r[3]=d=>u.dob=d)},null,512),[[R,u.dob]])]),e("div",jt,[Ot,N(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":r[4]||(r[4]=d=>u.phone_number=d)},null,512),[[R,u.phone_number]])])])]),_:1},8,["visible"])]),e("div",qt,[o(p,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:c(l).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:f(()=>[o(P,{header:"Name",field:"name",style:{"min-width":"8rem"}}),o(P,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),o(P,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:f(d=>[d.data.dob=="Invalid Date"?(y(),g("div",Ht," - ")):(y(),g("div",Gt,L(c(O)(d.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),o(P,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),o(P,{exportable:!1,header:"Action",style:{"min-width":"8rem"}},{body:f(d=>[e("button",{class:"mr-3 btn btn-success",onClick:h=>S(d.data)},"Edit",8,Kt),e("button",{class:"btn btn-danger",onClick:h=>U(d.data)},"Delete",8,zt),e("template",null,[o(b,{visible:n.value,"onUpdate:visible":r[10]||(r[10]=h=>n.value=h),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:f(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:f(()=>[o(a),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:_},"submit")])]),default:f(()=>[e("div",Jt,[e("div",Wt,[Xt,N(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":r[6]||(r[6]=h=>t.name=h),required:""},null,512),[[R,t.name]])]),e("div",Qt,[Zt,N(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":r[7]||(r[7]=h=>t.relationship=h),required:""},null,512),[[R,t.relationship]])])]),e("div",eo,[e("div",to,[oo,N(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":r[8]||(r[8]=h=>t.dob=h)},null,512),[[R,t.dob]])]),e("div",so,[ao,N(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":r[9]||(r[9]=h=>t.phone_number=h)},null,512),[[R,t.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}},io=te("employeePayslipStore",()=>{const M=D(),s=D(),l=D(!1),k=new URLSearchParams(window.location.search);function m(){return k.has("uid")?k.get("uid"):""}async function n(){V.post("/payroll/paycheck/getEmployeeAllPayslipList",{uid:m()}).then(t=>{M.value=t.data.data})}async function u(t){let x=parseInt(O(t).month())+1,E=O(t).year();V.post("/payroll/paycheck/getEmployeePayslipDetailsAsHTML",{uid:m(),month:x,year:E}).then(S=>{s.value=S.data,l.value=!0})}return{array_employeePayslips_list:M,paySlipHTMLView:s,canShowPayslipView:l,getEmployeeAllPayslipList:n,getEmployeePayslipDetailsAsHTML:u}});const no={class:"my-4"},ro={class:"d-flex justify-content-end"},co={class:"card flex justify-content-center inline-flex"},po=["innerHTML"],_o={__name:"EmployeePayslips",setup(M){const s=io();return B(async()=>{await s.getEmployeeAllPayslipList("174")}),(l,k)=>{const m=$("Column"),n=$("Button"),u=$("DataTable"),t=$("Dialog");return y(),g(H,null,[e("div",no,[o(u,{value:c(s).array_employeePayslips_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:l.filters,"onUpdate:filters":k[0]||(k[0]=x=>l.filters=x),filterDisplay:"menu",loading:l.loading2,globalFilterFields:["name","status"]},{default:f(()=>[o(m,{field:"PAYROLL_MONTH",header:"Month"},{body:f(x=>[v(L(c(O)(x.data.PAYROLL_MONTH).format("DD-MMM-YYYY")),1)]),_:1}),o(m,{field:"TOTAL_EARNED_GROSS",header:"Gross Pay"}),o(m,{field:"Reimbursements",header:"Reimbursements"},{body:f(x=>[v(L(0))]),_:1}),o(m,{field:"TOTAL_DEDUCTIONS",header:"Deductions"}),o(m,{field:"NET_TAKE_HOME",header:"Take Home"}),o(m,{header:"Action"},{body:f(x=>[o(n,{class:"btn-primary",label:"View ",onClick:E=>c(s).getEmployeePayslipDetailsAsHTML(x.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])]),e("div",ro,[o(n,{class:"mb-2 btn btn-primary",label:"Submit"})]),e("div",co,[o(t,{visible:c(s).canShowPayslipView,"onUpdate:visible":k[1]||(k[1]=x=>c(s).canShowPayslipView=x),modal:"",header:"Header",style:{width:"50vw"}},{default:f(()=>[e("div",{innerHTML:c(s).paySlipHTMLView},null,8,po)]),_:1},8,["visible"])])],64)}}};const mo=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),uo={class:"tab-content",id:"pills-tabContent"},fo={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},bo=e("div",{class:"mb-2 card"},[e("div",{class:"card-body"},[e("form",{action:"",method:"POST",enctype:"multipart/form-data"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:""}," Payroll Summary ")]),e("ul",{class:"personal-info"},[e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Last Processed"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Total Working Days"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1"},[e("div",{class:"title"},"Loss Of Pay(LOP)"),e("div",{class:"text"}," - ")])])])])],-1),yo={class:"mb-2 card"},go={class:"card-body"},vo=e("i",{class:"ri-pencil-fill"},null,-1),ho=[vo],xo={class:"modal-body"},Do={class:"row"},$o={class:"col-md-6"},wo={class:"mb-3 form-group"},ko=e("label",null,"Bank Name",-1),Po={class:"col-md-6"},Lo={class:"mb-3 form-group"},Co=e("label",null,"Bank Account No",-1),To=e("div",{class:"cal-icon"},null,-1),Vo={class:"col-md-6"},Eo={class:"mb-3 form-group"},So=e("label",null,"IFSC Code",-1),No={class:"col-md-6"},Uo={class:"mb-3 form-group"},Ro=e("label",null,"PAN No",-1),Ao={class:"personal-info"},Mo=e("div",{class:"title"},"Bank Name",-1),Io={class:"ml-4 text"},Fo=e("div",{class:"title"},"Bank Account No.",-1),Bo={class:"text"},Yo=e("div",{class:"title"},"IFSC Code",-1),jo={class:"text"},Oo=e("div",{class:"title"},"PAN No",-1),qo={class:"text"},Ho={class:"mb-2 card"},Go={class:"card-body"},Ko={class:""},zo={class:"personal-edit"},Jo=e("i",{class:"ri-pencil-fill"},null,-1),Wo=[Jo],Xo={class:"modal-body"},Qo={class:"row"},Zo={class:"col-md-6"},es={class:"floating"},ts=e("label",{for:"",class:"float-label"},[v("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),os=e("option",{value:"",hidden:"",selected:"",disabled:""},"PF Applicable",-1),ss=e("option",{value:"yes"},"Yes",-1),as=e("option",{value:"no"},"No",-1),ls=[os,ss,as],is={class:"col-md-6"},ns={class:"mb-3 form-group"},ds=e("label",null,"EPF Number",-1),rs={class:"col-md-6"},cs={class:"mb-3 form-group"},ps=e("label",null,"UAN Number",-1),_s={class:"col-md-6"},ms={class:"mb-3 form-group"},us=e("label",{class:"float-label"},[v("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),fs=e("option",{value:"",hidden:"",selected:"",disabled:""},"ESIC Applicable",-1),bs=e("option",{value:"yes"}," Yes ",-1),ys=e("option",{value:"no"}," No ",-1),gs=[fs,bs,ys],vs={class:"col-md-6"},hs={class:"floating"},xs=e("label",{for:"",class:"float-label"},"ESIC Number",-1),Ds=e("span",{class:"error",id:"error_esic_number"},null,-1),$s={key:0,class:"personal-info"},ws=e("li",null,[e("div",{class:"title"},"PF Applicable"),e("div",{class:"text"})],-1),ks=e("div",{class:"title"},"EPF Number",-1),Ps={class:"text"},Ls=e("div",{class:"title"},"UAN Number",-1),Cs={class:"text"},Ts=e("div",{class:"title"},"ESIC Applicable",-1),Vs={class:"text"},Es=e("div",{class:"title"},"ESIC Number",-1),Ss={class:"text"},Ns={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Us={class:"mb-2 card"},Rs={class:"card-body"},As={__name:"FinanceDetails",setup(M){const s=j(),l=Y();D([]).value.push(s.employeeDetails.get_statutory_details),B(()=>{l.getBankList().then(r=>{u.value=r.data})});const m=D(!1),n=D(!1);D(),D();const u=D(),t=F({bank_id:"",bank_ac_no:"",ifsc_code:"",pan_no:""}),x=K(()=>{if(s.employeeDetails.get_statutory_details.esic_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.esic_applicable=="yes")return"Yes"});K(()=>{if(s.employeeDetails.get_statutory_details.pf_applicable=="no")return"No";if(s.employeeDetails.get_statutory_details.pf_applicable=="yes")return"Yes"});const E=()=>{let a=`/update-bank-info/${l.current_user_id}`;V.post(a,{user_code:s.employeeDetails.user_code,bank_id:t.bank_id.id,account_no:t.bank_ac_no,bank_ifsc:t.ifsc_code,pan_no:t.pan_no}).then(b=>{b.data.status=="success"?(toast.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),s.employeeDetails.get_employee_details.bank_id=t.bank_id,s.employeeDetails.get_employee_details.account_no=t.bank_ac_no,s.employeeDetails.get_employee_details.bank_ifsc=t.ifsc_code,s.employeeDetails.get_employee_details.pan_no=t.pan_no):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}),m.value=!1};function S(){console.log("Opening General Info Dialog"),t.bank_id=s.employeeDetails.get_employee_details.bank_id,t.bank_ac_no=s.employeeDetails.get_employee_details.bank_account_number,t.ifsc_code=s.employeeDetails.get_employee_details.bank_ifsc_code,t.pan_no=s.employeeDetails.get_employee_details.pan_number,m.value=!0}function U(){console.log("Opening General Info Dialog"),_.pf_applicable=s.employeeDetails.get_statutory_details[0].pf_applicable,_.epf_no=s.employeeDetails.get_statutory_details[0].epf_number,_.uan_no=s.employeeDetails.get_statutory_details[0].uan_number,_.esic_applicable=s.employeeDetails.get_statutory_details[0].pf_applicable,_.esic_no=s.employeeDetails.get_statutory_details[0].esic_number,n.value=!0}const _=F({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),i=()=>{let a=`/update-statutory-info/${l.current_user_id}`;V.post(a,{user_code:s.employeeDetails.user_code,pf_applicable:_.pf_applicable,epf_number:_.epf_no,uan_number:_.uan_no,esic_applicable:_.esic_applicable,esic_number:_.esic_no}).then(b=>{b.data.status=="success"?toast.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):b.data.status=="failure"&&(leave_data.leave_request_error_messege=b.data.message)}).catch(b=>{console.log(b)}),n.value=!1};return(r,a)=>{const b=$("Dropdown"),P=$("InputText"),p=$("Dialog");return y(),g("div",null,[mo,e("div",uo,[e("div",fo,[bo,e("div",yo,[e("div",go,[e("h6",{class:""},[v("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:S},ho)])]),o(p,{visible:m.value,"onUpdate:visible":a[4]||(a[4]=d=>m.value=d),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:f(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Bank Information",4)])]),default:f(()=>[e("div",null,[e("div",xo,[e("div",Do,[e("div",$o,[e("div",wo,[ko,o(b,{editable:"",options:u.value,optionLabel:"bank_name",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:t.bank_id,"onUpdate:modelValue":a[0]||(a[0]=d=>t.bank_id=d)},null,8,["options","modelValue"])])]),e("div",Po,[e("div",Lo,[Co,To,o(P,{class:"form-controls onboard-form",inputId:"integeronly",name:"account_no",min:0,max:100,type:"number",modelValue:t.bank_ac_no,"onUpdate:modelValue":a[1]||(a[1]=d=>t.bank_ac_no=d)},null,8,["modelValue"])])]),e("div",Vo,[e("div",Eo,[So,o(P,{type:"text",name:"bank_ifsc_",class:"form-controls",modelValue:t.ifsc_code,"onUpdate:modelValue":a[2]||(a[2]=d=>t.ifsc_code=d)},null,8,["modelValue"])])]),e("div",No,[e("div",Uo,[Ro,o(P,{type:"text",name:"pan_nos",class:"form-controls",modelValue:t.pan_no,"onUpdate:modelValue":a[3]||(a[3]=d=>t.pan_no=d)},null,8,["modelValue"])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:E},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",Ao,[e("li",null,[Mo,e("div",Io,L(c(s).employeeDetails.get_employee_details.bank_id),1)]),e("li",null,[Fo,e("div",Bo,L(c(s).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[Yo,e("div",jo,L(c(s).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[Oo,e("div",qo,L(c(s).employeeDetails.get_employee_details.pan_number),1)])])])])]),e("div",Ho,[e("div",Go,[e("h6",Ko,[v("Statutory Information "),e("span",zo,[e("a",{href:"#",class:"edit-icon",onClick:a[5]||(a[5]=d=>U())},Wo)])]),o(p,{visible:n.value,"onUpdate:visible":a[11]||(a[11]=d=>n.value=d),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:f(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Statutory information",4)])]),default:f(()=>[e("div",Xo,[e("div",Qo,[e("div",Zo,[e("div",es,[ts,N(e("select",{placeholder:"PF Applicable",name:"pf_applicable",id:"pf_applicable",class:"onboard-form form-control textbox select2_form_without_search","onUpdate:modelValue":a[6]||(a[6]=d=>_.pf_applicable=d)},ls,512),[[z,_.pf_applicable]])])]),e("div",is,[e("div",ns,[ds,N(e("input",{type:"text",placeholder:"EPF Number",name:"epf_number",id:"epf_number",class:"onboard-form form-control","onUpdate:modelValue":a[7]||(a[7]=d=>_.epf_no=d)},null,512),[[R,_.epf_no]])])]),e("div",rs,[e("div",cs,[ps,N(e("input",{name:"uan_number",id:"uan_number",minlength:"12",maxlength:"12",class:"form-control onboard-form",type:"text","pattern-data":"ifsc",required:"","onUpdate:modelValue":a[8]||(a[8]=d=>_.uan_no=d)},null,512),[[R,_.uan_no]])])]),e("div",_s,[e("div",ms,[us,N(e("select",{placeholder:"ESIC Applicable",name:"esic_applicable",id:"esic_applicable",class:"onboard-form form-control textbox select2_form_without_search",required:"","onUpdate:modelValue":a[9]||(a[9]=d=>_.esic_applicable=d)},gs,512),[[z,_.esic_applicable]])])]),e("div",vs,[e("div",hs,[xs,N(e("input",{type:"text",placeholder:"ESIC Number",name:"esic_number",id:"esic_number",minlength:"10",maxlength:"10",class:"onboard-form form-control textbox","onUpdate:modelValue":a[10]||(a[10]=d=>_.esic_no=d)},null,512),[[R,_.esic_no]]),Ds])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:i},"Save")])])])]),_:1},8,["visible"]),c(s).employeeDetails.get_statutory_details?(y(),g("ul",$s,[ws,e("li",null,[ks,e("div",Ps,L(c(s).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[Ls,e("div",Cs,L(c(s).employeeDetails.get_statutory_details.uan_number),1)]),e("li",null,[Ts,e("div",Vs,L(c(x)),1)]),e("li",null,[Es,e("div",Ss,L(c(s).employeeDetails.get_statutory_details.esic_number),1)])])):I("",!0)])])]),e("div",Ns,[e("div",Us,[e("div",Rs,[o(_o)])])])])])}}};const Ms={class:"mb-2 card"},Is={class:"card-body"},Fs={class:""},Bs={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},Ys={class:"space-between"},js={class:"flex-col input_text"},Os=e("span",null,[v("Company Name "),e("span",{class:"text-danger"},"*")],-1),qs={class:"flex-col input_text"},Hs=e("span",null,[v(" Location"),e("span",{class:"text-danger"},"*")],-1),Gs={class:"space-between M-T"},Ks={class:"flex-col input_text"},zs=e("span",null,[v("Job Position "),e("span",{class:"text-danger"},"*")],-1),Js={class:"flex-col input_text",style:{"margin-right":"7px"}},Ws=e("span",{style:{paddingLeft:"6px"}},[v("Period From"),e("span",{class:"text-danger"},"*")],-1),Xs={class:"space-between M-T"},Qs={class:"flex-col input_text",style:{marginLeft:"-6px"}},Zs=e("span",{style:{paddingLeft:"6px"}},[v("Period To "),e("span",{class:"text-danger"},"*")],-1),ea={class:"my-6 table-responsive"},ta=["onClick"],oa=["onClick"],sa={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},aa={class:"space-between"},la={class:"flex-col input_text"},ia=e("span",null,[v("Company Name "),e("span",{class:"text-danger"},"*")],-1),na={class:"flex-col input_text"},da=e("span",null,[v(" Location"),e("span",{class:"text-danger"},"*")],-1),ra={class:"space-between M-T"},ca={class:"flex-col input_text"},pa=e("span",null,[v("Job Position "),e("span",{class:"text-danger"},"*")],-1),_a={class:"flex-col input_text",style:{"margin-right":"7px"}},ma=e("span",{style:{paddingLeft:"6px"}},[v("Period From"),e("span",{class:"text-danger"},"*")],-1),ua={class:"space-between M-T"},fa={class:"flex-col input_text",style:{marginLeft:"-6px"}},ba=e("span",{style:{paddingLeft:"6px"}},[v("Period To "),e("span",{class:"text-danger"},"*")],-1),ya={__name:"ExperienceDetails",setup(M){const s=Y(),l=j(),k=q();q(),D("");const m=D(!1),n=D(!1),u=D(),t=F({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),x=()=>{console.log(t),l.loading_screen=!0;let i=`/add-experience-info/${s.current_user_id}`;V.post(i,{user_code:l.employeeDetails.user_code,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:t.period_from,period_to:t.period_to}).then(r=>{r.data.status=="success"?k.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):r.data.status=="failure"&&(leave_data.leave_request_error_messege=r.data.message)}).catch(r=>{console.log(r)}).finally(()=>{l.fetchEmployeeDetails(),l.loading_screen=!1}),m.value=!1};B(()=>{});const E=_=>{n.value=!0,u.value=_.id,console.log(u.value),t.company_name=_.company_name,t.location=_.location,t.job_position=_.job_position,t.period_from=_.period_from,t.period_to=_.period_to},S=_=>{n.value=!1;let r=`/update-experience-info/${s.current_user_id}`;V.post(r,{user_code:l.employeeDetails.user_code,exp_current_table_id:u.value,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:t.period_from,period_to:t.period_to}).then(a=>{a.data.status=="success"?(window.location.reload(),k.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):a.data.status=="failure"&&(leave_data.leave_request_error_messege=a.data.message)}).catch(a=>{console.log(a)})},U=_=>{u.value=_.id;let r=`/delete-experience-info/${s.current_user_id}`;V.post(r,{exp_current_table_id:u.value}).then(a=>{a.data.status=="success"?(window.location.reload(),k.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3})):a.data.status=="failure"&&(leave_data.leave_request_error_messege=a.data.message)}).catch(a=>{console.log(a)})};return(_,i)=>{const r=$("InputText"),a=$("Calendar"),b=$("Toast"),P=$("Dialog"),p=$("Column"),d=$("DataTable");return y(),g("div",null,[e("div",Ms,[e("div",Is,[e("h6",Fs,[v("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"76%"},onClick:i[0]||(i[0]=h=>m.value=!0)}," Add New "),o(P,{visible:m.value,"onUpdate:visible":i[6]||(i[6]=h=>m.value=h),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:f(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:f(()=>[e("div",null,[o(b),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:x},"submit")])]),default:f(()=>[e("div",Bs,[e("div",Ys,[e("div",js,[Os,o(r,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":i[1]||(i[1]=h=>t.company_name=h),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",qs,[Hs,o(r,{type:"text",modelValue:t.location,"onUpdate:modelValue":i[2]||(i[2]=h=>t.location=h),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",Gs,[e("div",Ks,[zs,o(r,{type:"text",modelValue:t.job_position,"onUpdate:modelValue":i[3]||(i[3]=h=>t.job_position=h),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",Js,[Ws,o(a,{showIcon:"",modelValue:t.period_from,"onUpdate:modelValue":i[4]||(i[4]=h=>t.period_from=h),style:A({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",Xs,[e("div",Qs,[Zs,o(a,{showIcon:"",modelValue:t.period_to,"onUpdate:modelValue":i[5]||(i[5]=h=>t.period_to=h),class:"",style:A({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])]),e("div",ea,[o(d,{ref:"dt",value:c(l).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:f(()=>[o(p,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),o(p,{field:"location",header:"Location",style:{"min-width":"8rem"}}),o(p,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),o(p,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),o(p,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),o(p,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:f(h=>[e("button",{class:"mr-3 btn btn-success",onClick:C=>E(h.data)},"Edit",8,ta),e("button",{class:"btn btn-danger",onClick:C=>U(h.data)},"Delete",8,oa),e("template",null,[o(P,{visible:n.value,"onUpdate:visible":i[13]||(i[13]=C=>n.value=C),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:f(()=>[e("div",null,[e("h5",{style:A({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:f(()=>[e("div",null,[o(b),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:i[12]||(i[12]=C=>S())},"submit")])]),default:f(()=>[e("div",sa,[e("div",aa,[e("div",la,[ia,o(r,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":i[7]||(i[7]=C=>t.company_name=C),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",na,[da,o(r,{type:"text",modelValue:t.location,"onUpdate:modelValue":i[8]||(i[8]=C=>t.location=C),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",ra,[e("div",ca,[pa,o(r,{type:"text",modelValue:t.job_position,"onUpdate:modelValue":i[9]||(i[9]=C=>t.job_position=C),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",_a,[ma,o(a,{showIcon:"",modelValue:t.period_from,"onUpdate:modelValue":i[10]||(i[10]=C=>t.period_from=C),style:A({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",ua,[e("div",fa,[ba,o(a,{showIcon:"",modelValue:t.period_to,"onUpdate:modelValue":i[11]||(i[11]=C=>t.period_to=C),class:"",style:A({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},ga={class:"table-responsive"},va=["src"],ha=e("img",{src:"",alt:""},null,-1),xa=e("a",{href:""},null,-1),Da={__name:"documents",setup(M){const s=j();Y();const l=D({}),k=D(!1),m=D(),n=u=>{l.value={...u},console.log(l.value),console.log(l.value.doc_url),k.value=!0,V.post("/view-profile-private-file",{user_code:s.employeeDetails.user_code,document_name:l.value.document_name}).then(t=>{console.log(t.data.data),m.value=t.data.data,console.log("data sent",m.value)})};return(u,t)=>{const x=$("Column"),E=$("Button"),S=$("DataTable"),U=$("Dialog");return y(),g("div",ga,[o(S,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:c(s).employeeDetails.employee_documents,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:f(()=>[o(x,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:f(()=>[v(L(c(s).employeeDetails.employee_documents.document_name),1)]),_:1}),o(x,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:f(()=>[v(L(c(s).employeeDetails.employee_documents.status),1)]),_:1}),o(x,{field:"reason",header:"Reason ",style:{"min-width":"12rem"}}),o(x,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:f(_=>[o(E,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:i=>n(_.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),o(U,{visible:k.value,"onUpdate:visible":t[0]||(t[0]=_=>k.value=_),modal:"",header:"Documents",style:{width:"40vw"}},{default:f(()=>[l.value.doc_url?(y(),g("img",{key:0,src:`data:image/png;base64,${m.value}`},null,8,va)):I("",!0),ha,xa]),_:1},8,["visible"])])}}},$a=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),wa={class:"profile_page-wrapper mt-30 container-fluid"},ka={class:"row"},Pa={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},La={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},Ca=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Ta={class:"tab-content",id:"pills-tabContent"},Va={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Ea={key:0},Sa={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Na={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Ua={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Ra={key:0},Aa={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},Ma={__name:"profilePageNew",setup(M){Y();let s=j();return B(async()=>{console.log("Loading screen start : "+s.loading_screen),s.fetchEmployeeDetails().then(function(l){console.log("Loading screen end : "+s.loading_screen),console.log("Req done")})}),(l,k)=>{const m=$("Toast"),n=$("ProgressSpinner"),u=$("Dialog");return y(),g(H,null,[o(m),o(u,{header:"Header",visible:c(s).loading_screen,"onUpdate:visible":k[0]||(k[0]=t=>c(s).loading_screen=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:f(()=>[o(n,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:f(()=>[$a]),_:1},8,["visible"]),e("div",wa,[e("div",ka,[c(s).loading_screen?I("",!0):(y(),g("div",Pa,[o(Vt)])),e("div",La,[Ca,e("div",Ta,[e("div",Va,[c(s).loading_screen?I("",!0):(y(),g("div",Ea,[o(ke)]))]),e("div",Sa,[o(lo)]),e("div",Na,[o(ya)]),e("div",Ua,[c(s).loading_screen?I("",!0):(y(),g("div",Ra,[o(As)]))]),e("div",Aa,[o(Da)])])])])])],64)}}},w=W(Ma),Ia=oe();w.use(X,{ripple:!0});w.use(re);w.use(Q);w.use(fe);w.use(Ia);w.directive("tooltip",se);w.directive("badge",ae);w.directive("ripple",Z);w.directive("styleclass",le);w.directive("focustrap",ce);w.component("Button",ee);w.component("DataTable",ie);w.component("Column",ne);w.component("ColumnGroup",ve);w.component("Row",ge);w.component("Toast",be);w.component("ConfirmDialog",ue);w.component("Dropdown",pe);w.component("InputText",_e);w.component("Dialog",me);w.component("ProgressSpinner",ye);w.component("Calendar",he);w.component("Textarea",xe);w.component("Chips",De);w.component("MultiSelect",$e);w.component("InputNumber",de);w.component("ProgressBar",we);w.mount("#profilePage");
