import{af as A,ag as _,ah as j,H as v,a1 as k,aj as Q,I as ee,c as le,h as u,e,k as D,w as M,t as p,F as oe,g as C,o as se,p as B,j as S,E as w,ak as te,al as ae}from"./toastservice.esm-11027b59.js";import{d as H}from"./dayjs.min-2f06af28.js";import"./moment-fbc5633a.js";import{a as O}from"./index-362795f3.js";import{S as ie}from"./Service-04178871.js";import{p as de}from"./ProfilePagesStore-c0a9df0f.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";var T;const re=typeof window<"u";re&&((T=window==null?void 0:window.navigator)!=null&&T.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function F(t){return typeof t=="function"?t():_(t)}const _e=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ce=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,me=(t,r,l,f)=>{let g=t<12?"AM":"PM";return f&&(g=g.split("").reduce((b,h)=>b+=`${h}.`,"")),l?g.toLowerCase():g},pe=(t,r,l={})=>{var f;const g=t.getFullYear(),b=t.getMonth(),h=t.getDate(),c=t.getHours(),s=t.getMinutes(),V=t.getSeconds(),P=t.getMilliseconds(),U=t.getDay(),x=(f=l.customMeridiem)!=null?f:me,G={YY:()=>String(g).slice(-2),YYYY:()=>g,M:()=>b+1,MM:()=>`${b+1}`.padStart(2,"0"),MMM:()=>t.toLocaleDateString(l.locales,{month:"short"}),MMMM:()=>t.toLocaleDateString(l.locales,{month:"long"}),D:()=>String(h),DD:()=>`${h}`.padStart(2,"0"),H:()=>String(c),HH:()=>`${c}`.padStart(2,"0"),h:()=>`${c%12||12}`.padStart(1,"0"),hh:()=>`${c%12||12}`.padStart(2,"0"),m:()=>String(s),mm:()=>`${s}`.padStart(2,"0"),s:()=>String(V),ss:()=>`${V}`.padStart(2,"0"),SSS:()=>`${P}`.padStart(3,"0"),d:()=>U,dd:()=>t.toLocaleDateString(l.locales,{weekday:"narrow"}),ddd:()=>t.toLocaleDateString(l.locales,{weekday:"short"}),dddd:()=>t.toLocaleDateString(l.locales,{weekday:"long"}),A:()=>x(c,s),AA:()=>x(c,s,!1,!0),a:()=>x(c,s,!0),aa:()=>x(c,s,!0,!0)};return r.replace(ce,(L,Y)=>Y||G[L]())},ue=t=>{if(t===null)return new Date(NaN);if(t===void 0)return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){const r=t.match(_e);if(r){const l=r[2]-1||0,f=(r[7]||"0").substring(0,3);return new Date(r[1],l,r[3]||1,r[4]||0,r[5]||0,r[6]||0,f)}}return new Date(t)};function fe(t,r="HH:mm:ss",l={}){return A(()=>pe(ue(F(t)),F(r),l))}const i=t=>(te("data-v-0c227c4c"),t=t(),ae(),t),ge={class:"mb-2 card"},be={class:"card-body"},he={class:"fw-bold mb-3 fs-15"},ye=i(()=>e("i",{class:"ri-pencil-fill"},null,-1)),ve=[ye],De={class:"row"},xe={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Me={class:"mb-3 form-group"},Se=i(()=>e("label",{style:{marginLeft:"10px"}},[D("Birth Date"),e("span",{class:"text-danger"},"*")],-1)),we={class:"cal-icon"},Ae={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Ve={class:"mb-3 form-group"},Ye=i(()=>e("label",null,[D("Gender"),e("span",{class:"text-danger"},"*")],-1)),Ie={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Ce={class:"mb-3 form-group"},Pe=i(()=>e("label",{style:{marginLeft:"10px"}},[D("Date Of Joining(DOJ)"),e("span",{class:"text-danger"},"*")],-1)),Ue={class:"cal-icon"},Ge={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Le={class:"mb-3 form-group"},Ee=i(()=>e("label",null,[D("Blood Group"),e("span",{class:"text-danger"},"*")],-1)),ke={class:"cal-icon"},Be={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},Oe={class:"mb-3 form-group",style:{marginLeft:"10px"}},Ne=i(()=>e("label",null,[D("Marital status "),e("span",{class:"text-danger"},"*")],-1)),$e={class:"col-sm-12 col-xl-6 col-lg-6 col-md-6 col-xxl-6"},je={class:"mb-3 form-group"},He=i(()=>e("label",null,"Physically Handicapped",-1)),Te={class:"text-right col-12"},Fe={class:"personal-info"},ze={class:"pb-1 border-bottom-liteAsh"},Je=i(()=>e("div",{class:"title"},"Birthday",-1)),Re={class:"text"},qe={class:"pb-1 border-bottom-liteAsh"},We=i(()=>e("div",{class:"title"},"Gender ",-1)),Xe={class:"text"},Ze={class:"pb-1 border-bottom-liteAsh"},Ke=i(()=>e("div",{class:"title"},"Date Of Joining (DOJ)",-1)),Qe={class:"text"},el={class:"pb-1 border-bottom-liteAsh"},ll=i(()=>e("div",{class:"title"},"Marital Status ",-1)),ol={class:"text text-capitalize"},sl={class:"pb-1 border-bottom-liteAsh"},tl=i(()=>e("div",{class:"title"}," Blood Group",-1)),al={class:"text"},il={class:"pb-1"},dl=i(()=>e("div",{class:"title"},"Physically Handicapped",-1)),nl={class:"text"},rl={class:"mb-2 card"},_l={class:"card-body"},cl={class:"mb-3 fw-bold fs-15"},ml=i(()=>e("i",{class:"ri-pencil-fill"},null,-1)),pl=[ml],ul={class:"modal-body"},fl={class:"row"},gl={class:"col-md-6"},bl={class:"mb-3 form-group"},hl=i(()=>e("label",null,"Personal Email",-1)),yl={class:"col-md-6"},vl={class:"mb-3 form-group"},Dl=i(()=>e("label",null," Office Email",-1)),xl={class:"col-md-6"},Ml={class:"mb-3 form-group"},Sl=i(()=>e("label",null,"Mobile Number",-1)),wl={class:"col-md-6"},Al={class:"mb-3 form-group"},Vl=i(()=>e("label",null,"Official Mobile Number",-1)),Yl={class:"personal-info"},Il={class:"pb-1 border-bottom-liteAsh"},Cl=i(()=>e("div",{class:"title"},"Personal Email",-1)),Pl={class:"text"},Ul={class:"pb-1 border-bottom-liteAsh"},Gl=i(()=>e("div",{class:"title"},"Official Email",-1)),Ll={class:"text"},El={class:"pb-1"},kl=i(()=>e("div",{class:"title"},"Mobile Number",-1)),Bl={class:"text"},Ol={class:"pb-1"},Nl=i(()=>e("div",{class:"title"},"Official Mobile Number",-1)),$l={class:"text"},jl={class:"mb-2 card"},Hl={class:"card-body"},Tl={class:"ml-2 fw-bold fs-15"},Fl=i(()=>e("i",{class:"ri-pencil-fill"},null,-1)),zl=[Fl],Jl={class:"modal-body"},Rl={class:"col-md-12"},ql={class:"mb-3 form-group"},Wl=i(()=>e("label",null,"Current Address",-1)),Xl={class:"mb-3 form-group"},Zl=i(()=>e("label",null,"Permanent Address ",-1)),Kl={class:"col-12"},Ql={class:"text-right"},eo={class:"row"},lo={class:"col-6"},oo={class:"personal-info"},so={class:"pb-1 border-bottom-liteAsh flex-column"},to=i(()=>e("div",{class:"title"},"Current Address ",-1)),ao={class:"text"},io={class:"col-6"},no={class:"personal-info"},ro={class:"pb-1 border-bottom-liteAsh flex-column"},_o=i(()=>e("div",{class:"title"},"Permanent Address ",-1)),co={class:"text"},mo={__name:"EmployeeDetails",setup(t){const r=ie(),l=de(),f=j(),g=j(),b=v(!1),h=v(!1),c=v(!1),s=k({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),V=v([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),P=A(()=>l.employeeDetails.get_employee_details.gender=="male"?"Male":l.employeeDetails.get_employee_details.gender=="female"?"Female":l.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),U=A(()=>{if(l.employeeDetails.get_employee_details.marital_status_id==1)return"Unmarried";if(l.employeeDetails.get_employee_details.marital_status_id==2)return"Married";if(l.employeeDetails.get_employee_details.marital_status_id==3)return"Separated";if(l.employeeDetails.get_employee_details.marital_status_id==4)return"Widowed";if(l.employeeDetails.get_employee_details.marital_status_id==5)return"Divorced"}),x=A(()=>{if(l.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(l.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(l.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(l.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(l.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(l.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(l.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(l.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),G=A(()=>{if(l.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(l.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"}),L=v([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),Y=v(),N=v();Q(),ee(()=>{r.getBloodGroups().then(y=>{console.log(y.data),Y.value=y.data}),r.getMaritalStatus().then(y=>{console.log(y),N.value=y.data})});function z(){console.log("Opening General Info Dialog"),s.dob=l.employeeDetails.get_employee_details.dob,s.doj=l.employeeDetails.get_employee_details.doj,s.marital_status_id=parseInt(l.employeeDetails.get_employee_details.marital_status_id),s.gender=l.employeeDetails.get_employee_details.gender,s.blood_group_id=parseInt(l.employeeDetails.get_employee_details.blood_group_id),s.physically_challenged=l.employeeDetails.get_employee_details.physically_challenged,b.value=!0}function J(){let o=`/profile-pages-update-generalinfo/${r.current_user_id}`;O.post(o,{user_code:l.employeeDetails.user_code,dob:s.dob,gender:s.gender,marital_status_id:s.marital_status_id,doj:s.doj,blood_group_id:s.blood_group_id,physically_challenged:s.physically_challenged}).then(n=>{n.data.status=="success"?(f.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),l.employeeDetails.get_employee_details.dob=fe(s.dob,"YYYY-MM-DD"),l.employeeDetails.gender=s.gender,l.employeeDetails.marital_status_id=s.marital_status_id,l.employeeDetails.get_employee_details.doj=s.doj,l.employeeDetails.blood_group_id=s.blood_group_id,l.employeeDetails.physically_challenged=s.physically_challenged):n.data.status=="failure"&&(leave_data.leave_request_error_messege=n.data.message)}).catch(n=>{console.log(n)}),b.value=!1}const R=v(),d=k({email:"",official_email:"",mobile_number:"",official_mobile_number:""});function q(){console.log("Opening General Info Dialog : "),d.email=l.employeeDetails.email,d.official_email=l.employeeDetails.get_employee_office_details.officical_mail,d.mobile_number=parseInt(l.employeeDetails.get_employee_details.mobile_number),d.official_mobile_number=parseInt(l.employeeDetails.get_employee_office_details.official_mobile),console.log("testing"),h.value=!0}function W(){let o=`/profile-pages-update-contactinfo/${r.current_user_id}`;O.post(o,{user_code:l.employeeDetails.user_code,email:d.email,officical_mail:d.official_email,mobile_number:d.mobile_number,official_mobile_number:d.official_mobile_number}).then(n=>{n.data.status=="success"?(f.add({severity:"success",summary:"Updated",detail:"Contact information updated",life:3e3}),l.employeeDetails.email=d.email,l.employeeDetails.get_employee_office_details.officical_mail=d.official_email,l.employeeDetails.get_employee_details.mobile_number=d.mobile_number,l.employeeDetails.get_employee_office_details.official_mobile=d.official_mobile_number):n.data.status=="failure"&&(R.leave_request_error_messege=n.data.message)}).catch(n=>{console.log(n)}),h.value=!1}const X=v(),m=k({current_address:"",Permanent_Address:""});function Z(){console.log("Opening General Info Dialog"),m.current_address=l.employeeDetails.get_employee_details.current_address_line_1,m.Permanent_Address=l.employeeDetails.get_employee_details.permanent_address_line_1,c.value=!0}const K=()=>{if(m.current_address==" "||m.Permanent_Address==" ")g.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3});else{let o=`/profile-pages-update-address_info/${r.current_user_id}`;O.post(o,{user_code:l.employeeDetails.user_code,current_address_line_1:m.current_address,permanent_address_line_1:m.Permanent_Address}).then(n=>{data_checking.value=!1,n.data.status=="success"?(f.add({severity:"success",summary:"Updated",detail:"Address information updated",life:3e3}),l.employeeDetails.current_address_line_1=m.current_address,l.employeeDetails.get_employee_office_details.permanent_address_line_1=m.Permanent_Address):n.data.status=="failure"&&(X.leave_request_error_messege=n.data.message)}).catch(n=>{console.log(n)}),c.value=!1}};return(y,o)=>{const n=C("Toast"),$=C("Calendar"),I=C("Dropdown"),E=C("Dialog");return se(),le(oe,null,[u(n),e("div",ge,[e("div",be,[e("h6",he,[D("General Information "),e("a",{type:"button",class:"edit-icon",onClick:z},ve),u(E,{visible:b.value,"onUpdate:visible":o[7]||(o[7]=a=>b.value=a),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:M(()=>[e("div",null,[e("h5",{style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:M(()=>[e("div",De,[e("div",xe,[e("div",Me,[Se,e("div",we,[u($,{showIcon:"",class:"mb-3 form-selects",modelValue:s.dob,"onUpdate:modelValue":o[0]||(o[0]=a=>s.dob=a),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Ae,[e("div",Ve,[Ye,u(I,{modelValue:s.gender,"onUpdate:modelValue":o[1]||(o[1]=a=>s.gender=a),options:V.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects"},null,8,["modelValue","options"])])]),e("div",Ie,[e("div",Ce,[Pe,e("div",Ue,[u($,{showIcon:"",class:"mb-3 form-selects",modelValue:s.doj,"onUpdate:modelValue":o[2]||(o[2]=a=>s.doj=a),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Ge,[e("div",Le,[Ee,e("div",ke,[u(I,{modelValue:s.blood_group_id,"onUpdate:modelValue":o[3]||(o[3]=a=>s.blood_group_id=a),options:Y.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects"},null,8,["modelValue","options"])])])]),e("div",Be,[e("div",Oe,[Ne,u(I,{modelValue:s.marital_status_id,"onUpdate:modelValue":o[4]||(o[4]=a=>s.marital_status_id=a),options:N.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects"},null,8,["modelValue","options"])])]),e("div",$e,[e("div",je,[He,u(I,{modelValue:s.physically_challenged,"onUpdate:modelValue":o[5]||(o[5]=a=>s.physically_challenged=a),options:L.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects"},null,8,["modelValue","options"])])])]),e("div",Te,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:o[6]||(o[6]=a=>J())},"Save")])]),_:1},8,["visible"])]),e("div",null,[e("ul",Fe,[e("li",ze,[Je,e("div",Re,p(_(H)(_(l).employeeDetails.get_employee_details.dob).format("DD-MMM-YYYY")),1)]),e("li",qe,[We,e("div",Xe,p(_(P)),1)]),e("li",Ze,[Ke,e("div",Qe,p(_(H)(_(l).employeeDetails.get_employee_details.doj).format("DD-MMM-YYYY")),1)]),e("li",el,[ll,e("div",ol,p(_(U)),1)]),e("li",sl,[tl,e("div",al,p(_(x))+" ",1)]),e("li",il,[dl,e("div",nl,p(_(G)),1)])])])])]),e("div",rl,[e("div",_l,[e("h6",cl,[D("Contact Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:q},pl)]),u(E,{visible:h.value,"onUpdate:visible":o[12]||(o[12]=a=>h.value=a),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:M(()=>[e("div",null,[e("h5",{style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:M(()=>[e("div",ul,[e("div",fl,[e("div",gl,[e("div",bl,[hl,S(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=a=>d.email=a)},null,512),[[w,d.email]])])]),e("div",yl,[e("div",vl,[Dl,S(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":o[9]||(o[9]=a=>d.official_email=a)},null,512),[[w,d.official_email]])])]),e("div",xl,[e("div",Ml,[Sl,S(e("input",{type:"text",size:"20",maxlength:"10",name:"mobile_number",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=a=>d.mobile_number=a)},null,512),[[w,d.mobile_number]])])]),e("div",wl,[e("div",Al,[Vl,S(e("input",{type:"text",size:"20",maxlength:"10",name:"official_mobile_number",class:"form-control","onUpdate:modelValue":o[11]||(o[11]=a=>d.official_mobile_number=a)},null,512),[[w,d.official_mobile_number]])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:W},"Save")])])])])]),_:1},8,["visible"])]),e("div",null,[e("ul",Yl,[e("li",Il,[Cl,e("div",Pl,p(_(l).employeeDetails.email),1)]),e("li",Ul,[Gl,e("div",Ll,p(_(l).employeeDetails.get_employee_office_details.officical_mail),1)]),e("li",El,[kl,e("div",Bl,p(_(l).employeeDetails.get_employee_details.mobile_number),1)]),e("li",Ol,[Nl,e("div",$l,p(_(l).employeeDetails.get_employee_office_details.official_mobile),1)])])])])]),e("div",jl,[e("div",Hl,[e("h6",Tl,[D("Address "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:Z},zl)]),u(E,{visible:c.value,"onUpdate:visible":o[15]||(o[15]=a=>c.value=a),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:M(()=>[e("div",null,[e("h5",{style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:M(()=>[e("div",Jl,[e("div",Rl,[e("div",ql,[Wl,S(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=a=>m.current_address=a)},null,512),[[w,m.current_address]])]),e("div",Xl,[Zl,S(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=a=>m.Permanent_Address=a)},null,512),[[w,m.Permanent_Address]])])]),e("div",Kl,[e("div",Ql,[u(n),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:K,severity:"warn"},"Save")])])])]),_:1},8,["visible"])]),e("div",null,[e("div",eo,[e("div",lo,[e("ul",oo,[e("li",so,[to,e("div",ao,p(_(l).employeeDetails.get_employee_details.current_address_line_1),1)])])]),e("div",io,[e("ul",no,[e("li",ro,[_o,e("div",co,p(_(l).employeeDetails.get_employee_details.permanent_address_line_1),1)])])])])])])])],64)}}},vo=ne(mo,[["__scopeId","data-v-0c227c4c"]]);export{vo as E};
