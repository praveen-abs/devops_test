import{a as x}from"./index-362795f3.js";import{H as r,Y as ne,I as B,c as f,d as o,h as b,J as t,a as T,n as w,b as D,w as A,a9 as O,g as k,o as g,F as j,f as Y,ac as J,ad as q,p as z,l as ie}from"./inputnumber.esm-2ef94937.js";import"./lodash-facb8280.js";import{d as re}from"./pinia-0d96afee.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{L as H}from"./LoadingSpinner-9dbead47.js";const V=re("EmployeeMasterStore",()=>{const v=r(),e=r(),i=r(),h=r(),R=r(),l=r(),C=r(!1),_=r(),p=r(!1),d=r([]),c=r([]),I=r(),N=r(""),F=r(1),m=r(!1),s=ne({date:"",department_id:"",legal_entity:"",active_status:"",type:""}),E=r([]),S=r([]),U=()=>{let a="/fetch-employee-ctc-report";m.value=!0,x.post(a,{type:""}).then(n=>{console.log(n.data.rows,"get value "),d.value=n.data.rows,console.log(d.value," testings data"),n.data.headers.forEach(u=>{let L={title:u};c.value.push(L),console.log(u)}),console.log(c.value)}).finally(()=>{m.value=!1})};function K(){m.value=!0,x.get("/filter-client-ids").then(a=>{R.value=a.data,console.log(" testing client id",R.value)}).finally(()=>{m.value=!1})}function Q(){m.value=!0,x.get("/get-department").then(a=>{I.value=a.data}).finally(()=>{m.value=!1})}function W(){m.value=!0,x.post("/get-filter-months-for-reports").then(a=>{N.value=a.data}).finally(()=>{m.value=!1})}function X(){d.value.splice(0),c.value.splice(0),p.value==!0?(console.log(p),p.value=!1,_.value="",console.log(_.value)):p.value==!1&&(p.value=!0,_.value="detailed",console.log(_.value)),s.type=_.value,x.post("/fetch-employee-ctc-report",s).then(a=>{console.log(a.data.rows,"get value "),d.value=a.data.rows,console.log(d.value," testings data"),a.data.headers.forEach(n=>{let u={title:n};c.value.push(u),console.log(n)}),console.log(c.value)})}const Z=()=>{let a="/generate-employee-ctc-report";m.value=!0,x.post(a,s,{responseType:"blob"}).then(n=>{console.log(n.data);var u=document.createElement("a");u.href=window.URL.createObjectURL(n.data),u.download="Employee CTC Report_.xlsx",u.click()}).finally(()=>{C.value=!1,m.value=!1})};function ee(a){F.value=a,a===2?x.post("/fetch-employee-ctc-report",s).then(n=>{console.log(n.data.rows,"get value "),d.value=n.data.rows,console.log(d.value," testings data"),n.data.headers.forEach(u=>{let L={title:u};c.value.push(L),console.log(u)}),console.log(c.value),n.data.rows.length===0&&Swal.fire({title:n.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(u=>{})}):(s.active_status="",s.date="",s.department_id="",s.legal_entity="",v.value="",e.value="",i.value="",h.value="",U())}function te(a,n,u){if(console.log(a,n,u),S.value.splice(0,S.value.length),E.value.splice(0,E.value.length),d.value.splice(0,d.value.length),c.value.splice(0,c.value.length),m.value=!0,a=="department"?s.department_id=n:a=="Category"?(s.active_status=n,console.log(s)):a=="date"?s.date=n:a=="legal_entity"&&(s.legal_entity=n),u==1){let L="/fetch-master-employee-report";x.post(L,s).then(y=>{console.log(y.data.rows,"get value "),E.value=y.data.rows,console.log(E.value," testings data"),y.data.headers.forEach(M=>{let P={title:M};S.value.push(P),console.log(M)}),console.log(S.value),y.data.headers.length===0&&Swal.fire({title:y.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(M=>{})}).finally(()=>{m.value=!1})}else{let L="/fetch-employee-ctc-report";m.value=!0,x.post(L,s).then(y=>{console.log(y.data.rows,"get value "),d.value=y.data.rows,console.log(d.value," testings data"),y.data.headers.forEach(M=>{let P={title:M};c.value.push(P),console.log(M)}),console.log(c.value),y.data.rows.length===0&&Swal.fire({title:y.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(M=>{})}).finally(()=>{m.value=!1})}}function oe(){let a="/fetch-master-employee-report";m.value=!0,x.post(a,{type:""}).then(n=>{console.log(n.data.rows,"get value "),E.value=n.data.rows,console.log(E.value," testings data"),n.data.headers.forEach(u=>{let L={title:u};S.value.push(L),console.log(u)}),console.log(S.value)}).finally(()=>{m.value=!1})}function le(){let a="/generate-master-employee-report-data";m.value=!0,x.post(a,s,{responseType:"blob"}).then(n=>{console.log(n.data);var u=document.createElement("a");u.href=window.URL.createObjectURL(n.data),u.download="Employee Master Report_.xlsx",u.click()}).finally(()=>{C.value=!1,m.value=!1})}function ae(a){console.log("testing data :",a),a===2?(d.value.splice(0,d.value.length),c.value.splice(0,c.value.length),s.active_status="",s.date="",s.department_id="",s.legal_entity="",v.value="",e.value="",i.value="",h.value=""):(E.value.splice(0,E.value.length),S.value.splice(0,S.value.length),s.active_status="",s.date="",s.department_id="",s.legal_entity="",v.value="",e.value="",i.value="",h.value="")}function se(a){console.log(a?"1":"2",a)}return{show:p,client_ids:R,employeeCTCReportSource:d,Employee_CTCReportDynamicHeaders:c,personalDetail:_,selectCategory:l,department:I,PeriodMonth:N,fetchFilterClientIds:K,getEmployeeCTC:U,personalDetails:X,getALLdepartment:Q,getPeriodMonth:W,updateEmployeeApplyFilter:ee,downloadEmployeeCTC:Z,btn_download:C,canShowLoading:m,filterbtn:F,legal_Entity:v,Department:e,period_Date:i,select_Category:h,getemployeeMater:oe,employeeMaterReportSource:E,Employee_MaterReportDynamicHeaders:S,downloadEmployeeMaster:le,getSelectoption:te,clearfilterBtn:ae,testings:se,selectedfilters:s,resetChars:()=>{s.active_status="",s.date="",s.department_id="",s.legal_entity="",v.value="",e.value="",i.value="",h.value=""}}});const $=v=>(J("data-v-8e29533c"),v=v(),q(),v),pe={class:"flex justify-between p-2 bg-white"},de={class:""},ce={class:"flex items-center"},ue=$(()=>o("h1",{class:"text-[12px] text-black font-semibold font-['poppins']"},"Personal Details -",-1)),me={key:0,class:"pi pi-eye"},ge={key:1,class:"pi pi-eye-slash"},ve=$(()=>o("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"},null,-1)),_e=$(()=>o("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),fe=$(()=>o("path",{d:"M8,1 L8,11",class:"svg-out"},null,-1)),he=[ve,_e,fe],ye={class:""},xe={__name:"employee_CTC",setup(v){const e=V();B(()=>{}),r([]);const i=r({global:{value:null,matchMode:O.CONTAINS}}),h=r("downloaded");return(R,l)=>{const C=k("InputText"),_=k("loadingSpinner"),p=k("Column"),d=k("DataTable");return g(),f("div",null,[o("div",pe,[o("div",de,[b(C,{placeholder:"Search",modelValue:i.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=c=>i.value.global.value=c),class:"border-color !h-10 my-2"},null,8,["modelValue"])]),o("div",ce,[ue,o("button",{class:"bg-[#E6E6E6] px-3 p-2 rounded-md mx-2",onClick:l[1]||(l[1]=c=>t(e).personalDetails())},[t(e).show&&t(e).personalDetail=="detailed"?(g(),f("i",me)):t(e).show?T("",!0):(g(),f("i",ge))]),o("button",{class:w(["p-2 mx-2 rounded-md w-[120px]",[!t(e).employeeCTCReportSource.length==0?"bg-[#000] text-white":" !text-[#000] !bg-[#E6E6E6] "]]),onClick:l[2]||(l[2]=c=>(t(e).btn_download=!t(e).btn_download,t(e).downloadEmployeeCTC()))},[o("p",{class:w(["relative left-2 font-['poppins']",[!t(e).employeeCTCReportSource.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]])},"Download",2),o("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:w([t(e).btn_download==!0?h.value:" "])},[(g(),f("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:w([!t(e).employeeCTCReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},he,2))],2)],2)])]),o("div",ye,[t(e).canShowLoading?(g(),D(_,{key:0,class:"absolute z-50 bg-white"})):T("",!0),b(d,{value:t(e).employeeCTCReportSource,filters:i.value,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],scrollable:"",scrollHeight:"240px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",responsiveLayout:"scroll"},{default:A(()=>[(g(!0),f(j,null,Y(t(e).Employee_CTCReportDynamicHeaders,c=>(g(),D(p,{key:c.title,field:c.title,header:c.title,style:{"white-space":"nowrap","text-align":"left",width:"15rem !important"}},null,8,["field","header"]))),128))]),_:1},8,["value","filters"])])])}}},be=G(xe,[["__scopeId","data-v-8e29533c"]]);const we=v=>(J("data-v-5e1bd1bc"),v=v(),q(),v),Ce={class:"flex justify-between bg-white py-1"},Ee={class:"flex items-center"},Se=we(()=>o("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),Le={class:""},ke={__name:"Employee_Master",setup(v){r(1);const e=V();B(()=>{});const i=r({global:{value:null,matchMode:O.CONTAINS}}),h=r("downloaded");return(R,l)=>{const C=k("InputText"),_=k("Column"),p=k("DataTable");return g(),f("div",null,[o("div",null,[o("div",Ce,[o("div",null,[b(C,{placeholder:"Search",modelValue:i.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=d=>i.value.global.value=d),class:"border-color !h-10 my-2",style:{height:"3em"}},null,8,["modelValue"])]),o("div",Ee,[o("button",{class:w(["p-2 mx-2 rounded-md w-[120px]",[!t(e).employeeMaterReportSource.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]]),onClick:l[1]||(l[1]=d=>(t(e).btn_download=!t(e).btn_download,t(e).downloadEmployeeMaster()))},[o("p",{class:w(["relative left-2 font-['poppins']",[!t(e).employeeMaterReportSource.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]])},"Download",2),o("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:w([t(e).btn_download==!0?h.value:""])},[(g(),f("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:w([!t(e).employeeMaterReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},[o("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check",style:z([!t(e).employeeMaterReportSource.length===0?"stroke=blue":"!bg-[#E6E6E6] !text-[#000] "])},null,4),Se,o("path",{d:"M8,1 L8,11",class:"svg-out",stroke:"",style:z([t(e).employeeMaterReportSource.length===0?"red":"fill: red"])},null,4)],2))],2)],2)])]),o("div",Le,[b(p,{value:t(e).employeeMaterReportSource,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",scrollable:"",scrollHeight:"240px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{default:A(()=>[(g(!0),f(j,null,Y(t(e).Employee_MaterReportDynamicHeaders,d=>(g(),D(_,{class:"",key:d.title,field:d.title,header:d.title,style:{"white-space":"nowrap","text-align":"left",width:"15rem !important","marign-right":"1rem !important"},resizableColumns:"",columnResizeMode:"fit"},null,8,["field","header"]))),128))]),_:1},8,["value"])])])])}}},Me=G(ke,[["__scopeId","data-v-5e1bd1bc"]]);const Te={class:"px-2"},Re={class:"flex justify-between mb-[10px]"},De=o("h1",{class:"text-black text-[24px] font-semibold"},"Employee Master Report",-1),$e=o("i",{class:"mr-2 pi pi-times"},null,-1),Pe={style:{position:"relative"}},Be={class:"grid grid-cols-12 w-[100%]"},Ve={class:"grid grid-cols-2 col-span-4 whitespace-nowrap border-[1px]",id:"pills-tab",role:"tablist"},Ie={class:"nav-item text-center font-['poppins'] text-[14px] text-[#001820]",role:"presentation"},Ne={class:"flex items-center nav-item",role:"presentation"},Fe={class:"grid grid-cols-4 col-span-8 gap-2"},Ue={class:"flex items-center"},ze=o("h1",{class:"text-[12px] text-black px-2 mx-2 font-semibold font-['poppins'] whitespace-nowrap"},"Period : ",-1),He={class:"flex items-center"},Ae=o("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"}," Department : ",-1),Oe={class:"flex items-center"},je=o("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"},"Legal Entity : ",-1),Ye={class:"flex items-center my-1"},Je=o("h1",{class:"text-[12px] text-black px-2 font-semibold font-['poppins'] whitespace-nowrap"},"Status : ",-1),qe={class:"tab-content",id:""},Ge={class:"card-body"},Ke={key:0},Qe={key:1},We={key:2},st={__name:"employee_master_report",setup(v){const e=V();B(()=>{}),r("border-[1px] border-[#F9BE00]"),r("border-[1px] border-[#DCDCDC]");const i=r(1),h=r([{name:"Active",id:1},{name:"Yet To Active",id:0},{name:"Exit",id:-1}]);return(R,l)=>{const C=k("Dropdown"),_=k("MultiSelect");return g(),f("div",Te,[o("div",Re,[De,o("div",null,[o("button",{onClick:l[0]||(l[0]=p=>t(e).clearfilterBtn(i.value)),class:"my-2 flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[$e,ie(" Clear Filter")])])]),o("div",Pe,[o("div",Be,[o("ul",Ve,[o("li",Ie,[o("a",{class:w(["p-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[i.value===1?" rounded-l-[2px] font-semibold !border-b-[2px] !border-[#F9BE00]":"font-medium !text-[#8B8B8B] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[1]||(l[1]=p=>(i.value=1,t(e).clearfilterBtn(i.value)))}," Employee Master ",2)]),o("li",Ne,[o("a",{class:w(["p-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[i.value===2?"rounded-r-[2px] font-semibold !border-b-[2px] !border-[#F9BE00]":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:l[2]||(l[2]=p=>(i.value=2,t(e).clearfilterBtn(i.value)))}," Employee CTC ",2)])]),o("ul",Fe,[o("li",Ue,[ze,b(C,{optionLabel:"month",optionValue:"date",options:t(e).PeriodMonth,modelValue:t(e).period_Date,"onUpdate:modelValue":l[3]||(l[3]=p=>t(e).period_Date=p),onChange:l[4]||(l[4]=p=>t(e).getSelectoption("date",t(e).period_Date,i.value)),placeholder:"Select period",class:"w-[150px] mx-2 !h-10 !font-semibold !font-['poppins'] !text-[#000] !bg-[#E6E6E6]"},null,8,["options","modelValue"])]),o("li",He,[Ae,b(_,{modelValue:t(e).Department,"onUpdate:modelValue":l[5]||(l[5]=p=>t(e).Department=p),options:t(e).department,optionLabel:"name",placeholder:"Department",onChange:l[6]||(l[6]=p=>t(e).getSelectoption("department",t(e).Department,i.value)),optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),o("li",Oe,[je,b(_,{onChange:l[7]||(l[7]=p=>t(e).getSelectoption("legal_entity",t(e).legal_Entity,i.value)),modelValue:t(e).legal_Entity,"onUpdate:modelValue":l[8]||(l[8]=p=>t(e).legal_Entity=p),options:t(e).client_ids,optionLabel:"client_fullname",placeholder:"Legal Entity",optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),o("li",Ye,[Je,b(_,{onChange:l[9]||(l[9]=p=>t(e).getSelectoption("Category",t(e).select_Category,i.value)),modelValue:t(e).select_Category,"onUpdate:modelValue":l[10]||(l[10]=p=>t(e).select_Category=p),optionValue:"id",options:h.value,optionLabel:"name",placeholder:"Select Category",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6] mx-2"},null,8,["modelValue","options"])])])]),o("div",qe,[o("div",null,[o("div",Ge,[i.value===1?(g(),f("div",Ke,[t(e).canShowLoading?(g(),D(H,{key:0,class:"absolute z-50 bg-white"})):T("",!0),b(Me)])):T("",!0),i.value===2?(g(),f("div",Qe,[t(e).canShowLoading?(g(),D(H,{key:0,class:"absolute z-50 bg-white"})):T("",!0),b(be)])):T("",!0),i.value===3?(g(),f("div",We)):T("",!0)])])])])])}}};export{V as E,st as _,Me as a,be as e};
