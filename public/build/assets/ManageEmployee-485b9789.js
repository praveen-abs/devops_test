/* empty css              */import{I as y,af as r,ak as F,g as p,o as m,c as x,h as e,w as o,aj as f,a3 as B,d as s,l as g,n as C,t as w,b as N,a as L,ah as H,K as X,P as G,L as q,u as Z,M as ee,R as ae,S as te,x as oe,y as le,N as se,_ as ne,Q as ie,W as re,Y as ce,V as de}from"./toastservice.esm-3d6796bd.js";/* empty css                 */import{d as pe,c as me}from"./pinia-5332ebd8.js";import"./blockui.esm-fba20899.js";import{a as ue}from"./datatable.esm-30f5a7e6.js";import{D as _e,s as fe}from"./dialogservice.esm-0be88020.js";import{u as z,C as ve}from"./confirmationservice.esm-5ceb5613.js";import{s as ge}from"./progressspinner.esm-2bee3521.js";import{s as ye}from"./progressbar.esm-3538c743.js";import{s as he}from"./row.esm-6ebc942e.js";import{s as be}from"./calendar.esm-88321a96.js";import{s as we}from"./textarea.esm-bd97b02a.js";import{s as Se}from"./chips.esm-267914ec.js";import{s as xe}from"./multiselect.esm-74672710.js";import{d as Q}from"./dayjs.min-2f06af28.js";import{p as Ce}from"./ProfilePagesStore-5c40d2a6.js";import{a as j}from"./index-362795f3.js";import{S as W}from"./Service-bda4280b.js";const J=pe("manageEmployees",()=>{const E=y(),$=y(),h=y();async function v(){let _=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+_),await j.get(_).then(b=>{E.value=b.data})}async function c(){let _=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+_),await j.get(_).then(b=>{console.log("Axios : "+b.data),$.value=b.data})}async function I(){let _=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+_),await j.get(_).then(b=>{console.log("Axios : "+b.data),h.value=b.data})}return{array_active_employees:E,yet_to_active_employees_data:$,exit_employees_data:h,getActiveEmployees:v,ajax_yet_to_active_employees_data:c,ajax_exit_employees_data:I}});const ke=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),Ae={class:"flex justify-center items-center"},Te=["src"],$e={class:"text-left pl-2 font-semibold fs-6"},De=["onClick"],Ne=s("i",{class:"pi pi-eye mx-2 py-1 h-6"},null,-1),Le={__name:"active_employees",setup(E){const $=W(),h=J(),v=Ce();let c=y(!0);const I=y(),_=y({global:{value:null,matchMode:r.CONTAINS},emp_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},emp_code:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS}});F(async()=>{await h.getActiveEmployees(),c.value=!1});async function b(k){console.log(k),I.value=k.data,v.user_code=k.enc_user_id,window.location.href="/pages-profile-new?uid="+k.enc_user_id}return(k,u)=>{const S=p("ProgressSpinner"),P=p("Dialog"),D=p("InputText"),A=p("Column"),d=p("ProgressBar"),i=p("DataTable");return m(),x("div",null,[e(P,{header:"Header",visible:f(c),"onUpdate:visible":u[0]||(u[0]=l=>B(c)?c.value=l:c=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:o(()=>[e(S,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:o(()=>[ke]),_:1},8,["visible"]),s("div",null,[e(i,{value:f(h).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:_.value,"onUpdate:filters":u[1]||(u[1]=l=>_.value=l),filterDisplay:"menu",loading:f(c),globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[g(" No customers found.")]),loading:o(()=>[g(" Loading customers data. Please wait. ")]),default:o(()=>[e(A,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"20rem","text-align":"center:  !important"}},{body:o(l=>[s("div",Ae,[JSON.parse(l.data.emp_avatar).type=="shortname"?(m(),x("p",{key:0,class:C(["p-2 w-11 fs-6 font-semibold rounded-full text-white",f($).getBackgroundColor(l.index)])},w(JSON.parse(l.data.emp_avatar).data),3)):(m(),x("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(l.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Te)),s("p",$e,w(l.data.emp_name),1)])]),filter:o(({filterModel:l,filterCallback:V})=>[e(D,{modelValue:l.value,"onUpdate:modelValue":t=>l.value=t,onInput:t=>V(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(A,{field:"emp_code",header:"Employee Code",class:"",style:{"min-width":"5rem !important"}},{filter:o(({filterModel:l,filterCallback:V})=>[e(D,{modelValue:l.value,"onUpdate:modelValue":t=>l.value=t,onInput:t=>V(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(A,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(A,{field:"reporting_manager_name",header:"Reporting Manager"}),e(A,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(l=>[g(w(f(Q)(l.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(A,{field:"profile_completeness",header:"Profile Completeness"},{body:o(l=>[l.data.profile_completeness<=39?(m(),N(d,{key:0,value:l.data.profile_completeness,class:C([l.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),l.data.profile_completeness>=40&&l.data.profile_completeness<=59?(m(),N(d,{key:1,class:C(["progressbar_val2",[l.data.profile_completeness>=40&&l.data.profile_completeness<=59]]),value:l.data.profile_completeness},null,8,["class","value"])):L("",!0),l.data.profile_completeness>=60?(m(),N(d,{key:2,class:C(["progressbar_val3",[l.data.profile_completeness>=60]]),value:l.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),e(A,{field:"enc_user_id",header:"View Profile"},{body:o(l=>[s("button",{onClick:V=>b(l.data),class:"px-2 py-1 text-center text-white whitespace-nowrap bg-orange-700 rounded-md"},[Ne,g("View")],8,De)]),_:1})]),_:1},8,["value","filters","loading"])])])}}},Ve=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),Re={class:"confirmation-content"},Me=s("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Ie={class:"flex justify-center items-center"},Ee=["src"],Pe={class:"text-left pl-2 font-semibold fs-6"},Ue=["onClick"],Oe=s("i",{class:"pi pi-eye mx-2 py-1 h-6"},null,-1),je={key:0},Be={key:1},Je={__name:"yet_to_active_employees",setup(E){const $=W(),h=J();F(()=>{h.ajax_yet_to_active_employees_data()}),y();let v=y(!1),c=y(!1);z();const I=H();function _(d){window.location.href="/pages-profile-new?uid="+d}const b=y({global:{value:null,matchMode:r.CONTAINS},emp_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},emp_code:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS}});y(["Pending","Approved","Rejected"]);let k=null,u=null;function S(d,i){d.emp_code,d.emp_status,console.log(J.emp_status),console.log(d.emp_status),v.value=!0,k=i,u=d,console.log("Selected Row Data : "+JSON.stringify(d))}function P(d){v.value=!1,d&&D()}function D(){k="",u=null}function A(){P(!1),c.value=!0,console.log("Processing Rowdata : "+JSON.stringify(u)),j.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:u.emp_code,active_status:1}).then(d=>{console.log("Response : "+d),I.add({severity:"success",summary:"Activated",detail:`${u.emp_name} Activated Successfully`,life:3e3}),D()}).catch(d=>{c.value=!1,D()}).finally(()=>{h.ajax_yet_to_active_employees_data(),h.getActiveEmployees(),c.value=!1})}return(d,i)=>{const l=p("Toast"),V=p("ProgressSpinner"),t=p("Dialog"),R=p("Button"),M=p("InputText"),T=p("Column"),Y=p("ProgressBar"),K=p("DataTable");return m(),x("div",null,[e(l),e(t,{header:"Header",visible:f(c),"onUpdate:visible":i[0]||(i[0]=a=>B(c)?c.value=a:c=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:o(()=>[e(V,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:o(()=>[Ve]),_:1},8,["visible"]),e(t,{header:"Confirmation",visible:f(v),"onUpdate:visible":i[3]||(i[3]=a=>B(v)?v.value=a:v=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[e(R,{label:"Yes",icon:"pi pi-check",onClick:i[1]||(i[1]=a=>A()),class:"p-button-text",autofocus:""}),e(R,{label:"No",icon:"pi pi-times",onClick:i[2]||(i[2]=a=>P(!0)),class:"p-button-text"})]),default:o(()=>[s("div",Re,[Me,s("span",null,"Are you sure you want to "+w(f(k))+"?",1)])]),_:1},8,["visible"]),s("div",null,[e(K,{value:f(h).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:b.value,"onUpdate:filters":i[4]||(i[4]=a=>b.value=a),filterDisplay:"menu",loading:d.loading2,globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[g(" No customers found. ")]),loading:o(()=>[g(" Loading customers data. Please wait. ")]),default:o(()=>[e(T,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"20rem"}},{body:o(a=>[s("div",Ie,[JSON.parse(a.data.emp_avatar).type=="shortname"?(m(),x("p",{key:0,class:C(["p-2 w-11 fs-6 font-semibold rounded-full text-white",f($).getBackgroundColor(a.index)])},w(JSON.parse(a.data.emp_avatar).data),3)):(m(),x("img",{key:1,class:"rounded-circle img-md w-10 userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(a.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Ee)),s("p",Pe,w(a.data.emp_name),1)])]),filter:o(({filterModel:a,filterCallback:U})=>[e(M,{modelValue:a.value,"onUpdate:modelValue":O=>a.value=O,onInput:O=>U(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(T,{field:"emp_code",header:"Employee Code"},{body:o(a=>[g(w(a.data.emp_code),1)]),filter:o(({filterModel:a,filterCallback:U})=>[e(M,{modelValue:a.value,"onUpdate:modelValue":O=>a.value=O,onInput:O=>U(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(T,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(T,{field:"reporting_manager_name",header:"Reporting Manager"}),e(T,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(a=>[g(w(f(Q)(a.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(T,{field:"profile_completeness",header:"Profile Completeness"},{body:o(a=>[a.data.profile_completeness<=39?(m(),N(Y,{key:0,value:a.data.profile_completeness,class:C([a.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),a.data.profile_completeness>=40&&a.data.profile_completeness<=59?(m(),N(Y,{key:1,class:C(["progressbar_val2",[a.data.profile_completeness>=40&&a.data.profile_completeness<=59]]),value:a.data.profile_completeness},null,8,["class","value"])):L("",!0),a.data.profile_completeness>=60?(m(),N(Y,{key:2,class:C(["progressbar_val3",[a.data.profile_completeness>=60]]),value:a.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),e(T,{field:"is_onboarded",header:"Onboarding Status"},{body:o(a=>[g(w(a.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),e(T,{field:"doc_status",header:"Docs Approval Status"},{body:o(a=>[g(w(a.data.is_onboarded&&a.data.doc_status?"Approved":"Pending"),1)]),_:1}),e(T,{field:"enc_user_id",header:"View Profile"},{body:o(a=>[s("button",{onClick:U=>_(a.data.enc_user_id),class:"px-2 py-1 text-center text-white whitespace-nowrap bg-orange-700 rounded-md"},[Oe,g("View")],8,Ue)]),_:1}),e(T,{style:{width:"300px"},field:"",header:"Action"},{body:o(a=>[a.data.is_onboarded&&a.data.doc_status?(m(),x("div",je,[e(R,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:U=>S(a.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(m(),x("div",Be))]),_:1})]),_:1},8,["value","filters","loading"])])])}}},Ye={class:"confirmation-content"},Fe=s("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Qe={class:"flex justify-center items-center"},We=["src"],He={class:"text-left pl-2 font-semibold fs-6"},ze=["onClick"],Ke=s("i",{class:"pi pi-eye mx-2 py-1 h-6"},null,-1),Xe={__name:"exit_employees",setup(E){const $=W(),h=J();F(()=>{h.ajax_exit_employees_data()}),y();let v=y(!1),c=y(!1);z();const I=H(),_=y({global:{value:null,matchMode:r.CONTAINS},employee_name:{value:null,matchMode:r.STARTS_WITH,matchMode:r.EQUALS,matchMode:r.CONTAINS},status:{value:null,matchMode:r.EQUALS},status:{value:null,matchMode:r.EQUALS}});function b(u){window.location.href="/pages-profile-new?uid="+u}function k(){hideConfirmDialog(!1),c.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),j.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(u=>{console.log("Response : "+u),c.value=!1,I.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(u=>{c.value=!1,resetVars()})}return(u,S)=>{const P=p("Toast"),D=p("Button"),A=p("Dialog"),d=p("InputText"),i=p("Column"),l=p("ProgressBar"),V=p("DataTable");return m(),x("div",null,[e(P),e(A,{header:"Confirmation",visible:f(v),"onUpdate:visible":S[2]||(S[2]=t=>B(v)?v.value=t:v=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[e(D,{label:"Yes",icon:"pi pi-check",onClick:S[0]||(S[0]=t=>k()),class:"p-button-text",autofocus:""}),e(D,{label:"No",icon:"pi pi-times",onClick:S[1]||(S[1]=t=>u.hideConfirmDialog(!0)),class:"p-button-text"})]),default:o(()=>[s("div",Ye,[Fe,s("span",null,"Are you sure you want to "+w(u.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),s("div",null,[e(V,{value:f(h).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:_.value,"onUpdate:filters":S[3]||(S[3]=t=>_.value=t),filterDisplay:"menu",loading:f(c),globalFilterFields:["emp_name","emp_code","status"]},{empty:o(()=>[g(" No customers found.")]),loading:o(()=>[g(" Loading customers data. Please wait. ")]),default:o(()=>[e(i,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"20rem"}},{body:o(t=>[s("div",Qe,[JSON.parse(t.data.emp_avatar).type=="shortname"?(m(),x("p",{key:0,class:C(["p-2 w-11 fs-6 font-semibold rounded-full text-white",f($).getBackgroundColor(t.index)])},w(JSON.parse(t.data.emp_avatar).data),3)):(m(),x("img",{key:1,class:"rounded-circle img-md w-10 userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(t.data.emp_avatar).data}`,srcset:"",alt:""},null,8,We)),s("p",He,w(t.data.emp_name),1)])]),filter:o(({filterModel:t,filterCallback:R})=>[e(d,{modelValue:t.value,"onUpdate:modelValue":M=>t.value=M,onInput:M=>R(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(i,{field:"emp_code",header:"Employee Code",style:{"min-width":"15rem"}},{filter:o(({filterModel:t,filterCallback:R})=>[e(d,{modelValue:t.value,"onUpdate:modelValue":M=>t.value=M,onInput:M=>R(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(i,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(i,{field:"reporting_manager_name",header:"Reporting Manager"}),e(i,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(t=>[g(w(f(Q)(t.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(i,{field:"profile_completeness",header:"Profile Completeness"},{body:o(t=>[t.data.profile_completeness<=39?(m(),N(l,{key:0,value:t.data.profile_completeness,class:C([t.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),t.data.profile_completeness>=40&&t.data.profile_completeness<=59?(m(),N(l,{key:1,class:C(["progressbar_val2",[t.data.profile_completeness>=40&&t.data.profile_completeness<=59]]),value:t.data.profile_completeness},null,8,["class","value"])):L("",!0),t.data.profile_completeness>=60?(m(),N(l,{key:2,class:C(["progressbar_val3",[t.data.profile_completeness>=60]]),value:t.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),e(i,{field:"enc_user_id",header:"View Profile"},{body:o(t=>[s("button",{onClick:R=>b(t.data.enc_user_id),class:"px-2 py-1 text-center text-white whitespace-nowrap bg-orange-700 rounded-md"},[Ke,g("View")],8,ze)]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const Ge={class:""},qe=s("div",{class:"mb-2 card left-line"},[s("div",{class:"pt-1 pb-0 card-body"},[s("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[s("li",{class:"nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),s("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),s("li",{class:"nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),Ze={class:"card"},ea={class:"card-body"},aa={class:"tab-content",id:"pills-tabContent"},ta={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},oa={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},la={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},sa={__name:"ManageEmployee",setup(E){return($,h)=>(m(),x("div",Ge,[qe,s("div",Ze,[s("div",ea,[s("div",aa,[s("div",ta,[e(Le)]),s("div",oa,[e(Je)]),s("div",la,[e(Xe)])])])])]))}},n=X(sa),na=me();n.use(G,{ripple:!0});n.use(ve);n.use(q);n.use(_e);n.use(na);n.directive("tooltip",Z);n.directive("badge",ee);n.directive("ripple",ae);n.directive("styleclass",te);n.directive("focustrap",oe);n.component("Button",le);n.component("DataTable",ue);n.component("Column",se);n.component("ColumnGroup",fe);n.component("Row",he);n.component("Toast",ne);n.component("ConfirmDialog",ie);n.component("Dropdown",re);n.component("InputText",ce);n.component("Dialog",de);n.component("ProgressSpinner",ge);n.component("Calendar",be);n.component("Textarea",we);n.component("Chips",Se);n.component("MultiSelect",xe);n.component("ProgressBar",ye);n.mount("#vjs_manage_employee");
