import{l as fe}from"./lodash-facb8280.js";import{a as F}from"./index-362795f3.js";import{S as te}from"./Service-2e0fbc76.js";import{p as X}from"./ProfilePagesStore-3d1f6cb3.js";import{r as le,u as pe}from"./index.esm-1560b3a4.js";import{r as b,y as z,o as oe,q as Z,b as S,d as u,e as h,m as i,g as t,f as e,n as q,t as r,j as de,i as U,k as $,G as R,F as ae,h as A,x as se,H as ve,w as ne,v as _e,z as xe,l as De,a as $e}from"./app-1d702269.js";import{d as H}from"./dayjs.min-2f06af28.js";import"./moment-fbc5633a.js";import{_ as we,U as ke}from"./EmployeePayslips-5400d309.js";import{L as Pe}from"./LoadingSpinner-4e2a0991.js";/* empty css                                                                       */const J="/build/assets/edit-fdffc648.svg";const Ce={key:0,class:"bg-white border rounded-lg grid grid-cols-12 p-3 content-center"},Ve={class:"col-span-4 h-full grid grid-cols-12 gap-6"},Se={class:"col-span-4"},Me={class:"profile-pic"},Ee=["src"],Le=e("label",{class:"-label",for:"file"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})])],-1),Ye={class:"col-span-8"},Ue={class:"flex justify-between pr-4"},Ae={class:"font-semibold text-md"},Be={class:"font-semibold text-xs text-gray-500"},Ie={class:"py-2"},je=e("p",{class:"font-semibold text-xs"},"Profile completeness",-1),Fe={class:"w-11/12 my-1"},Ne=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Te={class:"col-span-5 grid grid-cols-3 gap-4 h-full"},Re={class:""},Oe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Status",-1),Ge={key:0,class:"font-semibold text-sm"},qe={key:1,class:"font-semibold text-sm"},He={class:""},ze=e("p",{class:"font-semibold text-xs text-gray-500"},"Designation",-1),Ke={class:"font-semibold text-sm"},Ze={class:"flex justify-between items-center"},Je=e("p",{class:"font-semibold text-xs text-gray-500"},"Department",-1),We={class:"font-semibold text-sm"},Xe={class:""},Qe=e("p",{class:"font-semibold text-xs text-gray-500"},"Employee Code",-1),et={class:"font-semibold text-sm"},tt={class:""},st=e("p",{class:"font-semibold text-xs text-gray-500"},"Location",-1),ot={class:"font-semibold text-sm"},lt={class:"flex justify-between items-center"},at={class:""},it=e("p",{class:"font-semibold text-xs text-gray-500"},"Reporting to",-1),nt={key:0,class:"font-semibold text-sm whitespace-nowrap"},dt={class:"col-span-3 h-full"},rt={class:"flex justify-end"},ct=e("div",null,null,-1),_t={class:"mx-2"},mt={class:"p-0 m-0 bg-transparent border-0 outline-none btn"},pt={class:"confirmation-content"},ut=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),ft={class:"bg-blue-900 w-100 py-4 px-2 rounded-lg d-flex justify-content-around overflow-x-scroll ... lg:w-100"},gt={class:"card p-3 d-flex justify-items-center align-items-center mr-2 :lg:mx-0 Digital_Id_Card_",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},bt={style:{height:"45px",width:"140px"},class:"mt-2"},yt=["src"],ht={class:"card-body d-flex justify-items-center align-items-center mt-6",style:{"flex-direction":"column"}},vt=["src"],xt={key:1,class:"text-white fs-4"},Dt={class:"card-title mt-12 mb-3 f-12 text-blue-900 subpixel-antialiased font-semibold",style:{"text-align":"center"}},$t={key:0,class:"f-12 card-text mb-3 text-gray-600 subpixel-antialiased font-semibold"},wt={key:1,class:"f-12 card-text"},kt={key:2,class:"f-16 mb-2 text-gray-700 subpixel-antialiased font-semibold"},Pt={key:3,class:"f-12 mb-2 text-secondary-emphasis"},Ct={class:"card p-2 d-flex justify-items-center align-items-center ml-2 Digital_Id_Card_ :lg:p-2",style:{width:"260px",height:"380px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},Vt={class:"w-100 d-flex justify-content-center align-items-center flex-column"},St=e("h1",{class:"text-orange-500 fs-14 subpixel-antialiased font-semibold fw-600"},"EMPLOYEE DETAILS",-1),Mt={class:"row w-100 mt-3"},Et=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[A(" Blood Group "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Lt={class:"col-6 fs-6 text-blue-900"},Yt={class:"text-left pt-1"},Ut={class:"row w-100 mt-3"},At=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},[A(" Phone "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Bt={class:"col-6 fs-6 text-blue-900"},It={class:"text-left pt-1"},jt={class:"row w-100 mt-3"},Ft=e("div",{class:"col-5 fs-14 subpixel-antialiased font-semibold text-left text-blue-900 position-relative"},[A(" Email Id "),e("span",{class:"position-absolute",style:{position:"absolute",left:"90px"}},":")],-1),Nt={class:"col-6 subpixel-antialiased fs-12"},Tt={class:"text-left"},Rt={class:"row w-100 mt-3"},Ot={class:"col fs-14 subpixel-antialiased font-semibold text-left text-blue-900"},Gt=e("h1",{class:"text-orange-500 fs-12"},"Residential Address :",-1),qt={class:"ml-2"},Ht={class:"text-blue-900 mt-2 subpixel-antialiased font-semibold fs-11 text-center"},zt=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-1 w-100 mt-2 :lg:mt-2"},null,-1),Kt=e("div",{class:"row bg-gradient-to-r from-orange-500 to-orange-300 h-3 w-100 mt-1"},null,-1),Zt={class:"row"},Jt={class:"col-12"},Wt={key:0,class:"text-center font-semibold text-orange-500 fs-14 subpixel-antialiased mt-2 :lg:mt-2"},Xt={class:"col-12"},Qt={class:"fs-11 text-center font-semibold text-blue-900 mt-2"},es={class:"col-12"},ts={class:"fs-12 text-center font-semibold text-blue-900 mt-2"},ss={class:"col-12"},os={class:"fs-11 text-center font-semibold lining-nums ... text-blue-900 mt-2"},ls=e("div",{class:"col-12"},null,-1),as=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),is={class:"modal-body"},ns={class:"row"},ds={class:"col-md-6"},rs={class:"mb-3 form-group"},cs=e("label",{class:"mb-2 font-semibold text-lg"},"Employee Name",-1),_s={key:0,class:"text-red-400 fs-6 font-semibold"},ms={class:"col-md-6"},ps={class:"form-group"},us=e("label",{for:"",class:"mb-1 mb-1 font-semibold text-lg"},"Documents",-1),fs={key:0,class:"text-red-400 fs-6 font-semibold"},gs={class:"col-md-6 d-flex flex-column"},bs={class:"d-flex justify-items-center flex-column"},ys=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Upload Documents",-1),hs={class:"d-flex justify-items-center align-items-center"},vs=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),xs={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},Ds={key:0,class:"text-red-400 fs-6 font-semibold"},$s={__name:"EmployeeCard",setup(C){const a=te(),s=b(!1),D=b(!1),m=z({department:"",reporting_manager:""}),g=z({emp_name:"",emp_doc_name:"",emp_upload_doc:""}),x=b([{name:"Birth Certificate",code:1},{name:"Aadhar Card Front",code:2},{name:"Pan Card",code:3}]),y=b(!1);let o=X();const f=B=>{B.target.files&&B.target.files[0]&&(o.profile=B.target.files[0]);let c=new FormData;c.append("user_code",o.user_code),c.append("file_object",o.profile);let _="/profile-pages/updateProfilePicture";F.post(_,c).then(M=>{}).finally(()=>{console.log("Photo Sent"),o.getProfilePhoto()})},w=b(),Y=b(),v=b(!1),p=b(!1),d=b(!1),n=b("None"),k=B=>{console.log(B),F.post("/profile-pages/updateDepartment",{user_code:o.employeeDetails.user_code,department_id:m.department}).then(c=>{let _=fe._.find(w.value,["id",m.department]).name;console.log("Lodash [Selected Dept]: "+_),o.employeeDetails.get_employee_office_details.department_name=_,n.value="Department updated successfully !",console.log(c.data)}).catch(c=>{n.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+c)}).finally(()=>{d.value=!0,v.value=!1})},N=B=>{console.log("editReportingManager : "+B),F.post("/profile-pages/updateReportingManager",{user_code:o.employeeDetails.user_code,manager_user_code:m.reporting_manager}).then(c=>{let _=fe._.find(Y.value,["user_code",m.reporting_manager]);o.employeeDetails.get_employee_office_details.l1_manager_name=_.name,o.employeeDetails.get_employee_office_details.l1_manager_code=_.user_code,n.value="Reporting Manager updated successfully !",console.log(c.data)}).catch(c=>{n.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+c)}).finally(()=>{d.value=!0,p.value=!1})},O=()=>{m.department=o.employeeDetails.get_employee_office_details.department_name,m.reporting_manager=o.employeeDetails.get_employee_office_details.l1_manager_name,console.log(m.department)};oe(()=>{a.DepartmentDetails().then(B=>{w.value=B.data,console.log("testing"+o.employeeDetails.get_employee_office_details.l1_manager_name)}),a.ManagerDetails().then(B=>{Y.value=B.data}),O(),console.log()});const G=B=>{B.target.files&&B.target.files[0]&&(g.emp_upload_doc=B.target.files[0],console.log(g.emp_upload_doc))},E=Z(()=>({emp_name:{required:le},emp_doc_name:{required:le},emp_upload_doc:{required:le}})),L=pe(E,g),P=()=>{L.value.$validate(),L.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),Q())},Q=()=>{s.value=!0,y.value=!1;const c=`/update-EmplpoyeeName-info/${a.current_user_id}`,_=new FormData;_.append("user_code",o.employeeDetails.user_code),_.append("name",g.emp_name),_.append("onboard_document_type",g.emp_doc_name.name),_.append("emp_doc",g.emp_upload_doc),F.post(c,_).finally(()=>{s.value=!1})},ie=Z(()=>{if(o.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(o.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(o.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(o.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(o.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(o.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(o.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(o.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"});return(B,c)=>{const _=S("Toast"),M=S("ProgressBar"),T=S("Dialog"),K=S("Dropdown"),W=S("ProgressSpinner"),I=S("InputText");return u(),h(ae,null,[i(_),t(o).employeeDetails.get_employee_office_details?(u(),h("div",Ce,[e("div",Ve,[e("div",Se,[e("div",Me,[t(o).profile?(u(),h("img",{key:0,class:"forRounded",src:`data:image/png;base64,${t(o).profile}`,srcset:"",alt:"",id:"output",width:"200"},null,8,Ee)):(u(),h("p",{key:1,class:q(["font-semibold text-5xl text-center flex items-center justify-center text-white forRounded",[t(o).employeeDetails.short_name_Color?t(o).employeeDetails.short_name_Color:"",t(o).employeeDetails.short_name_Color]])},r(t(o).employeeDetails.user_short_name),3)),Le,e("input",{id:"file",type:"file",onChange:c[0]||(c[0]=l=>f(l))},null,32)])]),e("div",Ye,[e("div",Ue,[e("div",null,[e("p",Ae,r(t(o).employeeDetails?t(o).employeeDetails.name:"-"),1),e("p",Be,r(t(o).employeeDetails?t(o).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("img",{src:J,class:"h-4 w-4 cursor-pointer my-auto",alt:"",onClick:c[1]||(c[1]=l=>y.value=!0)})]),e("div",Ie,[je,e("div",Fe,[t(o).employeeDetails.profile_completeness<=39?(u(),de(M,{key:0,value:t(o).employeeDetails.profile_completeness,class:q([t(o).employeeDetails.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):U("",!0),t(o).employeeDetails.profile_completeness>=40&&t(o).employeeDetails.profile_completeness<=59?(u(),de(M,{key:1,class:q(["progressbar_val2",[t(o).employeeDetails.profile_completeness>=40&&t(o).employeeDetails.profile_completeness<=59]]),value:t(o).employeeDetails.profile_completeness},null,8,["class","value"])):U("",!0),t(o).employeeDetails.profile_completeness>=60?(u(),de(M,{key:2,class:q(["progressbar_val3",[t(o).employeeDetails.profile_completeness>=60]]),value:t(o).employeeDetails.profile_completeness},null,8,["class","value"])):U("",!0)]),Ne])])]),e("div",Te,[e("div",Re,[Oe,t(o).employeeDetails.active==1?(u(),h("p",Ge,"Active ")):(u(),h("p",qe,"Not active"))]),e("div",He,[ze,e("p",Ke,r(t(o).employeeDetails.get_employee_office_details.designation?t(o).employeeDetails.get_employee_office_details.designation:"-"),1)]),e("div",Ze,[e("div",null,[Je,e("p",We,r(t(o).employeeDetails.get_employee_office_details.department_name?t(o).employeeDetails.get_employee_office_details.department_name:"-"),1)]),t(o).employeeDetails.Current_login_user.org_role==1||t(o).employeeDetails.Current_login_user.org_role==2||t(o).employeeDetails.Current_login_user.org_role==3?(u(),h("img",{key:0,src:J,class:"h-4 w-4 cursor-pointer my-auto",onClick:c[2]||(c[2]=l=>v.value=!0),alt:""})):U("",!0)]),e("div",Xe,[Qe,e("p",et,r(t(o).employeeDetails?t(o).employeeDetails.user_code:"-"),1)]),e("div",tt,[st,e("p",ot,r(t(o).employeeDetails.get_employee_office_details.work_location?t(o).employeeDetails.get_employee_office_details.work_location:"-"),1)]),e("div",lt,[e("div",at,[it,t(o).employeeDetails?(u(),h("p",nt,r(`${t(o).employeeDetails.get_employee_office_details.l1_manager_name}(${t(o).employeeDetails.get_employee_office_details.l1_manager_code})`),1)):U("",!0)]),t(o).employeeDetails.Current_login_user.org_role==1||t(o).employeeDetails.Current_login_user.org_role==2||t(o).employeeDetails.Current_login_user.org_role==3?(u(),h("img",{key:0,src:J,onClick:c[3]||(c[3]=l=>p.value=!0),class:"h-4 w-4 cursor-pointer my-auto",alt:""})):U("",!0)])]),e("div",dt,[e("div",rt,[ct,e("div",_t,[e("button",mt,[e("i",{class:"pi pi-id-card text-success fs-4","aria-hidden":"true",onClick:c[4]||(c[4]=l=>D.value=!0)})])])])])])):U("",!0),i(T,{header:"Status",visible:d.value,"onUpdate:visible":c[5]||(c[5]=l=>d.value=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:$(()=>[e("div",pt,[ut,e("span",null,r(n.value),1)])]),_:1},8,["visible"]),i(T,{visible:v.value,"onUpdate:visible":c[7]||(c[7]=l=>v.value=l),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:$(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:k}," Save ")])]),default:$(()=>[i(K,{options:w.value,optionLabel:"name",modelValue:m.department,"onUpdate:modelValue":c[6]||(c[6]=l=>m.department=l),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),i(T,{visible:p.value,"onUpdate:visible":c[9]||(c[9]=l=>p.value=l),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:$(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:N}," Save ")])]),default:$(()=>[i(K,{optionLabel:"name",options:Y.value,modelValue:m.reporting_manager,"onUpdate:modelValue":c[8]||(c[8]=l=>m.reporting_manager=l),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),i(T,{visible:D.value,"onUpdate:visible":c[10]||(c[10]=l=>D.value=l),modal:"",header:"",style:R([{width:"45vw",borderTop:"5px solid #002f56"},{"@media (min-width":"1024px){background-image:particular_ad_small.png"}])},{header:$(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:$(()=>[e("div",ft,[e("div",gt,[e("div",bt,[e("img",{src:`${t(o).employeeDetails.client_logo}`,alt:"",style:{"object-fit":"cover"}},null,8,yt)]),e("div",ht,[e("div",{class:q(["mx-auto rounded-circle img-xl userActive-status profile-img d-flex justify-content-center align-items-center",[t(o).profile?"":t(o).employeeDetails.short_name_Color,t(o).employeeDetails.short_name_Color]])},[t(o).profile?(u(),h("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img border object-cover",src:`data:image/png;base64,${t(o).profile}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"80px",height:"80px"}},null,8,vt)):U("",!0),t(o).profile?U("",!0):(u(),h("h1",xt,r(t(o).employeeDetails.user_short_name),1))],2),e("h1",Dt,r(t(o).employeeDetails.name),1),t(o).employeeDetails.get_employee_office_details.department_id?(u(),h("h5",$t,r(t(o).employeeDetails.get_employee_office_details.department_name),1)):(u(),h("h1",wt,"-")),t(o).employeeDetails.user_code?(u(),h("h5",kt,r(t(o).employeeDetails.user_code),1)):(u(),h("p",Pt,"-"))])]),e("div",Ct,[e("div",Vt,[St,e("div",Mt,[Et,e("div",Lt,[e("h1",Yt,r(t(ie)),1)])]),e("div",Ut,[At,e("div",Bt,[e("h1",It,r(t(o).employeeDetails.get_employee_details.mobile_number),1)])]),e("div",jt,[Ft,e("div",Nt,[e("h1",Tt,r(t(o).employeeDetails.get_employee_office_details.officical_mail),1)])]),e("div",Rt,[e("div",Ot,[Gt,e("div",qt,[e("p",Ht,r(t(o).employeeDetails.get_employee_details.current_address_line_1),1)])])]),zt,Kt,e("div",Zt,[e("div",Jt,[t(o).employeeDetails.client_details.client_name?(u(),h("h1",Wt,r(t(o).employeeDetails.client_details.client_name),1)):U("",!0)]),e("div",Xt,[e("h1",Qt,r(t(o).employeeDetails.client_details.address),1)]),e("div",es,[e("h1",ts,r(t(o).employeeDetails.client_details.authorised_person_contact_email),1)]),e("div",ss,[e("h1",os,r(t(o).employeeDetails.client_details.authorised_person_contact_number),1)]),ls])])])])]),_:1},8,["visible"]),i(T,{header:"Header",visible:s.value,"onUpdate:visible":c[11]||(c[11]=l=>s.value=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:$(()=>[i(W,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:$(()=>[as]),_:1},8,["visible"]),i(T,{visible:y.value,"onUpdate:visible":c[15]||(c[15]=l=>y.value=l),modal:"",header:" ",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Edit Employee Name",4)])]),default:$(()=>[e("div",null,[e("div",is,[e("div",ns,[e("div",ds,[e("div",rs,[cs,i(I,{type:"text",modelValue:g.emp_name,"onUpdate:modelValue":c[12]||(c[12]=l=>g.emp_name=l),style:{"text-transform":"uppercase"},class:q(["form-controls pl-2",[t(L).emp_name.$error?"p-invalid":""]])},null,8,["modelValue","class"]),t(L).emp_name.$error?(u(),h("span",_s,r(t(L).emp_name.required.$message.replace("Value","Employee Name")),1)):U("",!0)])]),e("div",ms,[e("div",ps,[us,i(K,{modelValue:g.emp_doc_name,"onUpdate:modelValue":c[13]||(c[13]=l=>g.emp_doc_name=l),options:x.value,optionLabel:"name",placeholder:"Select a document ",class:q(["form-controls pl-2 w-full h-12",[t(L).emp_doc_name.$error?"p-invalid":""]])},null,8,["modelValue","options","class"]),t(L).emp_doc_name.$error?(u(),h("span",fs,r(t(L).emp_doc_name.required.$message.replace("Value","Documents")),1)):U("",!0)])]),e("div",gs,[e("div",bs,[ys,e("div",hs,[i(_),vs,g.emp_upload_doc?(u(),h("div",xs,r(g.emp_upload_doc.name),1)):U("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:c[14]||(c[14]=l=>G(l)),class:q([t(L).emp_upload_doc.$error?"p-invalid":""])},null,34)]),t(L).emp_upload_doc.$error?(u(),h("span",Ds,r(t(L).emp_upload_doc.required.$message.replace("Value","document")),1)):U("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:P},"Submit")])])])])]),_:1},8,["visible"])],64)}}};var ge;const ws=typeof window<"u";ws&&((ge=window==null?void 0:window.navigator)!=null&&ge.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function be(C){return typeof C=="function"?C():t(C)}const ks=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ps=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Cs=(C,a,s,D)=>{let m=C<12?"AM":"PM";return D&&(m=m.split("").reduce((g,x)=>g+=`${x}.`,"")),s?m.toLowerCase():m},Vs=(C,a,s={})=>{var D;const m=C.getFullYear(),g=C.getMonth(),x=C.getDate(),y=C.getHours(),o=C.getMinutes(),f=C.getSeconds(),w=C.getMilliseconds(),Y=C.getDay(),v=(D=s.customMeridiem)!=null?D:Cs,p={YY:()=>String(m).slice(-2),YYYY:()=>m,M:()=>g+1,MM:()=>`${g+1}`.padStart(2,"0"),MMM:()=>C.toLocaleDateString(s.locales,{month:"short"}),MMMM:()=>C.toLocaleDateString(s.locales,{month:"long"}),D:()=>String(x),DD:()=>`${x}`.padStart(2,"0"),H:()=>String(y),HH:()=>`${y}`.padStart(2,"0"),h:()=>`${y%12||12}`.padStart(1,"0"),hh:()=>`${y%12||12}`.padStart(2,"0"),m:()=>String(o),mm:()=>`${o}`.padStart(2,"0"),s:()=>String(f),ss:()=>`${f}`.padStart(2,"0"),SSS:()=>`${w}`.padStart(3,"0"),d:()=>Y,dd:()=>C.toLocaleDateString(s.locales,{weekday:"narrow"}),ddd:()=>C.toLocaleDateString(s.locales,{weekday:"short"}),dddd:()=>C.toLocaleDateString(s.locales,{weekday:"long"}),A:()=>v(y,o),AA:()=>v(y,o,!1,!0),a:()=>v(y,o,!0),aa:()=>v(y,o,!0,!0)};return a.replace(Ps,(d,n)=>n||p[d]())},Ss=C=>{if(C===null)return new Date(NaN);if(C===void 0)return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){const a=C.match(ks);if(a){const s=a[2]-1||0,D=(a[7]||"0").substring(0,3);return new Date(a[1],s,a[3]||1,a[4]||0,a[5]||0,a[6]||0,D)}}return new Date(C)};function me(C,a="HH:mm:ss",s={}){return Z(()=>Vs(Ss(be(C)),be(a),s))}const Ms={key:0,class:"w-full"},Es={class:"w-full bg-white rounded-lg p-2 border"},Ls=e("p",{class:"font-semibold text-sm"},"General Information",-1),Ys={class:"grid grid-cols-12 gap-2 h-full py-2"},Us={class:"col-span-2"},As=e("p",{class:"font-semibold text-xs text-gray-500"},"Birthday",-1),Bs={class:"font-semibold text-sm"},Is={class:"col-span-2"},js=e("p",{class:"font-semibold text-xs text-gray-500"},"Gender",-1),Fs={class:"font-semibold text-sm"},Ns={class:"col-span-2"},Ts=e("p",{class:"font-semibold text-xs text-gray-500"},"Date Of Joining (DOJ)",-1),Rs={class:"font-semibold text-sm"},Os={class:"col-span-2"},Gs=e("p",{class:"font-semibold text-xs text-gray-500"},"Marital Status",-1),qs={class:"font-semibold text-sm"},Hs={class:"col-span-2"},zs=e("p",{class:"font-semibold text-xs text-gray-500"},"Blood Group",-1),Ks={class:"font-semibold text-sm"},Zs={class:"col-span-2"},Js=e("p",{class:"font-semibold text-xs text-gray-500"},"Physically Handicapped",-1),Ws={class:"font-semibold text-sm"},Xs={class:"w-full bg-white rounded-lg p-2 border my-3"},Qs=e("p",{class:"font-semibold text-sm"},"Contact Information",-1),eo={class:"grid grid-cols-12 gap-4 h-full py-2"},to={class:"col-span-3"},so=e("p",{class:"font-semibold text-xs text-gray-500"},"Personal Email",-1),oo={class:"font-semibold text-sm"},lo={class:"col-span-3"},ao=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Email",-1),io={class:"font-semibold text-sm"},no={class:"col-span-3"},ro=e("p",{class:"font-semibold text-xs text-gray-500"},"Mobile Number",-1),co={class:"font-semibold text-sm"},_o={class:"col-span-3"},mo=e("p",{class:"font-semibold text-xs text-gray-500"},"Official Mobile Number",-1),po={class:"font-semibold text-sm"},uo={class:"w-full bg-white rounded-lg p-2 border"},fo=e("p",{class:"font-semibold text-sm"},"Address",-1),go={class:"grid grid-cols-12 gap-4 h-full py-2"},bo={class:"col-span-6"},yo=e("p",{class:"font-semibold text-xs text-gray-500"},"Current Address",-1),ho={class:"font-semibold text-sm"},vo={class:"col-span-6"},xo=e("p",{class:"font-semibold text-xs text-gray-500"},"Permanent Address ",-1),Do={class:"font-semibold text-sm"},$o={class:"grid grid-cols-2"},wo={class:""},ko={class:"mb-1 form-group"},Po=e("label",{class:"ml-[5px]"},[A("Birth Date"),e("span",{class:"text-danger"},"*")],-1),Co={class:"cal-icon"},Vo={class:""},So={class:"mb-1 form-group"},Mo=e("label",null,[A("Gender"),e("span",{class:"text-danger"},"*")],-1),Eo={class:""},Lo={class:"mb-1 form-group"},Yo=e("label",{style:{marginLeft:"10px",marginRight:"10px"}},[A("Marital status "),e("span",{class:"text-danger"},"*")],-1),Uo={class:""},Ao={class:"mb-2 form-group"},Bo=e("label",null,[A("Blood Group"),e("span",{class:"text-danger"},"*")],-1),Io={class:"cal-icon"},jo={class:""},Fo={class:"form-group w-full",style:{marginLeft:"10px"}},No=e("label",{class:"my-1"},"Physically Handicapped",-1),To=e("div",{class:""},[e("div",{class:"mb-3 form-group"})],-1),Ro={class:"text-right col-12"},Oo={class:"modal-body"},Go={class:"row"},qo={class:"col-md-6"},Ho={class:"mb-3 form-group"},zo=e("label",null,"Personal Email",-1),Ko={class:"col-md-6"},Zo={class:"mb-3 form-group"},Jo=e("label",null," Office Email",-1),Wo={class:"col-md-6"},Xo={class:"mb-3 form-group"},Qo=e("label",null,"Mobile Number",-1),el={class:"col-md-6"},tl={class:"mb-3 form-group"},sl=e("label",null,"Official Mobile Number",-1),ol={class:"modal-body"},ll={class:"col-md-12"},al={class:"mb-3 form-group"},il=e("label",null,"Current Address",-1),nl={class:"mb-3 form-group"},dl=e("label",null,"Permanent Address ",-1),rl={class:"col-12"},cl={class:"d-flex justify-content-between align-items-center"},_l={class:"d-flex justify-content-center align-items-center"},ml=e("h1",{class:"mx-2"},"Copy current address to the permanent address",-1),pl={class:""},ul={__name:"EmployeeDetails",setup(C){const a=te(),s=X(),D=b(!1),m=se(),g=se(),x=b(!1),y=b(!1),o=b(!1),f=z({dob:"",gender:"",doj:"",blood_group_id:"",marital_status_id:"",physically_challenged:""}),w=b([{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Others",value:"others"}]),Y=b(),v=z({email:"",official_email:"",mobile_number:"",official_mobile_number:""}),p=b(),d=z({current_address:"",Permanent_Address:""}),n=b(!1);function k(){n.value==1?d.Permanent_Address=d.current_address:n.value=!1}Z(()=>s.employeeDetails.get_employee_details.gender=="male"?"Male":s.employeeDetails.get_employee_details.gender=="female"?"Female":s.employeeDetails.get_employee_details.gender=="others"?"Others":"-"),Z(()=>s.employeeDetails.get_employee_details.marital_status),Z(()=>{if(s.employeeDetails.get_employee_details.blood_group_id==1)return"A Positive";if(s.employeeDetails.get_employee_details.blood_group_id==2)return"A Negative";if(s.employeeDetails.get_employee_details.blood_group_id==3)return"B Positive";if(s.employeeDetails.get_employee_details.blood_group_id==4)return"B Negative";if(s.employeeDetails.get_employee_details.blood_group_id==5)return"AB Positive";if(s.employeeDetails.get_employee_details.blood_group_id==6)return"AB Negative";if(s.employeeDetails.get_employee_details.blood_group_id==7)return"O Positive";if(s.employeeDetails.get_employee_details.blood_group_id==8)return"O Negative"}),Z(()=>{if(s.employeeDetails.get_employee_details.physically_challenged=="no")return"No";if(s.employeeDetails.get_employee_details.physically_challenged=="yes")return"Yes"});const N=b([{name:"Yes",value:"yes"},{name:"No",value:"no"}]),O=b(),G=b();ve(),oe(()=>{s.fetchEmployeeDetails(),a.getBloodGroups().then(c=>{console.log(c.data),O.value=c.data}),a.getMaritalStatus().then(c=>{console.log(c),G.value=c.data})});function E(){console.log("Opening General Info Dialog"),f.dob=s.employeeDetails.get_employee_details.dob,f.doj=s.employeeDetails.get_employee_details.doj,f.marital_status_id=parseInt(s.employeeDetails.get_employee_details.marital_status_id),f.gender=s.employeeDetails.get_employee_details.gender,f.blood_group_id=parseInt(s.employeeDetails.get_employee_details.blood_group_id),f.physically_challenged=s.employeeDetails.get_employee_details.physically_challenged,x.value=!0}function L(){console.log(f.dob),D.value=!0;let _=`/profile-pages-update-generalinfo/${a.current_user_id}`;F.post(_,{user_code:s.employeeDetails.user_code,dob:H(f.dob).format("YYYY-MM-DD"),gender:f.gender,marital_status_id:f.marital_status_id,doj:f.doj,blood_group_id:f.blood_group_id,physically_challenged:f.physically_challenged}).then(M=>{M.data.status=="success"?(s.employeeDetails.get_employee_details.dob=me(f.dob,"YYYY-MM-DD"),s.employeeDetails.gender=f.gender,s.employeeDetails.marital_status_id=f.marital_status_id,s.employeeDetails.get_employee_details.doj=f.doj,s.employeeDetails.blood_group_id=f.blood_group_id,s.employeeDetails.physically_challenged=f.physically_challenged):M.data.status=="failure"&&(leave_data.leave_request_error_messege=M.data.message)}).catch(M=>{console.log(M)}).finally(()=>{s.fetchEmployeeDetails(),D.value=!1,m.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})}),x.value=!1}function P(){console.log("Opening General Info Dialog : "),v.email=s.employeeDetails.email,v.official_email=s.employeeDetails.get_employee_office_details.officical_mail,v.mobile_number=parseInt(s.employeeDetails.get_employee_details.mobile_number),s.employeeDetails.get_employee_office_details.official_mobile?v.official_mobile_number=parseInt(s.employeeDetails.get_employee_office_details.official_mobile):v.official_mobile_number=0,console.log("testing"),y.value=!0}function Q(){let _=`/profile-pages-update-contactinfo/${a.current_user_id}`;D.value=!0,F.post(_,{user_code:s.employeeDetails.user_code,email:v.email,officical_mail:v.official_email,mobile_number:v.mobile_number,official_mobile_number:parseInt(v.official_mobile_number)}).then(M=>{M.data.status=="success"?(m.add({severity:"success",summary:"Updated",detail:"Contact information updated",life:3e3}),s.employeeDetails.email=v.email,s.employeeDetails.get_employee_office_details.officical_mail=v.official_email,s.employeeDetails.get_employee_details.mobile_number=v.mobile_number,s.employeeDetails.get_employee_office_details.official_mobile=v.official_mobile_number):M.data.status=="failure"&&(Y.leave_request_error_messege=M.data.message)}).catch(M=>{console.log(M)}).finally(()=>{s.fetchEmployeeDetails(),D.value=!1}),y.value=!1}function ie(){console.log("Opening General Info Dialog"),d.current_address=s.employeeDetails.get_employee_details.current_address_line_1,d.Permanent_Address=s.employeeDetails.get_employee_details.permanent_address_line_1,o.value=!0}const B=()=>{if(D.value=!0,d.current_address==" "||d.Permanent_Address==" ")g.add({severity:"warn",summary:"Warn Message",detail:"Message Content",life:3e3});else{let _=`/profile-pages-update-address_info/${a.current_user_id}`;F.post(_,{user_code:s.employeeDetails.user_code,current_address_line_1:d.current_address,permanent_address_line_1:d.Permanent_Address}).then(M=>{data_checking.value=!1,M.data.status=="success"?(m.add({severity:"success",summary:"Updated",detail:"Address information updated",life:3e3}),s.employeeDetails.current_address_line_1=d.current_address,s.employeeDetails.get_employee_office_details.permanent_address_line_1=d.Permanent_Address):M.data.status=="failure"&&(p.leave_request_error_messege=M.data.message)}).catch(M=>{console.log(M)}).finally(()=>{s.fetchEmployeeDetails(),D.value=!1}),o.value=!1}};return(c,_)=>{const M=S("Calendar"),T=S("Dropdown"),K=S("Dialog"),W=S("InputMask"),I=S("Toast");return u(),h(ae,null,[t(s).employeeDetails.get_employee_details?(u(),h("div",Ms,[e("div",Es,[e("div",{class:"flex justify-around"},[Ls,e("div",{class:"flex justify-end"},[e("img",{src:J,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:E})])]),e("div",Ys,[e("div",Us,[As,e("p",Bs,r(t(H)(t(s).employeeDetails.get_employee_details.dob).format("DD-MMM-YYYY")),1)]),e("div",Is,[js,e("p",Fs,r(t(a).capitalizeFLetter(t(s).employeeDetails.get_employee_details.gender)),1)]),e("div",Ns,[Ts,e("p",Rs,r(t(H)(t(s).employeeDetails.get_employee_details.doj).format("DD-MMM-YYYY")),1)]),e("div",Os,[Gs,e("p",qs,r(t(s).employeeDetails.get_employee_details.marital_status),1)]),e("div",Hs,[zs,e("p",Ks,r(t(s).employeeDetails.get_employee_details.blood_group_name),1)]),e("div",Zs,[Js,e("p",Ws,r(t(a).capitalizeFLetter(t(s).employeeDetails.get_employee_details.physically_challenged)),1)])])]),e("div",Xs,[e("div",{class:"flex justify-around"},[Qs,e("div",{class:"flex justify-end"},[e("img",{src:J,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:P})])]),e("div",eo,[e("div",to,[so,e("p",oo,r(t(s).employeeDetails.email?t(s).employeeDetails.email:"-"),1)]),e("div",lo,[ao,e("p",io,r(t(s).employeeDetails.get_employee_office_details.officical_mail?t(s).employeeDetails.get_employee_office_details.officical_mail:"-"),1)]),e("div",no,[ro,e("p",co,r(t(s).employeeDetails.get_employee_details.mobile_number?t(s).employeeDetails.get_employee_details.mobile_number:"-"),1)]),e("div",_o,[mo,e("p",po,r(t(s).employeeDetails.get_employee_office_details.official_mobile?t(s).employeeDetails.get_employee_office_details.official_mobile:"-"),1)])])]),e("div",uo,[e("div",{class:"flex justify-around"},[fo,e("div",{class:"flex justify-end"},[e("img",{src:J,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:ie})])]),e("div",go,[e("div",bo,[yo,e("p",ho,r(t(s).employeeDetails.get_employee_details.current_address_line_1?t(s).employeeDetails.get_employee_details.current_address_line_1:"-"),1)]),e("div",vo,[xo,e("p",Do,r(t(s).employeeDetails.get_employee_details.permanent_address_line_1?t(s).employeeDetails.get_employee_details.permanent_address_line_1:"-"),1)])])])])):U("",!0),i(K,{visible:x.value,"onUpdate:visible":_[6]||(_[6]=l=>x.value=l),modal:"",header:"General Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," General Information",4)])]),default:$(()=>[e("div",$o,[e("div",wo,[e("div",ko,[Po,e("div",Co,[i(M,{class:"mb-3 form-selects w-[94%]",modelValue:f.dob,"onUpdate:modelValue":_[0]||(_[0]=l=>f.dob=l),placeholder:"DD-MM-YYYY",dateFormat:"dd-mm-yy"},null,8,["modelValue"])])])]),e("div",Vo,[e("div",So,[Mo,i(T,{modelValue:f.gender,"onUpdate:modelValue":_[1]||(_[1]=l=>f.gender=l),options:w.value,optionLabel:"name",optionValue:"value",placeholder:"Choose Gender",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),e("div",Eo,[e("div",Lo,[Yo,i(T,{modelValue:f.marital_status_id,"onUpdate:modelValue":_[2]||(_[2]=l=>f.marital_status_id=l),options:G.value,optionLabel:"name",optionValue:"id",placeholder:"Select Marital Status",class:"form-selects w-[94%]",style:{marginLeft:"10px",marginRight:"10px"}},null,8,["modelValue","options"])])]),e("div",Uo,[e("div",Ao,[Bo,e("div",Io,[i(T,{modelValue:f.blood_group_id,"onUpdate:modelValue":_[3]||(_[3]=l=>f.blood_group_id=l),options:O.value,optionLabel:"name",optionValue:"id",placeholder:"Select Bloodgroup",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])])]),e("div",jo,[e("div",Fo,[No,i(T,{modelValue:f.physically_challenged,"onUpdate:modelValue":_[4]||(_[4]=l=>f.physically_challenged=l),options:N.value,optionLabel:"name",optionValue:"value",placeholder:"Select",class:"form-selects w-[94%]"},null,8,["modelValue","options"])])]),To]),e("div",Ro,[e("button",{id:"btn_submit_generalInfo",class:"btn btn-border-orange submit-btn",onClick:_[5]||(_[5]=l=>L())},"Save")])]),_:1},8,["visible"]),i(K,{visible:y.value,"onUpdate:visible":_[11]||(_[11]=l=>y.value=l),modal:"",header:"Contact Information",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Contact Information",4)])]),default:$(()=>[e("div",Oo,[e("div",Go,[e("div",qo,[e("div",Ho,[zo,ne(e("input",{type:"email",name:"present_email",class:"form-control","onUpdate:modelValue":_[7]||(_[7]=l=>v.email=l)},null,512),[[_e,v.email]])])]),e("div",Ko,[e("div",Zo,[Jo,ne(e("input",{type:"email",class:"form-control",name:"officical_mail","onUpdate:modelValue":_[8]||(_[8]=l=>v.official_email=l)},null,512),[[_e,v.official_email]])])]),e("div",Wo,[e("div",Xo,[Qo,i(W,{id:"basic",class:"form-control h-10",modelValue:v.mobile_number,"onUpdate:modelValue":_[9]||(_[9]=l=>v.mobile_number=l),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",el,[e("div",tl,[sl,i(W,{id:"basic",class:"form-control h-10",modelValue:v.official_mobile_number,"onUpdate:modelValue":_[10]||(_[10]=l=>v.official_mobile_number=l),mask:"9999999999",placeholder:"999999999"},null,8,["modelValue"])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{class:"btn btn-border-orange submit-btn",onClick:Q},"Save")])])])])]),_:1},8,["visible"]),i(K,{visible:o.value,"onUpdate:visible":_[15]||(_[15]=l=>o.value=l),modal:"",header:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Address Information",4)])]),default:$(()=>[e("div",ol,[e("div",ll,[e("div",al,[il,ne(e("textarea",{name:"current_address_line_1",id:"current_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":_[12]||(_[12]=l=>d.current_address=l)},null,512),[[_e,d.current_address]])]),e("div",nl,[dl,ne(e("textarea",{name:"permanent_address_line_1",id:"permanent_address_line_1",cols:"30",rows:"3",class:"form-control","onUpdate:modelValue":_[13]||(_[13]=l=>d.Permanent_Address=l)},null,512),[[_e,d.Permanent_Address]])])]),e("div",rl,[e("div",cl,[e("div",_l,[ne(e("input",{type:"checkbox",class:"border rounded-md","onUpdate:modelValue":_[14]||(_[14]=l=>n.value=l),style:{width:"20px",height:"20px"},onChange:k,value:1},null,544),[[xe,n.value]]),ml]),e("div",pl,[i(I),e("button",{id:"btn_submit_address",class:"btn btn-border-orange submit-btn warn",onClick:B,severity:"warn"},"Save")])])])])]),_:1},8,["visible"])],64)}}};const fl={class:"mb-2 card"},gl={class:"card-body"},bl={class:"font-semibold text-lg"},yl={class:"grid grid-cols-2"},hl={class:"mr-[10px] ml-[8px]"},vl=e("span",null,[A("Name "),e("span",{class:"text-danger"},"*")],-1),xl={class:""},Dl=e("span",null,[A("Relationship"),e("span",{class:"text-danger"},"*")],-1),$l={class:"grid grid-cols-2"},wl={class:"mr-2"},kl=e("span",null,[A("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Pl={class:"ml-1"},Cl=e("span",null,[A("phone"),e("span",{class:"text-danger"},"*")],-1),Vl={class:"my-6 table-responsive"},Sl={key:0},Ml={key:1},El=["onClick"],Ll=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Yl=[Ll],Ul=["onClick"],Al=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 font-bold"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Bl=[Al],Il=e("template",null,null,-1),jl={class:"grid grid-cols-2"},Fl={class:""},Nl=e("span",null,[A("Name "),e("span",{class:"text-danger"},"*")],-1),Tl={class:""},Rl=e("span",null,[A("Relationship"),e("span",{class:"text-danger"},"*")],-1),Ol={class:"grid grid-cols-2"},Gl={class:"mr-2"},ql=e("span",null,[A("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Hl={class:"ml-2"},zl=e("span",null,[A("phone"),e("span",{class:"text-danger"},"*")],-1),Kl={__name:"FamilyDetails",setup(C){const a=te(),s=X(),D=se();b("");const m=b(!1),g=b(!1),x=z({name:"",relationship:"",dob:"",phone_number:""}),y=z({name:"",relationship:"",dob:"",phone_number:""}),o=b(),f=()=>{s.loading_screen=!0;let d=`/add-family-info/${a.current_user_id}`;F.post(d,{user_code:s.employeeDetails.user_code,name:x.name,relationship:x.relationship,dob:H(x.dob).format("YYYY-MM-DD"),phone_number:x.phone_number}).then(n=>{n.data.status=="success"?(D.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),s.employeeDetails.get_family_details.dob=me(x.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=x.gender,s.employeeDetails.get_family_details.relationship=x.relationship,s.employeeDetails.get_family_details.phone_number=x.phone_number):n.data.status=="failure"}).catch(n=>{console.log(n)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),m.value=!1},w=p=>{g.value=!0,o.value=p.id,y.name=p.name,y.relationship=p.relationship,y.dob=p.dob,y.phone_number=p.phone_number},Y=p=>{s.loading_screen=!0,o.value=p.id;let n=` /delete-family-info/${a.current_user_id}`;F.post(n,{current_table_id:o.value}).then(k=>{k.data.status=="success"?(D.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),s.employeeDetails.get_family_details.dob=me(x.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=x.gender,s.employeeDetails.get_family_details.relationship=x.relationship,s.employeeDetails.get_family_details.phone_number=x.phone_number):k.data.status=="failure"&&(leave_data.leave_request_error_messege=k.data.message)}).catch(k=>{console.log(k)}).finally(()=>{s.loading_screen=!1,s.fetchEmployeeDetails()})},v=p=>{s.loading_screen=!0;let n=`/update-family-info/${a.current_user_id}`;F.post(n,{user_code:s.employeeDetails.user_code,current_table_id:o.value,name:y.name,relationship:y.relationship,dob:H(y.dob).format("YYYY-MM-DD"),phone_number:y.phone_number}).then(k=>{k.data.status=="success"?(D.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),s.employeeDetails.get_family_details.dob=me(y.dob,"YYYY-MM-DD"),s.employeeDetails.get_family_details.name=y.gender,s.employeeDetails.get_family_details.relationship=x.relationship,s.employeeDetails.get_family_details.phone_number=y.phone_number):k.data.status=="failure"&&(leave_data.leave_request_error_messege=k.data.message)}).catch(k=>{console.log(k)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),g.value=!1};return oe(()=>{}),(p,d)=>{const n=S("InputText"),k=S("Calendar"),N=S("InputMask"),O=S("Toast"),G=S("Dialog"),E=S("Column"),L=S("DataTable");return u(),h(ae,null,[e("div",fl,[e("div",gl,[e("h6",bl,[A("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",onClick:d[0]||(d[0]=P=>m.value=!0)}," Add New "),i(G,{visible:m.value,"onUpdate:visible":d[5]||(d[5]=P=>m.value=P),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:$(()=>[i(O),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:f},"submit")])]),default:$(()=>[e("div",yl,[e("div",hl,[vl,i(n,{type:"text",modelValue:x.name,"onUpdate:modelValue":d[1]||(d[1]=P=>x.name=P),class:"w-[94%] h-10"},null,8,["modelValue"])]),e("div",xl,[Dl,i(n,{type:"text",modelValue:x.relationship,"onUpdate:modelValue":d[2]||(d[2]=P=>x.relationship=P),class:"w-[90%] h-10"},null,8,["modelValue"])])]),e("div",$l,[e("div",wl,[kl,i(k,{dateFormat:"dd/mm/yy",modelValue:x.dob,"onUpdate:modelValue":d[3]||(d[3]=P=>x.dob=P),class:"h-10 w-[98%]",minDate:p.minDate,maxDate:p.maxDate},null,8,["modelValue","minDate","maxDate"])]),e("div",Pl,[Cl,i(N,{id:"basic",mask:"9999999999",placeholder:"9999999999",class:"h-10",modelValue:x.phone_number,"onUpdate:modelValue":d[4]||(d[4]=P=>x.phone_number=P)},null,8,["modelValue"])])])]),_:1},8,["visible"])]),e("div",Vl,[i(L,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:t(s).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:$(()=>[i(E,{header:"Name",field:"name",style:{"min-width":"8rem"}}),i(E,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),i(E,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:$(P=>[P.data.dob=="Invalid Date"?(u(),h("div",Sl," - ")):(u(),h("div",Ml,r(t(H)(P.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),i(E,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),i(E,{exportable:!1,header:"Action",style:{"min-width":"20rem"}},{body:$(P=>[e("button",{class:"p-2 mx-4 bg-green-200 border-green-500 rounded-xl",onClick:Q=>w(P.data)},Yl,8,El),e("button",{class:"p-2 bg-red-200 border-red-500 rounded-xl",onClick:Q=>Y(P.data)},Bl,8,Ul),Il]),_:1})]),_:1},8,["value"])])])]),i(G,{visible:g.value,"onUpdate:visible":d[10]||(d[10]=P=>g.value=P),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:$(()=>[i(O),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:v},"submit")])]),default:$(()=>[e("div",jl,[e("div",Fl,[Nl,i(n,{type:"text",modelValue:y.name,"onUpdate:modelValue":d[6]||(d[6]=P=>y.name=P),class:"h-10 w-[90%]"},null,8,["modelValue"])]),e("div",Tl,[Rl,i(n,{type:"text",modelValue:y.relationship,"onUpdate:modelValue":d[7]||(d[7]=P=>y.relationship=P),class:"h-10 w-[90%] ml-2"},null,8,["modelValue"])])]),e("div",Ol,[e("div",Gl,[ql,i(k,{modelValue:y.dob,"onUpdate:modelValue":d[8]||(d[8]=P=>y.dob=P),min:"2000-01-02",class:"w-[100%] h-10"},null,8,["modelValue"])]),e("div",Hl,[zl,i(N,{id:"basic",modelValue:y.phone_number,"onUpdate:modelValue":d[9]||(d[9]=P=>y.phone_number=P),mask:"9999999999",placeholder:"999999999",class:"h-10 m"},null,8,["modelValue"])])])]),_:1},8,["visible"])],64)}}};const Zl={key:0},Jl=e("div",{class:""},[e("div",{class:""},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),Wl={class:"tab-content",id:"pills-tabContent"},Xl={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},Ql={key:0,class:"my-2"},ea={class:"w-full bg-white rounded-lg p-2 border"},ta=e("div",{class:"flex justify-around"},[e("p",{class:"font-semibold text-sm"},"Payroll Summary"),e("div",{class:"flex justify-end"})],-1),sa={class:"grid grid-cols-12 gap-2 h-full py-2"},oa={class:"col-span-2"},la=e("p",{class:"font-semibold text-xs text-gray-500"},"Last Processed",-1),aa={class:"font-semibold text-sm"},ia={class:"col-span-2"},na=e("p",{class:"font-semibold text-xs text-gray-500"},"Total Working Days",-1),da={class:"font-semibold text-sm"},ra={class:"col-span-2"},ca=e("p",{class:"font-semibold text-xs text-gray-500"},"Loss Of Pay(LOP)",-1),_a={class:"font-semibold text-sm"},ma={class:"w-full bg-white rounded-lg p-2 border my-3"},pa=e("p",{class:"font-semibold text-sm"},"Bank Information",-1),ua={class:"grid grid-cols-12 gap-2 h-full py-2"},fa={class:"col-span-2"},ga=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Name",-1),ba={class:"font-semibold text-sm"},ya={class:"col-span-2"},ha=e("p",{class:"font-semibold text-xs text-gray-500"},"Bank Account No",-1),va={class:"font-semibold text-sm"},xa={class:"col-span-2"},Da=e("p",{class:"font-semibold text-xs text-gray-500"},"IFSC Code",-1),$a={class:"font-semibold text-sm"},wa={class:"col-span-2"},ka=e("p",{class:"font-semibold text-xs text-gray-500"},"PAN No",-1),Pa={class:"font-semibold text-sm"},Ca={class:"w-full bg-white rounded-lg p-2 border"},Va=e("p",{class:"font-semibold text-sm"},"Statutory Information",-1),Sa={class:"grid grid-cols-12 gap-2 h-full py-2"},Ma={class:"col-span-2"},Ea=e("p",{class:"font-semibold text-xs text-gray-500"},"PF Applicable",-1),La={class:"font-semibold text-sm"},Ya={class:"col-span-2"},Ua=e("p",{class:"font-semibold text-xs text-gray-500"},"EPF Number",-1),Aa={class:"font-semibold text-sm"},Ba={class:"col-span-2"},Ia=e("p",{class:"font-semibold text-xs text-gray-500"},"UAN Number",-1),ja={class:"font-semibold text-sm"},Fa={class:"col-span-2"},Na=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Applicable",-1),Ta={class:"font-semibold text-sm"},Ra={class:"col-span-2"},Oa=e("p",{class:"font-semibold text-xs text-gray-500"},"ESIC Number",-1),Ga={class:"font-semibold text-sm"},qa={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Ha={class:"mb-2 card"},za={class:"card-body"},Ka={class:"modal-body"},Za={class:"row"},Ja={class:"col-md-6"},Wa={class:"mb-3 form-group"},Xa=e("label",null,"Bank Name",-1),Qa={class:"col-md-6"},ei={class:"mb-3 form-group"},ti=e("label",null,"Bank Account No",-1),si=e("div",{class:"cal-icon"},null,-1),oi={class:"col-md-6"},li={class:"mb-3 form-group"},ai=e("label",null,"IFSC Code",-1),ii={class:"col-md-6"},ni={class:"floating d-block justify-items-start al"},di=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),ri={class:"flex justify-content-start"},ci=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),_i={class:"d-flex flex-column justify-content-center align-items-center border"},mi={key:0,class:"text-red-400 fs-6 font-semibold text-center"},pi={key:0,class:"p-2 px-3 bg-green-100 rounded-lg font-semibold fs-11 mx-4"},ui={class:"modal-body"},fi={class:"row"},gi={class:"col-md-6"},bi={class:"mb-3 form-group"},yi=e("label",{class:"mb-2 font-semibold text-lg"},"PAN No",-1),hi={key:0,class:"text-red-400 fs-6 font-semibold"},vi={class:"col-md-6 d-flex flex-column"},xi={class:"d-flex justify-items-center flex-column ml-10"},Di=e("label",{for:"",class:"float-label mb-2 font-semibold text-lg"},"Pancard",-1),$i={class:"d-flex justify-items-center align-items-center"},wi=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"100px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-2"}),e("h1",{class:"text-light"},"Upload")],-1),ki={key:0,class:"p-2 bg-blue-100 rounded-lg font-semibold fs-11 mx-4"},Pi={key:0,class:"text-red-400 fs-6 font-semibold"},Ci={class:"modal-body"},Vi={class:"row"},Si={class:"col"},Mi=e("label",{for:"",class:""},[A("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),Ei={class:"col"},Li=e("label",{class:"ml-2"},"EPF Number",-1),Yi={class:"row"},Ui={class:"col"},Ai=e("label",{class:"ml-1"},"UAN Number",-1),Bi={class:"col ml-2"},Ii=e("label",{class:"ml-2"},[A("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),ji={class:"row"},Fi={class:"col-6"},Ni=e("label",{for:"",class:"ml-2"},"ESIC Number",-1),Ti=e("div",{class:"col"},null,-1),Ri=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Oi={__name:"FinanceDetails",setup(C){const a=X(),s=te(),D=se(),m=b(!1),g=b(!1),x=b();x.value=a.employeeDetails.payroll_summary,console.log("testing payroll summary :",x.value);let y=new FormData;y.append("user_code",te.current_user_code),y.append("file_object",X.value);let o="/profile-pages/updateProfilePicture";F.post(o,y).then(I=>{}).finally(()=>{console.log("Photo Sent")});const f=b([]),w=b();f.value.push(a.employeeDetails.get_statutory_details),oe(()=>{s.getBankList().then(I=>{w.value=I.data}),a.fetchEmployeeDetails()});const Y=b(!1),v=b(!1);b(),b();const p=z({bank_id:"",bank_ac_no:"",ifsc_code:"",PassBook:""}),d=z({pan_no:"",Pancard:""}),n=I=>{I.target.files&&I.target.files[0]&&(p.PassBook=I.target.files[0],console.log(p.PassBook))},k=b([{name:"Yes",value:"Yes"},{name:"No",value:"No"}]),N=()=>{m.value=!0;let l=`/update-bank-info/${s.current_user_id}`,j=new FormData;j.append("user_code",a.employeeDetails.user_code),j.append("bank_id",p.bank_id),j.append("account_no",p.bank_ac_no),j.append("bank_ifsc",p.ifsc_code),j.append("PassBook",p.PassBook),j.append("onboard_document_type","Cheque leaf/Bank Passbook"),F.post(l,j).then(ee=>{ee.data.status=="success"?(D.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),a.employeeDetails.get_employee_details.bank_id=p.bank_id,a.employeeDetails.get_employee_details.bank_account_number=p.bank_ac_no,a.employeeDetails.get_employee_details.bank_ifsc_code=p.ifsc_code,a.employeeDetails.get_employee_details.pan_no=p.pan_no):ee.data.status=="failure"&&(leave_data.leave_request_error_messege=ee.data.message)}).catch(ee=>{console.log(ee)}).finally(()=>{a.fetchEmployeeDetails(),m.value=!1}),Y.value=!1};function O(){p.bank_id=parseInt(a.employeeDetails.get_employee_details.bank_id),p.bank_ac_no=a.employeeDetails.get_employee_details.bank_account_number,p.ifsc_code=a.employeeDetails.get_employee_details.bank_ifsc_code,p.pan_no=a.employeeDetails.get_employee_details.pan_number,Y.value=!0}function G(){a.employeeDetails.get_statutory_details?(E.pf_applicable=a.employeeDetails.get_statutory_details.pf_applicable,E.epf_no=a.employeeDetails.get_statutory_details.epf_number,E.uan_no=a.employeeDetails.get_statutory_details.uan_number,E.esic_applicable=a.employeeDetails.get_statutory_details.esic_applicable,E.esic_no=a.employeeDetails.get_statutory_details.esic_number):v.value=!0,v.value=!0}const E=z({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),L=()=>{m.value=!0;let l=`/update-statutory-info/${s.current_user_id}`;F.post(l,{user_code:a.employeeDetails.user_code,pf_applicable:E.pf_applicable,epf_number:E.epf_no,uan_number:E.uan_no,esic_applicable:E.esic_applicable,esic_number:E.esic_no}).then(j=>{j.data.status=="success"?D.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):j.data.status=="failure"&&(leave_data.leave_request_error_messege=j.data.message)}).catch(j=>{console.log(j)}).finally(()=>{a.fetchEmployeeDetails(),m.value=!1}),v.value=!1},P=I=>{I.target.files&&I.target.files[0]&&(d.Pancard=I.target.files[0],console.log(d.Pancard))},Q=()=>{m.value=!0;const l=`/update-Pancard-info/${s.current_user_id}`,j=new FormData;j.append("pan_no",d.pan_no),j.append("pancard",d.Pancard),j.append("user_code",a.employeeDetails.user_code),j.append("onboard_document_type","Pan Card"),g.value=!1,d.Pancard&&F.post(l,j).finally(()=>{m.value=!1})},ie=Z(()=>({PassBook:{required:le}})),B=pe(ie,p),c=()=>{B.value.$validate(),B.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),N())},_=Z(()=>({pan_no:{required:le},Pancard:{required:le}})),M=pe(_,d),T=()=>{M.value.$validate(),M.value.$error?console.log("Form failed submitted."):(console.log("Form successfully submitted."),Q())},K=I=>{let l=String.fromCharCode(I.keyCode);if(/^[A-Za-z_ ]+$/.test(l))return!0;I.preventDefault()},W=I=>{let l=String.fromCharCode(I.keyCode);if(/^[A-Za-z0-9]+$/.test(l))return!0;I.preventDefault()};return(I,l)=>{const j=S("Dropdown"),ee=S("InputNumber"),re=S("InputText"),ue=S("Toast"),ce=S("Dialog"),ye=S("InputMask"),he=S("ProgressSpinner");return t(a).employeeDetails.get_statutory_details?(u(),h("div",Zl,[Jl,e("div",Wl,[e("div",Xl,[t(a).employeeDetails.get_employee_details?(u(),h("div",Ql,[e("div",ea,[ta,e("div",sa,[e("div",oa,[la,e("p",aa,r(t(a).employeeDetails.payroll_summary.payroll_date?t(H)(t(a).employeeDetails.payroll_summary.payroll_date).format("DD-MMM-YYYY"):"-"),1)]),e("div",ia,[na,e("p",da,r(t(a).employeeDetails.payroll_summary.worked_Days?t(a).employeeDetails.payroll_summary.worked_Days:"-"),1)]),e("div",ra,[ca,e("p",_a,r(t(a).employeeDetails.payroll_summary.lop?t(a).employeeDetails.payroll_summary.lop:"-"),1)])])]),e("div",ma,[e("div",{class:"flex justify-around"},[pa,e("div",{class:"flex justify-end"},[e("img",{src:J,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:O,alt:""})])]),e("div",ua,[e("div",fa,[ga,e("p",ba,r(t(a).employeeDetails.get_employee_details.bank_name?t(a).employeeDetails.get_employee_details.bank_name:"-"),1)]),e("div",ya,[ha,e("p",va,r(t(a).employeeDetails.get_employee_details.bank_account_number?t(a).employeeDetails.get_employee_details.bank_account_number:"-"),1)]),e("div",xa,[Da,e("p",$a,r(t(a).employeeDetails.get_employee_details.bank_ifsc_code?t(a).employeeDetails.get_employee_details.bank_ifsc_code:"-"),1)]),e("div",wa,[ka,e("p",Pa,r(t(a).employeeDetails.get_employee_details.pan_number?t(a).employeeDetails.get_employee_details.pan_number:"-"),1)])])]),e("div",Ca,[e("div",{class:"flex justify-around"},[Va,e("div",{class:"flex justify-end"},[e("img",{src:J,class:"h-4 mb-1 w-4 cursor-pointer my-auto",onClick:G,alt:""})])]),e("div",Sa,[e("div",Ma,[Ea,e("p",La,r(t(a).employeeDetails.get_statutory_details.pf_applicable?t(a).employeeDetails.get_statutory_details.pf_applicable:"-"),1)]),e("div",Ya,[Ua,e("p",Aa,r(t(a).employeeDetails.get_statutory_details.epf_number?t(a).employeeDetails.get_statutory_details.epf_number:"-"),1)]),e("div",Ba,[Ia,e("p",ja,r(t(a).employeeDetails.get_statutory_details.uan_number?t(a).employeeDetails.get_statutory_details.uan_number:"-"),1)]),e("div",Fa,[Na,e("p",Ta,r(t(a).employeeDetails.get_statutory_details.esic_applicable?t(a).employeeDetails.get_statutory_details.esic_applicable:"-"),1)]),e("div",Ra,[Oa,e("p",Ga,r(t(a).employeeDetails.get_statutory_details.esic_number?t(a).employeeDetails.get_statutory_details.esic_number:"-"),1)])])])])):U("",!0)]),e("div",qa,[e("div",Ha,[e("div",za,[i(we)])])])]),i(ce,{visible:Y.value,"onUpdate:visible":l[5]||(l[5]=V=>Y.value=V),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:$(()=>[e("div",null,[e("div",Ka,[e("div",Za,[e("div",Ja,[e("div",Wa,[Xa,i(j,{editable:"",onKeypress:l[0]||(l[0]=V=>K(V)),options:w.value,optionLabel:"bank_name",optionValue:"id",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:p.bank_id,"onUpdate:modelValue":l[1]||(l[1]=V=>p.bank_id=V)},null,8,["options","modelValue"])])]),e("div",Qa,[e("div",ei,[ti,si,i(ee,{modelValue:p.bank_ac_no,"onUpdate:modelValue":l[2]||(l[2]=V=>p.bank_ac_no=V),class:"form-controls onboard-form",inputId:"withoutgrouping",useGrouping:!1},null,8,["modelValue"])])]),e("div",oi,[e("div",li,[ai,i(re,{type:"text",name:"bank_ifsc_",class:"form-controls pl-2",modelValue:p.ifsc_code,"onUpdate:modelValue":l[3]||(l[3]=V=>p.ifsc_code=V)},null,8,["modelValue"])])]),e("div",ii,[e("div",ni,[di,e("div",ri,[i(ue),ci,e("div",_i,[e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:l[4]||(l[4]=V=>n(V)),style:{"text-transform":"uppercase"},class:q(["form-controls pl-2",[t(B).PassBook.$error?"p-invalid":""]])},null,34),t(B).PassBook.$error?(u(),h("span",mi,r(t(B).PassBook.required.$message.replace("Value","PassBook or Cheque Leaf")),1)):U("",!0)]),p.PassBook?(u(),h("div",pi,r(p.PassBook.name),1)):U("",!0)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:c},"Submit")])])])])]),_:1},8,["visible"]),i(ce,{visible:g.value,"onUpdate:visible":l[8]||(l[8]=V=>g.value=V),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Pancard Information",4)])]),default:$(()=>[e("div",null,[e("div",ui,[e("div",fi,[e("div",gi,[e("div",bi,[yi,i(ye,{onFocusout:I.panCardExists,id:"serial",mask:"aaaaa9999a",modelValue:d.pan_no,"onUpdate:modelValue":l[6]||(l[6]=V=>d.pan_no=V),placeholder:"AHFCS1234F",style:{"text-transform":"uppercase"},class:q(["form-controls pl-2",[t(M).pan_no.$error?"p-invalid":""]])},null,8,["onFocusout","modelValue","class"]),t(M).pan_no.$error?(u(),h("span",hi,r(t(M).pan_no.required.$message.replace("Value","Pancard number")),1)):U("",!0)])]),e("div",vi,[e("div",xi,[Di,e("div",$i,[i(ue),wi,d.Pancard?(u(),h("div",ki,r(d.Pancard.name),1)):U("",!0),e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:l[7]||(l[7]=V=>P(V)),class:q([t(M).Pancard.$error?"p-invalid":""])},null,34)]),t(M).Pancard.$error?(u(),h("span",Pi,r(t(M).Pancard.required.$message.replace("Value","Pancard attachment")),1)):U("",!0)])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:T},"Submit")])])])])]),_:1},8,["visible"]),i(ce,{visible:v.value,"onUpdate:visible":l[17]||(l[17]=V=>v.value=V),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:$(()=>[e("div",Ci,[e("div",Vi,[e("div",Si,[Mi,i(j,{modelValue:E.pf_applicable,"onUpdate:modelValue":l[9]||(l[9]=V=>E.pf_applicable=V),options:k.value,placeholder:"PF Applicable",optionLabel:"name",optionValue:"value",class:"w-100"},null,8,["modelValue","options"])]),e("div",Ei,[Li,i(re,{onKeypress:l[10]||(l[10]=V=>W(V)),modelValue:E.epf_no,"onUpdate:modelValue":l[11]||(l[11]=V=>E.epf_no=V),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])])]),e("div",Yi,[e("div",Ui,[Ai,i(re,{onKeypress:l[12]||(l[12]=V=>W(V)),modelValue:E.uan_no,"onUpdate:modelValue":l[13]||(l[13]=V=>E.uan_no=V),class:"w-100",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),e("div",Bi,[Ii,i(j,{modelValue:E.esic_applicable,"onUpdate:modelValue":l[14]||(l[14]=V=>E.esic_applicable=V),options:k.value,optionLabel:"name",placeholder:"ESIC Applicable",class:"w-100",optionValue:"value"},null,8,["modelValue","options"])])]),e("div",ji,[e("div",Fi,[Ni,i(re,{onKeypress:l[15]||(l[15]=V=>W(V)),modelValue:E.esic_no,"onUpdate:modelValue":l[16]||(l[16]=V=>E.esic_no=V),class:"w-100 mt-1",type:"text",placeholder:"EPF Number"},null,8,["modelValue"])]),Ti]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:L},"Save")])])])]),_:1},8,["visible"]),i(ce,{header:"Header",visible:m.value,"onUpdate:visible":l[18]||(l[18]=V=>m.value=V),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:$(()=>[i(he,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:$(()=>[Ri]),_:1},8,["visible"])])):U("",!0)}}};const Gi=e("h6",{class:"font-semibold text-lg"},"Experience Information",-1),qi={class:"flex gap-6 items-center"},Hi={class:"mx-4 flex justify-center"},zi={class:"relative flex h-full w-1 bg-green-300 items-center justify-center"},Ki={class:"absolute flex flex-col justify-center h-12 w-12 rounded-full border-2 border-green-300 leading-none text-center z-10 bg-white font-thin"},Zi={key:0,class:"w-full bg-white rounded-lg p-2 border my-2"},Ji={class:"grid grid-cols-12 gap-2 h-full py-2"},Wi={class:"col-span-2"},Xi=e("p",{class:"font-semibold text-xs text-gray-500"},"Company Name",-1),Qi={class:"font-semibold text-sm"},en={class:"col-span-2"},tn=e("p",{class:"font-semibold text-xs text-gray-500"},"Location",-1),sn={class:"font-semibold text-sm"},on={class:"col-span-2"},ln=e("p",{class:"font-semibold text-xs text-gray-500"},"JOb Position",-1),an={class:"font-semibold text-sm"},nn={class:"col-span-2"},dn=e("p",{class:"font-semibold text-xs text-gray-500"},"Period From",-1),rn={class:"font-semibold text-sm"},cn={class:"col-span-2"},_n=e("p",{class:"font-semibold text-xs text-gray-500"},"Period To",-1),mn={class:"font-semibold text-sm"},pn={class:"col-span-2 flex justify-end"},un={class:"grid grid-cols-2"},fn={class:"",style:{"margin-right":"20px"}},gn=e("span",null,[A("Company Name "),e("span",{class:"text-danger"},"*")],-1),bn={class:"mr-2"},yn=e("span",null,[A(" Location"),e("span",{class:"text-danger"},"*")],-1),hn={class:""},vn=e("span",null,[A("Job Position "),e("span",{class:"text-danger"},"*")],-1),xn={class:""},Dn=e("span",{style:{paddingLeft:"6px"}},[A("Period From"),e("span",{class:"text-danger"},"*")],-1),$n={class:"grid grid-cols-2"},wn={class:"mr-2"},kn=e("span",{style:{paddingLeft:"6px"}},[A("Period To "),e("span",{class:"text-danger"},"*")],-1),Pn=e("div",{class:""},null,-1),Cn={__name:"ExperienceDetails",setup(C){const a=te(),s=X(),D=se();se(),b("");const m=b(!1);b(!1),b();const g=z({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),x=()=>{console.log(g),s.loading_screen=!0;let w=`/add-experience-info/${a.current_user_id}`;F.post(w,{user_code:s.employeeDetails.user_code,company_name:g.company_name,experience_location:g.location,job_position:g.job_position,period_from:H(g.period_from).format("YYYY-MM-DD"),period_to:H(g.period_to).format("YYYY-MM-DD")}).then(Y=>{Y.data.status=="success"?D.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):Y.data.status=="failure"&&(leave_data.leave_request_error_messege=Y.data.message)}).catch(Y=>{console.log(Y)}).finally(()=>{s.fetchEmployeeDetails(),s.loading_screen=!1}),m.value=!1};oe(()=>{});const y=f=>{let w=String.fromCharCode(f.keyCode);if(/^[A-Za-z_ ]+$/.test(w))return!0;f.preventDefault()};function o(f,w){const Y=new Date(f),p=new Date(w)-Y,d=365.25*24*60*60*1e3,n=p/d;return n?n.toFixed(1):null}return(f,w)=>{S("Column");const Y=S("InputText"),v=S("Calendar"),p=S("Toast"),d=S("Dialog");return S("DataTable"),u(),h(ae,null,[Gi,(u(!0),h(ae,null,De(t(s).employeeDetails.get_experience_details,n=>(u(),h("div",qi,[e("div",Hi,[e("div",zi,[e("div",Ki,[e("div",null,r(n.period_from&&n.period_to?o(n.period_from,n.period_to):0),1)])])]),t(s).employeeDetails.get_experience_details?(u(),h("div",Zi,[e("div",Ji,[e("div",Wi,[Xi,e("p",Qi,r(n.company_name),1)]),e("div",en,[tn,e("p",sn,r(n.company_name),1)]),e("div",on,[ln,e("p",an,r(n.company_name),1)]),e("div",nn,[dn,e("p",rn,r(t(H)(n.period_from).format("DD-MMM-YYYY")),1)]),e("div",cn,[_n,e("p",mn,r(t(H)(n.period_to).format("DD-MMM-YYYY")),1)]),e("div",pn,[e("img",{src:J,class:"h-4 mb-1 w-4 cursor-pointer my-auto",alt:"",onClick:w[0]||(w[0]=k=>m.value=!0)})])])])):U("",!0)]))),256)),U("",!0),i(d,{visible:m.value,"onUpdate:visible":w[16]||(w[16]=n=>m.value=n),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:$(()=>[e("div",null,[e("h5",{style:R({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:$(()=>[e("div",null,[i(p),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:x},"submit")])]),default:$(()=>[e("div",un,[e("div",fn,[gn,i(Y,{type:"text",modelValue:g.company_name,"onUpdate:modelValue":w[10]||(w[10]=n=>g.company_name=n),name:"ExperienceDetails_company_name[]",required:"",class:"!w-[100%]"},null,8,["modelValue"])]),e("div",bn,[yn,i(Y,{type:"text",modelValue:g.location,"onUpdate:modelValue":w[11]||(w[11]=n=>g.location=n),name:"experienceDet_location[]",required:"",class:"w-[100%]"},null,8,["modelValue"])]),e("div",hn,[vn,i(Y,{type:"text",onKeypress:w[12]||(w[12]=n=>y(n)),modelValue:g.job_position,"onUpdate:modelValue":w[13]||(w[13]=n=>g.job_position=n),name:"experienceDet_job_position[]",class:"!w-[95%]",required:""},null,8,["modelValue"])]),e("div",xn,[Dn,i(v,{class:"!w-[98%] !mr-[15px] relative right-2",modelValue:g.period_from,"onUpdate:modelValue":w[14]||(w[14]=n=>g.period_from=n)},null,8,["modelValue"])])]),e("div",$n,[e("div",wn,[kn,i(v,{modelValue:g.period_to,"onUpdate:modelValue":w[15]||(w[15]=n=>g.period_to=n),name:"experienceDet_period_to[]",class:"!w-[96%] relative right-2"},null,8,["modelValue"])]),Pn])]),_:1},8,["visible"])],64)}}},Vn={class:"card"},Sn={class:"w-full"},Mn={key:0},En=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},"Approved",-1),Ln=[En],Yn={key:1},Un=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-yellow-800 rounded-md bg-yellow-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),An=[Un],Bn={key:2},In=e("span",{class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-red-800 rounded-md bg-red-50 ring-1 ring-inset ring-yellow-100/20"},"Pending",-1),jn=[In],Fn={key:3},Nn={key:0},Tn={key:0},Rn=["onClick"],On=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),A(" Upload file")],-1),Gn=[On],qn={key:1},Hn={key:1},zn=["onClick"],Kn=e("label",{for:"file",class:"cursor-pointer"},[e("i",{class:"pi pi-upload"}),A(" Upload file")],-1),Zn=[Kn],Jn=["disabled"],Wn={class:"w-full h-full d-flex justify-content-center"},Xn=["src"],Qn={__name:"documents",setup(C){const a=b([]);oe(()=>{D.fetch_EmployeeDocument(),console.log(" ",g.value),console.log("employeeDetails employee_documents ",s.employeeDetails.employee_documents),a.value=s});let s=X();const D=ke();se();const m=b(!1),g=b({}),x=b();b();const y=b(),o=b(),f=new FormData,w=b(),Y=n=>{m.value=!0,D.loading=!0,F.post("/view-profile-private-file",{user_code:s.user_code,document_name:n.document_name}).then(k=>{x.value=k.data.data,console.log("data sent",x.value)}).finally(()=>{D.loading=!1})};b(["Pending","Approved","Rejected"]);const v=n=>{o.value=n},p=n=>{console.log(o),n.target.files&&n.target.files[0]&&(y.value=n.target.files[0],f.append(`${o.value}`,y.value),f.append("user_code",s.employeeDetails.user_code),console.log(f),Object.keys(f)[0])};async function d(){if(w.value=="Failure")Swal.fire({title:w.value="Failure",text:"Please upload all mandatory documents",icon:"error",showCancelButton:!1}).then(n=>{});else{D.loading=!0;let n="/profile-page/saveEmployeeDocument";F.post(n,f).then(k=>{w.value=k.data.status,console.log(w.value),console.log("Photo not send"),k.data.status=="Success"?Swal.fire({title:k.data.status="Success",text:k.data.message,icon:"success",showCancelButton:!1}).then(N=>{}):k.data.status=="Failure"&&Swal.fire({title:k.data.status="Failure",text:k.data.message,icon:"error",showCancelButton:!1}).then(N=>{})}).finally(()=>{s.fetchEmployeeDetails(),D.fetch_EmployeeDocument(),D.loading=!1})}}return(n,k)=>{const N=S("Column"),O=S("Button"),G=S("DataTable"),E=S("Dialog");return u(),h("div",Vn,[e("div",Sn,[i(G,{ref:"dt",value:t(s).employeeDetails.employee_documents,dataKey:"id",paginator:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],rows:5,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:$(()=>[i(N,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:$(()=>[A(r(t(D).getEmployeeDoc.document_name),1)]),_:1}),i(N,{field:"status",header:"status",style:{"min-width":"12rem"}},{body:$(L=>[L.data.status=="Approved"?(u(),h("div",Mn,Ln)):L.data.status==="Pending"?(u(),h("div",Yn,An)):L.data.status==="Rejected"?(u(),h("div",Bn,jn)):(u(),h("div",Fn))]),_:1}),i(N,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:$(L=>[L.data.doc_id?(u(),h("div",Nn,[L.data.status=="Rejected"?(u(),h("div",Tn,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:k[0]||(k[0]=P=>p(P))},null,32),e("button",{class:"btn btn-success",onClick:P=>v(L.data.document_name)},Gn,8,Rn)])):(u(),h("div",qn,[i(O,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:P=>Y(L.data),style:{height:"1.5em"}},null,8,["onClick"])]))])):(u(),h("div",Hn,[e("input",{type:"file",name:"",id:"file",hidden:"",onChange:k[1]||(k[1]=P=>p(P))},null,32),e("button",{class:"btn btn-success",onClick:P=>v(L.data.document_name)},Zn,8,zn)]))]),_:1})]),_:1},8,["value"]),e("button",{severity:"warn",type:"submit",data:"row-6",next:"row-6",name:"submit_form",id:"msform",class:"text-center btn btn-orange processOnboardForm float-end text-light mr-5 my-5",value:"Submit",disabled:n.fileUploadValidation,onClick:d}," Submit ",8,Jn),t(D).loading==!1?(u(),de(E,{key:0,visible:m.value,"onUpdate:visible":k[2]||(k[2]=L=>m.value=L),modal:"",header:"Documents",style:{width:"40vw"}},{default:$(()=>[e("div",Wn,[e("img",{src:`data:image/png;base64,${x.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,Xn)])]),_:1},8,["visible"])):U("",!0)])])}}},ed={key:1,class:"w-full h-screen bg-gray-50 p-3"},td={class:"w-full my-2"},sd={class:"col-12 col-sm-12 col-md-12 col-lg-12 col-xxl-12 col-xl-12"},od=e("div",{class:"mb-2"},[e("div",{class:"pt-1 pb-0"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),ld={class:"tab-content",id:"pills-tabContent"},ad={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},id={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},nd={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},dd={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},rd={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},xd={__name:"ProfilePageNew",setup(C){const a=te(),s=$e();let D=X();return oe(async()=>{if(s.params.user_code){let m=s.params.user_code;console.log(m),D.loading_screen=!0,await D.fetchEmployeeDetails(m).finally(()=>{D.loading_screen=!1})}else{let m=a.current_user_id;console.log(m),await D.fetchEmployeeDetails(m)}}),(m,g)=>{const x=S("Toast");return u(),h(ae,null,[i(x),t(D).loading_screen?(u(),de(Pe,{key:0,class:"absolute z-50 bg-white"})):U("",!0),t(D).employeeDetails.get_employee_office_details?(u(),h("div",ed,[i($s),e("div",td,[e("div",sd,[od,e("div",ld,[e("div",ad,[e("div",null,[i(ul)])]),e("div",id,[i(Kl)]),e("div",nd,[i(Cn)]),e("div",dd,[e("div",null,[i(Oi)])]),e("div",rd,[i(Qn)])])])])])):U("",!0)],64)}}};export{xd as default};
