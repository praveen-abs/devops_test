import{H as w,a0 as q,I as O,g as $,o as v,c as h,h as o,e,a as A,t as V,a1 as p,k as x,w as m,p as B,F as z,a2 as G,j as U,E as R,a3 as H,a4 as J,b as Q,J as X,P as Z,K as ee,L as te,R as oe,u as se,v as ae,N as le,A as ie,M as ne}from"./toastservice.esm-55c6bc57.js";import{c as de}from"./pinia-7d464185.js";import{T as re,B as ce,S as pe,b as _e,a as me,c as ue}from"./styleclass.esm-d0955109.js";import"./blockui.esm-dfd3470d.js";import{a as fe,s as be}from"./toast.esm-ed5ea1ae.js";import{D as ge}from"./dialogservice.esm-b0ef9e19.js";import{s as ve}from"./progressspinner.esm-3e903105.js";import{s as he}from"./row.esm-6ebc942e.js";import{s as ye}from"./columngroup.esm-9dd1458e.js";import{s as xe}from"./calendar.esm-bc739ce3.js";import{s as De}from"./textarea.esm-6a3ca6d3.js";import{s as we}from"./chips.esm-4e8c1244.js";import{s as $e}from"./multiselect.esm-77e30b91.js";import{s as ke}from"./progressbar.esm-b0556340.js";import{l as W}from"./lodash-b844b8cc.js";import{a as N}from"./index-f7a317fc.js";import{S as M}from"./Service-c89a36de.js";import{p as j,E as Pe}from"./EmployeeDetails-1ef775cf.js";import{d as Ce}from"./dayjs.min-ed58423a.js";import{_ as Ve}from"./EmployeePayslips-f4cbf60b.js";import"./moment-fbc5633a.js";import"./_plugin-vue_export-helper-c27b6911.js";const Se={class:"mb-0 card top-line"},Ee={class:"card-body"},Le={class:"row"},Te={class:"col-12 text-end"},Ne=e("i",{class:"fa fa-id-card text-success","aria-hidden":"true"},null,-1),Ue=[Ne],Ie={class:"text-center col-12"},Fe={class:"mx-auto rounded-circle img-xl userActive-status profile-img",style:{"box-shadow":"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",border:"1px solid navy"}},Re=["src"],Be=e("label",{class:"cursor-pointer edit-icon",style:{position:"absolute",top:"76px",right:"10px"},"data-bs-toggle":"modal","data-bs-target":"#edit_profileImg",id:"",for:"upload"},[e("i",{class:"fa fa-camera"})],-1),Ae={class:"mt-4"},Me={class:"progress-wrapper border-bottom-liteAsh"},je=e("span",{class:"mx-auto opacity-0 border-1"},null,-1),qe={class:"mb-1 text-center px-auto"},Ye={class:"text-center fw-bold"},Oe=e("div",{class:"mx-auto mb-1 d-flex justify-content-between"},[e("span",{class:"text-muted f-12"},"Profile Completeness"),e("span",{class:"text-muted text-end f-12 fw-bold",id:"prograssBar_percentage"})],-1),Ge=e("p",{class:"mb-2 text-muted f-10 text-start fw-bold"}," Your profile is completed ",-1),Ke={class:"mb-4 text-center profile-mid-right-content"},He={class:"py-2 border-bottom-liteAsh"},Je=e("p",{class:"text-muted f-12 fw-bold"},"Employee Status",-1),We={key:0,class:"f-12 fw-bold"},ze={key:1,class:"text-danger f-12 fw-bold"},Qe={class:"py-2 border-bottom-liteAsh"},Xe=e("p",{class:"text-muted f-12 fw-bold"},"Employee Code",-1),Ze={key:0,class:"f-12 fw-bold"},et={key:1,class:"f-12 fw-bold"},tt={class:"py-2 border-bottom-liteAsh"},ot=e("p",{class:"text-muted f-12 fw-bold"},"Designation",-1),st={key:0,class:"f-12 fw-bold"},at={key:1,class:"f-12 fw-bold"},lt={class:"py-2 border-bottom-liteAsh"},it=e("p",{class:"text-muted f-12 fw-bold"},"Location",-1),nt={key:0,class:"f-12 fw-bold"},dt={key:1,class:"f-12 fw-bold"},rt={class:"py-2 border-bottom-liteAsh ml-3"},ct={class:"text-muted f-12 fw-bold"},pt=e("i",{class:"ri-pencil-fill"},null,-1),_t=[pt],mt={key:0,class:"f-12 fw-bold"},ut={key:1,class:"f-12 fw-bold"},ft={class:"py-2 border-bottom-liteAsh"},bt={class:"text-muted f-12 fw-bold"},gt=e("i",{class:"ri-pencil-fill"},null,-1),vt=[gt],ht={key:0,class:"f-12 fw-bold"},yt={key:1,class:"f-12 fw-bold"},xt=e("div",{class:"text-center profile-bottom-right-content"},[e("button",{class:"btn btn-danger"},[e("i",{class:"fa fa-sign-out me-1"}),x(" Action ")])],-1),Dt={class:"confirmation-content"},wt=e("i",{class:"mr-3 pi pi-check-circle",style:{"font-size":"2rem"}},null,-1),$t={class:"card p-3 d-flex justify-items-center align-items-center",style:{width:"18rem","margin-left":"140px","flex-direction":"column !important","box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"}},kt=e("img",{src:"",alt:"",class:"",style:{height:"40px",width:"140px"}},null,-1),Pt={class:"card-body d-flex justify-items-center align-items-center",style:{"flex-direction":"column"}},Ct=["src"],Vt={class:"card-title mt-3 mb-2 f-12",style:{"text-align":"center"}},St={key:1,class:"f-12 card-text mb-2 text-gray-400"},Et={key:2,class:"f-12 fw-bold"},Lt={key:3,class:"f-12 fw-bold mb-2",style:{color:"grey"}},Tt={key:4,class:"f-12 mb-2 text-secondary-emphasis"},Nt={__name:"EmployeeCard",setup(Y){const y=M(),d=w(),E=w(!1),a=q({department:"",reporting_manager:""});let n=j();const u=()=>{N.post("/profile-pages/getProfilePicture",{user_code:y.current_user_code}).then(r=>{d.value=r.data.data}).finally(()=>{console.log("profile Pic Fetched")})},t=r=>{r.target.files&&r.target.files[0]&&(d.value=r.target.files[0],console.log(d.value));let c=new FormData;c.append("user_code",y.current_user_code),c.append("file_object",d.value);let _="/profile-pages/updateProfilePicture";N.post(_,c).then(s=>{}).finally(()=>{console.log("Photo Sent"),u()})},P=w(),T=w(),b=w(!1),I=w(!1),C=w(!1),l=w("None"),i=r=>{console.log(r),N.post("/profile-pages/updateDepartment",{user_code:n.employeeDetails.user_code,department_id:a.department}).then(c=>{let _=W._.find(P.value,["id",a.department]).name;console.log("Lodash [Selected Dept]: "+_),n.employeeDetails.get_employee_office_details.department_name=_,l.value="Department updated successfully !",console.log(c.data)}).catch(c=>{l.value="Error while updating department. Kindly contact the Admin.",console.log("Error while updating Department : "+c)}).finally(()=>{C.value=!0,b.value=!1})},g=r=>{console.log("editReportingManager : "+r),N.post("/profile-pages/updateReportingManager",{user_code:n.employeeDetails.user_code,manager_user_code:a.reporting_manager}).then(c=>{let _=W._.find(T.value,["user_code",a.reporting_manager]);n.employeeDetails.get_employee_office_details.l1_manager_name=_.name,n.employeeDetails.get_employee_office_details.l1_manager_code=_.user_code,l.value="Reporting Manager updated successfully !",console.log(c.data)}).catch(c=>{l.value="Error while updating Reporting Manager. Kindly contact the Admin.",console.log("Error while updating Reporting Manager : "+c)}).finally(()=>{C.value=!0,I.value=!1})},S=()=>{a.department=n.employeeDetails.get_employee_office_details.department_name,a.reporting_manager=n.employeeDetails.get_employee_office_details.l1_manager_name,console.log(a.department)};return O(()=>{y.DepartmentDetails().then(r=>{P.value=r.data,console.log("testing"+n.employeeDetails.get_employee_office_details.l1_manager_name)}),y.ManagerDetails().then(r=>{T.value=r.data}),u(),S()}),(r,c)=>{const _=$("Toast"),s=$("ProgressBar"),f=$("Dialog"),F=$("Dropdown");return v(),h(z,null,[o(_),e("div",Se,[e("div",Ee,[e("div",Le,[e("div",Te,[e("button",{class:"p-0 m-0 bg-transparent border-0 outline-none btn",onClick:c[0]||(c[0]=L=>E.value=!0)},Ue)]),e("div",Ie,[e("div",Fe,[d.value?(v(),h("img",{key:0,class:"rounded-circle img-xl userActive-status profile-img",src:`data:image/png;base64,${d.value}`,srcset:""},null,8,Re)):A("",!0),Be,e("input",{type:"file",name:"",id:"upload",hidden:"",onChange:c[1]||(c[1]=L=>t(L))},null,32)]),e("div",Ae,[e("div",Me,[je,e("div",qe,[e("h6",Ye,V(p(n).employeeDetails.name),1)]),Oe,o(s,{value:p(n).employeeDetails.profile_completeness},null,8,["value"]),Ge]),e("div",Ke,[e("div",He,[Je,p(n).employeeDetails.active==1?(v(),h("p",We," Active ")):(v(),h("p",ze,"Not Active"))]),e("div",Qe,[Xe,p(n).employeeDetails.user_code?(v(),h("p",Ze,V(p(n).employeeDetails.user_code),1)):(v(),h("p",et,"-"))]),e("div",tt,[ot,p(n).employeeDetails.get_employee_office_details.designation?(v(),h("p",st,V(p(n).employeeDetails.get_employee_office_details.designation),1)):(v(),h("p",at,"-"))]),e("div",lt,[it,p(n).employeeDetails.get_employee_office_details.work_location?(v(),h("p",nt,V(p(n).employeeDetails.get_employee_office_details.work_location),1)):(v(),h("p",dt,"-"))]),e("div",rt,[e("p",ct,[x(" Department "),e("a",{href:"#",class:"edit-icon",onClick:c[2]||(c[2]=L=>b.value=!0)},_t)]),p(n).employeeDetails.get_employee_office_details.department_id?(v(),h("p",mt,V(p(n).employeeDetails.get_employee_office_details.department_name),1)):(v(),h("p",ut,"-"))]),e("div",ft,[e("p",bt,[x(" Reporting To "),e("a",{href:"#",class:"edit-icon",onClick:c[3]||(c[3]=L=>I.value=!0)},vt)]),p(n).employeeDetails.get_employee_office_details.l1_manager_code?(v(),h("p",ht,V(p(n).employeeDetails.get_employee_office_details.l1_manager_name)+" - "+V(p(n).employeeDetails.get_employee_office_details.l1_manager_code),1)):(v(),h("p",yt,"-"))])]),xt])])])])]),o(f,{header:"Status",visible:C.value,"onUpdate:visible":c[4]||(c[4]=L=>C.value=L),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{default:m(()=>[e("div",Dt,[wt,e("span",null,V(l.value),1)])]),_:1},8,["visible"]),o(f,{visible:b.value,"onUpdate:visible":c[6]||(c[6]=L=>b.value=L),modal:"",header:"Edit Department",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:i}," Save ")])]),default:m(()=>[o(F,{options:P.value,optionLabel:"name",modelValue:a.department,"onUpdate:modelValue":c[5]||(c[5]=L=>a.department=L),placeholder:"Select Department",class:"w-full form-selects",optionValue:"id"},null,8,["options","modelValue"])]),_:1},8,["visible"]),o(f,{visible:I.value,"onUpdate:visible":c[8]||(c[8]=L=>I.value=L),modal:"",header:"Edit Reporting Manager",style:{width:"30vw",borderTop:"5px solid #002f56"}},{footer:m(()=>[e("div",null,[e("button",{type:"button",class:"submit_btn warning success",onClick:g}," Save ")])]),default:m(()=>[o(F,{optionLabel:"name",options:T.value,modelValue:a.reporting_manager,"onUpdate:modelValue":c[7]||(c[7]=L=>a.reporting_manager=L),optionValue:"user_code",placeholder:"Select Reporting Manager",class:"w-full form-selects"},null,8,["options","modelValue"])]),_:1},8,["visible"]),o(f,{visible:E.value,"onUpdate:visible":c[9]||(c[9]=L=>E.value=L),modal:"",header:"",style:{width:"40vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{class:"fw-bolder fs-5",style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Digital Id Preview ",4)])]),default:m(()=>[e("div",$t,[kt,e("div",Pt,[d.value?(v(),h("img",{key:0,class:"rounded-circle profile-img",src:`data:image/png;base64,${d.value}`,srcset:"",style:{"box-shadow":"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px",width:"120px",height:"120px"}},null,8,Ct)):A("",!0),e("h5",Vt,V(p(n).employeeDetails.name),1),p(n).employeeDetails.get_employee_office_details.department_id?(v(),h("h5",St,V(p(n).employeeDetails.get_employee_office_details.department_name),1)):(v(),h("h1",Et,"-")),p(n).employeeDetails.user_code?(v(),h("h5",Lt,V(p(n).employeeDetails.user_code),1)):(v(),h("p",Tt,"-"))])])]),_:1},8,["visible"])],64)}}};const Ut={class:"mb-2 card"},It={class:"card-body"},Ft={class:"fw-bold fs-15"},Rt={class:"space-between"},Bt={class:"flex-col input_text"},At=e("span",null,[x("Name "),e("span",{class:"text-danger"},"*")],-1),Mt={class:"flex-col input_text"},jt=e("span",null,[x("Relationship"),e("span",{class:"text-danger"},"*")],-1),qt={class:"space-between M-T"},Yt={class:"flex-col input_text"},Ot=e("span",null,[x("Date of birth "),e("span",{class:"text-danger"},"*")],-1),Gt={class:"flex-col input_text"},Kt=e("span",null,[x("phone"),e("span",{class:"text-danger"},"*")],-1),Ht={class:"my-6 table-responsive"},Jt={key:0},Wt={key:1},zt=["onClick"],Qt=["onClick"],Xt={class:"space-between"},Zt={class:"flex-col input_text"},eo=e("span",null,[x("Name "),e("span",{class:"text-danger"},"*")],-1),to={class:"flex-col input_text"},oo=e("span",null,[x("Relationship"),e("span",{class:"text-danger"},"*")],-1),so={class:"space-between M-T"},ao={class:"flex-col input_text"},lo=e("span",null,[x("Date of birth "),e("span",{class:"text-danger"},"*")],-1),io={class:"flex-col input_text"},no=e("span",null,[x("phone"),e("span",{class:"text-danger"},"*")],-1),ro={__name:"FamilyDetails",setup(Y){const y=M(),d=j(),E=G();w("");const a=w(!1),n=w(!1),u=q({name:"",relationship:"",dob:"",phone_number:""}),t=q({name:"",relationship:"",dob:"",phone_number:""}),P=w(),T=()=>{d.loading_screen=!0;let i=`/add-family-info/${y.current_user_id}`;N.post(i,{user_code:d.employeeDetails.user_code,name:u.name,relationship:u.relationship,dob:u.dob,phone_number:u.phone_number}).then(g=>{g.data.status=="success"?(E.add({severity:"success",summary:"Updated",detail:"Family information updated",life:3e3}),d.employeeDetails.get_family_details.dob=useDateFormat(u.dob,"YYYY-MM-DD"),d.employeeDetails.get_family_details.name=u.gender,d.employeeDetails.get_family_details.relationship=u.relationship,d.employeeDetails.get_family_details.phone_number=u.phone_number):g.data.status=="failure"&&(leave_data.leave_request_error_messege=g.data.message)}).catch(g=>{console.log(g)}).finally(()=>{d.fetchEmployeeDetails(),d.loading_screen=!1}),a.value=!1},b=l=>{n.value=!0,P.value=l.id,t.name=l.name,t.relationship=l.relationship,t.dob=l.dob,t.phone_number=l.phone_number},I=l=>{P.value=l.id;let g=` /delete-family-info/${y.current_user_id}`;N.post(g,{current_table_id:P.value}).then(S=>{S.data.status=="success"?(window.location.reload(),E.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}),d.employeeDetails.get_family_details.dob=useDateFormat(u.dob,"YYYY-MM-DD"),d.employeeDetails.get_family_details.name=u.gender,d.employeeDetails.get_family_details.relationship=u.relationship,d.employeeDetails.get_family_details.phone_number=u.phone_number):S.data.status=="failure"&&(leave_data.leave_request_error_messege=S.data.message)}).catch(S=>{console.log(S)})},C=l=>{let g=`/update-family-info/${y.current_user_id}`;N.post(g,{user_code:d.employeeDetails.user_code,current_table_id:P.value,name:t.name,relationship:t.relationship,dob:t.dob,phone_number:t.phone_number}).then(S=>{S.data.status=="success"?(window.location.reload(),E.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}),d.employeeDetails.get_family_details.dob=useDateFormat(t.dob,"YYYY-MM-DD"),d.employeeDetails.get_family_details.name=t.gender,d.employeeDetails.get_family_details.relationship=u.relationship,d.employeeDetails.get_family_details.phone_number=t.phone_number):S.data.status=="failure"&&(leave_data.leave_request_error_messege=S.data.message)}).catch(S=>{console.log(S)}),n.value=!1};return O(()=>{}),(l,i)=>{const g=$("Toast"),S=$("Dialog"),r=$("Column"),c=$("DataTable");return v(),h("div",Ut,[e("div",It,[e("h6",Ft,[x("Family Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"79%"},onClick:i[0]||(i[0]=_=>a.value=!0)}," Add New "),o(S,{visible:a.value,"onUpdate:visible":i[5]||(i[5]=_=>a.value=_),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-15"}," Family Information",4)])]),footer:m(()=>[o(g),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:T},"submit")])]),default:m(()=>[e("div",Rt,[e("div",Bt,[At,U(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name",id:"familyDetails_Name",required:"","onUpdate:modelValue":i[1]||(i[1]=_=>u.name=_)},null,512),[[R,u.name]])]),e("div",Mt,[jt,U(e("input",{type:"text",name:"familyDetails_Relationship[]","onUpdate:modelValue":i[2]||(i[2]=_=>u.relationship=_),id:"familyDetails_Relationship","pattern-data":"alpha",required:""},null,512),[[R,u.relationship]])])]),e("div",qt,[e("div",Yt,[Ot,U(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":i[3]||(i[3]=_=>u.dob=_)},null,512),[[R,u.dob]])]),e("div",Gt,[Kt,U(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":i[4]||(i[4]=_=>u.phone_number=_)},null,512),[[R,u.phone_number]])])])]),_:1},8,["visible"])]),e("div",Ht,[o(c,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:p(d).employeeDetails.get_family_details,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[o(r,{header:"Name",field:"name",style:{"min-width":"8rem"}}),o(r,{field:"relationship",header:"Relationship",style:{"min-width":"12rem"}}),o(r,{field:"dob",header:"Date of Birth ",style:{"min-width":"12rem"}},{body:m(_=>[_.data.dob=="Invalid Date"?(v(),h("div",Jt," - ")):(v(),h("div",Wt,V(p(Ce)(_.data.dob).format("DD-MMM-YYYY")),1))]),_:1}),o(r,{field:"phone_number",header:"Phone",style:{"min-width":"12rem"}}),o(r,{exportable:!1,header:"Action",style:{"min-width":"8rem"}},{body:m(_=>[e("button",{class:"mr-3 btn btn-success",onClick:s=>b(_.data)},"Edit",8,zt),e("button",{class:"btn btn-danger",onClick:s=>I(_.data)},"Delete",8,Qt),e("template",null,[o(S,{visible:n.value,"onUpdate:visible":i[10]||(i[10]=s=>n.value=s),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Family Information",4)])]),footer:m(()=>[o(g),e("div",null,[e("button",{type:"button",class:"submit_btn warning success",id:"submit_button_family_details",onClick:C},"submit")])]),default:m(()=>[e("div",Xt,[e("div",Zt,[eo,U(e("input",{type:"text",name:"familyDetails_Name[]","pattern-data":"name","onUpdate:modelValue":i[6]||(i[6]=s=>t.name=s),required:""},null,512),[[R,t.name]])]),e("div",to,[oo,U(e("input",{type:"text",name:"familyDetails_Relationship[]","pattern-data":"alpha","onUpdate:modelValue":i[7]||(i[7]=s=>t.relationship=s),required:""},null,512),[[R,t.relationship]])])]),e("div",so,[e("div",ao,[lo,U(e("input",{type:"date",id:"datemin",name:"familyDetails_dob[]",min:"2000-01-02","onUpdate:modelValue":i[8]||(i[8]=s=>t.dob=s)},null,512),[[R,t.dob]])]),e("div",io,[no,U(e("input",{type:"number",minlength:"10",maxlength:"10",pattern:"[1-9]{1}[0-9]{9}",id:"familyDetails_phoneNumber",name:"familyDetails_phoneNumber[]","onUpdate:modelValue":i[9]||(i[9]=s=>t.phone_number=s)},null,512),[[R,t.phone_number]])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])}}};const co=e("div",{class:"mb-2 card left-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_summary",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"Summary ")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_pay",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Payslips ")])])])],-1),po={class:"tab-content",id:"pills-tabContent"},_o={class:"tab-pane fade active show",id:"finance_summary",role:"tabpanel","aria-labelledby":""},mo=e("div",{class:"mb-2 card"},[e("div",{class:"card-body"},[e("form",{action:"",method:"POST",enctype:"multipart/form-data"},[e("div",{class:"d-flex justify-content-between align-items-center"},[e("h6",{class:"mb-2 fw-bold fs-15"}," Payroll Summary ")]),e("ul",{class:"personal-info"},[e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Last Processed"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1 border-bottom-liteAsh"},[e("div",{class:"title"},"Total Working Days"),e("div",{class:"text"}," - ")]),e("li",{class:"pb-1"},[e("div",{class:"title"},"Loss Of Pay(LOP)"),e("div",{class:"text"}," - ")])])])])],-1),uo={class:"mb-2 card"},fo={class:"card-body"},bo=e("i",{class:"ri-pencil-fill"},null,-1),go=[bo],vo={class:"modal-body"},ho={class:"row"},yo={class:"col-md-6"},xo={class:"mb-3 form-group"},Do=e("label",null,"Bank Name",-1),wo={class:"col-md-6"},$o={class:"mb-3 form-group"},ko=e("label",null,"Bank Account No",-1),Po=e("div",{class:"cal-icon"},null,-1),Co={class:"col-md-6"},Vo={class:"mb-3 form-group"},So=e("label",null,"IFSC Code",-1),Eo={class:"col-md-6"},Lo={class:"mb-3 form-group"},To=e("label",null,"PAN No",-1),No={class:"col-md-6"},Uo={class:"floating"},Io=e("label",{for:"",class:"float-label mb-2"},"Bank Passbook or Cheque Leaf",-1),Fo={class:"flex justify-content-start"},Ro=e("label",{class:"cursor-pointer text-primary d-flex align-items-center fs-5 btn bg-primary",style:{width:"135px"},id:"",for:"uploadPassBook"},[e("i",{class:"pi pi-arrow-circle-up fs-5 mr-3"}),e("h1",{class:"text-light"},"Upload file")],-1),Bo={class:"personal-info"},Ao=e("div",{class:"title"},"Bank Name",-1),Mo={class:"text"},jo=e("div",{class:"title"},"Bank Account No.",-1),qo={class:"text"},Yo=e("div",{class:"title"},"IFSC Code",-1),Oo={class:"text"},Go=e("div",{class:"title"},"PAN No",-1),Ko={class:"text"},Ho={class:"mb-2 card"},Jo={class:"card-body"},Wo={class:"mb-2 fw-bold fs-15"},zo={class:"personal-edit"},Qo=e("i",{class:"ri-pencil-fill"},null,-1),Xo=[Qo],Zo={class:"modal-body"},es={class:"row"},ts={class:"col-md-6"},os={class:"floating"},ss=e("label",{for:"",class:"float-label"},[x("PF Applicable"),e("span",{class:"text-danger"},"*")],-1),as=e("option",{value:"",hidden:"",selected:"",disabled:""},"PF Applicable",-1),ls=e("option",{value:"yes"},"Yes",-1),is=e("option",{value:"no"},"No",-1),ns=[as,ls,is],ds={class:"col-md-6"},rs={class:"mb-3 form-group"},cs=e("label",null,"EPF Number",-1),ps={class:"col-md-6"},_s={class:"mb-3 form-group"},ms=e("label",null,"UAN Number",-1),us={class:"col-md-6"},fs={class:"mb-3 form-group"},bs=e("label",{class:"float-label"},[x("ESIC Applicable"),e("span",{class:"text-danger"},"*")],-1),gs=e("option",{value:"",hidden:"",selected:"",disabled:""},"ESIC Applicable",-1),vs=e("option",{value:"yes"}," Yes ",-1),hs=e("option",{value:"no"}," No ",-1),ys=[gs,vs,hs],xs={class:"col-md-6"},Ds={class:"floating"},ws=e("label",{for:"",class:"float-label"},"ESIC Number",-1),$s=e("span",{class:"error",id:"error_esic_number"},null,-1),ks=e("div",{class:"col-md-6"},[e("div",{class:"floating"},[e("span",{class:"error",id:"error_esic_number"})])],-1),Ps={key:0,class:"personal-info"},Cs=e("div",{class:"title"},"PF Applicable",-1),Vs={class:"text"},Ss=e("div",{class:"title"},"EPF Number",-1),Es={class:"text"},Ls=e("div",{class:"title"},"UAN Number",-1),Ts={class:"text"},Ns=e("div",{class:"title"},"ESIC Applicable",-1),Us={class:"text"},Is=e("div",{class:"title"},"ESIC Number",-1),Fs={class:"text"},Rs={class:"tab-pane fade",id:"finance_pay",role:"tabpanel","aria-labelledby":""},Bs={class:"mb-2 card"},As={class:"card-body"},Ms={__name:"FinanceDetails",setup(Y){const y=G();let d=new FormData;d.append("user_code",M.current_user_code),d.append("file_object",j.value);let E="/profile-pages/updateProfilePicture";N.post(E,d).then(_=>{}).finally(()=>{console.log("Photo Sent")});const a=j(),n=M();w([]).value.push(a.employeeDetails.get_statutory_details),O(()=>{n.getBankList().then(_=>{T.value=_.data})});const t=w(!1),P=w(!1);w(),w();const T=w(),b=q({bank_id:"",bank_ac_no:"",ifsc_code:"",pan_no:"",PassBook:""}),I=_=>{_.target.files&&_.target.files[0]&&(b.PassBook=_.target.files[0],console.log(b.PassBook))},C=H(()=>{if(a.employeeDetails.get_statutory_details.esic_applicable=="no")return"No";if(a.employeeDetails.get_statutory_details.esic_applicable=="yes")return"Yes"}),l=H(()=>{if(a.employeeDetails.get_statutory_details.pf_applicable=="no")return"No";if(a.employeeDetails.get_statutory_details.pf_applicable=="yes")return"Yes"}),i=()=>{let s=`/update-bank-info/${n.current_user_id}`,f=new FormData;f.append("user_code",a.employeeDetails.user_code),f.append("bank_id",b.bank_id.id),f.append("account_no",b.bank_ac_no),f.append("bank_ifsc",b.ifsc_code),f.append("pan_no",b.pan_no),f.append("PassBook",b.PassBook),N.post(s,f).then(F=>{F.data.status=="success"?(y.add({severity:"success",summary:"Updated",detail:"Bank information updated",life:3e3}),a.employeeDetails.get_employee_details.bank_id=b.bank_id,a.employeeDetails.get_employee_details.account_no=b.bank_ac_no,a.employeeDetails.get_employee_details.bank_ifsc=b.ifsc_code,a.employeeDetails.get_employee_details.pan_no=b.pan_no):F.data.status=="failure"&&(leave_data.leave_request_error_messege=F.data.message)}).catch(F=>{console.log(F)}),t.value=!1};function g(){console.log("Opening General Info Dialog"),b.bank_id=a.employeeDetails.get_employee_details.bank_id,b.bank_ac_no=a.employeeDetails.get_employee_details.bank_account_number,b.ifsc_code=a.employeeDetails.get_employee_details.bank_ifsc_code,b.pan_no=a.employeeDetails.get_employee_details.pan_number,t.value=!0}function S(){console.log("Opening General Info Dialog"),r.pf_applicable=a.employeeDetails.get_statutory_details.pf_applicable,r.epf_no=a.employeeDetails.get_statutory_details.epf_number,r.uan_no=a.employeeDetails.get_statutory_details.uan_number,r.esic_applicable=a.employeeDetails.get_statutory_details.esic_applicable,r.esic_no=a.employeeDetails.get_statutory_details.esic_number,P.value=!0}const r=q({pf_applicable:"",epf_no:"",uan_no:"",esic_applicable:"",esic_no:""}),c=()=>{let s=`/update-statutory-info/${n.current_user_id}`;N.post(s,{user_code:a.employeeDetails.user_code,pf_applicable:r.pf_applicable,epf_number:r.epf_no,uan_number:r.uan_no,esic_applicable:r.esic_applicable,esic_number:r.esic_no}).then(f=>{f.data.status=="success"?y.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3}):f.data.status=="failure"&&(leave_data.leave_request_error_messege=f.data.message)}).catch(f=>{console.log(f)}),P.value=!1};return(_,s)=>{const f=$("Dropdown"),F=$("InputText"),L=$("Toast"),K=$("Dialog");return v(),h("div",null,[co,e("div",po,[e("div",_o,[mo,e("div",uo,[e("div",fo,[e("h6",{class:"mb-2 fw-bold fs-15"},[x("Bank Information "),e("span",{class:"personal-edit"},[e("a",{href:"#",class:"edit-icon",onClick:g},go)])]),o(K,{visible:t.value,"onUpdate:visible":s[5]||(s[5]=k=>t.value=k),modal:"",header:"Header",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Bank Information",4)])]),default:m(()=>[e("div",null,[e("div",vo,[e("div",ho,[e("div",yo,[e("div",xo,[Do,o(f,{editable:"",options:T.value,optionLabel:"bank_name",placeholder:"Select Bank Name",class:"w-full form-controls",modelValue:b.bank_id,"onUpdate:modelValue":s[0]||(s[0]=k=>b.bank_id=k)},null,8,["options","modelValue"])])]),e("div",wo,[e("div",$o,[ko,Po,o(F,{class:"form-controls onboard-form",inputId:"integeronly",name:"account_no",min:0,max:100,type:"number",modelValue:b.bank_ac_no,"onUpdate:modelValue":s[1]||(s[1]=k=>b.bank_ac_no=k)},null,8,["modelValue"])])]),e("div",Co,[e("div",Vo,[So,o(F,{type:"text",name:"bank_ifsc_",class:"form-controls",modelValue:b.ifsc_code,"onUpdate:modelValue":s[2]||(s[2]=k=>b.ifsc_code=k)},null,8,["modelValue"])])]),e("div",Eo,[e("div",Lo,[To,o(F,{type:"text",name:"pan_nos",class:"form-controls",modelValue:b.pan_no,"onUpdate:modelValue":s[3]||(s[3]=k=>b.pan_no=k)},null,8,["modelValue"])])]),e("div",No,[e("div",Uo,[Io,e("div",Fo,[o(L),Ro,e("input",{type:"file",name:"",id:"uploadPassBook",hidden:"",onChange:s[4]||(s[4]=k=>I(k))},null,32)])])])]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_bank_info",class:"btn btn-orange submit-btn",onClick:i},"Submit")])])])])]),_:1},8,["visible"]),e("div",null,[e("ul",Bo,[e("li",null,[Ao,e("div",Mo,V(p(a).employeeDetails.get_employee_details.bank_name),1)]),e("li",null,[jo,e("div",qo,V(p(a).employeeDetails.get_employee_details.bank_account_number),1)]),e("li",null,[Yo,e("div",Oo,V(p(a).employeeDetails.get_employee_details.bank_ifsc_code),1)]),e("li",null,[Go,e("div",Ko,V(p(a).employeeDetails.get_employee_details.pan_number),1)])])])])]),e("div",Ho,[e("div",Jo,[e("h6",Wo,[x("Statutory Information "),e("span",zo,[e("a",{href:"#",class:"edit-icon",onClick:s[6]||(s[6]=k=>S())},Xo)])]),o(K,{visible:P.value,"onUpdate:visible":s[12]||(s[12]=k=>P.value=k),modal:"",header:"Statutory Details",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fw-bold fs-5"}," Statutory information",4)])]),default:m(()=>[e("div",Zo,[e("div",es,[e("div",ts,[e("div",os,[ss,U(e("select",{placeholder:"PF Applicable",name:"pf_applicable",id:"pf_applicable",class:"onboard-form form-control textbox select2_form_without_search","onUpdate:modelValue":s[7]||(s[7]=k=>r.pf_applicable=k)},ns,512),[[J,r.pf_applicable]])])]),e("div",ds,[e("div",rs,[cs,U(e("input",{type:"text",placeholder:"EPF Number",name:"epf_number",id:"epf_number",class:"onboard-form form-control","onUpdate:modelValue":s[8]||(s[8]=k=>r.epf_no=k)},null,512),[[R,r.epf_no]])])]),e("div",ps,[e("div",_s,[ms,U(e("input",{name:"uan_number",id:"uan_number",minlength:"12",maxlength:"12",class:"form-control onboard-form",type:"text","pattern-data":"ifsc",required:"","onUpdate:modelValue":s[9]||(s[9]=k=>r.uan_no=k)},null,512),[[R,r.uan_no]])])]),e("div",us,[e("div",fs,[bs,U(e("select",{placeholder:"ESIC Applicable",name:"esic_applicable",id:"esic_applicable",class:"onboard-form form-control textbox select2_form_without_search",required:"","onUpdate:modelValue":s[10]||(s[10]=k=>r.esic_applicable=k)},ys,512),[[J,r.esic_applicable]])])]),e("div",xs,[e("div",Ds,[ws,U(e("input",{type:"text",placeholder:"ESIC Number",name:"esic_number",id:"esic_number",minlength:"10",maxlength:"10",class:"onboard-form form-control textbox","onUpdate:modelValue":s[11]||(s[11]=k=>r.esic_no=k)},null,512),[[R,r.esic_no]]),$s])]),ks]),e("div",{class:"col-12"},[e("div",{class:"text-right"},[e("button",{id:"btn_submit_statutory_info",class:"btn btn-border-orange submit-btn",onClick:c},"Save")])])])]),_:1},8,["visible"]),p(a).employeeDetails.get_statutory_details?(v(),h("ul",Ps,[e("li",null,[Cs,e("div",Vs,V(p(l)),1)]),e("li",null,[Ss,e("div",Es,V(p(a).employeeDetails.get_statutory_details.epf_number),1)]),e("li",null,[Ls,e("div",Ts,V(p(a).employeeDetails.get_statutory_details.uan_number),1)]),e("li",null,[Ns,e("div",Us,V(p(C)),1)]),e("li",null,[Is,e("div",Fs,V(p(a).employeeDetails.get_statutory_details.esic_number),1)])])):A("",!0)])])]),e("div",Rs,[e("div",Bs,[e("div",As,[o(Ve)])])])])])}}};const js={class:"mb-2 card"},qs={class:"card-body"},Ys={class:"fw-bold fs-15"},Os={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},Gs={class:"space-between"},Ks={class:"flex-col input_text"},Hs=e("span",null,[x("Company Name "),e("span",{class:"text-danger"},"*")],-1),Js={class:"flex-col input_text"},Ws=e("span",null,[x(" Location"),e("span",{class:"text-danger"},"*")],-1),zs={class:"space-between M-T"},Qs={class:"flex-col input_text"},Xs=e("span",null,[x("Job Position "),e("span",{class:"text-danger"},"*")],-1),Zs={class:"flex-col input_text",style:{"margin-right":"7px"}},ea=e("span",{style:{paddingLeft:"6px"}},[x("Period From"),e("span",{class:"text-danger"},"*")],-1),ta={class:"space-between M-T"},oa={class:"flex-col input_text",style:{marginLeft:"-6px"}},sa=e("span",{style:{paddingLeft:"6px"}},[x("Period To "),e("span",{class:"text-danger"},"*")],-1),aa={class:"my-6 table-responsive"},la=["onClick"],ia=["onClick"],na={style:{"box-shadow":"0 1px 2px rgba(56, 65, 74, 0.15)",padding:"1rem"}},da={class:"space-between"},ra={class:"flex-col input_text"},ca=e("span",null,[x("Company Name "),e("span",{class:"text-danger"},"*")],-1),pa={class:"flex-col input_text"},_a=e("span",null,[x(" Location"),e("span",{class:"text-danger"},"*")],-1),ma={class:"space-between M-T"},ua={class:"flex-col input_text"},fa=e("span",null,[x("Job Position "),e("span",{class:"text-danger"},"*")],-1),ba={class:"flex-col input_text",style:{"margin-right":"7px"}},ga=e("span",{style:{paddingLeft:"6px"}},[x("Period From"),e("span",{class:"text-danger"},"*")],-1),va={class:"space-between M-T"},ha={class:"flex-col input_text",style:{marginLeft:"-6px"}},ya=e("span",{style:{paddingLeft:"6px"}},[x("Period To "),e("span",{class:"text-danger"},"*")],-1),xa={__name:"ExperienceDetails",setup(Y){const y=M(),d=j(),E=G();G(),w("");const a=w(!1),n=w(!1),u=w(),t=q({company_name:"",location:"",job_position:"",period_from:"",period_to:""}),P=()=>{console.log(t),d.loading_screen=!0;let l=`/add-experience-info/${y.current_user_id}`;N.post(l,{user_code:d.employeeDetails.user_code,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:t.period_from,period_to:t.period_to}).then(i=>{i.data.status=="success"?E.add({severity:"success",summary:"Updated",detail:"Experiance information updated",life:3e3}):i.data.status=="failure"&&(leave_data.leave_request_error_messege=i.data.message)}).catch(i=>{console.log(i)}).finally(()=>{d.fetchEmployeeDetails(),d.loading_screen=!1}),a.value=!1};O(()=>{});const T=C=>{n.value=!0,u.value=C.id,console.log(u.value),t.company_name=C.company_name,t.location=C.location,t.job_position=C.job_position,t.period_from=C.period_from,t.period_to=C.period_to},b=C=>{n.value=!1;let i=`/update-experience-info/${y.current_user_id}`;N.post(i,{user_code:d.employeeDetails.user_code,exp_current_table_id:u.value,company_name:t.company_name,experience_location:t.location,job_position:t.job_position,period_from:t.period_from,period_to:t.period_to}).then(g=>{g.data.status=="success"?(window.location.reload(),E.add({severity:"success",summary:"Updated",detail:"General information updated",life:3e3})):g.data.status=="failure"&&(leave_data.leave_request_error_messege=g.data.message)}).catch(g=>{console.log(g)})},I=C=>{u.value=C.id;let i=`/delete-experience-info/${y.current_user_id}`;N.post(i,{exp_current_table_id:u.value}).then(g=>{g.data.status=="success"?E.add({severity:"success",summary:"Deleted",detail:"General information updated",life:3e3}):g.data.status=="failure"&&(leave_data.leave_request_error_messege=g.data.message)}).catch(g=>{console.log(g)}).finally(()=>{d.fetchEmployeeDetails(),d.loading_screen=!1})};return(C,l)=>{const i=$("InputText"),g=$("Calendar"),S=$("Toast"),r=$("Dialog"),c=$("Column"),_=$("DataTable");return v(),h("div",null,[e("div",js,[e("div",qs,[e("h6",Ys,[x("Experience Information "),e("button",{type:"button",class:"float-right btn btn-orange",style:{"margin-left":"76%"},onClick:l[0]||(l[0]=s=>a.value=!0)}," Add New "),o(r,{visible:a.value,"onUpdate:visible":l[6]||(l[6]=s=>a.value=s),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"},id:""},{header:m(()=>[e("div",null,[e("h5",{style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Experience Information",4)])]),footer:m(()=>[e("div",null,[o(S),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:P},"submit")])]),default:m(()=>[e("div",Os,[e("div",Gs,[e("div",Ks,[Hs,o(i,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":l[1]||(l[1]=s=>t.company_name=s),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",Js,[Ws,o(i,{type:"text",modelValue:t.location,"onUpdate:modelValue":l[2]||(l[2]=s=>t.location=s),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",zs,[e("div",Qs,[Xs,o(i,{type:"text",modelValue:t.job_position,"onUpdate:modelValue":l[3]||(l[3]=s=>t.job_position=s),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",Zs,[ea,o(g,{showIcon:"",modelValue:t.period_from,"onUpdate:modelValue":l[4]||(l[4]=s=>t.period_from=s),style:B({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",ta,[e("div",oa,[sa,o(g,{showIcon:"",modelValue:t.period_to,"onUpdate:modelValue":l[5]||(l[5]=s=>t.period_to=s),class:"",style:B({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])]),e("div",aa,[o(_,{ref:"dt",value:p(d).employeeDetails.get_experience_details,dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[o(c,{header:"Company Name",field:"company_name",style:{"min-width":"12rem"}}),o(c,{field:"location",header:"Location",style:{"min-width":"8rem"}}),o(c,{field:"job_position",header:"Job Position ",style:{"min-width":"10rem"}}),o(c,{field:"period_from",header:"Period from",style:{"min-width":"6rem"}}),o(c,{field:"period_to",header:"Period To",style:{"min-width":"6rem"}}),o(c,{exportable:!1,header:"Action",style:{"min-width":"12rem"}},{body:m(s=>[e("button",{class:"mr-3 btn btn-success",onClick:f=>T(s.data)},"Edit",8,la),e("button",{class:"btn btn-danger",onClick:f=>I(s.data)},"Delete",8,ia),e("template",null,[o(r,{visible:n.value,"onUpdate:visible":l[13]||(l[13]=f=>n.value=f),modal:"",style:{width:"50vw",borderTop:"5px solid #002f56"}},{header:m(()=>[e("div",null,[e("h5",{style:B({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"})}," Experience Information",4)])]),footer:m(()=>[e("div",null,[o(S),e("button",{type:"button",class:"submit_btn success warning",severity:"success",id:"",onClick:l[12]||(l[12]=f=>b())},"submit")])]),default:m(()=>[e("div",na,[e("div",da,[e("div",ra,[ca,o(i,{type:"text",modelValue:t.company_name,"onUpdate:modelValue":l[7]||(l[7]=f=>t.company_name=f),name:"ExperienceDetails_company_name[]",required:""},null,8,["modelValue"])]),e("div",pa,[_a,o(i,{type:"text",modelValue:t.location,"onUpdate:modelValue":l[8]||(l[8]=f=>t.location=f),name:"experienceDet_location[]",required:""},null,8,["modelValue"])])]),e("div",ma,[e("div",ua,[fa,o(i,{type:"text",modelValue:t.job_position,"onUpdate:modelValue":l[9]||(l[9]=f=>t.job_position=f),name:"experienceDet_job_position[]",required:""},null,8,["modelValue"])]),e("div",ba,[ga,o(g,{showIcon:"",modelValue:t.period_from,"onUpdate:modelValue":l[10]||(l[10]=f=>t.period_from=f),style:B({height:" 2.3rem",width:"100%",marginRight:"20px"}),name:"experienceDet_period_from[]"},null,8,["modelValue","style"])])]),e("div",va,[e("div",ha,[ya,o(g,{showIcon:"",modelValue:t.period_to,"onUpdate:modelValue":l[11]||(l[11]=f=>t.period_to=f),class:"",style:B({height:" 2.3rem",width:"100%",borderRadius:"2px"}),name:"experienceDet_period_to[]"},null,8,["modelValue","style"])])])])]),_:1},8,["visible"])])]),_:1})]),_:1},8,["value"])])])])])}}},Da={class:"table-responsive"},wa={class:"w-full h-full d-flex justify-content-center"},$a=["src"],ka=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Pa={__name:"documents",setup(Y){const y=j();M();const d=w({}),E=w(!1),a=w(),n=w(!1),u=t=>{d.value={...t},console.log(d.value),console.log(d.value.doc_url),E.value=!0,n.value=!0,N.post("/view-profile-private-file",{user_code:y.employeeDetails.user_code,document_name:d.value.document_name}).then(P=>{console.log(P.data.data),a.value=P.data.data,console.log("data sent",a.value)}).finally(()=>{n.value=!1})};return(t,P)=>{const T=$("Column"),b=$("Button"),I=$("DataTable"),C=$("Dialog"),l=$("ProgressSpinner");return v(),h("div",Da,[o(I,{ref:"dt",dataKey:"id",paginator:!0,rows:10,value:p(y).employeeDetails.employee_documents,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:m(()=>[o(T,{header:"File Name",field:"document_name",style:{"min-width":"8rem"}},{default:m(()=>[x(V(p(y).employeeDetails.employee_documents.document_name),1)]),_:1}),o(T,{field:"status",header:"Status",style:{"min-width":"12rem"}},{default:m(()=>[x(V(p(y).employeeDetails.employee_documents.status),1)]),_:1}),o(T,{field:"reason",header:"Reason ",style:{"min-width":"12rem"}}),o(T,{field:"",header:"View ",style:{"min-width":"12rem"}},{body:m(i=>[o(b,{type:"button",icon:"pi pi-eye",class:"p-button-success Button",label:"View",onClick:g=>u(i.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),n.value==!1?(v(),Q(C,{key:0,visible:E.value,"onUpdate:visible":P[0]||(P[0]=i=>E.value=i),modal:"",header:"Documents",style:{width:"40vw"}},{default:m(()=>[e("div",wa,[d.value.doc_url?(v(),h("img",{key:0,src:`data:image/png;base64,${a.value}`,class:"",alt:"File not found",style:{"object-fit":"cover","max-width":"400px",", min-height":"350px",height:"300px"}},null,8,$a)):A("",!0)])]),_:1},8,["visible"])):A("",!0),o(C,{header:"Header",visible:n.value,"onUpdate:visible":P[1]||(P[1]=i=>n.value=i),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[o(l,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[ka]),_:1},8,["visible"])])}}},Ca=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Va={class:"profile_page-wrapper mt-30 container-fluid"},Sa={class:"row"},Ea={key:0,class:"col-3 col-sm-12 col-md-3 col-lg-3 col-xxl-3 col-xl-3"},La={class:"col-9 col-sm-9 col-md-9 col-lg-9 col-xxl-9 col-xl-9"},Ta=e("div",{class:"mb-2 card top-line"},[e("div",{class:"pt-1 pb-0 card-body"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#employee_details",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Employee Details")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#family_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Family")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#experience_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Experience")]),e("li",{class:"mx-4 nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#finance_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Paycheck")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link",id:"","data-bs-toggle":"pill",href:"","data-bs-target":"#document_det",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," Document")])])])],-1),Na={class:"tab-content",id:"pills-tabContent"},Ua={class:"tab-pane fade active show",id:"employee_details",role:"tabpanel","aria-labelledby":""},Ia={key:0},Fa={class:"tab-pane fade",id:"family_det",role:"tabpanel","aria-labelledby":""},Ra={class:"tab-pane fade",id:"experience_det",role:"tabpanel","aria-labelledby":""},Ba={class:"tab-pane fade",id:"finance_det",role:"tabpanel","aria-labelledby":""},Aa={key:0},Ma={class:"tab-pane fade",id:"document_det",role:"tabpanel","aria-labelledby":""},ja={__name:"profilePageNew",setup(Y){M();let y=j();return O(async()=>{console.log("Loading screen start : "+y.loading_screen),y.fetchEmployeeDetails().then(function(d){console.log("Loading screen end : "+y.loading_screen),console.log("Req done")})}),(d,E)=>{const a=$("Toast"),n=$("ProgressSpinner"),u=$("Dialog");return v(),h(z,null,[o(a),o(u,{header:"Header",visible:p(y).loading_screen,"onUpdate:visible":E[0]||(E[0]=t=>p(y).loading_screen=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:m(()=>[o(n,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:m(()=>[Ca]),_:1},8,["visible"]),e("div",Va,[e("div",Sa,[p(y).loading_screen?A("",!0):(v(),h("div",Ea,[o(Nt)])),e("div",La,[Ta,e("div",Na,[e("div",Ua,[p(y).loading_screen?A("",!0):(v(),h("div",Ia,[o(Pe)]))]),e("div",Fa,[o(ro)]),e("div",Ra,[o(xa)]),e("div",Ba,[p(y).loading_screen?A("",!0):(v(),h("div",Aa,[o(Ms)]))]),e("div",Ma,[o(Pa)])])])])])],64)}}},D=X(ja),qa=de();D.use(Z,{ripple:!0});D.use(ee);D.use(te);D.use(ge);D.use(qa);D.directive("tooltip",re);D.directive("badge",ce);D.directive("ripple",oe);D.directive("styleclass",pe);D.directive("focustrap",se);D.component("Button",ae);D.component("DataTable",_e);D.component("Column",me);D.component("ColumnGroup",ye);D.component("Row",he);D.component("Toast",fe);D.component("ConfirmDialog",be);D.component("Dropdown",le);D.component("InputText",ie);D.component("Dialog",ne);D.component("ProgressSpinner",ve);D.component("Calendar",xe);D.component("Textarea",De);D.component("Chips",we);D.component("MultiSelect",$e);D.component("InputNumber",ue);D.component("ProgressBar",ke);D.mount("#profilePage");
