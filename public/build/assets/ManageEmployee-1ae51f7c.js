import{B as g,K as m,E as V,g as p,o as A,c as L,h as e,w as t,W as y,a0 as M,e as s,j as v,t as b,X as O,G as W,P as J,H as Q,R as G,q as K}from"./toastservice.esm-c719b254.js";import{d as X,c as z}from"./pinia-6d155cf1.js";import{T as q,B as Z,S as ee,b as te,a as oe}from"./styleclass.esm-abc35d43.js";import"./blockui.esm-3f60d243.js";import{u as j,C as ae,F as le,b as se,s as ne,a as ie}from"./inputtext.esm-af9c7539.js";import{s as re}from"./confirmdialog.esm-a2dedb11.js";import{D as de}from"./dialogservice.esm-70a0315e.js";import{s as pe}from"./toast.esm-d0b492e3.js";import{s as ce}from"./progressspinner.esm-bd35d97e.js";import{s as me}from"./progressbar.esm-dc126327.js";import{s as ue}from"./row.esm-6ebc942e.js";import{s as _e}from"./columngroup.esm-9dd1458e.js";import{s as fe}from"./calendar.esm-33ace8dc.js";import{s as ve}from"./textarea.esm-fce136d8.js";import{s as ge}from"./chips.esm-095b14c5.js";import{s as ye}from"./multiselect.esm-a7c442bb.js";import{d as I}from"./dayjs.min-ed58423a.js";import{a as N}from"./index-f7a317fc.js";const R=X("manageEmployees",()=>{const k=g(),f=g(),c=g();async function u(){let r=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+r),await N.get(r).then(i=>{k.value=i.data})}async function S(){let r=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+r),await N.get(r).then(i=>{console.log("Axios : "+i.data),f.value=i.data})}async function x(){let r=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+r),await N.get(r).then(i=>{console.log("Axios : "+i.data),c.value=i.data})}return{array_active_employees:k,yet_to_active_employees_data:f,exit_employees_data:c,getActiveEmployees:u,ajax_yet_to_active_employees_data:S,ajax_exit_employees_data:x}});const he=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),be={__name:"active_employees",setup(k){const f=R();let c=g(!0);const u=g({global:{value:null,matchMode:m.CONTAINS},emp_name:{value:null,matchMode:m.STARTS_WITH,matchMode:m.EQUALS,matchMode:m.CONTAINS},emp_code:{value:null,matchMode:m.STARTS_WITH,matchMode:m.EQUALS,matchMode:m.CONTAINS},status:{value:null,matchMode:m.EQUALS}});V(async()=>{await f.getActiveEmployees(),c.value=!1});function S(x){window.location.href="/pages-profile-new?uid="+x}return(x,r)=>{const i=p("ProgressSpinner"),w=p("Dialog"),T=p("InputText"),_=p("Column"),P=p("ProgressBar"),$=p("Button"),d=p("DataTable");return A(),L("div",null,[e(w,{header:"Header",visible:y(c),"onUpdate:visible":r[0]||(r[0]=o=>M(c)?c.value=o:c=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(i,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[he]),_:1},8,["visible"]),s("div",null,[e(d,{value:y(f).array_active_employees,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:u.value,"onUpdate:filters":r[1]||(r[1]=o=>u.value=o),filterDisplay:"menu",loading:y(c),globalFilterFields:["emp_name","emp_code","status"]},{empty:t(()=>[v(" No customers found.")]),loading:t(()=>[v(" Loading customers data. Please wait. ")]),default:t(()=>[e(_,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:t(o=>[v(b(o.data.emp_name),1)]),filter:t(({filterModel:o,filterCallback:C})=>[e(T,{modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,onInput:a=>C(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(_,{field:"emp_code",header:"Employee Code"},{filter:t(({filterModel:o,filterCallback:C})=>[e(T,{modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,onInput:a=>C(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(_,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(_,{field:"l1_manager_name",header:"Reporting Manager"}),e(_,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:t(o=>[v(b(y(I)(o.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(_,{field:"blood_group_name",header:"Blood Group"}),e(_,{field:"profile_completeness",header:"Profile Completeness"},{body:t(o=>[e(P,{value:o.data.profile_completeness},null,8,["value"])]),_:1}),e(_,{field:"enc_user_id",header:"View Profile"},{body:t(o=>[e($,{icon:"pi pi-eye",severity:"success",label:"View",onClick:C=>S(o.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const we=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),Pe={class:"confirmation-content"},Se=s("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),xe={key:0},Ce={key:1},Te={__name:"yet_to_active_employees",setup(k){const f=R();V(()=>{f.ajax_yet_to_active_employees_data()}),g();let c=g(!1),u=g(!1);j();const S=O();function x(d){window.location.href="/pages-profile-new?uid="+d}const r=g({global:{value:null,matchMode:m.CONTAINS},employee_name:{value:null,matchMode:m.STARTS_WITH,matchMode:m.EQUALS,matchMode:m.CONTAINS},status:{value:null,matchMode:m.EQUALS}});g(["Pending","Approved","Rejected"]);let i=null,w=null;function T(d,o){d.emp_code,d.emp_status,console.log(R.emp_status),console.log(d.emp_status),c.value=!0,i=o,w=d,console.log("Selected Row Data : "+JSON.stringify(d))}function _(d){c.value=!1,d&&P()}function P(){i="",w=null}function $(){_(!1),u.value=!0,console.log("Processing Rowdata : "+JSON.stringify(w)),N.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:w.emp_code,active_status:1}).then(d=>{console.log("Response : "+d),S.add({severity:"success",summary:"Activated",detail:`${w.emp_name} Activated Successfully`,life:3e3}),P()}).catch(d=>{u.value=!1,P()}).finally(()=>{f.ajax_yet_to_active_employees_data(),f.getActiveEmployees(),u.value=!1})}return(d,o)=>{const C=p("Toast"),a=p("ProgressSpinner"),E=p("Dialog"),D=p("Button"),Y=p("InputText"),h=p("Column"),F=p("ProgressBar"),H=p("DataTable");return A(),L("div",null,[e(C),e(E,{header:"Header",visible:y(u),"onUpdate:visible":o[0]||(o[0]=l=>M(u)?u.value=l:u=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(a,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[we]),_:1},8,["visible"]),e(E,{header:"Confirmation",visible:y(c),"onUpdate:visible":o[3]||(o[3]=l=>M(c)?c.value=l:c=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:t(()=>[e(D,{label:"Yes",icon:"pi pi-check",onClick:o[1]||(o[1]=l=>$()),class:"p-button-text",autofocus:""}),e(D,{label:"No",icon:"pi pi-times",onClick:o[2]||(o[2]=l=>_(!0)),class:"p-button-text"})]),default:t(()=>[s("div",Pe,[Se,s("span",null,"Are you sure you want to "+b(y(i))+"?",1)])]),_:1},8,["visible"]),s("div",null,[e(H,{value:y(f).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:r.value,"onUpdate:filters":o[4]||(o[4]=l=>r.value=l),filterDisplay:"menu",loading:d.loading2,globalFilterFields:["name","status"]},{empty:t(()=>[v(" No customers found. ")]),loading:t(()=>[v(" Loading customers data. Please wait. ")]),default:t(()=>[e(h,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:t(l=>[v(b(l.data.emp_name),1)]),filter:t(({filterModel:l,filterCallback:U})=>[e(Y,{modelValue:l.value,"onUpdate:modelValue":B=>l.value=B,onInput:B=>U(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(h,{field:"emp_code",header:"Employee Code",sortable:!0}),e(h,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(h,{field:"l1_manager_name",header:"Reporting Manager"}),e(h,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:t(l=>[v(b(y(I)(l.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(h,{field:"blood_group_id",header:"Blood Group"}),e(h,{field:"profile_completeness",header:"Profile Completeness"},{body:t(l=>[e(F,{value:l.data.profile_completeness},null,8,["value"])]),_:1}),e(h,{field:"is_onboarded",header:"Onboarding Status"},{body:t(l=>[v(b(l.data.is_onboarded?"Done":"Not Done"),1)]),_:1}),e(h,{field:"doc_status",header:"Docs Approval Status"},{body:t(l=>[v(b(l.data.is_onboarded?l.data.doc_status?"Done":"Not Done":"NA"),1)]),_:1}),e(h,{field:"enc_user_id",header:"View Profile"},{body:t(l=>[e(D,{icon:"pi pi-eye",severity:"success",label:"View",onClick:U=>x(l.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1}),e(h,{style:{width:"300px"},field:"",header:"Action"},{body:t(l=>[l.data.is_onboarded&&l.data.doc_status?(A(),L("div",xe,[e(D,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:U=>T(l.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(A(),L("div",Ce))]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const De=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),ke=s("h5",{style:{"text-align":"center"}},"Please wait...",-1),Ae={class:"confirmation-content"},Le=s("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),$e={__name:"exit_employees",setup(k){const f=R();V(()=>{f.ajax_exit_employees_data()}),g();let c=g(!1),u=g(!1);j(),O();const S=g({global:{value:null,matchMode:m.CONTAINS},employee_name:{value:null,matchMode:m.STARTS_WITH,matchMode:m.EQUALS,matchMode:m.CONTAINS},status:{value:null,matchMode:m.EQUALS}});function x(r){window.location.href="/pages-profile-new?uid="+r}return(r,i)=>{const w=p("Toast"),T=p("ProgressSpinner"),_=p("Dialog"),P=p("Button"),$=p("InputText"),d=p("Column"),o=p("ProgressBar"),C=p("DataTable");return A(),L("div",null,[e(w),e(_,{header:"Header",visible:r.loading,"onUpdate:visible":i[0]||(i[0]=a=>r.loading=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(T,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[De]),_:1},8,["visible"]),e(_,{header:"Header",visible:y(u),"onUpdate:visible":i[1]||(i[1]=a=>M(u)?u.value=a:u=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:t(()=>[e(T,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:t(()=>[ke]),_:1},8,["visible"]),e(_,{header:"Confirmation",visible:y(c),"onUpdate:visible":i[4]||(i[4]=a=>M(c)?c.value=a:c=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:t(()=>[e(P,{label:"Yes",icon:"pi pi-check",onClick:i[2]||(i[2]=a=>r.processApproveReject()),class:"p-button-text",autofocus:""}),e(P,{label:"No",icon:"pi pi-times",onClick:i[3]||(i[3]=a=>r.hideConfirmDialog(!0)),class:"p-button-text"})]),default:t(()=>[s("div",Ae,[Le,s("span",null,"Are you sure you want to "+b(r.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),s("div",null,[e(C,{value:y(f).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:S.value,"onUpdate:filters":i[5]||(i[5]=a=>S.value=a),filterDisplay:"menu",loading:r.loading2,globalFilterFields:["name","status"]},{empty:t(()=>[v(" No customers found. ")]),loading:t(()=>[v(" Loading customers data. Please wait. ")]),default:t(()=>[e(d,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:t(a=>[v(b(a.data.emp_name),1)]),filter:t(({filterModel:a,filterCallback:E})=>[e($,{modelValue:a.value,"onUpdate:modelValue":D=>a.value=D,onInput:D=>E(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),e(d,{field:"emp_code",header:"Employee Code",sortable:!0}),e(d,{field:"emp_designation",header:"Designation",style:{"min-width":"15rem"}}),e(d,{field:"l1_manager_name",header:"Reporting Manager"}),e(d,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:t(a=>[v(b(y(I)(a.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),e(d,{field:"blood_group_id",header:"Blood Group"}),e(d,{field:"profile_completeness",header:"Profile Completeness"},{body:t(a=>[e(o,{value:a.data.profile_completeness},null,8,["value"])]),_:1}),e(d,{field:"enc_user_id",header:"View Profile"},{body:t(a=>[e(P,{icon:"pi pi-eye",severity:"success",label:"View",onClick:E=>x(a.data.enc_user_id),class:"btn btn-orange",style:{height:"2em"},raised:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}};const Ee={class:"manage_employee-wrapper mt-30"},Me=s("div",{class:"mb-2 card left-line"},[s("div",{class:"pt-1 pb-0 card-body"},[s("ul",{class:"nav nav-pills nav-tabs-dashed",role:"tablist"},[s("li",{class:"nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#active_employees","aria-selected":"true",role:"tab"}," Active Employees ")]),s("li",{class:"mx-4 nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#not_active_employees","aria-selected":"true",role:"tab"}," Yet To Active Employees ")]),s("li",{class:"nav-item text-muted",role:"presentation"},[s("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#exit_employees","aria-selected":"true",role:"tab"}," Exit Employee ")])])])],-1),Ne={class:"card"},Re={class:"card-body"},Ue={class:"tab-content",id:"pills-tabContent"},Ve={class:"tab-pane show fade active",id:"active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ie={class:"tab-pane fade",id:"not_active_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Be={class:"tab-pane fade",id:"exit_employees",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Oe={__name:"ManageEmployee",setup(k){return(f,c)=>(A(),L("div",Ee,[Me,s("div",Ne,[s("div",Re,[s("div",Ue,[s("div",Ve,[e(be)]),s("div",Ie,[e(Te)]),s("div",Be,[e($e)])])])])]))}},n=W(Oe),je=z();n.use(J,{ripple:!0});n.use(ae);n.use(Q);n.use(de);n.use(je);n.directive("tooltip",q);n.directive("badge",Z);n.directive("ripple",G);n.directive("styleclass",ee);n.directive("focustrap",le);n.component("Button",K);n.component("DataTable",te);n.component("Column",oe);n.component("ColumnGroup",_e);n.component("Row",ue);n.component("Toast",pe);n.component("ConfirmDialog",re);n.component("Dropdown",se);n.component("InputText",ne);n.component("Dialog",ie);n.component("ProgressSpinner",ce);n.component("Calendar",fe);n.component("Textarea",ve);n.component("Chips",ge);n.component("MultiSelect",ye);n.component("ProgressBar",me);n.mount("#vjs_manage_employee");
