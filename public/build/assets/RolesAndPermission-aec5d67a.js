/* empty css                  *//* empty css              *//* empty css                     *//* empty css                   */import{$ as c,g as h,I as g,o as f,c as _,d as e,h as s,a as C,a0 as V,w as m,t as y,l as A,F as D,f as U,K as L,P as E,L as B,u as I,M as j,R as F,S as M,x as G,y as K,N as O,_ as Y,Q as z,W as H,Y as Q,V as W,X}from"./toastservice.esm-92ad56cd.js";import{d as q,c as J}from"./pinia-3d3134b2.js";import{a as Z}from"./datatable.esm-74e111f4.js";import{D as ee,s as oe}from"./dialogservice.esm-9beb1b3a.js";import{C as se}from"./confirmationservice.esm-ec960ba4.js";import{s as te}from"./progressspinner.esm-2194ecb8.js";import{s as le}from"./row.esm-6ebc942e.js";import"./fileupload.esm-8fad472a.js";import{s as ne}from"./calendar.esm-739bee14.js";import{s as ae}from"./textarea.esm-cf592be0.js";import{s as ie}from"./chips.esm-2894be51.js";import{s as re}from"./overlaypanel.esm-d22030a9.js";import{s as ce}from"./accordion.esm-dcaba2d2.js";import{s as de}from"./accordiontab.esm-373af089.js";import{s as pe,a as me,b as ue}from"./treetable.esm-05dc40a6.js";import{s as ve}from"./multiselect.esm-d9a3d0f4.js";import{a as $}from"./index-0d903406.js";import"./progressbar.esm-e3475cc2.js";import"./badge.esm-4e4d6d7f.js";const x=q("UseRolePermissionStore",()=>{const R=c(1),a=c();c();const i=c();async function d(){await $.get("http://localhost:3000/useRolesAndPermission").then(u=>{i.value=u.data})}async function p(){$.get("/getRoleDetails").then(u=>{a.value=u.data,console.log(a.value)})}async function r(u,w){console.log(u,w);let l="/removeRoleToUsers";await $.post(l,{roles_name:u,user_id:w}).then(t=>{})}return{rolesPermission:R,arrayRoleDetails:a,AdminPrivilege:i,getRoleDetails:p,removeRoleDetails:r,getAdminRolesDetails:d}}),fe={key:0,class:"mt-30"},_e=e("div",null,null,-1),he=e("h1",{class:"fs-3 fw-semibold mb-2"},"Create New Role",-1),ge=e("p",{class:"fs-6 fw-semibold mb-2"},"Here you can Create role and set permission to them.",-1),we={class:"card shadow-sm"},be={class:"row my-3 px-2"},Re={class:"col-12"},ye={class:"row"},$e=e("div",{class:"col-3"},[e("label",{for:"",class:"mx-4 fw-semibold"},"Name of the Role")],-1),Ce={class:"col-9"},Pe={class:"col-12"},Se={class:"row"},Ae=e("div",{class:"col-3"},[e("label",{for:"",class:"mx-4 fw-semibold"},"Description of the Role")],-1),De={class:"col-9"},xe={class:"col-12"},ke={class:"row"},Ne=e("div",{class:"col-3"},[e("label",{for:"",class:"mx-4 fw-semibold"},"Category Name")],-1),Te={class:"col-9"},Ve={__name:"CreateNewRole",setup(R){const a=x();return(i,d)=>{const p=h("InputText");return g(a).rolesPermission==2?(f(),_("div",fe,[_e,he,ge,e("div",we,[e("div",be,[e("div",Re,[e("div",ye,[$e,e("div",Ce,[s(p,{type:"text",class:"h-10 w-6",modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=r=>i.value=r),placeholder:"Enter Name of the Role"},null,8,["modelValue"])])])]),e("div",Pe,[e("div",Se,[Ae,e("div",De,[s(p,{type:"text",class:"h-10 w-6",modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=r=>i.value=r),placeholder:"Give Description of the Role"},null,8,["modelValue"])])])]),e("div",xe,[e("div",ke,[Ne,e("div",Te,[s(p,{type:"text",class:"h-10 w-6",modelValue:i.value,"onUpdate:modelValue":d[2]||(d[2]=r=>i.value=r),placeholder:"Enter Name of the Sub Category"},null,8,["modelValue"])])])])])])])):C("",!0)}}};const Ue={key:0},Le={class:"w-full mt-30"},Ee=e("div",{class:""},[e("h1",{class:"fs-2 fw-semibold my-3"},"User Roles"),e("p",{class:"mb-3 fs-5"},"New roles can be Created and privileges for all these roles can be managed from this section")],-1),Be={class:"card bg-blue-200 h-20 border-none p-4"},Ie={class:"d-flex justify-content-between align-items-center"},je=e("div",{class:"w-80"},[e("h1",{class:"fs-4 text-blue-900 fw-semibold"},"Created")],-1),Fe={class:""},Me=e("i",{class:"pi pi-plus fw-semibold"},null,-1),Ge=e("span",{class:"fw-semibold"}," New Category",-1),Ke=[Me,Ge],Oe={class:"confirmation-content"},Ye=e("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),ze={class:"card shadow-md mt-4"},He=e("button",{class:"text-blue-800"},[e("i",{class:"pi pi-pencil"})],-1),Qe=["onClick"],We=e("i",{class:"pi pi-trash"},null,-1),Xe=[We],qe={key:1},Je={__name:"RolesAndPermission",setup(R){c(1);const a=x();c(!1),c();const i=c(),d=c([]);c([]);const p=c(),r=c(!1);V(()=>{a.getRoleDetails(),a.getAdminRolesDetails()});function u(l){r.value=!0,i.value=l,console.log(i.value)}function w(){r.value=!1}return(l,t)=>{const P=h("Button"),k=h("Dialog"),v=h("Column"),S=h("DataTable");return f(),_(D,null,[g(a).rolesPermission==1?(f(),_("div",Ue,[e("div",Le,[Ee,e("div",Be,[e("div",Ie,[je,e("div",Fe,[e("button",{class:"bg-white text-blue-900 px-3 py-2 rounded shadow-md fw-semibold",onClick:t[0]||(t[0]=n=>g(a).rolesPermission=2)},Ke)])])]),s(k,{header:"Confirmation",visible:r.value,"onUpdate:visible":t[3]||(t[3]=n=>r.value=n),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:m(()=>[s(P,{label:"Yes",icon:"pi pi-check",onClick:t[1]||(t[1]=n=>l.empDetailsDocumentApproveReject()),class:"p-button-text",autofocus:""}),s(P,{label:"No",icon:"pi pi-times",onClick:t[2]||(t[2]=n=>w(!0)),class:"p-button-text"})]),default:m(()=>[e("div",Oe,[Ye,e("span",null,"Are you sure you want to "+y(l.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),e("div",ze,[s(S,{value:g(a).AdminPrivilege,paginator:!0,rows:10,class:"",dataKey:"roles_id",onRowExpand:l.onRowExpand,onRowCollapse:l.onRowCollapse,expandedRows:d.value,"onUpdate:expandedRows":t[5]||(t[5]=n=>d.value=n),selection:p.value,"onUpdate:selection":t[6]||(t[6]=n=>p.value=n),selectAll:l.selectAll,onSelectAllChange:l.onSelectAllChange,onRowSelect:l.onRowSelect,onRowUnselect:l.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{empty:m(()=>[A(" No Employee Details documents for the selected status filter ")]),expansion:m(n=>[e("div",null,[s(S,{value:n.data.accordian,responsiveLayout:"scroll",selection:p.value,"onUpdate:selection":t[4]||(t[4]=b=>p.value=b),selectAll:l.selectAll,onSelectAllChange:l.onSelectAllChange},{default:m(()=>[s(v,{field:"Sub_Category_Name",header:"Sub_Category_Name",style:{width:"10rem"}},{default:m(()=>[A(y(n.data.user_code),1)]),_:2},1024),s(v,{header:"Privilege Name"},{body:m(({data:b})=>[(f(!0),_(D,null,U(b.Privilege,(N,T)=>(f(),_("div",{key:T,class:"border-black p-2 d-flex justify-content-start"},y(N.Privilege_name),1))),128))]),_:1})]),_:2},1032,["value","selection","selectAll","onSelectAllChange"])])]),default:m(()=>[s(v,{expander:!0}),s(v,{field:"role",header:"Roles",sortable:""}),s(v,{field:"assigned_privileged",header:"Assigned Privileges",sortable:!1}),s(v,{field:"assigned_emp",header:"Assigned Employees",sortable:!1}),s(v,{field:"",header:"Action"},{body:m(n=>[He,e("button",{class:"text-blue-800 mx-4",onClick:b=>u(n.data)},Xe,8,Qe)]),_:1})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])])])])):C("",!0),g(a).rolesPermission==2?(f(),_("div",qe,[s(Ve)])):C("",!0)],64)}}},o=L(Je),Ze=J();o.use(E,{ripple:!0});o.use(se);o.use(B);o.use(ee);o.use(Ze);o.directive("tooltip",I);o.directive("badge",j);o.directive("ripple",F);o.directive("styleclass",M);o.directive("focustrap",G);o.component("Button",K);o.component("DataTable",Z);o.component("Column",O);o.component("ColumnGroup",oe);o.component("Row",le);o.component("Toast",Y);o.component("OverlayPanel",re);o.component("ConfirmDialog",z);o.component("Dropdown",H);o.component("InputText",Q);o.component("Dialog",W);o.component("ProgressSpinner",te);o.component("Calendar",ne);o.component("Textarea",ae);o.component("Chips",ie);o.component("InputNumber",X);o.component("Accordion",ce);o.component("AccordionTab",de);o.component("Tree",pe);o.component("Skeleton",me);o.component("MultiSelect",ve);o.component("TreeTable",ue);o.mount("#SuperAdminRolesPermission");
