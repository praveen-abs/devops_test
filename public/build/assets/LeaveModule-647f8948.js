/* empty css              */import{o as _,c as v,d as e,h as t,F as M,f as O,t as i,ai as o,I as m,ae as D,aj as U,g as h,w as s,l as b,n as T,p as F,a as N,J as j,P as I,K as H,u as Q,L as q,R as K,S as W,x as z,y as G,M as J,Y as X,N as Z,V as ee,X as te,Q as ae}from"./toastservice.esm-976801d7.js";import{c as oe}from"./pinia-e21f953a.js";import"./blockui.esm-359b826a.js";import{a as le}from"./datatable.esm-76ca6aee.js";import{D as se,s as ne}from"./dialogservice.esm-b7ca1219.js";import{C as de}from"./confirmationservice.esm-d441a504.js";import{s as ie}from"./progressspinner.esm-9425ee14.js";import{s as re}from"./row.esm-6ebc942e.js";import{s as ce}from"./calendar.esm-ed57a521.js";import{s as pe}from"./checkbox.esm-30856a20.js";import{s as me}from"./chips.esm-927197f6.js";import{s as ue}from"./multiselect.esm-e3797c73.js";import{s as _e}from"./textarea.esm-19a971d9.js";import{s as ve}from"./overlaypanel.esm-ccf7c665.js";import{S as he}from"./Service-5278d847.js";import"./moment-fbc5633a.js";import{u as P,_ as ge}from"./leave_apply_v2-0da96945.js";import{_ as ye}from"./LeaveApply-029d929e.js";import{d as y}from"./dayjs.min-2f06af28.js";import"./index-362795f3.js";import"./leave_apply_service-33296e09.js";/* empty css                                                   */import"./index.esm-6cb1251d.js";const fe={class:"mb-3 card"},be={class:"card-body"},xe={class:"mb-2 row"},we=e("div",{class:"col-sm-6 col-xl-6 col-md-6 col-lg-6"},[e("h6",{class:"text-lg font-semibold text-gray-900 modal-title"},"Leave Balance")],-1),De={class:"col-6 justify-content-end d-flex"},Le={class:"grid gap-4 md:grid-cols-3 sm:grid-cols-1 xxl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-4",style:{display:"grid"}},$e={class:"text-lg font-semibold text-center"},Se={class:"my-3 text-xl font-bold text-center"},Ce={key:0},Re={key:1},ke={class:"card"},Te={class:"card-body"},Ae=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Leave Availed",-1),Me={class:"grid gap-4 md:grid-cols-3 sm:grid-cols-1 xxl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-4",style:{display:"grid"}},Ve={class:"text-center"},Ye={class:"mb-2 text-base font-semibold"},Pe={class:"mb-0 text-base font-semibold"},Ee={__name:"EmployeeLeaveBalance",setup(E){const l=P();return(x,w)=>(_(),v(M,null,[e("div",fe,[e("div",be,[e("div",xe,[we,e("div",De,[t(ye)])]),e("div",Le,[(_(!0),v(M,null,O(o(l).array_employeeLeaveBalance,u=>(_(),v("div",{key:u,class:"p-1 my-4 rounded-lg shadow-md tw-card dynamic-card hover:bg-slate-100"},[e("p",$e,i(u.leave_type),1),e("p",Se,[u.leave_balance==""?(_(),v("span",Ce,"0")):(_(),v("span",Re,i(u.leave_balance),1))])]))),128))])])]),e("div",ke,[e("div",Te,[Ae,e("div",Me,[(_(!0),v(M,null,O(o(l).array_employeeLeaveBalance,u=>(_(),v("div",{class:"bg-indigo-100 border-l-4 border-indigo-300 p-3 rounded-lg tw-card dynamic-card",key:u},[e("div",Ve,[e("p",Ye,i(u.leave_type),1),e("h6",Pe,i(u.avalied_leaves),1)])]))),128))])])])],64))}},Ue={class:"mt-3 row"},Be={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},Oe={class:"mb-0 card leave-history"},Ne={class:"card-body"},Fe=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"}," Leave history ",-1),je={class:"d-flex justify-content-end mb-2"},Ie=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),He={class:"table-responsive"},Qe={key:0},qe={key:1},Ke={key:1},We={class:"w-full"},ze={class:"w-full"},Ge={class:"border w-full mt-5"},Je={class:"p-3 pl-5 d-flex align-items-center border"},Xe={class:"rounded-circle shadow-sm d-flex justify-content-center align-items-center bg-yellow-100",style:{width:"80px",height:"80px"}},Ze={class:"fs-5 fw-bold"},et={class:"ml-5"},tt={class:"fs-5 fw-bold mb-2"},at={class:"fs-6 text-neutral-400"},ot={class:"border w-full d-flex py-4 px-4"},lt={class:"mx-2 p-1 rounded-lg"},st={class:"text-center py-1 px-2 text-light rounded-top fw-bold",style:{"background-color":"navy"}},nt={class:"text-center py-1 px-2 fs-5 fw-bold"},dt={class:"text-center py-1 px-2 fs-6 fw-bold"},it={class:"py-3"},rt={class:"fs- font-semibold text-primary-800"},ct={class:"font-semibold fs-6"},pt={class:"border w-full py-4 px-4"},mt=e("h1",{class:"fs-5 fw-bold"},"Notified To:",-1),ut={class:"card px-3 py-2 d-flex mt-3",style:{"min-width":"250px","max-width":"300px",display:"flex"}},_t={class:"d-flex p-2 align-items-center"},vt={class:"rounded-circle bg-blue-100 d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px"}},ht={class:"flex-column px-3"},gt={class:"fs-6 fw-bold"},yt={class:"py-2 text-neutral-400"},ft={class:"border w-full py-4 px-4"},bt=e("h1",{class:"fs-5 fw-bold"},"Approved by",-1),xt={class:"card px-3 py-2 d-flex mt-3",style:{"min-width":"180px","max-width":"300px",display:"flex"}},wt={class:"d-flex p-2 align-items-center"},Dt=e("div",{class:"rounded-circle bg-green-400 d-flex justify-content-center align-items-center",style:{width:"40px",height:"40px"}},[e("i",{class:"pi pi-check text-light"})],-1),Lt={class:"flex-column px-3"},$t={class:"fs-6 fw-bold"},St={class:"py-2 text-neutral-400"},Ct={class:"my-4 mx-3"},Rt={__name:"EmployeeLeaveDetails",setup(E){const l=P(),x=m(!0),w=m(),u=m(),L=C=>{w.value.toggle(C)},S=m({global:{value:null,matchMode:D.CONTAINS},employee_name:{value:null,matchMode:D.STARTS_WITH,matchMode:D.EQUALS,matchMode:D.CONTAINS},status:{value:null,matchMode:D.EQUALS}}),p=m(["Pending","Approved","Rejected"]);U(async()=>{console.log(u.v),await l.getEmployeeLeaveHistory(y().month()+1,y().year(),["Approved","Pending","Rejected"]),x.value=!1});function n(){l.canShowLeaveDetails=!1}return(C,d)=>{const k=h("Calendar"),A=h("Button"),$=h("Column"),V=h("OverlayPanel"),Y=h("Dropdown"),a=h("DataTable"),f=h("Textarea"),r=h("Dialog");return _(),v(M,null,[t(Ee),e("div",Ue,[e("div",Be,[e("div",Oe,[e("div",Ne,[Fe,e("div",je,[Ie,t(k,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=g=>u.value=g),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),t(A,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:d[1]||(d[1]=g=>o(l).getEmployeeLeaveHistory(u.value.getMonth()+1,u.value.getFullYear(),p.value))})]),e("div",He,[t(a,{value:o(l).array_employeeLeaveHistory,loading:x.value,paginator:!0,rows:5,dataKey:"id",rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",filters:S.value,"onUpdate:filters":d[2]||(d[2]=g=>S.value=g),filterDisplay:"menu",globalFilterFields:["name","status"]},{empty:s(()=>[b(" No Employee data..... ")]),loading:s(()=>[b(" Loading customers data. Please wait. ")]),default:s(()=>[t($,{field:"leave_type",header:"Leave Type",style:{"min-width":"8rem"}}),t($,{field:"start_date",header:"Start Date",style:{"min-width":"8rem"}},{body:s(g=>[b(i(o(y)(g.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),t($,{field:"end_date",header:"End Date",dataType:"date",style:{"min-width":"8rem"}},{body:s(g=>[b(i(o(y)(g.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),t($,{field:"leave_reason",header:"Leave Reason",style:{"min-width":"12rem"}},{body:s(g=>[g.data.leave_reason&&g.data.leave_reason.length>70?(_(),v("div",Qe,[e("p",{onClick:L,class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),t(V,{ref_key:"overlayPanel",ref:w,style:{height:"80px"}},{default:s(()=>[b(i(g.data.leave_reason),1)]),_:2},1536)])):(_(),v("div",qe,i(g.data.leave_reason??""),1))]),_:1}),t($,{field:"reviewer_name",header:"Approver Name"}),t($,{field:"reviewer_comments",header:"Approver Comments"}),t($,{field:"status",header:"Status",icon:"pi pi-check"},{body:s(({data:g})=>[e("span",{class:T("customer-badge status-"+g.status)},i(g.status),3)]),filter:s(({filterModel:g,filterCallback:B})=>[t(Y,{modelValue:g.value,"onUpdate:modelValue":R=>g.value=R,onChange:R=>B(),options:p.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:s(R=>[R.value?(_(),v("span",{key:0,class:T("customer-badge status-"+R.value)},i(R.value),3)):(_(),v("span",Ke,i(R.placeholder),1))]),option:s(R=>[e("span",{class:T("customer-badge status-"+R.option)},i(R.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),t($,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:s(g=>[t(A,{type:"button",icon:"",class:"text-white Button py-2.5",label:"View",onClick:B=>o(l).getLeaveDetails(g.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading","filters"])])])])])]),t(r,{header:"Header",visible:o(l).canShowLeaveDetails,"onUpdate:visible":d[3]||(d[3]=g=>o(l).canShowLeaveDetails=g),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw",borderTop:"5px solid #002f56"},modal:!0,closable:!0,closeOnEscape:!0},{header:s(()=>[e("div",We,[e("h5",{style:F({color:"var(--color-blue)",borderLeft:"3px solid var(--light-orange-color",paddingLeft:"6px"}),class:"fs-5 fw-bold"}," Leave Details Request",4)])]),default:s(()=>[e("div",ze,[e("div",Ge,[e("div",Je,[e("div",Xe,[e("h1",Ze,i(o(l).setLeaveDetails.user_short_name),1)]),e("div",et,[e("h1",tt,i(o(l).setLeaveDetails.name),1),e("div",null,[e("p",at,"Requested on "+i(o(l).setLeaveDetails.leaverequest_date),1)])])]),e("div",ot,[e("div",lt,[e("h1",st,i(o(y)(o(l).setLeaveDetails.end_date).format("MMM")),1),e("h1",nt,i(o(y)(o(l).setLeaveDetails.end_date).format("DD")),1),e("h1",dt,i(o(y)(o(l).setLeaveDetails.end_date).format("dddd")),1)]),e("div",it,[e("h1",rt,[b(i(o(l).setLeaveDetails.total_leave_datetime)+" Day of "+i(o(l).setLeaveDetails.leave_type)+" ",1),e("span",ct,"("+i(o(l).setLeaveDetails.leave_reason)+")",1)])])]),e("div",pt,[mt,e("div",ut,[e("div",_t,[e("div",vt,i(o(l).setLeaveDetails.reviewer_short_name),1),e("div",ht,[e("h1",gt,i(o(l).setLeaveDetails.reviewer_name),1),e("h1",yt,i(o(l).setLeaveDetails.reviewer_designation),1)])])])]),e("div",ft,[bt,e("div",xt,[e("div",wt,[Dt,e("div",Lt,[e("h1",$t,i(o(l).setLeaveDetails.reviewer_name),1),e("h1",St," on "+i(o(y)(o(l).setLeaveDetails.leaverequest_date).format("DD-MMM-YYYY hh:mm:ss A")),1)])])])]),e("div",Ct,[t(f,{name:"",id:"",cols:"90",rows:"5",autoResize:"",placeholder:"Add Comment"})])])]),e("div",{class:"text-end mx-4 my-4"},[e("button",{class:"btn btn-orange px-5",onClick:n},"Post")])]),_:1},8,["visible"])],64)}}},kt={class:"card top-line"},Tt={class:"card-body"},At={class:"row"},Mt={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12 d-flex justify-content-between align-content-center"},Vt=e("h6",{class:"h-7 mt-3 text-lg font-semibold text-gray-900 modal-title"},"Org Leave Balance",-1),Yt={class:"my-2 d-flex justify-content-between align-items-center"},Pt=e("div",null,null,-1),Et={class:"d-flex"},Ut={class:""},Bt=e("label",{for:" ",class:"text-blue-900 mx-2"},"Start Date",-1),Ot={class:""},Nt=e("label",{for:" ",class:"text-blue-900 mx-2"},"End Date",-1),Ft={class:"mt-3 row"},jt={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},It={class:"mb-0 card leave-history"},Ht={class:"card-body"},Qt=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Org Leave history",-1),qt={class:"table-responsive"},Kt={class:"d-flex justify-content-end"},Wt=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),zt={key:0},Gt={key:1},Jt={key:1},Xt={__name:"OrgLeaveDetails",setup(E){const l=P();m(),m(),m(!0);const x=m(),w=m([]),u=m();m();const L=m({employee_name:{value:null,matchMode:D.STARTS_WITH,matchMode:D.EQUALS,matchMode:D.CONTAINS},status:{value:null,matchMode:D.EQUALS}}),S=m(["Pending","Approved","Rejected"]);return U(async()=>{await l.getOrgLeaveBalance(),await l.getAllEmployeesLeaveHistory(y().month()+1,y().year(),["Approved","Pending","Rejected"]),console.log("Org Leave details : "+l.array_orgLeaveHistory)}),(p,n)=>{const C=h("Calendar"),d=h("Column"),k=h("DataTable"),A=h("Button"),$=h("InputText"),V=h("OverlayPanel"),Y=h("Dropdown");return _(),v(M,null,[e("div",kt,[e("div",Tt,[e("div",At,[e("div",Mt,[Vt,e("div",Yt,[Pt,e("div",Et,[e("div",Ut,[Bt,t(C,{modelValue:o(l).selectedStartDate,"onUpdate:modelValue":n[0]||(n[0]=a=>o(l).selectedStartDate=a),dateFormat:"dd-mm-yy",class:"p-l3",style:{border:"1px solid orange","border-radius":"7px",height:"38px",width:"100px"},maxDate:new Date},null,8,["modelValue","maxDate"])]),e("div",Ot,[Nt,t(C,{class:"mr-3",modelValue:o(l).selectedEndDate,"onUpdate:modelValue":n[1]||(n[1]=a=>o(l).selectedEndDate=a),dateFormat:"dd-mm-yy",style:{border:"1px solid orange","border-radius":"7px",height:"38px",width:"100px"},maxDate:new Date},null,8,["modelValue","maxDate"])]),e("button",{class:"btn-orange py-1 px-4 rounded",onClick:n[2]||(n[2]=a=>o(l).getOrgLeaveBalance(o(y)(o(l).selectedStartDate).format("YYYY-MM-DD"),o(y)(o(l).selectedEndDate).format("YYYY-MM-DD")))},"submit")])])]),e("div",null,[t(k,{value:o(l).array_orgLeaveBalance,paginator:!0,rows:10,class:"",dataKey:"user_code",onRowExpand:p.onRowExpand,onRowCollapse:p.onRowCollapse,expandedRows:w.value,"onUpdate:expandedRows":n[4]||(n[4]=a=>w.value=a),selection:u.value,"onUpdate:selection":n[5]||(n[5]=a=>u.value=a),selectAll:p.selectAll,onSelectAllChange:p.onSelectAllChange,onRowSelect:p.onRowSelect,onRowUnselect:p.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{expansion:s(a=>[e("div",null,[t(k,{value:a.data.leave_balance_details,responsiveLayout:"scroll",selection:u.value,"onUpdate:selection":n[3]||(n[3]=f=>u.value=f),selectAll:p.selectAll,onSelectAllChange:p.onSelectAllChange},{default:s(()=>[t(d,{field:"leave_type",header:"Leave Type"},{default:s(()=>[b(i(a.data.leave_type),1)]),_:2},1024),t(d,{field:"opening_balance",header:"Opening Balance"}),t(d,{field:"avalied",header:"Avalied"}),t(d,{field:"closing_balance",header:"Closing Balance"})]),_:2},1032,["value","selection","selectAll","onSelectAllChange"])])]),default:s(()=>[t(d,{expander:!0}),t(d,{field:"user_code",header:"Employee Id",sortable:""}),t(d,{field:"name",header:"Employee Name"}),t(d,{field:"location",header:"Location",sortable:!1}),t(d,{field:"department",header:"Department"}),t(d,{field:"total_leave_balance",header:"Total Leave Balance"})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])])])])]),e("div",Ft,[e("div",jt,[e("div",It,[e("div",Ht,[Qt,e("div",qt,[e("div",Kt,[Wt,t(C,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:x.value,"onUpdate:modelValue":n[6]||(n[6]=a=>x.value=a),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),t(A,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:n[7]||(n[7]=a=>o(l).getAllEmployeesLeaveHistory(x.value.getMonth()+1,x.value.getFullYear(),S.value))})]),t(k,{value:o(l).array_orgLeaveHistory,responsiveLayout:"scroll",paginator:!0,rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,filters:L.value,"onUpdate:filters":n[9]||(n[9]=a=>L.value=a),filterDisplay:"menu",globalFilterFields:["name"],style:{"white-space":"nowrap"}},{empty:s(()=>[b(" No Employee data..... ")]),default:s(()=>[t(d,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:s(a=>[b(i(a.data.employee_name),1)]),filter:s(({filterModel:a,filterCallback:f})=>[t($,{modelValue:a.value,"onUpdate:modelValue":r=>a.value=r,onInput:r=>f(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(d,{field:"leave_type",header:"Leave Type"}),t(d,{field:"start_date",header:"Start Date"},{body:s(a=>[b(i(o(y)(a.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),t(d,{field:"end_date",header:"End Date"},{body:s(a=>[b(i(o(y)(a.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),t(d,{field:"total_leave_datetime",header:"Total Leave Days"}),t(d,{field:"leave_reason",header:"Leave Reason"},{body:s(a=>[a.data.leave_reason&&a.data.leave_reason.length>70?(_(),v("div",zt,[e("p",{onClick:n[8]||(n[8]=(...f)=>p.toggle&&p.toggle(...f)),class:"font-medium text-orange-400 underline cursor-pointer"}," More... "),t(V,{ref:"overlayPanel",style:{height:"80px"}},{default:s(()=>[b(i(a.data.leave_reason),1)]),_:2},1536)])):(_(),v("div",Gt,i(a.data.leave_reason??""),1))]),_:1}),t(d,{field:"status",header:"Status"},{body:s(({data:a})=>[e("span",{class:T("customer-badge status-"+a.status)},i(a.status),3)]),filter:s(({filterModel:a,filterCallback:f})=>[t(Y,{modelValue:a.value,"onUpdate:modelValue":r=>a.value=r,onChange:r=>f(),options:S.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:s(r=>[r.value?(_(),v("span",{key:0,class:T("customer-badge status-"+r.value)},i(r.value),3)):(_(),v("span",Jt,i(r.placeholder),1))]),option:s(r=>[e("span",{class:T("customer-badge status-"+r.option)},i(r.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),t(d,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:s(a=>[t(A,{type:"button",icon:"",class:"text-white Button py-2.5",label:"View",onClick:f=>o(l).getLeaveDetails(a.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters"])])])])])])],64)}}},Zt={class:"card top-line"},ea={class:"card-body"},ta={class:"row"},aa={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12 d-flex justify-content-between align-items-center"},oa=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Team Leave Balance",-1),la={class:"my-2 d-flex justify-content-between align-items-center"},sa=e("div",null,null,-1),na={class:"d-flex"},da={class:""},ia=e("label",{for:" ",class:"text-blue-900 mx-2"},"Start Date",-1),ra={class:""},ca=e("label",{for:" ",class:"text-blue-900 mx-2"},"End Date",-1),pa={class:"mt-3 row"},ma={class:"col-sm-12 col-xl-12 col-md-12 col-lg-12"},ua={class:"mb-0 card leave-history"},_a={class:"card-body"},va=e("h6",{class:"mb-4 text-lg font-semibold text-gray-900 modal-title"},"Team Leave history",-1),ha={class:"table-responsive"},ga={class:"d-flex justify-content-end"},ya=e("label",{for:"",class:"my-2 text-lg font-semibold"},"Select Month",-1),fa=e("div",{id:"team_leaveHistory",class:"custom_gridJs"},null,-1),ba={key:0},xa={key:1},wa={key:1},Da={__name:"TeamLeaveDetails",setup(E){const l=P();m(),m(),m(),m(),m(),m(!0),m();const x=m([]),w=m(),u=m(),L=m({employee_name:{value:null,matchMode:D.STARTS_WITH,matchMode:D.EQUALS,matchMode:D.CONTAINS},status:{value:null,matchMode:D.EQUALS}}),S=m(["Pending","Approved","Rejected"]);return U(async()=>{await l.getTermLeaveBalance(),await l.getTeamLeaveHistory(y().month()+1,y().year(),["Approved","Pending","Rejected"])}),(p,n)=>{const C=h("Calendar"),d=h("Column"),k=h("DataTable"),A=h("Button"),$=h("InputText"),V=h("OverlayPanel"),Y=h("Dropdown");return _(),v(M,null,[e("div",Zt,[e("div",ea,[e("div",ta,[e("div",aa,[oa,e("div",la,[sa,e("div",na,[e("div",da,[ia,t(C,{modelValue:o(l).selectedStartDate,"onUpdate:modelValue":n[0]||(n[0]=a=>o(l).selectedStartDate=a),dateFormat:"dd-mm-yy",class:"p-l3",style:{border:"1px solid orange","border-radius":"7px",height:"38px",width:"100px"},maxDate:new Date},null,8,["modelValue","maxDate"])]),e("div",ra,[ca,t(C,{class:"mr-3",modelValue:o(l).selectedEndDate,"onUpdate:modelValue":n[1]||(n[1]=a=>o(l).selectedEndDate=a),dateFormat:"dd-mm-yy",style:{border:"1px solid orange","border-radius":"7px",height:"38px",width:"100px"},maxDate:new Date},null,8,["modelValue","maxDate"])]),e("button",{class:"btn-orange py-1 px-4 rounded",onClick:n[2]||(n[2]=a=>o(l).getTermLeaveBalance(o(y)(o(l).selectedStartDate).format("YYYY-MM-DD"),o(y)(o(l).selectedEndDate).format("YYYY-MM-DD")))},"submit")])])]),e("div",null,[t(k,{value:o(l).arrayTermLeaveBalance,paginator:!0,rows:10,class:"",dataKey:"user_code",onRowExpand:p.onRowExpand,onRowCollapse:p.onRowCollapse,expandedRows:x.value,"onUpdate:expandedRows":n[4]||(n[4]=a=>x.value=a),selection:w.value,"onUpdate:selection":n[5]||(n[5]=a=>w.value=a),selectAll:p.selectAll,onSelectAllChange:p.onSelectAllChange,onRowSelect:p.onRowSelect,onRowUnselect:p.onRowUnselect,rowsPerPageOptions:[5,10,25],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}"},{expansion:s(a=>[e("div",null,[t(k,{value:a.data.leave_balance_details,responsiveLayout:"scroll",selection:w.value,"onUpdate:selection":n[3]||(n[3]=f=>w.value=f),selectAll:p.selectAll,onSelectAllChange:p.onSelectAllChange},{default:s(()=>[t(d,{field:"leave_type",header:"Leave Type"},{default:s(()=>[b(i(a.data.leave_type),1)]),_:2},1024),t(d,{field:"opening_balance",header:"Opening Balance"}),t(d,{field:"avalied",header:"Avalied"}),t(d,{field:"closing_balance",header:"Closing Balance"})]),_:2},1032,["value","selection","selectAll","onSelectAllChange"])])]),default:s(()=>[t(d,{expander:!0}),t(d,{field:"user_code",header:"Employee Id",sortable:""}),t(d,{field:"name",header:"Employee Name"}),t(d,{field:"location",header:"Location",sortable:!1}),t(d,{field:"department",header:"Department"}),t(d,{field:"total_leave_balance",header:"Total Leave Balance"})]),_:1},8,["value","onRowExpand","onRowCollapse","expandedRows","selection","selectAll","onSelectAllChange","onRowSelect","onRowUnselect"])])])])]),e("div",pa,[e("div",ma,[e("div",ua,[e("div",_a,[va,e("div",ha,[e("div",ga,[ya,t(C,{view:"month",dateFormat:"mm/yy",class:"mx-4",modelValue:u.value,"onUpdate:modelValue":n[6]||(n[6]=a=>u.value=a),style:{border:"1px solid orange","border-radius":"7px",height:"38px"}},null,8,["modelValue"]),t(A,{class:"h-10 mb-2 btn btn-orange",label:"Submit",onClick:n[7]||(n[7]=a=>o(l).getTeamLeaveHistory(u.value.getMonth()+1,u.value.getFullYear(),S.value))})]),fa,t(k,{value:o(l).array_teamLeaveHistory,responsiveLayout:"scroll",paginator:!0,rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rows:5,filters:L.value,"onUpdate:filters":n[9]||(n[9]=a=>L.value=a),filterDisplay:"menu",globalFilterFields:["name"],style:{"white-space":"nowrap"}},{empty:s(()=>[b(" No Employee data..... ")]),default:s(()=>[t(d,{class:"font-bold",field:"employee_name",header:"Employee Name"},{body:s(a=>[b(i(a.data.employee_name),1)]),filter:s(({filterModel:a,filterCallback:f})=>[t($,{modelValue:a.value,"onUpdate:modelValue":r=>a.value=r,onInput:r=>f(),placeholder:"Search",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),t(d,{field:"leave_type",header:"Leave Type"}),t(d,{field:"start_date",header:"Start Date"},{body:s(a=>[b(i(o(y)(a.data.start_date).format("DD-MMM-YYYY")),1)]),_:1}),t(d,{field:"end_date",header:"End Date"},{body:s(a=>[b(i(o(y)(a.data.end_date).format("DD-MMM-YYYY")),1)]),_:1}),t(d,{field:"total_leave_datetime",header:"Total Leave Days"}),t(d,{field:"leave_reason",header:"Leave Reason"},{body:s(a=>[a.data.leave_reason&&a.data.leave_reason.length>70?(_(),v("div",ba,[e("p",{onClick:n[8]||(n[8]=(...f)=>p.toggle&&p.toggle(...f)),class:"font-medium text-orange-400 underline cursor-pointer"}," explore more... "),t(V,{ref:"overlayPanel",style:{height:"80px"}},{default:s(()=>[b(i(a.data.leave_reason),1)]),_:2},1536)])):(_(),v("div",xa,i(a.data.leave_reason??""),1))]),_:1}),t(d,{field:"status",header:"Status"},{body:s(({data:a})=>[e("span",{class:T("customer-badge status-"+a.status)},i(a.status),3)]),filter:s(({filterModel:a,filterCallback:f})=>[t(Y,{modelValue:a.value,"onUpdate:modelValue":r=>a.value=r,onChange:r=>f(),options:S.value,placeholder:"Select",class:"p-column-filter",showClear:!0},{value:s(r=>[r.value?(_(),v("span",{key:0,class:T("customer-badge status-"+r.value)},i(r.value),3)):(_(),v("span",wa,i(r.placeholder),1))]),option:s(r=>[e("span",{class:T("customer-badge status-"+r.option)},i(r.option),3)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange","options"])]),_:1}),t(d,{field:"",header:"Action",style:{"min-width":"15rem"}},{body:s(a=>[t(A,{type:"button",icon:"",class:"text-white Button py-2.5",label:"View",onClick:f=>o(l).getLeaveDetails(a.data),style:{height:"2em"}},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters"])])])])])])],64)}}},La={class:"p-2 bg-white rounded-lg shadow tw-card left-line",style:{"background-color":"white"}},$a={class:"flex justify-between"},Sa={class:"bg-white divide-x py-auto nav nav-pills divide-solid nav-tabs-dashed",id:"pills-tab",role:"tablist"},Ca=e("li",{class:"nav-item text-muted",role:"presentation"},[e("a",{class:"pb-2 nav-link active","data-bs-toggle":"tab",href:"#leave_balance","aria-selected":"true",role:"tab"}," Leave Balance")],-1),Ra={key:0,class:"nav-item text-muted",role:"presentation"},ka=e("a",{class:"pb-2 mx-4 nav-link","data-bs-toggle":"tab",href:"#team_leaveBalance","aria-selected":"false",tabindex:"-1",role:"tab"}," Team Leave Balance",-1),Ta=[ka],Aa={key:1,class:"nav-item text-muted",role:"presentation"},Ma=e("a",{class:"pb-2 nav-link","data-bs-toggle":"tab",href:"#org_leave","aria-selected":"false",tabindex:"-1",role:"tab"}," Org Leave Balance",-1),Va=[Ma],Ya=e("div",{class:"flex items-center"},[e("div",{class:"mr-3"},[e("div",{class:"input-group me-2"},[e("label",{class:"input-group-text",for:"inputGroupSelect01"},[e("i",{class:"fa fa-calendar text-primary","aria-hidden":"true"})]),e("select",{class:"form-select btn-line-primary",id:"inputGroupSelect01"})])]),e("a",{href:"/attendance-leave-policydocument",id:"",class:"text-md font-medium border-1 border-orange-400 rounded-lg text-center bg-orange-400 text-white my-auto p-1.5 dark:text-white",role:"button","aria-expanded":"false"}," Leave Policy Explanation ")],-1),Pa={class:"tab-content py-2",id:"pills-tabContent"},Ea={class:"tab-pane show fade active",id:"leave_balance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ua={class:"tab-pane fade show",id:"team_leaveBalance",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Ba={class:"tab-pane show",id:"org_leave",role:"tabpanel","aria-labelledby":"pills-profile-tab"},Oa=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),Na=e("h6",{class:"mb-4 modal-title fs-21"}," Leave Request",-1),Fa={__name:"LeaveModule",setup(E){const l=P(),x=he(),w=m(!1);return U(()=>{l.getEmployeeLeaveBalance()}),(u,L)=>{const S=h("ProgressSpinner"),p=h("Dialog");return _(),v(M,null,[e("div",La,[e("div",$a,[e("ul",Sa,[Ca,o(x).current_user_role==2||o(x).current_user_role==4?(_(),v("li",Ra,Ta)):N("",!0),o(x).current_user_role==2?(_(),v("li",Aa,Va)):N("",!0)]),Ya])]),e("div",Pa,[e("div",Ea,[t(Rt)]),e("div",Ua,[t(Da)]),e("div",Ba,[t(Xt)])]),t(p,{header:"Header",visible:o(l).canShowLoading,"onUpdate:visible":L[0]||(L[0]=n=>o(l).canShowLoading=n),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:s(()=>[t(S,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:s(()=>[Oa]),_:1},8,["visible"]),t(p,{visible:w.value,"onUpdate:visible":L[1]||(L[1]=n=>w.value=n),style:{width:"80vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},{header:s(()=>[Na]),default:s(()=>[t(ge)]),_:1},8,["visible"])],64)}}},c=j(Fa),ja=oe();c.use(I,{ripple:!0});c.use(de);c.use(H);c.use(se);c.use(ja);c.directive("tooltip",Q);c.directive("badge",q);c.directive("ripple",K);c.directive("styleclass",W);c.directive("focustrap",z);c.component("Button",G);c.component("DataTable",le);c.component("Column",J);c.component("ColumnGroup",ne);c.component("Row",re);c.component("Toast",X);c.component("ConfirmDialog",Z);c.component("Dropdown",ee);c.component("InputText",te);c.component("Dialog",ae);c.component("ProgressSpinner",ie);c.component("Calendar",ce);c.component("Checkbox",pe);c.component("Chips",me);c.component("MultiSelect",ue);c.component("Textarea",_e);c.component("OverlayPanel",ve);c.mount("#LeaveModule");
