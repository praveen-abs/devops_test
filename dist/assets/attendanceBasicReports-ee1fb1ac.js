/* empty css              *//* empty css                     *//* empty css                   *//* empty css                 */import{a3 as T,a0 as n,ak as B,o as d,c as u,b as D,a as Y,d as e,h as r,w as f,F as R,f as A,g as p,K as M,P as N,L as j,u as I,M as U,R as E,S as F,x as O,y as G,N as H,_ as z,Q as K,W as Q,Y as W,V as q}from"./toastservice.esm-484a3f44.js";import"./blockui.esm-a8e59b90.js";import{a as J}from"./datatable.esm-70b25cd4.js";import{D as X,s as Z}from"./dialogservice.esm-548272f5.js";import{C as ee}from"./confirmationservice.esm-c218b510.js";import{s as te}from"./progressspinner.esm-b12f0644.js";import{s as ae}from"./row.esm-6ebc942e.js";import{s as oe}from"./calendar.esm-17a99f33.js";import{_ as se,a as le}from"./download-1db19555.js";import{_ as ne}from"./no-data-d6f55554.js";import{a as C}from"./index-362795f3.js";import{d as k}from"./dayjs.min-2f06af28.js";import{S as ie}from"./Service-0a78a223.js";import{L as de}from"./LoadingSpinner-e46f55f6.js";import"./pinia-ef13c18a.js";/* empty css                                                                       */import"./_plugin-vue_export-helper-c27b6911.js";const re={class:"w-full"},ce=e("div",null,[e("p",{class:"font-semibold text-lg"},"Attendance Basic Reports")],-1),pe={class:"grid grid-cols-12"},me=e("div",{class:"col-span-6"},[e("ul",{class:"nav nav-pills nav-tabs-dashed",id:"pills-tab",role:"tablist"},[e("li",{class:"mx-2 nav-item ember-view",role:"presentation"},[e("a",{class:"nav-link active ember-view",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#investment_dec",role:"tab","aria-controls":"pills-home","aria-selected":"true"},[e("p",{class:"text-sm font-semibold"},"Detailed Report")])]),e("li",{class:"nav-item ember-view",role:"presentation"},[e("a",{class:"mx-2 nav-link ember-view",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#exemptions",role:"tab","aria-controls":"pills-home","aria-selected":"true"},[e("p",{class:"text-sm font-semibold"},"Muster Roll")])]),e("li",{class:"nav-item ember-view",role:"presentation"},[e("a",{class:"mx-2 nav-link ember-view",id:"pills-home-tab","data-bs-toggle":"pill",href:"","data-bs-target":"#investmentComputation",role:"tab","aria-controls":"pills-home","aria-selected":"true"},[e("p",{class:"text-sm font-semibold"}," Consolidate")])])])],-1),ue={class:"col-span-6 grid grid-cols-12 place-content-end"},ve={class:"flex gap-3 col-span-2 justify-end items-center"},_e=e("div",null,[e("p",{class:"text-sm font-semibold"},"Period:")],-1),be={class:"flex gap-3 col-span-5 justify-end items-center"},ge=e("div",null,[e("p",{class:"text-sm font-semibold"},"Legal Entity : ")],-1),fe={class:"flex gap-3 col-span-5 justify-end items-center"},he=e("div",null,[e("p",{class:"text-sm font-semibold"},"Department:")],-1),we=e("div",{class:"grid grid-cols-12 gap-6 col-span-6"},null,-1),ye=e("button",null,[e("img",{src:le,alt:"",srcset:"",class:"w-9 h-9 p-2 bg-gray-50 rounded-lg"})],-1),xe={key:0,class:"my-4 w-full overflow-hidden"},De={key:1,class:"w-2/5 h-1/4 mx-auto"},Re=e("img",{src:ne,alt:"",class:"h-full w-full"},null,-1),Ce=[Re],ke=e("div",{class:"mb-0"},[e("div",{class:"card-body"},[e("div",{class:"tab-content",id:"pills-tabContent"},[e("div",{class:"tab-pane fade active show",id:"investment_dec",role:"tabpanel","aria-labelledby":"pills-home-tab"}),e("div",{class:"tab-pane fade",id:"exemptions",role:"tabpanel"}),e("div",{class:"tab-pane fade",id:"investmentComputation",role:"tabpanel"}),e("div",{class:"tab-pane fade",id:"other_income",role:"tabpanel","aria-labelledby":"pills-home-tab"}),e("div",{class:"tab-pane fade",id:"other_exemptions",role:"tabpanel","aria-labelledby":"pills-home-tab"})])])],-1),Le=e("p",{class:"font-semibold text-lg"},"Select period",-1),Pe={class:"w-full"},Ve={class:"grid grid-cols-12 gap-6 col-span-6"},Se={class:"col-span-4"},$e=e("p",{class:"font-semibold text-sm my-1"},"Start date",-1),Te={class:"col-span-4"},Be=e("p",{class:"font-semibold text-sm my-1"},"End date",-1),Ye={class:"d-flex justify-content-center align-items-end col-span-4"},Ae={__name:"attendanceBasicReports",setup(Me){const s=T({start_date:"",end_date:""}),L=ie(),m=n(!1),v=n([]),_=n([]),c=n(!1),h=async()=>{let i="/fetch-attendance-data";c.value=!0,await C.post(i,{start_date:s.start_date,end_date:s.end_date,department:b.value}).then(a=>{console.log(a.data.rows),_.value=a.data.rows,a.data.header.forEach(l=>{let g={title:l};v.value.push(g),console.log(l)}),console.log(v.value)}).finally(()=>{c.value=!1})},P=()=>{let i="/reports/generate-basic-attendance";c.value=!0,C.post(i,{start_date:s.start_date,end_date:s.end_date},{responseType:"blob"}).then(a=>{console.log(a.data);var l=document.createElement("a");l.href=window.URL.createObjectURL(a.data),l.download=`Attendance Basic Report_${k(s.start_date).format("DD-MM-YYYY")}_${k(s.end_date).format("DD-MM-YYYY")}.xlsx`,l.click()}).finally(()=>{c.value=!1})},w=n(),V=n([{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}]);n([{name:"Absent reports",code:"1"},{name:"Detailed Report",code:"2"}]);const b=n(),y=n();return B(()=>{L.DepartmentDetails().then(i=>{y.value=i.data})}),(i,a)=>{const l=p("Dropdown"),g=p("Column"),S=p("DataTable"),x=p("Calendar"),$=p("Dialog");return d(),u(R,null,[c.value?(d(),D(de,{key:0,class:"absolute z-50 bg-white"})):Y("",!0),e("div",re,[ce,e("div",pe,[me,e("div",ue,[e("div",ve,[_e,e("div",null,[e("button",{onClick:a[0]||(a[0]=o=>m.value=!0),class:"bg-white hover:bg-gray-100 text-gray-800 font-semibold fs-6 px-2 border border-gray-400 rounded shadow"}," select ")])]),e("div",be,[ge,e("div",null,[r(l,{modelValue:w.value,"onUpdate:modelValue":a[1]||(a[1]=o=>w.value=o),options:V.value,optionLabel:"name"},null,8,["modelValue","options"])])]),e("div",fe,[he,e("div",null,[r(l,{modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=o=>b.value=o),onChange:h,options:y.value,optionLabel:"name",optionValue:"id"},null,8,["modelValue","options"])])])])]),e("div",{class:"bg-white p-2 my-2 rounded-lg grid grid-cols-12"},[we,e("div",{class:"col-span-6 flex justify-end gap-4"},[ye,e("button",null,[e("img",{src:se,alt:"",srcset:"",onClick:P,class:"w-9 h-9 p-2 bg-gray-50 rounded-lg"})])])]),_.value.length>0?(d(),u("div",xe,[r(S,{value:_.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:f(()=>[(d(!0),u(R,null,A(v.value,o=>(d(),D(g,{key:o.title,field:o.title,header:o.title,style:{"white-space":"nowrap","text-align":"left"}},null,8,["field","header"]))),128))]),_:1},8,["value"])])):(d(),u("div",De,Ce)),ke]),r($,{visible:m.value,"onUpdate:visible":a[6]||(a[6]=o=>m.value=o),modal:"",header:"Header",style:{width:"40vw"}},{header:f(()=>[Le]),default:f(()=>[e("div",Pe,[e("div",Ve,[e("div",Se,[$e,r(x,{inputId:"icon",dateFormat:"dd-mm-yy",showIcon:!0,class:"h-8",modelValue:s.start_date,"onUpdate:modelValue":a[3]||(a[3]=o=>s.start_date=o)},null,8,["modelValue"])]),e("div",Te,[Be,r(x,{inputId:"icon",dateFormat:"dd-mm-yy",showIcon:!0,class:"h-8",modelValue:s.end_date,"onUpdate:modelValue":a[4]||(a[4]=o=>s.end_date=o)},null,8,["modelValue"])]),e("div",Ye,[e("button",{onClick:a[5]||(a[5]=o=>(m.value=!1,h())),class:"bg-yellow-500 hover:bg-yellow-700 text-white font-semibold fs-6 px-2 py-1.5 border border-gray-400 rounded shadow"}," Generate ")])])])]),_:1},8,["visible"])],64)}}},t=M(Ae);t.use(N,{ripple:!0});t.use(ee);t.use(j);t.use(X);t.directive("tooltip",I);t.directive("badge",U);t.directive("ripple",E);t.directive("styleclass",F);t.directive("focustrap",O);t.component("Button",G);t.component("DataTable",J);t.component("Column",H);t.component("ColumnGroup",Z);t.component("Row",ae);t.component("Toast",z);t.component("ConfirmDialog",K);t.component("Dropdown",Q);t.component("InputText",W);t.component("Dialog",q);t.component("ProgressSpinner",te);t.component("Calendar",oe);t.mount("#AttendanceBasicReports");
