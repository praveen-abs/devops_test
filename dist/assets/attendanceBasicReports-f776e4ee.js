/* empty css              *//* empty css                     *//* empty css                   *//* empty css                 */import{a2 as R,I as m,ak as D,o as u,c as f,h as r,w as _,d as e,F as b,f as k,g as i,b as S,K as $,P as L,L as B,u as T,M as V,R as Y,S as A,x as E,y as F,N as I,_ as M,Q as U,W as j,Y as N,V as O}from"./toastservice.esm-bb367a00.js";import"./blockui.esm-889447d7.js";import{a as G}from"./datatable.esm-6901a098.js";import{D as H,s as W}from"./dialogservice.esm-20444736.js";import{C as K}from"./confirmationservice.esm-658147cb.js";import{s as Q}from"./progressspinner.esm-11a8e733.js";import{s as q}from"./row.esm-6ebc942e.js";import{s as z}from"./calendar.esm-78e9dbdd.js";import{_ as J,a as X}from"./download-1db19555.js";import{a as h}from"./index-362795f3.js";import{d as w}from"./dayjs.min-2f06af28.js";const Z=e("h5",{style:{"text-align":"center"}},"Please wait...",-1),ee={class:"w-full"},te=e("div",null,[e("p",{class:"font-semibold text-lg"},"Attendance Basic Reports")],-1),ae={class:"bg-white p-2 my-2 rounded-lg grid grid-cols-12"},oe={class:"grid grid-cols-12 gap-6 col-span-6"},se={class:"col-span-4"},ne=e("p",null,"Start date",-1),le={class:"col-span-4"},re=e("p",null,"End date",-1),ie=e("button",null,[e("img",{src:X,alt:"",srcset:"",class:"w-9 h-9 p-2 bg-gray-50 rounded-lg"})],-1),de={class:"my-4 w-full overflow-hidden"},ce=e("div",{class:"mb-0"},[e("div",{class:"card-body"},[e("div",{class:"tab-content",id:"pills-tabContent"},[e("div",{class:"tab-pane fade active show",id:"investment_dec",role:"tabpanel","aria-labelledby":"pills-home-tab"}),e("div",{class:"tab-pane fade",id:"exemptions",role:"tabpanel"}),e("div",{class:"tab-pane fade",id:"investmentComputation",role:"tabpanel"}),e("div",{class:"tab-pane fade",id:"other_income",role:"tabpanel","aria-labelledby":"pills-home-tab"}),e("div",{class:"tab-pane fade",id:"other_exemptions",role:"tabpanel","aria-labelledby":"pills-home-tab"})])])],-1),pe={__name:"attendanceBasicReports",setup(me){const o=R({start_date:"",end_date:""}),c=m([]),v=m([]),l=m(!1),y=async()=>{let d="/fetch-attendance-data";l.value=!0,await h.post(d,{start_date:o.start_date,end_date:o.end_date}).then(a=>{console.log(a.data.rows),v.value=a.data.rows,a.data.header.forEach(n=>{let p={title:n};c.value.push(p),console.log(n)}),console.log(c.value)}).finally(()=>{l.value=!1})},x=()=>{let d="/reports/generate-basic-attendance";l.value=!0,h.post(d,{start_date:o.start_date,end_date:o.end_date},{responseType:"blob"}).then(a=>{console.log(a.data);var n=document.createElement("a");n.href=window.URL.createObjectURL(a.data),n.download=`Attendance Basic Report_${w(o.start_date).format("DD-MM-YYYY")}_${w(o.end_date).format("DD-MM-YYYY")}.xlsx`,n.click()}).finally(()=>{l.value=!1})};return D(()=>{}),(d,a)=>{const n=i("ProgressSpinner"),p=i("Dialog"),g=i("Calendar"),C=i("Column"),P=i("DataTable");return u(),f(b,null,[r(p,{header:"Header",visible:l.value,"onUpdate:visible":a[0]||(a[0]=s=>l.value=s),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[r(n,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[Z]),_:1},8,["visible"]),e("div",ee,[te,e("div",ae,[e("div",oe,[e("div",se,[ne,r(g,{inputId:"icon",dateFormat:"dd-mm-yy",showIcon:!0,class:"h-10",modelValue:o.start_date,"onUpdate:modelValue":a[1]||(a[1]=s=>o.start_date=s)},null,8,["modelValue"])]),e("div",le,[re,r(g,{inputId:"icon",dateFormat:"dd-mm-yy",showIcon:!0,class:"h-10",modelValue:o.end_date,"onUpdate:modelValue":a[2]||(a[2]=s=>o.end_date=s)},null,8,["modelValue"])]),e("div",{class:"d-flex justify-content-center align-items-end col-span-4"},[e("button",{onClick:y,class:"btn btn-orange"},"Generate")])]),e("div",{class:"col-span-6 flex justify-end gap-4"},[ie,e("button",null,[e("img",{src:J,alt:"",srcset:"",onClick:x,class:"w-9 h-9 p-2 bg-gray-50 rounded-lg"})])])]),e("div",de,[r(P,{value:v.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll"},{default:_(()=>[(u(!0),f(b,null,k(c.value,s=>(u(),S(C,{key:s.title,field:s.title,header:s.title,style:{"white-space":"nowrap","text-align":"left"}},null,8,["field","header"]))),128))]),_:1},8,["value"])]),ce])],64)}}},t=$(pe);t.use(L,{ripple:!0});t.use(K);t.use(B);t.use(H);t.directive("tooltip",T);t.directive("badge",V);t.directive("ripple",Y);t.directive("styleclass",A);t.directive("focustrap",E);t.component("Button",F);t.component("DataTable",G);t.component("Column",I);t.component("ColumnGroup",W);t.component("Row",q);t.component("Toast",M);t.component("ConfirmDialog",U);t.component("Dropdown",j);t.component("InputText",N);t.component("Dialog",O);t.component("ProgressSpinner",Q);t.component("Calendar",z);t.mount("#AttendanceBasicReports");
