<<<<<<<< HEAD:dist/assets/EmployeePayslips-8af00aac.js
import{d as f}from"./dayjs.min-2f06af28.js";import{a as S}from"./index-362795f3.js";import{a0 as g,ak as k,ag as M,o as b,c as R,I as i,b as N,a as H,d as L,h as o,w as d,l as v,t as A,F,g as p}from"./toastservice.esm-484a3f44.js";import{d as C}from"./pinia-ef13c18a.js";import{U as V}from"./EmployeeDocumentsManagerService-7c8e53cc.js";/* empty css                                                                       */const U=C("employeePayslipStore",()=>{const w=V(),a=g(),c=g(),_=g(!1),r=new URLSearchParams(window.location.search),m=g(!1);function l(){return r.has("uid")?r.get("uid"):""}async function P(){m.value=!0,S.post("/payroll/paycheck/getEmployeeAllPayslipList",{uid:l()}).then(e=>{a.value=e.data.data}).finally(()=>{m.value=!1})}async function T(e,s){let y=parseInt(f(s).month())+1,u=f(s).year();await S.post("/payroll/paycheck/getEmployeePayslipDetailsAsHTML",{uid:l(),user_code:e,month:y,year:u}).then(t=>{c.value=t.data,_.value=!0})}function h(e,s,y){const u=e,t=document.createElement("a"),n=`${s}-${y}.pdf`;t.href=u,t.download=n,t.click()}async function D(e,s){w.loading=!0,console.log("Downloading payslip PDF.....");let y=parseInt(f(s).month())+1,u=f(s).year();await S.post("/payroll/paycheck/getEmployeePayslipDetailsAsPDF",{uid:l(),user_code:e,month:y,year:u}).then(t=>{if(console.log(" Response [downloadPayslipReleaseStatus] : "+JSON.stringify(t.data.data)),t.data.data){let n=t.data.data,E=t.data.emp_name,O=t.data.emp_month;n.startsWith("JVB")?(n="data:application/pdf;base64,"+n,h(n,E,O)):n.startsWith("data:application/pdf;base64")&&h(n)}else console.log("Response Url Not Found")}).finally(()=>{w.loading=!1})}return{array_employeePayslips_list:a,paySlipHTMLView:c,canShowPayslipView:_,loading:m,getEmployeeAllPayslipList:P,getEmployeePayslipDetailsAsHTML:T,getEmployeePayslipDetailsAsPDF:D}}),Y={class:"w-full"},x=L("h2",{class:"font-semibold text-lg my-2"},"Salary Details",-1),B={class:"card flex justify-content-center inline-flex"},I=["innerHTML"],K={__name:"EmployeePayslips",setup(w){const a=U();k(async()=>{console.log("EmployeePayslips,vue loaded"),await a.getEmployeeAllPayslipList()});const c=g({PAYROLL_MONTH:{value:null,matchMode:M.STARTS_WITH,matchMode:M.EQUALS,matchMode:M.CONTAINS}});return(_,r)=>{const m=p("LoadingSpinner"),l=p("Column"),P=p("Button"),T=p("column"),h=p("DataTable"),D=p("Dialog");return b(),R(F,null,[i(a).loading?(b(),N(m,{key:0,class:"absolute z-50 bg-white"})):H("",!0),L("div",Y,[x,o(h,{value:i(a).array_employeePayslips_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],sortField:"PAYROLL_MONTH",sortOrder:-1,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:c.value,"onUpdate:filters":r[0]||(r[0]=e=>c.value=e),filterDisplay:"menu",loading:_.loading2,globalFilterFields:["name"]},{default:d(()=>[o(l,{field:"PAYROLL_MONTH",header:"Month",sortable:!0},{body:d(e=>[v(A(i(f)(e.data.PAYROLL_MONTH).format("DD-MMM-YYYY")),1)]),_:1}),o(l,{field:"TOTAL_EARNED_GROSS",header:"Gross Pay"}),o(l,{field:"Reimbursements",header:"Reimbursements"},{body:d(e=>[v(A(0))]),_:1}),o(l,{field:"TOTAL_DEDUCTIONS",header:"Deductions"}),o(l,{field:"NET_TAKE_HOME",header:"Take Home"}),o(l,{header:"Action"},{body:d(e=>[o(P,{class:"btn-primary z-0",label:"View ",onClick:s=>i(a).getEmployeePayslipDetailsAsHTML("",e.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1}),o(T,{header:"Download"},{body:d(e=>[o(P,{class:"btn-primary z-0",label:"Download ",onClick:s=>i(a).getEmployeePayslipDetailsAsPDF("",e.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])]),L("div",B,[o(D,{visible:i(a).canShowPayslipView,"onUpdate:visible":r[1]||(r[1]=e=>i(a).canShowPayslipView=e),modal:"",header:"Payslip",style:{width:"58vw"}},{default:d(()=>[L("div",{innerHTML:i(a).paySlipHTMLView},null,8,I)]),_:1},8,["visible"])])],64)}}};export{K as _};
========
import{d as f}from"./dayjs.min-2f06af28.js";import{a as S}from"./index-362795f3.js";import{I as _,aj as R,ae as M,o as b,c as k,ai as i,b as N,a as H,d as L,h as o,w as d,l as v,t as A,F,g as p}from"./toastservice.esm-918560db.js";import{d as C}from"./pinia-3f44ac08.js";import{U as V}from"./EmployeeDocumentsManagerService-bee09bdf.js";/* empty css                                                                       */const U=C("employeePayslipStore",()=>{const w=V(),a=_(),c=_(),g=_(!1),r=new URLSearchParams(window.location.search),m=_(!1);function l(){return r.has("uid")?r.get("uid"):""}async function P(){m.value=!0,S.post("/payroll/paycheck/getEmployeeAllPayslipList",{uid:l()}).then(e=>{a.value=e.data.data}).finally(()=>{m.value=!1})}async function T(e,s){let y=parseInt(f(s).month())+1,u=f(s).year();await S.post("/payroll/paycheck/getEmployeePayslipDetailsAsHTML",{uid:l(),user_code:e,month:y,year:u}).then(t=>{c.value=t.data,g.value=!0})}function h(e,s,y){const u=e,t=document.createElement("a"),n=`${s}-${y}.pdf`;t.href=u,t.download=n,t.click()}async function D(e,s){w.loading=!0,console.log("Downloading payslip PDF.....");let y=parseInt(f(s).month())+1,u=f(s).year();await S.post("/payroll/paycheck/getEmployeePayslipDetailsAsPDF",{uid:l(),user_code:e,month:y,year:u}).then(t=>{if(console.log(" Response [downloadPayslipReleaseStatus] : "+JSON.stringify(t.data.data)),t.data.data){let n=t.data.data,E=t.data.emp_name,O=t.data.emp_month;n.startsWith("JVB")?(n="data:application/pdf;base64,"+n,h(n,E,O)):n.startsWith("data:application/pdf;base64")&&h(n)}else console.log("Response Url Not Found")}).finally(()=>{w.loading=!1})}return{array_employeePayslips_list:a,paySlipHTMLView:c,canShowPayslipView:g,loading:m,getEmployeeAllPayslipList:P,getEmployeePayslipDetailsAsHTML:T,getEmployeePayslipDetailsAsPDF:D}}),Y={class:"w-full"},x=L("h2",{class:"font-semibold text-lg my-2"},"Salary Details",-1),B={class:"card flex justify-content-center inline-flex"},I=["innerHTML"],K={__name:"EmployeePayslips",setup(w){const a=U();R(async()=>{console.log("EmployeePayslips,vue loaded"),await a.getEmployeeAllPayslipList()});const c=_({PAYROLL_MONTH:{value:null,matchMode:M.STARTS_WITH,matchMode:M.EQUALS,matchMode:M.CONTAINS}});return(g,r)=>{const m=p("LoadingSpinner"),l=p("Column"),P=p("Button"),T=p("column"),h=p("DataTable"),D=p("Dialog");return b(),k(F,null,[i(a).loading?(b(),N(m,{key:0,class:"absolute z-50 bg-white"})):H("",!0),L("div",Y,[x,o(h,{value:i(a).array_employeePayslips_list,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],sortField:"PAYROLL_MONTH",sortOrder:-1,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Records",responsiveLayout:"scroll",filters:c.value,"onUpdate:filters":r[0]||(r[0]=e=>c.value=e),filterDisplay:"menu",loading:g.loading2,globalFilterFields:["name"]},{default:d(()=>[o(l,{field:"PAYROLL_MONTH",header:"Month",sortable:!0},{body:d(e=>[v(A(i(f)(e.data.PAYROLL_MONTH).format("DD-MMM-YYYY")),1)]),_:1}),o(l,{field:"TOTAL_EARNED_GROSS",header:"Gross Pay"}),o(l,{field:"Reimbursements",header:"Reimbursements"},{body:d(e=>[v(A(0))]),_:1}),o(l,{field:"TOTAL_DEDUCTIONS",header:"Deductions"}),o(l,{field:"NET_TAKE_HOME",header:"Take Home"}),o(l,{header:"Action"},{body:d(e=>[o(P,{class:"btn-primary z-0",label:"View ",onClick:s=>i(a).getEmployeePayslipDetailsAsHTML("",e.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1}),o(T,{header:"Download"},{body:d(e=>[o(P,{class:"btn-primary z-0",label:"Download ",onClick:s=>i(a).getEmployeePayslipDetailsAsPDF("",e.data.PAYROLL_MONTH)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])]),L("div",B,[o(D,{visible:i(a).canShowPayslipView,"onUpdate:visible":r[1]||(r[1]=e=>i(a).canShowPayslipView=e),modal:"",header:"Payslip",style:{width:"58vw"}},{default:d(()=>[L("div",{innerHTML:i(a).paySlipHTMLView},null,8,I)]),_:1},8,["visible"])])],64)}}};export{K as _};
>>>>>>>> 237d19c5ffee36de41bab4c7a2021b17a0b77bc6:public/build/assets/EmployeePayslips-7feca3d4.js
